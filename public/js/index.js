/*! For license information please see index.js.LICENSE.txt */
(()=>{var __webpack_modules__={2:(e,t,r)=>{var n=r(2199),a=r(4664),o=r(5950);e.exports=function(e){return n(e,o,a)}},14:(e,t,r)=>{var n=r(5389),a=r(5765);e.exports=function(e,t){return e&&e.length?a(e,n(t,2)):[]}},79:(e,t,r)=>{var n=r(3702),a=r(80),o=r(4739),i=r(8655),s=r(1175);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},80:(e,t,r)=>{var n=r(6025),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():a.call(t,r,1),--this.size,!0)}},104:(e,t,r)=>{var n=r(3661);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},124:(e,t,r)=>{var n=r(9325);e.exports=function(){return n.Date.now()}},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,o||e,i),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,a=[];if(0===this._eventsCount)return a;for(n in e=this._events)t.call(e,n)&&a.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,o=n.length,i=new Array(o);a<o;a++)i[a]=n[a].fn;return i},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,a,o,i){var s=r?r+e:e;if(!this._events[s])return!1;var c,l,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,a),!0;case 5:return u.fn.call(u.context,t,n,a,o),!0;case 6:return u.fn.call(u.context,t,n,a,o,i),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,h=u.length;for(l=0;l<h;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,a);break;default:if(!c)for(f=1,c=new Array(d-1);f<d;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,a){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||i(this,o);else{for(var c=0,l=[],u=s.length;c<u;c++)(s[c].fn!==t||a&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s},270:(e,t,r)=>{var n=r(7068),a=r(346);e.exports=function e(t,r,o,i,s){return t===r||(null==t||null==r||!a(t)&&!a(r)?t!=t&&r!=r:n(t,r,o,i,e,s))}},289:(e,t,r)=>{var n=r(2651);e.exports=function(e){return n(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},317:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},495:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(5556)),a=s(r(6540)),o=s(r(961)),i=r(1345);r(554);function s(e){return e&&e.__esModule?e:{default:e}}var c="unmounted";t.UNMOUNTED=c;var l="exited";t.EXITED=l;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d;var f="exiting";t.EXITING=f;var h=function(e){var t,r;function n(t,r){var n;n=e.call(this,t,r)||this;var a,o=r.transitionGroup,i=o&&!o.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(a=l,n.appearStatus=u):a=d:a=t.unmountOnExit||t.mountOnEnter?c:l,n.state={status:a},n.nextCallback=null,n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.getChildContext=function(){return{transitionGroup:null}},n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:l}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==u&&r!==d&&(t=u):r!==u&&r!==d||(t=f)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=o.default.findDOMNode(this);t===u?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:c})},i.performEnter=function(e,t){var r=this,n=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),i=a?o.appear:o.enter;t||n?(this.props.onEnter(e,a),this.safeSetState({status:u},(function(){r.props.onEntering(e,a),r.onTransitionEnd(e,i,(function(){r.safeSetState({status:d},(function(){r.props.onEntered(e,a)}))}))}))):this.safeSetState({status:d},(function(){r.props.onEntered(e)}))},i.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:f},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},i.onTransitionEnd=function(e,t,r){this.setNextCallback(r);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,r=t.children,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof r)return r(e,n);var o=a.default.Children.only(r);return a.default.cloneElement(o,n)},n}(a.default.Component);function p(){}h.contextTypes={transitionGroup:n.object},h.childContextTypes={transitionGroup:function(){}},h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},h.UNMOUNTED=0,h.EXITED=1,h.ENTERING=2,h.ENTERED=3,h.EXITING=4;var m=(0,i.polyfill)(h);t.default=m},554:(e,t,r)=>{"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var n;(n=r(5556))&&n.__esModule;t.timeoutsShape=null;t.classNamesShape=null},558:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flip=l;var n,a=r(1894),o=(n=a)&&n.__esModule?n:{default:n};function i(e,t){return"MathExpression"===e.type?function(e,t){switch(e=function(e,t){var r=(0,o.default)(e.left,e.right,t),n=i(r.left,t),a=i(r.right,t);"MathExpression"===n.type&&"MathExpression"===a.type&&("/"===n.operator&&"*"===a.operator||"-"===n.operator&&"+"===a.operator||"*"===n.operator&&"/"===a.operator||"+"===n.operator&&"-"===a.operator)&&(s(n.right,a.right)?r=(0,o.default)(n.left,a.left,t):s(n.right,a.left)&&(r=(0,o.default)(n.left,a.right,t)),n=i(r.left,t),a=i(r.right,t));return e.left=n,e.right=a,e}(e,t),e.operator){case"+":case"-":return function(e,t){var r=e,n=r.left,a=r.right,o=r.operator;if("CssVariable"===n.type||"CssVariable"===a.type)return e;if(0===a.value)return n;if(0===n.value&&"+"===o)return a;if(0===n.value&&"-"===o)return u(a);n.type===a.type&&c(n.type)&&((e=Object.assign({},n)).value="+"===o?n.value+a.value:n.value-a.value);if(c(n.type)&&("+"===a.operator||"-"===a.operator)&&"MathExpression"===a.type){if(n.type===a.left.type)return(e=Object.assign({},e)).left=i({type:"MathExpression",operator:o,left:n,right:a.left},t),e.right=a.right,e.operator="-"===o?l(a.operator):a.operator,i(e,t);if(n.type===a.right.type)return(e=Object.assign({},e)).left=i({type:"MathExpression",operator:"-"===o?l(a.operator):a.operator,left:n,right:a.right},t),e.right=a.left,i(e,t)}if("MathExpression"===n.type&&("+"===n.operator||"-"===n.operator)&&c(a.type)){if(a.type===n.left.type)return(e=Object.assign({},n)).left=i({type:"MathExpression",operator:o,left:n.left,right:a},t),i(e,t);if(a.type===n.right.type)return e=Object.assign({},n),"-"===n.operator?(e.right=i({type:"MathExpression",operator:"-"===o?"+":"-",left:a,right:n.right},t),e.operator="-"===o?"-":"+"):e.right=i({type:"MathExpression",operator:o,left:n.right,right:a},t),e.right.value<0&&(e.right.value*=-1,e.operator="-"===e.operator?"+":"-"),i(e,t)}return e}(e,t);case"/":return function(e,t){if(!c(e.right.type))return e;if("Value"!==e.right.type)throw new Error('Cannot divide by "'+e.right.unit+'", number expected');if(0===e.right.value)throw new Error("Cannot divide by zero");if("MathExpression"===e.left.type)return c(e.left.left.type)&&c(e.left.right.type)?(e.left.left.value/=e.right.value,e.left.right.value/=e.right.value,i(e.left,t)):e;if(c(e.left.type))return e.left.value/=e.right.value,e.left;return e}(e,t);case"*":return function(e){if("MathExpression"===e.left.type&&"Value"===e.right.type){if(c(e.left.left.type)&&c(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(c(e.left.type)&&"Value"===e.right.type)return e.left.value*=e.right.value,e.left;if("Value"===e.left.type&&"MathExpression"===e.right.type){if(c(e.right.left.type)&&c(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if("Value"===e.left.type&&c(e.right.type))return e.right.value*=e.left.value,e.right}return e}(e)}return e}(e,t):"Calc"===e.type?i(e.value,t):e}function s(e,t){return e.type===t.type&&e.value===t.value}function c(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function l(e){return"+"===e?"-":"+"}function u(e){return c(e.type)?e.value=-e.value:"MathExpression"==e.type&&(e.left=u(e.left),e.right=u(e.right)),e}t.default=i},583:(e,t,r)=>{var n=r(7237),a=r(7255),o=r(8586),i=r(7797);e.exports=function(e){return o(e)?n(i(e)):a(e)}},598:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},631:(e,t,r)=>{var n=r(8077),a=r(9326);e.exports=function(e,t){return null!=e&&a(e,t,n)}},641:(e,t,r)=>{var n=r(6649),a=r(5950);e.exports=function(e,t){return e&&n(e,t,a)}},659:(e,t,r)=>{var n=r(1873),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var a=i.call(e);return n&&(t?e[s]=r:delete e[s]),a}},689:(e,t,r)=>{var n=r(2),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,i,s){var c=1&r,l=n(e),u=l.length;if(u!=n(t).length&&!c)return!1;for(var d=u;d--;){var f=l[d];if(!(c?f in t:a.call(t,f)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=c;++d<u;){var x=e[f=l[d]],v=t[f];if(o)var b=c?o(v,x,f,t,e,s):o(x,v,f,e,t,s);if(!(void 0===b?x===v||i(x,v,r,o,s):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var y=e.constructor,_=t.constructor;y==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(m=!1)}return s.delete(e),s.delete(t),m}},695:(e,t,r)=>{var n=r(8096),a=r(2428),o=r(6449),i=r(3656),s=r(361),c=r(7167),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),u=!r&&a(e),d=!r&&!u&&i(e),f=!r&&!u&&!d&&c(e),h=r||u||d||f,p=h?n(e.length,String):[],m=p.length;for(var g in e)!t&&!l.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},756:(e,t,r)=>{var n=r(3805);e.exports=function(e){return e==e&&!n(e)}},776:(e,t,r)=>{var n=r(756),a=r(5950);e.exports=function(e){for(var t=a(e),r=t.length;r--;){var o=t[r],i=e[o];t[r]=[o,i,n(i)]}return t}},788:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,r){e.classList?e.classList.remove(r):"string"==typeof e.className?e.className=t(e.className,r):e.setAttribute("class",t(e.className&&e.className.baseVal||"",r))}},909:(e,t,r)=>{var n=r(641),a=r(8329)(n);e.exports=a},916:(e,t,r)=>{var n=r(909);e.exports=function(e,t){var r;return n(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}},938:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},945:(e,t,r)=>{var n=r(79),a=r(8223),o=r(3661);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var i=r.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(i)}return r.set(e,t),this.size=r.size,this}},961:(e,t,r)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(2551)},975:(e,t)=>{var r=function(){function e(e,t){var r;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var n=t.exception;this.message=n.message||e,r=n.stack}r||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):r=new Error(e).stack),r&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:r})}function t(e,t,r){r=r||0;for(var n=0;n<t;n++)this.push(e),e+=r}function r(e,t){for(t+=e=this.length-e;e<t;e++)this.push(this[e])}function n(e){for(var t=[],r=0,n=e.length;r<n;r++){var a=e[r];"function"==typeof a?(r++,a.apply(t,e[r])):t.push(a)}return t}"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonParserError";var a={trace:function(){},JisonParserError:e,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(e){return'"'+e+'"'},getSymbolName:function(e){if(this.terminals_[e])return this.terminals_[e];var t=this.symbols_;for(var r in t)if(t[r]===e)return r;return null},describeSymbol:function(e){if(e!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[e])return this.terminal_descriptions_[e];if(e===this.EOF)return"end of input";var t=this.getSymbolName(e);return t?this.quoteName(t):null},collect_expected_token_set:function(e,t){var r=this.TERROR,n=[],a={};if(!t&&this.state_descriptions_&&this.state_descriptions_[e])return[this.state_descriptions_[e]];for(var o in this.table[e])if((o=+o)!==r){var i=t?o:this.describeSymbol(o);i&&!a[i]&&(n.push(i),a[i]=!0)}return n},productions_:function(e){for(var t=[],r=e.pop,n=e.rule,a=0,o=r.length;a<o;a++)t.push([r[a],n[a]]);return t}({pop:n([29,t,[30,10],31,31,32,32,t,[33,15]]),rule:n([2,t,[3,5],4,7,t,[1,4],2,4,6,t,[1,14],2])}),performAction:function(e,t,r){var n=this.yy;n.parser,n.lexer;switch(e){case 0:case 6:this.$=r[t-1];break;case 1:return this.$=r[t-1],r[t-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:r[t-1],left:r[t-2],right:r[t]};break;case 7:this.$={type:"Calc",value:r[t-1]};break;case 8:this.$={type:"Calc",value:r[t-1],prefix:r[t-5]};break;case 9:case 10:case 11:this.$=r[t];break;case 12:this.$={type:"Value",value:parseFloat(r[t])};break;case 13:this.$={type:"Value",value:-1*parseFloat(r[t])};break;case 14:this.$={type:"CssVariable",value:r[t-1]};break;case 15:this.$={type:"CssVariable",value:r[t-3],fallback:r[t-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(r[t]),unit:/[a-z]+/.exec(r[t])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(r[t]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(r[t]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(r[t]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(r[t]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(r[t]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(r[t]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(r[t]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(r[t]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(r[t]),unit:"%"};break;case 30:var a=r[t];a.value*=-1,this.$=a}},table:function(e){for(var t=[],r=e.len,n=e.symbol,a=e.type,o=e.state,i=e.mode,s=e.goto,c=0,l=r.length;c<l;c++){for(var u=r[c],d={},f=0;f<u;f++){var h=n.shift();switch(a.shift()){case 2:d[h]=[i.shift(),s.shift()];break;case 0:d[h]=o.shift();break;default:d[h]=[3]}}t.push(d)}return t}({len:n([24,1,5,23,1,18,t,[0,3],1,t,[0,16],t,[23,4],r,[28,3],0,0,16,1,6,6,t,[0,3],5,1,2,r,[37,3],r,[20,3],5,0,0]),symbol:n([4,7,9,11,12,t,[15,19,1],1,1,t,[3,4,1],r,[30,19],r,[29,4],7,4,10,11,r,[22,14],r,[19,3],r,[43,22],r,[23,69],r,[139,4],8,r,[51,24],4,r,[138,15],13,r,[186,5],8,r,[6,6],r,[5,5],9,8,14,r,[159,47],r,[60,10]]),type:n([t,[2,19],t,[0,5],1,t,[2,24],t,[0,4],r,[22,19],r,[43,42],r,[23,70],r,[28,25],r,[45,25],r,[113,54]]),state:n([1,2,8,6,7,30,r,[4,3],33,37,r,[5,3],38,r,[4,3],39,r,[4,3],40,r,[4,3],42,r,[21,4],50,r,[5,3],51,r,[4,3]]),mode:n([t,[1,179],t,[2,3],r,[5,5],r,[6,4],t,[1,57]]),goto:n([5,3,4,24,t,[9,15,1],t,[25,5,1],r,[24,19],31,35,32,34,r,[18,14],36,r,[38,19],r,[19,57],r,[118,4],41,r,[24,19],43,35,r,[16,14],44,t,[2,3],28,29,2,t,[3,3],28,29,3,r,[53,4],t,[45,5,1],r,[100,42],52,r,[5,4],53])}),defaultActions:function(e){for(var t={},r=e.idx,n=e.goto,a=0,o=r.length;a<o;a++){t[r[a]]=n[a]}return t}({idx:n([6,7,8,t,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:n([9,10,11,t,[16,14,1],12,1,30,13,t,[4,4,1],14,15,8])}),parseError:function(e,t,r){if(!t.recoverable)throw"function"==typeof this.trace&&this.trace(e),r||(r=this.JisonParserError),new r(e,t);"function"==typeof this.trace&&this.trace(e),t.destroy()},parse:function(e){var t,r=this,n=new Array(128),a=new Array(128),o=new Array(128),i=this.table,s=0,c=0,l=(this.TERROR,this.EOF),u=(this.options.errorRecoveryTokenDiscardCount,[0,54]);t=this.__lexer__?this.__lexer__:this.__lexer__=Object.create(this.lexer);var d={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};function f(){var e=t.fastLex();return"number"!=typeof e&&(e=r.symbols_[e]||e),e||l}"function"!=typeof assert||assert,this.yyGetSharedState=function(){return d},function(e,t){for(var r in t)void 0===e[r]&&Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}(d,this.yy),d.lexer=t,d.parser=this,"function"==typeof d.parseError?this.parseError=function(e,t,r){return r||(r=this.JisonParserError),d.parseError.call(this,e,t,r)}:this.parseError=this.originalParseError,"function"==typeof d.quoteName?this.quoteName=function(e){return d.quoteName.call(this,e)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(e,r,i){var c,l;r&&((d.post_parse||this.post_parse)&&(l=this.constructParseErrorInfo(null,null,null,!1)),d.post_parse&&void 0!==(c=d.post_parse.call(this,d,e,l))&&(e=c),this.post_parse&&void 0!==(c=this.post_parse.call(this,d,e,l))&&(e=c),l&&l.destroy&&l.destroy());if(this.__reentrant_call_depth>1)return e;if(t.cleanupAfterLex&&t.cleanupAfterLex(i),d&&(d.lexer=void 0,d.parser=void 0,t.yy===d&&(t.yy=void 0)),d=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,n.length=0,a.length=0,o.length=0,s=0,!i){for(var u=this.__error_infos.length-1;u>=0;u--){var f=this.__error_infos[u];f&&"function"==typeof f.destroy&&f.destroy()}this.__error_infos.length=0}return e},this.constructParseErrorInfo=function(e,r,i,l){var u={errStr:e,exception:r,text:t.match,value:t.yytext,token:this.describeSymbol(c)||c,token_id:c,line:t.yylineno,expected:i,recoverable:l,state:h,action:p,new_state:y,symbol_stack:n,state_stack:a,value_stack:o,stack_pointer:s,yy:d,lexer:t,parser:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"==typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(u),u};var h,p,m,g,x,v,b,y,_=function(){var e=t.lex();return"number"!=typeof e&&(e=r.symbols_[e]||e),e||l},j={$:!0,_$:void 0,yy:d},w=!1;try{if(this.__reentrant_call_depth++,t.setInput(e,d),"function"==typeof t.canIUse)t.canIUse().fastLex&&(_=f);for(o[s]=null,a[s]=0,n[s]=0,++s,this.pre_parse&&this.pre_parse.call(this,d),d.pre_parse&&d.pre_parse.call(this,d),y=a[s-1];;){if(h=y,this.defaultActions[h])p=2,y=this.defaultActions[h];else if(c||(c=_()),g=i[h]&&i[h][c]||u,y=g[1],!(p=g[0])){var N,E=this.describeSymbol(c)||c,C=this.collect_expected_token_set(h);N="number"==typeof t.yylineno?"Parse error on line "+(t.yylineno+1)+": ":"Parse error: ","function"==typeof t.showPosition&&(N+="\n"+t.showPosition(69,10)+"\n"),C.length?N+="Expecting "+C.join(", ")+", got unexpected "+E:N+="Unexpected "+E,x=this.constructParseErrorInfo(N,null,C,!1),void 0!==(m=this.parseError(x.errStr,x,this.JisonParserError))&&(w=m);break}switch(p){default:if(p instanceof Array){x=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+h+", token: "+c,null,null,!1),void 0!==(m=this.parseError(x.errStr,x,this.JisonParserError))&&(w=m);break}x=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),void 0!==(m=this.parseError(x.errStr,x,this.JisonParserError))&&(w=m);break;case 1:n[s]=c,o[s]=t.yytext,a[s]=y,++s,c=0;continue;case 2:if(v=(b=this.productions_[y-1])[1],void 0!==(m=this.performAction.call(j,y,s-1,o))){w=m;break}s-=v;var S=b[0];n[s]=S,o[s]=j.$,y=i[a[s-1]][S],a[s]=y,++s;continue;case 3:-2!==s&&(w=!0,s--,void 0!==o[s]&&(w=o[s]))}break}}catch(e){if(e instanceof this.JisonParserError)throw e;if(t&&"function"==typeof t.JisonLexerError&&e instanceof t.JisonLexerError)throw e;x=this.constructParseErrorInfo("Parsing aborted due to exception.",e,null,!1),w=!1,void 0!==(m=this.parseError(x.errStr,x,this.JisonParserError))&&(w=m)}finally{w=this.cleanupAfterParse(w,!0,!0),this.__reentrant_call_depth--}return w}};a.originalParseError=a.parseError,a.originalQuoteName=a.quoteName;var o=function(){function e(e,t){var r;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var n=t.exception;this.message=n.message||e,r=n.stack}r||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):r=new Error(e).stack),r&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:r})}"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonLexerError";var t={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(e,t,r){if(e=""+e,null==r&&(r=!(e.indexOf("\n")>0&&e.indexOf("^")>0)),this.yylloc&&r)if("function"==typeof this.prettyPrintRange){this.prettyPrintRange(this.yylloc);/\n\s*$/.test(e)||(e+="\n"),e+="\n  Erroneous area:\n"+this.prettyPrintRange(this.yylloc)}else if("function"==typeof this.showPosition){var n=this.showPosition();n&&(e.length&&"\n"!==e[e.length-1]&&"\n"!==n[0]?e+="\n"+n:e+=n)}var a={errStr:e,recoverable:!!t,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"==typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(a),a},parseError:function(e,t,r){if(r||(r=this.JisonLexerError),this.yy){if(this.yy.parser&&"function"==typeof this.yy.parser.parseError)return this.yy.parser.parseError.call(this,e,t,r)||this.ERROR;if("function"==typeof this.yy.parseError)return this.yy.parseError.call(this,e,t,r)||this.ERROR}throw new r(e,t)},yyerror:function(e){var t="";this.yylloc&&(t=" on line "+(this.yylineno+1));var r=this.constructLexErrorInfo("Lexical error"+t+": "+e,this.options.lexerErrorsAreRecoverable),n=Array.prototype.slice.call(arguments,1);return n.length&&(r.extra_error_attributes=n),this.parseError(r.errStr,r,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(e){if(this.setInput("",{}),!e){for(var t=this.__error_infos.length-1;t>=0;t--){var r=this.__error_infos[t];r&&"function"==typeof r.destroy&&r.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var e=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:e,last_line:this.yylineno+1,last_column:e,range:[this.offset,this.offset]}},setInput:function(e,t){if(this.yy=t||this.yy||{},!this.__decompressed){for(var r=this.rules,n=0,a=r.length;n<a;n++){"number"==typeof(f=r[n])&&(r[n]=r[f])}var o=this.conditions;for(var i in o){var s=o[i],c=s.rules,l=(a=c.length,new Array(a+1)),u=new Array(a+1);for(n=0;n<a;n++){var d=c[n],f=r[d];l[n+1]=f,u[n+1]=d}s.rules=u,s.__rule_regexes=l,s.__rule_count=a}this.__decompressed=!0}return this._input=e||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(e,t){var r=e.call(this,this._input,t);return"string"!=typeof r?r&&(this._input=""+r):this._input=r,this},input:function(){if(!this._input)return null;var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=1,r=!1;if("\n"===e)r=!0;else if("\r"===e){r=!0;var n=this._input[1];"\n"===n&&(t++,e+=n,this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n,this.yylloc.range[1]++)}return r?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(t),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);if(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.yyleng=this.yytext.length,this.offset-=t,this.match=this.match.substr(0,this.match.length-t),this.matched=this.matched.substr(0,this.matched.length-t),r.length>1){this.yylineno-=r.length-1,this.yylloc.last_line=this.yylineno+1;var n=this.match,a=n.split(/(?:\r\n?|\n)/g);1===a.length&&(a=(n=this.matched).split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=a[a.length-1].length}else this.yylloc.last_column-=t;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var e="";this.yylloc&&(e=" on line "+(this.yylineno+1));var t=this.constructLexErrorInfo("Lexical error"+e+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(t.errStr,t,this.JisonLexerError)||this.ERROR}return this},less:function(e){return this.unput(this.match.slice(e))},pastInput:function(e,t){var r=this.matched.substring(0,this.matched.length-this.match.length);e<0?e=r.length:e||(e=20),t<0?t=r.length:t||(t=1);var n=(r=r.substr(2*-e-2)).replace(/\r\n|\r/g,"\n").split("\n");return(r=(n=n.slice(-t)).join("\n")).length>e&&(r="..."+r.substr(-e)),r},upcomingInput:function(e,t){var r=this.match;e<0?e=r.length+this._input.length:e||(e=20),t<0?t=e:t||(t=1),r.length<2*e+2&&(r+=this._input.substring(0,2*e+2));var n=r.replace(/\r\n|\r/g,"\n").split("\n");return(r=(n=n.slice(0,t)).join("\n")).length>e&&(r=r.substring(0,e)+"..."),r},showPosition:function(e,t){var r=this.pastInput(e).replace(/\s/g," "),n=new Array(r.length+1).join("-");return r+this.upcomingInput(t).replace(/\s/g," ")+"\n"+n+"^"},deriveLocationInfo:function(e,t,r,n){var a={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return e&&(a.first_line=0|e.first_line,a.last_line=0|e.last_line,a.first_column=0|e.first_column,a.last_column=0|e.last_column,e.range&&(a.range[0]=0|e.range[0],a.range[1]=0|e.range[1])),(a.first_line<=0||a.last_line<a.first_line)&&(a.first_line<=0&&t&&(a.first_line=0|t.last_line,a.first_column=0|t.last_column,t.range&&(a.range[0]=0|e.range[1])),(a.last_line<=0||a.last_line<a.first_line)&&r&&(a.last_line=0|r.first_line,a.last_column=0|r.first_column,r.range&&(a.range[1]=0|e.range[0])),a.first_line<=0&&n&&(a.last_line<=0||n.last_line<=a.last_line)&&(a.first_line=0|n.first_line,a.first_column=0|n.first_column,n.range&&(a.range[0]=0|n.range[0])),a.last_line<=0&&n&&(a.first_line<=0||n.first_line>=a.first_line)&&(a.last_line=0|n.last_line,a.last_column=0|n.last_column,n.range&&(a.range[1]=0|n.range[1]))),a.last_line<=0&&(a.first_line<=0?(a.first_line=this.yylloc.first_line,a.last_line=this.yylloc.last_line,a.first_column=this.yylloc.first_column,a.last_column=this.yylloc.last_column,a.range[0]=this.yylloc.range[0],a.range[1]=this.yylloc.range[1]):(a.last_line=this.yylloc.last_line,a.last_column=this.yylloc.last_column,a.range[1]=this.yylloc.range[1])),a.first_line<=0&&(a.first_line=a.last_line,a.first_column=0,a.range[1]=a.range[0]),a.first_column<0&&(a.first_column=0),a.last_column<0&&(a.last_column=a.first_column>0?a.first_column:80),a},prettyPrintRange:function(e,t,r){e=this.deriveLocationInfo(e,t,r);var n=(this.matched+this._input).split("\n"),a=Math.max(1,t?t.first_line:e.first_line-3),o=Math.max(1,r?r.last_line:e.last_line+1),i=1+Math.log10(1|o)|0,s=new Array(i).join(" "),c=[],l=n.slice(a-1,o+1).map((function(t,r){var n=r+a,o=(s+n).substr(-i)+": "+t,l=new Array(i+1).join("^"),u=3,d=0;(n===e.first_line?(u+=e.first_column,d=Math.max(2,(n===e.last_line?e.last_column:t.length)-e.first_column+1)):n===e.last_line?d=Math.max(2,e.last_column+1):n>e.first_line&&n<e.last_line&&(d=Math.max(2,t.length+1)),d)&&(o+="\n"+l+new Array(u).join(".")+new Array(d).join("^"),t.trim().length>0&&c.push(r));return o=o.replace(/\t/g," ")}));if(c.length>4){var u=c[1]+1,d=c[c.length-2]-1,f=new Array(i+1).join(" ")+"  (...continued...)";f+="\n"+new Array(i+1).join("-")+"  (---------------)",l.splice(u,d-u+1,f)}return l.join("\n")},describeYYLLOC:function(e,t){var r,n=e.first_line,a=e.last_line,o=e.first_column,i=e.last_column;if(0===a-n?(r="line "+n+", ",r+=i-o<=1?"column "+o:"columns "+o+" .. "+i):r="lines "+n+"(column "+o+") .. "+a+"(column "+i+")",e.range&&t){var s=e.range[0],c=e.range[1]-1;r+=c<=s?" {String Offset: "+s+"}":" {String Offset range: "+s+" .. "+c+"}"}return r},test_match:function(e,t){var r,n,a,o,i;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),i=(o=e[0]).length,(n=o.split(/(?:\r\n?|\n)/g)).length>1?(this.yylineno+=n.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=n[n.length-1].length):this.yylloc.last_column+=i,this.yytext+=o,this.match+=o,this.matched+=o,this.matches=e,this.yyleng=this.yytext.length,this.yylloc.range[1]+=i,this.offset+=i,this._more=!1,this._backtrack=!1,this._input=this._input.slice(i),r=this.performAction.call(this,this.yy,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var s in a)this[s]=a[s];return this.__currentRuleSet__=null,!1}return!!this._signaled_error_token&&(r=this._signaled_error_token,this._signaled_error_token=!1,r)},next:function(){if(this.done)return this.clear(),this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||this.clear();var a=this.__currentRuleSet__;if(!(a||(a=this.__currentRuleSet__=this._currentRules())&&a.rules)){var o="";this.options.trackPosition&&(o=" on line "+(this.yylineno+1));var i=this.constructLexErrorInfo("Internal lexer engine error"+o+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(i.errStr,i,this.JisonLexerError)||this.ERROR}for(var s=a.rules,c=a.__rule_regexes,l=a.__rule_count,u=1;u<=l;u++)if((r=this._input.match(c[u]))&&(!t||r[0].length>t[0].length)){if(t=r,n=u,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,s[u])))return e;if(this._backtrack){t=void 0;continue}return!1}if(!this.options.flex)break}if(t)return!1!==(e=this.test_match(t,s[n]))&&e;if(this._input){o="";this.options.trackPosition&&(o=" on line "+(this.yylineno+1));i=this.constructLexErrorInfo("Lexical error"+o+": Unrecognized text.",this.options.lexerErrorsAreRecoverable);var d=this._input,f=this.topState(),h=this.conditionStack.length;return(e=this.parseError(i.errStr,i,this.JisonLexerError)||this.ERROR)===this.ERROR&&(this.matches||d!==this._input||f!==this.topState()||h!==this.conditionStack.length||this.input()),e}return this.done=!0,this.clear(),this.EOF},lex:function(){var e;for("function"==typeof this.pre_lex&&(e=this.pre_lex.call(this,0)),"function"==typeof this.options.pre_lex&&(e=this.options.pre_lex.call(this,e)||e),this.yy&&"function"==typeof this.yy.pre_lex&&(e=this.yy.pre_lex.call(this,e)||e);!e;)e=this.next();return this.yy&&"function"==typeof this.yy.post_lex&&(e=this.yy.post_lex.call(this,e)||e),"function"==typeof this.options.post_lex&&(e=this.options.post_lex.call(this,e)||e),"function"==typeof this.post_lex&&(e=this.post_lex.call(this,e)||e),e},fastLex:function(){for(var e;!e;)e=this.next();return e},canIUse:function(){return{fastLex:!("function"==typeof this.pre_lex||"function"==typeof this.options.pre_lex||this.yy&&"function"==typeof this.yy.pre_lex||this.yy&&"function"==typeof this.yy.post_lex||"function"==typeof this.options.post_lex||"function"==typeof this.post_lex)&&"function"==typeof this.fastLex}},begin:function(e){return this.pushState(e)},pushState:function(e){return this.conditionStack.push(e),this.__currentRuleSet__=null,this},popState:function(){return this.conditionStack.length-1>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:e,performAction:function(e,t,r){if(1!==t)return this.simpleCaseActionClusters[t]},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return t}();function i(){this.yy={}}return a.lexer=o,i.prototype=a,a.Parser=i,new i}();t.parser=r,t.Parser=r.Parser,t.parse=function(){return r.parse.apply(r,arguments)}},1020:(e,t,r)=>{"use strict";r(5228);var n=r(6540),a=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),t.Fragment=o("react.fragment")}var i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,o={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:a,type:e,key:l,ref:u,props:o,_owner:i.current}}t.jsx=l,t.jsxs=l},1033:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},1042:(e,t,r)=>{var n=r(6110)(Object,"create");e.exports=n},1074:e=>{e.exports=function(e){return e.split("")}},1175:(e,t,r)=>{var n=r(6025);e.exports=function(e,t){var r=this.__data__,a=n(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}},1331:(e,t,r)=>{var n=r(2552),a=r(8879),o=r(346),i=Function.prototype,s=Object.prototype,c=i.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==u}},1345:(e,t,r)=>{"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function a(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function o(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,i=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==i||null!==s){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=a),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;u.call(this,e,t,n)}}return e}r.r(t),r.d(t,{polyfill:()=>i}),n.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},1369:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;i(r(5556));var n=i(r(6540)),a=r(961),o=i(r(2312));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,r;function i(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEnter",0,r)},t.handleEntering=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntering",0,r)},t.handleEntered=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntered",0,r)},t.handleExit=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExit",1,r)},t.handleExiting=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExiting",1,r)},t.handleExited=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExited",1,r)},t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=i.prototype;return s.handleLifecycle=function(e,t,r){var o,i=this.props.children,s=n.default.Children.toArray(i)[t];s.props[e]&&(o=s.props)[e].apply(o,r),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,r=e.in,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["children","in"]),i=n.default.Children.toArray(t),s=i[0],c=i[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,n.default.createElement(o.default,a,r?n.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):n.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(n.default.Component);s.propTypes={};var c=s;t.default=c,e.exports=t.default},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1420:(e,t,r)=>{var n=r(79);e.exports=function(){this.__data__=new n,this.size=0}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1489:(e,t,r)=>{var n=r(7400);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},1549:(e,t,r)=>{var n=r(2032),a=r(3862),o=r(6721),i=r(2749),s=r(5749);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},1684:(e,t,r)=>{var n=r(3599),a=r(6176),o=r(3488);e.exports=function(e){return e&&e.length?n(e,o,a):void 0}},1741:(e,t,r)=>{var n=r(8023);e.exports=function(e){return n(e)&&e!=+e}},1769:(e,t,r)=>{var n=r(6449),a=r(8586),o=r(1802),i=r(3222);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:o(i(e))}},1799:(e,t,r)=>{var n=r(7217),a=r(270);e.exports=function(e,t,r,o){var i=r.length,s=i,c=!o;if(null==e)return!s;for(e=Object(e);i--;){var l=r[i];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var u=(l=r[i])[0],d=e[u],f=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new n;if(o)var p=o(d,f,u,e,t,h);if(!(void 0===p?a(f,d,3,o,h):p))return!1}}return!0}},1800:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},1802:(e,t,r)=>{var n=r(2224),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(o,"$1"):r||e)})),t}));e.exports=i},1811:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),o=16-(a-n);if(n=a,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},1873:(e,t,r)=>{var n=r(9325).Symbol;e.exports=n},1882:(e,t,r)=>{var n=r(2552),a=r(3805);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,a=r(6988),o=(n=a)&&n.__esModule?n:{default:n};t.default=function(e,t,r){switch(e.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return function(e,t,r){t.type===e.type&&(t={type:e.type,value:(0,o.default)(t.value,t.unit,e.unit,r),unit:e.unit});return{left:e,right:t}}(e,t,r);default:return{left:e,right:t}}},e.exports=t.default},1928:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},1986:(e,t,r)=>{var n=r(1873),a=r(7828),o=r(5288),i=r(5911),s=r(317),c=r(4247),l=n?n.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,r,n,l,d,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&n;if(h||(h=c),e.size!=t.size&&!p)return!1;var m=f.get(e);if(m)return m==t;n|=2,f.set(e,t);var g=i(h(e),h(t),n,l,d,f);return f.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},2006:(e,t,r)=>{var n=r(5389),a=r(4894),o=r(5950);e.exports=function(e){return function(t,r,i){var s=Object(t);if(!a(t)){var c=n(r,3);t=o(t),r=function(e){return c(s[e],e,s)}}var l=e(t,r,i);return l>-1?s[c?t[l]:l]:void 0}}},2012:(e,t,r)=>{"use strict";var n=r(9516),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,i={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([r]):i[t]?i[t]+", "+r:r}})),i):i}},2032:(e,t,r)=>{var n=r(1042);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},2054:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+n+"|"+a+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+c+("(?:\\u200d(?:"+[o,i,s].join("|")+")"+l+c+")*"),d="(?:"+[o+n+"?",n,i,s,r].join("|")+")",f=RegExp(a+"(?="+a+")|"+d+u,"g");e.exports=function(e){return e.match(f)||[]}},2199:(e,t,r)=>{var n=r(4528),a=r(6449);e.exports=function(e,t,r){var o=t(e);return a(e)?o:n(o,r(e))}},2224:(e,t,r)=>{var n=r(104);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},2312:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(5556)),a=s(r(6540)),o=r(1345),i=r(2958);function s(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,r;function n(t,r){var n,a=(n=e.call(this,t,r)||this).handleExited.bind(l(l(n)));return n.state={handleExited:a,firstRender:!0},n}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,n):(0,i.getNextChildMapping)(e,r,n),firstRender:!1}},o.handleExited=function(e,t){var r=(0,i.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=c({},t.children);return delete r[e.key],{children:r}})))},o.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["component","childFactory"]),o=u(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?o:a.default.createElement(t,n,o)},n}(a.default.Component);d.childContextTypes={transitionGroup:n.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var f=(0,o.polyfill)(d);t.default=f,e.exports=t.default},2404:(e,t,r)=>{var n=r(270);e.exports=function(e,t){return n(e,t)}},2426:(e,t,r)=>{var n=r(4248),a=r(5389),o=r(916),i=r(6449),s=r(6800);e.exports=function(e,t,r){var c=i(e)?n:o;return r&&s(e,t,r)&&(t=void 0),c(e,a(t,3))}},2428:(e,t,r)=>{var n=r(7534),a=r(346),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},2505:(e,t,r)=>{e.exports=r(8015)},2507:(e,t,r)=>{var n=r(8754),a=r(9698),o=r(3912),i=r(3222);e.exports=function(e){return function(t){t=i(t);var r=a(t)?o(t):void 0,s=r?r[0]:t.charAt(0),c=r?n(r,1).join(""):t.slice(1);return s[e]()+c}}},2523:e=>{e.exports=function(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},2543:function(e,t,r){var n;e=r.nmd(e),function(){var a,o="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,l=32,u=64,d=128,f=256,h=1/0,p=9007199254740991,m=NaN,g=4294967295,x=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",l],["partialRight",u],["rearg",f]],v="[object Arguments]",b="[object Array]",y="[object Boolean]",_="[object Date]",j="[object Error]",w="[object Function]",N="[object GeneratorFunction]",E="[object Map]",C="[object Number]",S="[object Object]",O="[object Promise]",A="[object RegExp]",P="[object Set]",D="[object String]",I="[object Symbol]",T="[object WeakMap]",M="[object ArrayBuffer]",k="[object DataView]",R="[object Float32Array]",B="[object Float64Array]",L="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",W="[object Uint8Array]",V="[object Uint8ClampedArray]",z="[object Uint16Array]",K="[object Uint32Array]",G=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,X=RegExp($.source),Q=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ae=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ae.source),ie=/^\s+/,se=/\s/,ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,xe=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,je=/($^)/,we=/['\n\r\u2028\u2029\\]/g,Ne="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="[']",Ie="["+Ne+"]",Te="["+Pe+"]",Me="["+Ee+"]",ke="\\d+",Re="["+Ce+"]",Be="["+Se+"]",Le="[^"+Ne+Pe+ke+Ce+Se+Oe+"]",Fe="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Ne+"]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Oe+"]",Ke="\\u200d",Ge="(?:"+Be+"|"+Le+")",qe="(?:"+ze+"|"+Le+")",He="(?:['](?:d|ll|m|re|s|t|ve))?",$e="(?:['](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Me+"|"+Fe+")"+"?",Xe="["+Ae+"]?",Qe=Xe+Ye+("(?:"+Ke+"(?:"+[Ue,We,Ve].join("|")+")"+Xe+Ye+")*"),Ze="(?:"+[Re,We,Ve].join("|")+")"+Qe,Je="(?:"+[Ue+Me+"?",Me,We,Ve,Ie].join("|")+")",et=RegExp(De,"g"),tt=RegExp(Me,"g"),rt=RegExp(Fe+"(?="+Fe+")|"+Je+Qe,"g"),nt=RegExp([ze+"?"+Be+"+"+He+"(?="+[Te,ze,"$"].join("|")+")",qe+"+"+$e+"(?="+[Te,ze+Ge,"$"].join("|")+")",ze+"?"+Ge+"+"+He,ze+"+"+$e,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ke,Ze].join("|"),"g"),at=RegExp("["+Ke+Ne+Ee+Ae+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ct={};ct[R]=ct[B]=ct[L]=ct[F]=ct[U]=ct[W]=ct[V]=ct[z]=ct[K]=!0,ct[v]=ct[b]=ct[M]=ct[y]=ct[k]=ct[_]=ct[j]=ct[w]=ct[E]=ct[C]=ct[S]=ct[A]=ct[P]=ct[D]=ct[T]=!1;var lt={};lt[v]=lt[b]=lt[M]=lt[k]=lt[y]=lt[_]=lt[R]=lt[B]=lt[L]=lt[F]=lt[U]=lt[E]=lt[C]=lt[S]=lt[A]=lt[P]=lt[D]=lt[I]=lt[W]=lt[V]=lt[z]=lt[K]=!0,lt[j]=lt[w]=lt[T]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,ht="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,mt=ht||pt||Function("return this")(),gt=t&&!t.nodeType&&t,xt=gt&&e&&!e.nodeType&&e,vt=xt&&xt.exports===gt,bt=vt&&ht.process,yt=function(){try{var e=xt&&xt.require&&xt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),_t=yt&&yt.isArrayBuffer,jt=yt&&yt.isDate,wt=yt&&yt.isMap,Nt=yt&&yt.isRegExp,Et=yt&&yt.isSet,Ct=yt&&yt.isTypedArray;function St(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Ot(e,t,r,n){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(n,i,r(i),e)}return n}function At(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Dt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function It(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}function Tt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Mt(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}function kt(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}function Rt(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function Bt(e,t,r,n){var a=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++a]);++a<o;)r=t(r,e[a],a,e);return r}function Lt(e,t,r,n){var a=null==e?0:e.length;for(n&&a&&(r=e[--a]);a--;)r=t(r,e[a],a,e);return r}function Ft(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ut=Ht("length");function Wt(e,t,r){var n;return r(e,(function(e,r,a){if(t(e,r,a))return n=r,!1})),n}function Vt(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function zt(e,t,r){return t==t?function(e,t,r){var n=r-1,a=e.length;for(;++n<a;)if(e[n]===t)return n;return-1}(e,t,r):Vt(e,Gt,r)}function Kt(e,t,r,n){for(var a=r-1,o=e.length;++a<o;)if(n(e[a],t))return a;return-1}function Gt(e){return e!=e}function qt(e,t){var r=null==e?0:e.length;return r?Xt(e,t)/r:m}function Ht(e){return function(t){return null==t?a:t[e]}}function $t(e){return function(t){return null==e?a:e[t]}}function Yt(e,t,r,n,a){return a(e,(function(e,a,o){r=n?(n=!1,e):t(r,e,a,o)})),r}function Xt(e,t){for(var r,n=-1,o=e.length;++n<o;){var i=t(e[n]);i!==a&&(r=r===a?i:r+i)}return r}function Qt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Zt(e){return e?e.slice(0,mr(e)+1).replace(ie,""):e}function Jt(e){return function(t){return e(t)}}function er(e,t){return kt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&zt(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&zt(t,e[r],0)>-1;);return r}var ar=$t({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),or=$t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ir(e){return"\\"+ut[e]}function sr(e){return at.test(e)}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function lr(e,t){return function(r){return e(t(r))}}function ur(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var i=e[r];i!==t&&i!==s||(e[r]=s,o[a++]=r)}return o}function dr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function fr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function hr(e){return sr(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Ut(e)}function pr(e){return sr(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function mr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gr=$t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var xr=function e(t){var r,n=(t=null==t?mt:xr.defaults(mt.Object(),t,xr.pick(mt,it))).Array,se=t.Date,Ne=t.Error,Ee=t.Function,Ce=t.Math,Se=t.Object,Oe=t.RegExp,Ae=t.String,Pe=t.TypeError,De=n.prototype,Ie=Ee.prototype,Te=Se.prototype,Me=t["__core-js_shared__"],ke=Ie.toString,Re=Te.hasOwnProperty,Be=0,Le=(r=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Fe=Te.toString,Ue=ke.call(Se),We=mt._,Ve=Oe("^"+ke.call(Re).replace(ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=vt?t.Buffer:a,Ke=t.Symbol,Ge=t.Uint8Array,qe=ze?ze.allocUnsafe:a,He=lr(Se.getPrototypeOf,Se),$e=Se.create,Ye=Te.propertyIsEnumerable,Xe=De.splice,Qe=Ke?Ke.isConcatSpreadable:a,Ze=Ke?Ke.iterator:a,Je=Ke?Ke.toStringTag:a,rt=function(){try{var e=ho(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ut=se&&se.now!==mt.Date.now&&se.now,ht=t.setTimeout!==mt.setTimeout&&t.setTimeout,pt=Ce.ceil,gt=Ce.floor,xt=Se.getOwnPropertySymbols,bt=ze?ze.isBuffer:a,yt=t.isFinite,Ut=De.join,$t=lr(Se.keys,Se),vr=Ce.max,br=Ce.min,yr=se.now,_r=t.parseInt,jr=Ce.random,wr=De.reverse,Nr=ho(t,"DataView"),Er=ho(t,"Map"),Cr=ho(t,"Promise"),Sr=ho(t,"Set"),Or=ho(t,"WeakMap"),Ar=ho(Se,"create"),Pr=Or&&new Or,Dr={},Ir=Fo(Nr),Tr=Fo(Er),Mr=Fo(Cr),kr=Fo(Sr),Rr=Fo(Or),Br=Ke?Ke.prototype:a,Lr=Br?Br.valueOf:a,Fr=Br?Br.toString:a;function Ur(e){if(rs(e)&&!Gi(e)&&!(e instanceof Kr)){if(e instanceof zr)return e;if(Re.call(e,"__wrapped__"))return Uo(e)}return new zr(e)}var Wr=function(){function e(){}return function(t){if(!ts(t))return{};if($e)return $e(t);e.prototype=t;var r=new e;return e.prototype=a,r}}();function Vr(){}function zr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=a}function Kr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $r(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Hr;++t<r;)this.add(e[t])}function Yr(e){var t=this.__data__=new qr(e);this.size=t.size}function Xr(e,t){var r=Gi(e),n=!r&&Ki(e),a=!r&&!n&&Yi(e),o=!r&&!n&&!a&&us(e),i=r||n||a||o,s=i?Qt(e.length,Ae):[],c=s.length;for(var l in e)!t&&!Re.call(e,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||yo(l,c))||s.push(l);return s}function Qr(e){var t=e.length;return t?e[Yn(0,t-1)]:a}function Zr(e,t){return Ro(Pa(e),cn(t,0,e.length))}function Jr(e){return Ro(Pa(e))}function en(e,t,r){(r!==a&&!Wi(e[t],r)||r===a&&!(t in e))&&on(e,t,r)}function tn(e,t,r){var n=e[t];Re.call(e,t)&&Wi(n,r)&&(r!==a||t in e)||on(e,t,r)}function rn(e,t){for(var r=e.length;r--;)if(Wi(e[r][0],t))return r;return-1}function nn(e,t,r,n){return hn(e,(function(e,a,o){t(n,e,r(e),o)})),n}function an(e,t){return e&&Da(t,Is(t),e)}function on(e,t,r){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var r=-1,o=t.length,i=n(o),s=null==e;++r<o;)i[r]=s?a:Ss(e,t[r]);return i}function cn(e,t,r){return e==e&&(r!==a&&(e=e<=r?e:r),t!==a&&(e=e>=t?e:t)),e}function ln(e,t,r,n,o,i){var s,c=1&t,l=2&t,u=4&t;if(r&&(s=o?r(e,n,o,i):r(e)),s!==a)return s;if(!ts(e))return e;var d=Gi(e);if(d){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!c)return Pa(e,s)}else{var f=go(e),h=f==w||f==N;if(Yi(e))return Na(e,c);if(f==S||f==v||h&&!o){if(s=l||h?{}:vo(e),!c)return l?function(e,t){return Da(e,mo(e),t)}(e,function(e,t){return e&&Da(t,Ts(t),e)}(s,e)):function(e,t){return Da(e,po(e),t)}(e,an(s,e))}else{if(!lt[f])return o?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case M:return Ea(e);case y:case _:return new n(+e);case k:return function(e,t){var r=t?Ea(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case R:case B:case L:case F:case U:case W:case V:case z:case K:return Ca(e,r);case E:return new n;case C:case D:return new n(e);case A:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new n;case I:return a=e,Lr?Se(Lr.call(a)):{}}var a}(e,f,c)}}i||(i=new Yr);var p=i.get(e);if(p)return p;i.set(e,s),ss(e)?e.forEach((function(n){s.add(ln(n,t,r,n,e,i))})):ns(e)&&e.forEach((function(n,a){s.set(a,ln(n,t,r,a,e,i))}));var m=d?a:(u?l?oo:ao:l?Ts:Is)(e);return At(m||e,(function(n,a){m&&(n=e[a=n]),tn(s,a,ln(n,t,r,a,e,i))})),s}function un(e,t,r){var n=r.length;if(null==e)return!n;for(e=Se(e);n--;){var o=r[n],i=t[o],s=e[o];if(s===a&&!(o in e)||!i(s))return!1}return!0}function dn(e,t,r){if("function"!=typeof e)throw new Pe(o);return Io((function(){e.apply(a,r)}),t)}function fn(e,t,r,n){var a=-1,o=Tt,i=!0,s=e.length,c=[],l=t.length;if(!s)return c;r&&(t=kt(t,Jt(r))),n?(o=Mt,i=!1):t.length>=200&&(o=tr,i=!1,t=new $r(t));e:for(;++a<s;){var u=e[a],d=null==r?u:r(u);if(u=n||0!==u?u:0,i&&d==d){for(var f=l;f--;)if(t[f]===d)continue e;c.push(u)}else o(t,d,n)||c.push(u)}return c}Ur.templateSettings={escape:Z,evaluate:J,interpolate:ee,variable:"",imports:{_:Ur}},Ur.prototype=Vr.prototype,Ur.prototype.constructor=Ur,zr.prototype=Wr(Vr.prototype),zr.prototype.constructor=zr,Kr.prototype=Wr(Vr.prototype),Kr.prototype.constructor=Kr,Gr.prototype.clear=function(){this.__data__=Ar?Ar(null):{},this.size=0},Gr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gr.prototype.get=function(e){var t=this.__data__;if(Ar){var r=t[e];return r===i?a:r}return Re.call(t,e)?t[e]:a},Gr.prototype.has=function(e){var t=this.__data__;return Ar?t[e]!==a:Re.call(t,e)},Gr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ar&&t===a?i:t,this},qr.prototype.clear=function(){this.__data__=[],this.size=0},qr.prototype.delete=function(e){var t=this.__data__,r=rn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Xe.call(t,r,1),--this.size,!0)},qr.prototype.get=function(e){var t=this.__data__,r=rn(t,e);return r<0?a:t[r][1]},qr.prototype.has=function(e){return rn(this.__data__,e)>-1},qr.prototype.set=function(e,t){var r=this.__data__,n=rn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Hr.prototype.clear=function(){this.size=0,this.__data__={hash:new Gr,map:new(Er||qr),string:new Gr}},Hr.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Hr.prototype.get=function(e){return uo(this,e).get(e)},Hr.prototype.has=function(e){return uo(this,e).has(e)},Hr.prototype.set=function(e,t){var r=uo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},$r.prototype.add=$r.prototype.push=function(e){return this.__data__.set(e,i),this},$r.prototype.has=function(e){return this.__data__.has(e)},Yr.prototype.clear=function(){this.__data__=new qr,this.size=0},Yr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Yr.prototype.get=function(e){return this.__data__.get(e)},Yr.prototype.has=function(e){return this.__data__.has(e)},Yr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof qr){var n=r.__data__;if(!Er||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Hr(n)}return r.set(e,t),this.size=r.size,this};var hn=Ma(_n),pn=Ma(jn,!0);function mn(e,t){var r=!0;return hn(e,(function(e,n,a){return r=!!t(e,n,a)})),r}function gn(e,t,r){for(var n=-1,o=e.length;++n<o;){var i=e[n],s=t(i);if(null!=s&&(c===a?s==s&&!ls(s):r(s,c)))var c=s,l=i}return l}function xn(e,t){var r=[];return hn(e,(function(e,n,a){t(e,n,a)&&r.push(e)})),r}function vn(e,t,r,n,a){var o=-1,i=e.length;for(r||(r=bo),a||(a=[]);++o<i;){var s=e[o];t>0&&r(s)?t>1?vn(s,t-1,r,n,a):Rt(a,s):n||(a[a.length]=s)}return a}var bn=ka(),yn=ka(!0);function _n(e,t){return e&&bn(e,t,Is)}function jn(e,t){return e&&yn(e,t,Is)}function wn(e,t){return It(t,(function(t){return Zi(e[t])}))}function Nn(e,t){for(var r=0,n=(t=ya(t,e)).length;null!=e&&r<n;)e=e[Lo(t[r++])];return r&&r==n?e:a}function En(e,t,r){var n=t(e);return Gi(e)?n:Rt(n,r(e))}function Cn(e){return null==e?e===a?"[object Undefined]":"[object Null]":Je&&Je in Se(e)?function(e){var t=Re.call(e,Je),r=e[Je];try{e[Je]=a;var n=!0}catch(e){}var o=Fe.call(e);n&&(t?e[Je]=r:delete e[Je]);return o}(e):function(e){return Fe.call(e)}(e)}function Sn(e,t){return e>t}function On(e,t){return null!=e&&Re.call(e,t)}function An(e,t){return null!=e&&t in Se(e)}function Pn(e,t,r){for(var o=r?Mt:Tt,i=e[0].length,s=e.length,c=s,l=n(s),u=1/0,d=[];c--;){var f=e[c];c&&t&&(f=kt(f,Jt(t))),u=br(f.length,u),l[c]=!r&&(t||i>=120&&f.length>=120)?new $r(c&&f):a}f=e[0];var h=-1,p=l[0];e:for(;++h<i&&d.length<u;){var m=f[h],g=t?t(m):m;if(m=r||0!==m?m:0,!(p?tr(p,g):o(d,g,r))){for(c=s;--c;){var x=l[c];if(!(x?tr(x,g):o(e[c],g,r)))continue e}p&&p.push(g),d.push(m)}}return d}function Dn(e,t,r){var n=null==(e=Ao(e,t=ya(t,e)))?e:e[Lo(Qo(t))];return null==n?a:St(n,e,r)}function In(e){return rs(e)&&Cn(e)==v}function Tn(e,t,r,n,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!=e&&t!=t:function(e,t,r,n,o,i){var s=Gi(e),c=Gi(t),l=s?b:go(e),u=c?b:go(t),d=(l=l==v?S:l)==S,f=(u=u==v?S:u)==S,h=l==u;if(h&&Yi(e)){if(!Yi(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new Yr),s||us(e)?ro(e,t,r,n,o,i):function(e,t,r,n,a,o,i){switch(r){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!o(new Ge(e),new Ge(t)));case y:case _:case C:return Wi(+e,+t);case j:return e.name==t.name&&e.message==t.message;case A:case D:return e==t+"";case E:var s=cr;case P:var c=1&n;if(s||(s=dr),e.size!=t.size&&!c)return!1;var l=i.get(e);if(l)return l==t;n|=2,i.set(e,t);var u=ro(s(e),s(t),n,a,o,i);return i.delete(e),u;case I:if(Lr)return Lr.call(e)==Lr.call(t)}return!1}(e,t,l,r,n,o,i);if(!(1&r)){var p=d&&Re.call(e,"__wrapped__"),m=f&&Re.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,x=m?t.value():t;return i||(i=new Yr),o(g,x,r,n,i)}}if(!h)return!1;return i||(i=new Yr),function(e,t,r,n,o,i){var s=1&r,c=ao(e),l=c.length,u=ao(t),d=u.length;if(l!=d&&!s)return!1;var f=l;for(;f--;){var h=c[f];if(!(s?h in t:Re.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);var x=s;for(;++f<l;){var v=e[h=c[f]],b=t[h];if(n)var y=s?n(b,v,h,t,e,i):n(v,b,h,e,t,i);if(!(y===a?v===b||o(v,b,r,n,i):y)){g=!1;break}x||(x="constructor"==h)}if(g&&!x){var _=e.constructor,j=t.constructor;_==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof j&&j instanceof j||(g=!1)}return i.delete(e),i.delete(t),g}(e,t,r,n,o,i)}(e,t,r,n,Tn,o))}function Mn(e,t,r,n){var o=r.length,i=o,s=!n;if(null==e)return!i;for(e=Se(e);o--;){var c=r[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var l=(c=r[o])[0],u=e[l],d=c[1];if(s&&c[2]){if(u===a&&!(l in e))return!1}else{var f=new Yr;if(n)var h=n(u,d,l,e,t,f);if(!(h===a?Tn(d,u,3,n,f):h))return!1}}return!0}function kn(e){return!(!ts(e)||(t=e,Le&&Le in t))&&(Zi(e)?Ve:ve).test(Fo(e));var t}function Rn(e){return"function"==typeof e?e:null==e?ac:"object"==typeof e?Gi(e)?Vn(e[0],e[1]):Wn(e):hc(e)}function Bn(e){if(!Eo(e))return $t(e);var t=[];for(var r in Se(e))Re.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Ln(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var r in Se(e))t.push(r);return t}(e);var t=Eo(e),r=[];for(var n in e)("constructor"!=n||!t&&Re.call(e,n))&&r.push(n);return r}function Fn(e,t){return e<t}function Un(e,t){var r=-1,a=Hi(e)?n(e.length):[];return hn(e,(function(e,n,o){a[++r]=t(e,n,o)})),a}function Wn(e){var t=fo(e);return 1==t.length&&t[0][2]?So(t[0][0],t[0][1]):function(r){return r===e||Mn(r,e,t)}}function Vn(e,t){return jo(e)&&Co(t)?So(Lo(e),t):function(r){var n=Ss(r,e);return n===a&&n===t?Os(r,e):Tn(t,n,3)}}function zn(e,t,r,n,o){e!==t&&bn(t,(function(i,s){if(o||(o=new Yr),ts(i))!function(e,t,r,n,o,i,s){var c=Po(e,r),l=Po(t,r),u=s.get(l);if(u)return void en(e,r,u);var d=i?i(c,l,r+"",e,t,s):a,f=d===a;if(f){var h=Gi(l),p=!h&&Yi(l),m=!h&&!p&&us(l);d=l,h||p||m?Gi(c)?d=c:$i(c)?d=Pa(c):p?(f=!1,d=Na(l,!0)):m?(f=!1,d=Ca(l,!0)):d=[]:os(l)||Ki(l)?(d=c,Ki(c)?d=vs(c):ts(c)&&!Zi(c)||(d=vo(l))):f=!1}f&&(s.set(l,d),o(d,l,n,i,s),s.delete(l));en(e,r,d)}(e,t,s,r,zn,n,o);else{var c=n?n(Po(e,s),i,s+"",e,t,o):a;c===a&&(c=i),en(e,s,c)}}),Ts)}function Kn(e,t){var r=e.length;if(r)return yo(t+=t<0?r:0,r)?e[t]:a}function Gn(e,t,r){t=t.length?kt(t,(function(e){return Gi(e)?function(t){return Nn(t,1===e.length?e[0]:e)}:e})):[ac];var n=-1;t=kt(t,Jt(lo()));var a=Un(e,(function(e,r,a){var o=kt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(a,(function(e,t){return function(e,t,r){var n=-1,a=e.criteria,o=t.criteria,i=a.length,s=r.length;for(;++n<i;){var c=Sa(a[n],o[n]);if(c)return n>=s?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function qn(e,t,r){for(var n=-1,a=t.length,o={};++n<a;){var i=t[n],s=Nn(e,i);r(s,i)&&ea(o,ya(i,e),s)}return o}function Hn(e,t,r,n){var a=n?Kt:zt,o=-1,i=t.length,s=e;for(e===t&&(t=Pa(t)),r&&(s=kt(e,Jt(r)));++o<i;)for(var c=0,l=t[o],u=r?r(l):l;(c=a(s,u,c,n))>-1;)s!==e&&Xe.call(s,c,1),Xe.call(e,c,1);return e}function $n(e,t){for(var r=e?t.length:0,n=r-1;r--;){var a=t[r];if(r==n||a!==o){var o=a;yo(a)?Xe.call(e,a,1):fa(e,a)}}return e}function Yn(e,t){return e+gt(jr()*(t-e+1))}function Xn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=gt(t/2))&&(e+=e)}while(t);return r}function Qn(e,t){return To(Oo(e,t,ac),e+"")}function Zn(e){return Qr(Ws(e))}function Jn(e,t){var r=Ws(e);return Ro(r,cn(t,0,r.length))}function ea(e,t,r,n){if(!ts(e))return e;for(var o=-1,i=(t=ya(t,e)).length,s=i-1,c=e;null!=c&&++o<i;){var l=Lo(t[o]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var d=c[l];(u=n?n(d,l,c):a)===a&&(u=ts(d)?d:yo(t[o+1])?[]:{})}tn(c,l,u),c=c[l]}return e}var ta=Pr?function(e,t){return Pr.set(e,t),e}:ac,ra=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ac;function na(e){return Ro(Ws(e))}function aa(e,t,r){var a=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=n(o);++a<o;)i[a]=e[a+t];return i}function oa(e,t){var r;return hn(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}function ia(e,t,r){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;n<a;){var o=n+a>>>1,i=e[o];null!==i&&!ls(i)&&(r?i<=t:i<t)?n=o+1:a=o}return a}return sa(e,t,ac,r)}function sa(e,t,r,n){var o=0,i=null==e?0:e.length;if(0===i)return 0;for(var s=(t=r(t))!=t,c=null===t,l=ls(t),u=t===a;o<i;){var d=gt((o+i)/2),f=r(e[d]),h=f!==a,p=null===f,m=f==f,g=ls(f);if(s)var x=n||m;else x=u?m&&(n||h):c?m&&h&&(n||!p):l?m&&h&&!p&&(n||!g):!p&&!g&&(n?f<=t:f<t);x?o=d+1:i=d}return br(i,4294967294)}function ca(e,t){for(var r=-1,n=e.length,a=0,o=[];++r<n;){var i=e[r],s=t?t(i):i;if(!r||!Wi(s,c)){var c=s;o[a++]=0===i?0:i}}return o}function la(e){return"number"==typeof e?e:ls(e)?m:+e}function ua(e){if("string"==typeof e)return e;if(Gi(e))return kt(e,ua)+"";if(ls(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function da(e,t,r){var n=-1,a=Tt,o=e.length,i=!0,s=[],c=s;if(r)i=!1,a=Mt;else if(o>=200){var l=t?null:Xa(e);if(l)return dr(l);i=!1,a=tr,c=new $r}else c=t?[]:s;e:for(;++n<o;){var u=e[n],d=t?t(u):u;if(u=r||0!==u?u:0,i&&d==d){for(var f=c.length;f--;)if(c[f]===d)continue e;t&&c.push(d),s.push(u)}else a(c,d,r)||(c!==s&&c.push(d),s.push(u))}return s}function fa(e,t){return null==(e=Ao(e,t=ya(t,e)))||delete e[Lo(Qo(t))]}function ha(e,t,r,n){return ea(e,t,r(Nn(e,t)),n)}function pa(e,t,r,n){for(var a=e.length,o=n?a:-1;(n?o--:++o<a)&&t(e[o],o,e););return r?aa(e,n?0:o,n?o+1:a):aa(e,n?o+1:0,n?a:o)}function ma(e,t){var r=e;return r instanceof Kr&&(r=r.value()),Bt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),r)}function ga(e,t,r){var a=e.length;if(a<2)return a?da(e[0]):[];for(var o=-1,i=n(a);++o<a;)for(var s=e[o],c=-1;++c<a;)c!=o&&(i[o]=fn(i[o]||s,e[c],t,r));return da(vn(i,1),t,r)}function xa(e,t,r){for(var n=-1,o=e.length,i=t.length,s={};++n<o;){var c=n<i?t[n]:a;r(s,e[n],c)}return s}function va(e){return $i(e)?e:[]}function ba(e){return"function"==typeof e?e:ac}function ya(e,t){return Gi(e)?e:jo(e,t)?[e]:Bo(bs(e))}var _a=Qn;function ja(e,t,r){var n=e.length;return r=r===a?n:r,!t&&r>=n?e:aa(e,t,r)}var wa=at||function(e){return mt.clearTimeout(e)};function Na(e,t){if(t)return e.slice();var r=e.length,n=qe?qe(r):new e.constructor(r);return e.copy(n),n}function Ea(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function Ca(e,t){var r=t?Ea(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Sa(e,t){if(e!==t){var r=e!==a,n=null===e,o=e==e,i=ls(e),s=t!==a,c=null===t,l=t==t,u=ls(t);if(!c&&!u&&!i&&e>t||i&&s&&l&&!c&&!u||n&&s&&l||!r&&l||!o)return 1;if(!n&&!i&&!u&&e<t||u&&r&&o&&!n&&!i||c&&r&&o||!s&&o||!l)return-1}return 0}function Oa(e,t,r,a){for(var o=-1,i=e.length,s=r.length,c=-1,l=t.length,u=vr(i-s,0),d=n(l+u),f=!a;++c<l;)d[c]=t[c];for(;++o<s;)(f||o<i)&&(d[r[o]]=e[o]);for(;u--;)d[c++]=e[o++];return d}function Aa(e,t,r,a){for(var o=-1,i=e.length,s=-1,c=r.length,l=-1,u=t.length,d=vr(i-c,0),f=n(d+u),h=!a;++o<d;)f[o]=e[o];for(var p=o;++l<u;)f[p+l]=t[l];for(;++s<c;)(h||o<i)&&(f[p+r[s]]=e[o++]);return f}function Pa(e,t){var r=-1,a=e.length;for(t||(t=n(a));++r<a;)t[r]=e[r];return t}function Da(e,t,r,n){var o=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var c=t[i],l=n?n(r[c],e[c],c,r,e):a;l===a&&(l=e[c]),o?on(r,c,l):tn(r,c,l)}return r}function Ia(e,t){return function(r,n){var a=Gi(r)?Ot:nn,o=t?t():{};return a(r,e,lo(n,2),o)}}function Ta(e){return Qn((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:a,s=o>2?r[2]:a;for(i=e.length>3&&"function"==typeof i?(o--,i):a,s&&_o(r[0],r[1],s)&&(i=o<3?a:i,o=1),t=Se(t);++n<o;){var c=r[n];c&&e(t,c,n,i)}return t}))}function Ma(e,t){return function(r,n){if(null==r)return r;if(!Hi(r))return e(r,n);for(var a=r.length,o=t?a:-1,i=Se(r);(t?o--:++o<a)&&!1!==n(i[o],o,i););return r}}function ka(e){return function(t,r,n){for(var a=-1,o=Se(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===r(o[c],c,o))break}return t}}function Ra(e){return function(t){var r=sr(t=bs(t))?pr(t):a,n=r?r[0]:t.charAt(0),o=r?ja(r,1).join(""):t.slice(1);return n[e]()+o}}function Ba(e){return function(t){return Bt(Zs(Ks(t).replace(et,"")),e,"")}}function La(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Wr(e.prototype),n=e.apply(r,t);return ts(n)?n:r}}function Fa(e){return function(t,r,n){var o=Se(t);if(!Hi(t)){var i=lo(r,3);t=Is(t),r=function(e){return i(o[e],e,o)}}var s=e(t,r,n);return s>-1?o[i?t[s]:s]:a}}function Ua(e){return no((function(t){var r=t.length,n=r,i=zr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Pe(o);if(i&&!c&&"wrapper"==so(s))var c=new zr([],!0)}for(n=c?n:r;++n<r;){var l=so(s=t[n]),u="wrapper"==l?io(s):a;c=u&&wo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[so(u[0])].apply(c,u[3]):1==s.length&&wo(s)?c[l]():c.thru(s)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Gi(n))return c.plant(n).value();for(var a=0,o=r?t[a].apply(this,e):n;++a<r;)o=t[a].call(this,o);return o}}))}function Wa(e,t,r,o,i,s,c,l,u,f){var h=t&d,p=1&t,m=2&t,g=24&t,x=512&t,v=m?a:La(e);return function d(){for(var b=arguments.length,y=n(b),_=b;_--;)y[_]=arguments[_];if(g)var j=co(d),w=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(y,j);if(o&&(y=Oa(y,o,i,g)),s&&(y=Aa(y,s,c,g)),b-=w,g&&b<f){var N=ur(y,j);return $a(e,t,Wa,d.placeholder,r,y,N,l,u,f-b)}var E=p?r:this,C=m?E[e]:e;return b=y.length,l?y=function(e,t){var r=e.length,n=br(t.length,r),o=Pa(e);for(;n--;){var i=t[n];e[n]=yo(i,r)?o[i]:a}return e}(y,l):x&&b>1&&y.reverse(),h&&u<b&&(y.length=u),this&&this!==mt&&this instanceof d&&(C=v||La(C)),C.apply(E,y)}}function Va(e,t){return function(r,n){return function(e,t,r,n){return _n(e,(function(e,a,o){t(n,r(e),a,o)})),n}(r,e,t(n),{})}}function za(e,t){return function(r,n){var o;if(r===a&&n===a)return t;if(r!==a&&(o=r),n!==a){if(o===a)return n;"string"==typeof r||"string"==typeof n?(r=ua(r),n=ua(n)):(r=la(r),n=la(n)),o=e(r,n)}return o}}function Ka(e){return no((function(t){return t=kt(t,Jt(lo())),Qn((function(r){var n=this;return e(t,(function(e){return St(e,n,r)}))}))}))}function Ga(e,t){var r=(t=t===a?" ":ua(t)).length;if(r<2)return r?Xn(t,e):t;var n=Xn(t,pt(e/hr(t)));return sr(t)?ja(pr(n),0,e).join(""):n.slice(0,e)}function qa(e){return function(t,r,o){return o&&"number"!=typeof o&&_o(t,r,o)&&(r=o=a),t=ps(t),r===a?(r=t,t=0):r=ps(r),function(e,t,r,a){for(var o=-1,i=vr(pt((t-e)/(r||1)),0),s=n(i);i--;)s[a?i:++o]=e,e+=r;return s}(t,r,o=o===a?t<r?1:-1:ps(o),e)}}function Ha(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=xs(t),r=xs(r)),e(t,r)}}function $a(e,t,r,n,o,i,s,c,d,f){var h=8&t;t|=h?l:u,4&(t&=~(h?u:l))||(t&=-4);var p=[e,t,o,h?i:a,h?s:a,h?a:i,h?a:s,c,d,f],m=r.apply(a,p);return wo(e)&&Do(m,p),m.placeholder=n,Mo(m,e,t)}function Ya(e){var t=Ce[e];return function(e,r){if(e=xs(e),(r=null==r?0:br(ms(r),292))&&yt(e)){var n=(bs(e)+"e").split("e");return+((n=(bs(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Xa=Sr&&1/dr(new Sr([,-0]))[1]==h?function(e){return new Sr(e)}:lc;function Qa(e){return function(t){var r=go(t);return r==E?cr(t):r==P?fr(t):function(e,t){return kt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Za(e,t,r,i,h,p,m,g){var x=2&t;if(!x&&"function"!=typeof e)throw new Pe(o);var v=i?i.length:0;if(v||(t&=-97,i=h=a),m=m===a?m:vr(ms(m),0),g=g===a?g:ms(g),v-=h?h.length:0,t&u){var b=i,y=h;i=h=a}var _=x?a:io(e),j=[e,t,r,i,h,b,y,p,m,g];if(_&&function(e,t){var r=e[1],n=t[1],a=r|n,o=a<131,i=n==d&&8==r||n==d&&r==f&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!i)return e;1&n&&(e[2]=t[2],a|=1&r?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?Oa(l,c,t[4]):c,e[4]=l?ur(e[3],s):t[4]}(c=t[5])&&(l=e[5],e[5]=l?Aa(l,c,t[6]):c,e[6]=l?ur(e[5],s):t[6]);(c=t[7])&&(e[7]=c);n&d&&(e[8]=null==e[8]?t[8]:br(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=a}(j,_),e=j[0],t=j[1],r=j[2],i=j[3],h=j[4],!(g=j[9]=j[9]===a?x?0:e.length:vr(j[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||t==c?function(e,t,r){var o=La(e);return function i(){for(var s=arguments.length,c=n(s),l=s,u=co(i);l--;)c[l]=arguments[l];var d=s<3&&c[0]!==u&&c[s-1]!==u?[]:ur(c,u);return(s-=d.length)<r?$a(e,t,Wa,i.placeholder,a,c,d,a,a,r-s):St(this&&this!==mt&&this instanceof i?o:e,this,c)}}(e,t,g):t!=l&&33!=t||h.length?Wa.apply(a,j):function(e,t,r,a){var o=1&t,i=La(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=a.length,d=n(u+c),f=this&&this!==mt&&this instanceof t?i:e;++l<u;)d[l]=a[l];for(;c--;)d[l++]=arguments[++s];return St(f,o?r:this,d)}}(e,t,r,i);else var w=function(e,t,r){var n=1&t,a=La(e);return function t(){return(this&&this!==mt&&this instanceof t?a:e).apply(n?r:this,arguments)}}(e,t,r);return Mo((_?ta:Do)(w,j),e,t)}function Ja(e,t,r,n){return e===a||Wi(e,Te[r])&&!Re.call(n,r)?t:e}function eo(e,t,r,n,o,i){return ts(e)&&ts(t)&&(i.set(t,e),zn(e,t,a,eo,i),i.delete(t)),e}function to(e){return os(e)?a:e}function ro(e,t,r,n,o,i){var s=1&r,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=2&r?new $r:a;for(i.set(e,t),i.set(t,e);++f<c;){var m=e[f],g=t[f];if(n)var x=s?n(g,m,f,t,e,i):n(m,g,f,e,t,i);if(x!==a){if(x)continue;h=!1;break}if(p){if(!Ft(t,(function(e,t){if(!tr(p,t)&&(m===e||o(m,e,r,n,i)))return p.push(t)}))){h=!1;break}}else if(m!==g&&!o(m,g,r,n,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function no(e){return To(Oo(e,a,qo),e+"")}function ao(e){return En(e,Is,po)}function oo(e){return En(e,Ts,mo)}var io=Pr?function(e){return Pr.get(e)}:lc;function so(e){for(var t=e.name+"",r=Dr[t],n=Re.call(Dr,t)?r.length:0;n--;){var a=r[n],o=a.func;if(null==o||o==e)return a.name}return t}function co(e){return(Re.call(Ur,"placeholder")?Ur:e).placeholder}function lo(){var e=Ur.iteratee||oc;return e=e===oc?Rn:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var r,n,a=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function fo(e){for(var t=Is(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Co(a)]}return t}function ho(e,t){var r=function(e,t){return null==e?a:e[t]}(e,t);return kn(r)?r:a}var po=xt?function(e){return null==e?[]:(e=Se(e),It(xt(e),(function(t){return Ye.call(e,t)})))}:gc,mo=xt?function(e){for(var t=[];e;)Rt(t,po(e)),e=He(e);return t}:gc,go=Cn;function xo(e,t,r){for(var n=-1,a=(t=ya(t,e)).length,o=!1;++n<a;){var i=Lo(t[n]);if(!(o=null!=e&&r(e,i)))break;e=e[i]}return o||++n!=a?o:!!(a=null==e?0:e.length)&&es(a)&&yo(i,a)&&(Gi(e)||Ki(e))}function vo(e){return"function"!=typeof e.constructor||Eo(e)?{}:Wr(He(e))}function bo(e){return Gi(e)||Ki(e)||!!(Qe&&e&&e[Qe])}function yo(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&ye.test(e))&&e>-1&&e%1==0&&e<t}function _o(e,t,r){if(!ts(r))return!1;var n=typeof t;return!!("number"==n?Hi(r)&&yo(t,r.length):"string"==n&&t in r)&&Wi(r[t],e)}function jo(e,t){if(Gi(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ls(e))||(re.test(e)||!te.test(e)||null!=t&&e in Se(t))}function wo(e){var t=so(e),r=Ur[t];if("function"!=typeof r||!(t in Kr.prototype))return!1;if(e===r)return!0;var n=io(r);return!!n&&e===n[0]}(Nr&&go(new Nr(new ArrayBuffer(1)))!=k||Er&&go(new Er)!=E||Cr&&go(Cr.resolve())!=O||Sr&&go(new Sr)!=P||Or&&go(new Or)!=T)&&(go=function(e){var t=Cn(e),r=t==S?e.constructor:a,n=r?Fo(r):"";if(n)switch(n){case Ir:return k;case Tr:return E;case Mr:return O;case kr:return P;case Rr:return T}return t});var No=Me?Zi:xc;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Te)}function Co(e){return e==e&&!ts(e)}function So(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==a||e in Se(r)))}}function Oo(e,t,r){return t=vr(t===a?e.length-1:t,0),function(){for(var a=arguments,o=-1,i=vr(a.length-t,0),s=n(i);++o<i;)s[o]=a[t+o];o=-1;for(var c=n(t+1);++o<t;)c[o]=a[o];return c[t]=r(s),St(e,this,c)}}function Ao(e,t){return t.length<2?e:Nn(e,aa(t,0,-1))}function Po(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Do=ko(ta),Io=ht||function(e,t){return mt.setTimeout(e,t)},To=ko(ra);function Mo(e,t,r){var n=t+"";return To(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ce,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return At(x,(function(r){var n="_."+r[0];t&r[1]&&!Tt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ue):[]}(n),r)))}function ko(e){var t=0,r=0;return function(){var n=yr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(a,arguments)}}function Ro(e,t){var r=-1,n=e.length,o=n-1;for(t=t===a?n:t;++r<t;){var i=Yn(r,o),s=e[i];e[i]=e[r],e[r]=s}return e.length=t,e}var Bo=function(e){var t=ki(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,a){t.push(n?a.replace(he,"$1"):r||e)})),t}));function Lo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fo(e){if(null!=e){try{return ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Uo(e){if(e instanceof Kr)return e.clone();var t=new zr(e.__wrapped__,e.__chain__);return t.__actions__=Pa(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Wo=Qn((function(e,t){return $i(e)?fn(e,vn(t,1,$i,!0)):[]})),Vo=Qn((function(e,t){var r=Qo(t);return $i(r)&&(r=a),$i(e)?fn(e,vn(t,1,$i,!0),lo(r,2)):[]})),zo=Qn((function(e,t){var r=Qo(t);return $i(r)&&(r=a),$i(e)?fn(e,vn(t,1,$i,!0),a,r):[]}));function Ko(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:ms(r);return a<0&&(a=vr(n+a,0)),Vt(e,lo(t,3),a)}function Go(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==a&&(o=ms(r),o=r<0?vr(n+o,0):br(o,n-1)),Vt(e,lo(t,3),o,!0)}function qo(e){return(null==e?0:e.length)?vn(e,1):[]}function Ho(e){return e&&e.length?e[0]:a}var $o=Qn((function(e){var t=kt(e,va);return t.length&&t[0]===e[0]?Pn(t):[]})),Yo=Qn((function(e){var t=Qo(e),r=kt(e,va);return t===Qo(r)?t=a:r.pop(),r.length&&r[0]===e[0]?Pn(r,lo(t,2)):[]})),Xo=Qn((function(e){var t=Qo(e),r=kt(e,va);return(t="function"==typeof t?t:a)&&r.pop(),r.length&&r[0]===e[0]?Pn(r,a,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:a}var Zo=Qn(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Hn(e,t):e}var ei=no((function(e,t){var r=null==e?0:e.length,n=sn(e,t);return $n(e,kt(t,(function(e){return yo(e,r)?+e:e})).sort(Sa)),n}));function ti(e){return null==e?e:wr.call(e)}var ri=Qn((function(e){return da(vn(e,1,$i,!0))})),ni=Qn((function(e){var t=Qo(e);return $i(t)&&(t=a),da(vn(e,1,$i,!0),lo(t,2))})),ai=Qn((function(e){var t=Qo(e);return t="function"==typeof t?t:a,da(vn(e,1,$i,!0),a,t)}));function oi(e){if(!e||!e.length)return[];var t=0;return e=It(e,(function(e){if($i(e))return t=vr(e.length,t),!0})),Qt(t,(function(t){return kt(e,Ht(t))}))}function ii(e,t){if(!e||!e.length)return[];var r=oi(e);return null==t?r:kt(r,(function(e){return St(t,a,e)}))}var si=Qn((function(e,t){return $i(e)?fn(e,t):[]})),ci=Qn((function(e){return ga(It(e,$i))})),li=Qn((function(e){var t=Qo(e);return $i(t)&&(t=a),ga(It(e,$i),lo(t,2))})),ui=Qn((function(e){var t=Qo(e);return t="function"==typeof t?t:a,ga(It(e,$i),a,t)})),di=Qn(oi);var fi=Qn((function(e){var t=e.length,r=t>1?e[t-1]:a;return r="function"==typeof r?(e.pop(),r):a,ii(e,r)}));function hi(e){var t=Ur(e);return t.__chain__=!0,t}function pi(e,t){return t(e)}var mi=no((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Kr&&yo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:pi,args:[o],thisArg:a}),new zr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(a),e}))):this.thru(o)}));var gi=Ia((function(e,t,r){Re.call(e,r)?++e[r]:on(e,r,1)}));var xi=Fa(Ko),vi=Fa(Go);function bi(e,t){return(Gi(e)?At:hn)(e,lo(t,3))}function yi(e,t){return(Gi(e)?Pt:pn)(e,lo(t,3))}var _i=Ia((function(e,t,r){Re.call(e,r)?e[r].push(t):on(e,r,[t])}));var ji=Qn((function(e,t,r){var a=-1,o="function"==typeof t,i=Hi(e)?n(e.length):[];return hn(e,(function(e){i[++a]=o?St(t,e,r):Dn(e,t,r)})),i})),wi=Ia((function(e,t,r){on(e,r,t)}));function Ni(e,t){return(Gi(e)?kt:Un)(e,lo(t,3))}var Ei=Ia((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Ci=Qn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&_o(e,t[0],t[1])?t=[]:r>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),Gn(e,vn(t,1),[])})),Si=ut||function(){return mt.Date.now()};function Oi(e,t,r){return t=r?a:t,t=e&&null==t?e.length:t,Za(e,d,a,a,a,a,t)}function Ai(e,t){var r;if("function"!=typeof t)throw new Pe(o);return e=ms(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=a),r}}var Pi=Qn((function(e,t,r){var n=1;if(r.length){var a=ur(r,co(Pi));n|=l}return Za(e,n,t,r,a)})),Di=Qn((function(e,t,r){var n=3;if(r.length){var a=ur(r,co(Di));n|=l}return Za(t,n,e,r,a)}));function Ii(e,t,r){var n,i,s,c,l,u,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw new Pe(o);function m(t){var r=n,o=i;return n=i=a,d=t,c=e.apply(o,r)}function g(e){var r=e-u;return u===a||r>=t||r<0||h&&e-d>=s}function x(){var e=Si();if(g(e))return v(e);l=Io(x,function(e){var r=t-(e-u);return h?br(r,s-(e-d)):r}(e))}function v(e){return l=a,p&&n?m(e):(n=i=a,c)}function b(){var e=Si(),r=g(e);if(n=arguments,i=this,u=e,r){if(l===a)return function(e){return d=e,l=Io(x,t),f?m(e):c}(u);if(h)return wa(l),l=Io(x,t),m(u)}return l===a&&(l=Io(x,t)),c}return t=xs(t)||0,ts(r)&&(f=!!r.leading,s=(h="maxWait"in r)?vr(xs(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),b.cancel=function(){l!==a&&wa(l),d=0,n=u=i=l=a},b.flush=function(){return l===a?c:v(Si())},b}var Ti=Qn((function(e,t){return dn(e,1,t)})),Mi=Qn((function(e,t,r){return dn(e,xs(t)||0,r)}));function ki(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(o);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(ki.Cache||Hr),r}function Ri(e){if("function"!=typeof e)throw new Pe(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ki.Cache=Hr;var Bi=_a((function(e,t){var r=(t=1==t.length&&Gi(t[0])?kt(t[0],Jt(lo())):kt(vn(t,1),Jt(lo()))).length;return Qn((function(n){for(var a=-1,o=br(n.length,r);++a<o;)n[a]=t[a].call(this,n[a]);return St(e,this,n)}))})),Li=Qn((function(e,t){var r=ur(t,co(Li));return Za(e,l,a,t,r)})),Fi=Qn((function(e,t){var r=ur(t,co(Fi));return Za(e,u,a,t,r)})),Ui=no((function(e,t){return Za(e,f,a,a,a,t)}));function Wi(e,t){return e===t||e!=e&&t!=t}var Vi=Ha(Sn),zi=Ha((function(e,t){return e>=t})),Ki=In(function(){return arguments}())?In:function(e){return rs(e)&&Re.call(e,"callee")&&!Ye.call(e,"callee")},Gi=n.isArray,qi=_t?Jt(_t):function(e){return rs(e)&&Cn(e)==M};function Hi(e){return null!=e&&es(e.length)&&!Zi(e)}function $i(e){return rs(e)&&Hi(e)}var Yi=bt||xc,Xi=jt?Jt(jt):function(e){return rs(e)&&Cn(e)==_};function Qi(e){if(!rs(e))return!1;var t=Cn(e);return t==j||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!os(e)}function Zi(e){if(!ts(e))return!1;var t=Cn(e);return t==w||t==N||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ji(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var ns=wt?Jt(wt):function(e){return rs(e)&&go(e)==E};function as(e){return"number"==typeof e||rs(e)&&Cn(e)==C}function os(e){if(!rs(e)||Cn(e)!=S)return!1;var t=He(e);if(null===t)return!0;var r=Re.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ke.call(r)==Ue}var is=Nt?Jt(Nt):function(e){return rs(e)&&Cn(e)==A};var ss=Et?Jt(Et):function(e){return rs(e)&&go(e)==P};function cs(e){return"string"==typeof e||!Gi(e)&&rs(e)&&Cn(e)==D}function ls(e){return"symbol"==typeof e||rs(e)&&Cn(e)==I}var us=Ct?Jt(Ct):function(e){return rs(e)&&es(e.length)&&!!ct[Cn(e)]};var ds=Ha(Fn),fs=Ha((function(e,t){return e<=t}));function hs(e){if(!e)return[];if(Hi(e))return cs(e)?pr(e):Pa(e);if(Ze&&e[Ze])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ze]());var t=go(e);return(t==E?cr:t==P?dr:Ws)(e)}function ps(e){return e?(e=xs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=ps(e),r=t%1;return t==t?r?t-r:t:0}function gs(e){return e?cn(ms(e),0,g):0}function xs(e){if("number"==typeof e)return e;if(ls(e))return m;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Zt(e);var r=xe.test(e);return r||be.test(e)?ft(e.slice(2),r?2:8):ge.test(e)?m:+e}function vs(e){return Da(e,Ts(e))}function bs(e){return null==e?"":ua(e)}var ys=Ta((function(e,t){if(Eo(t)||Hi(t))Da(t,Is(t),e);else for(var r in t)Re.call(t,r)&&tn(e,r,t[r])})),_s=Ta((function(e,t){Da(t,Ts(t),e)})),js=Ta((function(e,t,r,n){Da(t,Ts(t),e,n)})),ws=Ta((function(e,t,r,n){Da(t,Is(t),e,n)})),Ns=no(sn);var Es=Qn((function(e,t){e=Se(e);var r=-1,n=t.length,o=n>2?t[2]:a;for(o&&_o(t[0],t[1],o)&&(n=1);++r<n;)for(var i=t[r],s=Ts(i),c=-1,l=s.length;++c<l;){var u=s[c],d=e[u];(d===a||Wi(d,Te[u])&&!Re.call(e,u))&&(e[u]=i[u])}return e})),Cs=Qn((function(e){return e.push(a,eo),St(ks,a,e)}));function Ss(e,t,r){var n=null==e?a:Nn(e,t);return n===a?r:n}function Os(e,t){return null!=e&&xo(e,t,An)}var As=Va((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),tc(ac)),Ps=Va((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Re.call(e,t)?e[t].push(r):e[t]=[r]}),lo),Ds=Qn(Dn);function Is(e){return Hi(e)?Xr(e):Bn(e)}function Ts(e){return Hi(e)?Xr(e,!0):Ln(e)}var Ms=Ta((function(e,t,r){zn(e,t,r)})),ks=Ta((function(e,t,r,n){zn(e,t,r,n)})),Rs=no((function(e,t){var r={};if(null==e)return r;var n=!1;t=kt(t,(function(t){return t=ya(t,e),n||(n=t.length>1),t})),Da(e,oo(e),r),n&&(r=ln(r,7,to));for(var a=t.length;a--;)fa(r,t[a]);return r}));var Bs=no((function(e,t){return null==e?{}:function(e,t){return qn(e,t,(function(t,r){return Os(e,r)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var r=kt(oo(e),(function(e){return[e]}));return t=lo(t),qn(e,r,(function(e,r){return t(e,r[0])}))}var Fs=Qa(Is),Us=Qa(Ts);function Ws(e){return null==e?[]:er(e,Is(e))}var Vs=Ba((function(e,t,r){return t=t.toLowerCase(),e+(r?zs(t):t)}));function zs(e){return Qs(bs(e).toLowerCase())}function Ks(e){return(e=bs(e))&&e.replace(_e,ar).replace(tt,"")}var Gs=Ba((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),qs=Ba((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Hs=Ra("toLowerCase");var $s=Ba((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Ys=Ba((function(e,t,r){return e+(r?" ":"")+Qs(t)}));var Xs=Ba((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Qs=Ra("toUpperCase");function Zs(e,t,r){return e=bs(e),(t=r?a:t)===a?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Js=Qn((function(e,t){try{return St(e,a,t)}catch(e){return Qi(e)?e:new Ne(e)}})),ec=no((function(e,t){return At(t,(function(t){t=Lo(t),on(e,t,Pi(e[t],e))})),e}));function tc(e){return function(){return e}}var rc=Ua(),nc=Ua(!0);function ac(e){return e}function oc(e){return Rn("function"==typeof e?e:ln(e,1))}var ic=Qn((function(e,t){return function(r){return Dn(r,e,t)}})),sc=Qn((function(e,t){return function(r){return Dn(e,r,t)}}));function cc(e,t,r){var n=Is(t),a=wn(t,n);null!=r||ts(t)&&(a.length||!n.length)||(r=t,t=e,e=this,a=wn(t,Is(t)));var o=!(ts(r)&&"chain"in r&&!r.chain),i=Zi(e);return At(a,(function(r){var n=t[r];e[r]=n,i&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Pa(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Rt([this.value()],arguments))})})),e}function lc(){}var uc=Ka(kt),dc=Ka(Dt),fc=Ka(Ft);function hc(e){return jo(e)?Ht(Lo(e)):function(e){return function(t){return Nn(t,e)}}(e)}var pc=qa(),mc=qa(!0);function gc(){return[]}function xc(){return!1}var vc=za((function(e,t){return e+t}),0),bc=Ya("ceil"),yc=za((function(e,t){return e/t}),1),_c=Ya("floor");var jc,wc=za((function(e,t){return e*t}),1),Nc=Ya("round"),Ec=za((function(e,t){return e-t}),0);return Ur.after=function(e,t){if("function"!=typeof t)throw new Pe(o);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},Ur.ary=Oi,Ur.assign=ys,Ur.assignIn=_s,Ur.assignInWith=js,Ur.assignWith=ws,Ur.at=Ns,Ur.before=Ai,Ur.bind=Pi,Ur.bindAll=ec,Ur.bindKey=Di,Ur.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Gi(e)?e:[e]},Ur.chain=hi,Ur.chunk=function(e,t,r){t=(r?_o(e,t,r):t===a)?1:vr(ms(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,s=0,c=n(pt(o/t));i<o;)c[s++]=aa(e,i,i+=t);return c},Ur.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,a=[];++t<r;){var o=e[t];o&&(a[n++]=o)}return a},Ur.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],a=e;a--;)t[a-1]=arguments[a];return Rt(Gi(r)?Pa(r):[r],vn(t,1))},Ur.cond=function(e){var t=null==e?0:e.length,r=lo();return e=t?kt(e,(function(e){if("function"!=typeof e[1])throw new Pe(o);return[r(e[0]),e[1]]})):[],Qn((function(r){for(var n=-1;++n<t;){var a=e[n];if(St(a[0],this,r))return St(a[1],this,r)}}))},Ur.conforms=function(e){return function(e){var t=Is(e);return function(r){return un(r,e,t)}}(ln(e,1))},Ur.constant=tc,Ur.countBy=gi,Ur.create=function(e,t){var r=Wr(e);return null==t?r:an(r,t)},Ur.curry=function e(t,r,n){var o=Za(t,8,a,a,a,a,a,r=n?a:r);return o.placeholder=e.placeholder,o},Ur.curryRight=function e(t,r,n){var o=Za(t,c,a,a,a,a,a,r=n?a:r);return o.placeholder=e.placeholder,o},Ur.debounce=Ii,Ur.defaults=Es,Ur.defaultsDeep=Cs,Ur.defer=Ti,Ur.delay=Mi,Ur.difference=Wo,Ur.differenceBy=Vo,Ur.differenceWith=zo,Ur.drop=function(e,t,r){var n=null==e?0:e.length;return n?aa(e,(t=r||t===a?1:ms(t))<0?0:t,n):[]},Ur.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?aa(e,0,(t=n-(t=r||t===a?1:ms(t)))<0?0:t):[]},Ur.dropRightWhile=function(e,t){return e&&e.length?pa(e,lo(t,3),!0,!0):[]},Ur.dropWhile=function(e,t){return e&&e.length?pa(e,lo(t,3),!0):[]},Ur.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&_o(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=ms(r))<0&&(r=-r>o?0:o+r),(n=n===a||n>o?o:ms(n))<0&&(n+=o),n=r>n?0:gs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Ur.filter=function(e,t){return(Gi(e)?It:xn)(e,lo(t,3))},Ur.flatMap=function(e,t){return vn(Ni(e,t),1)},Ur.flatMapDeep=function(e,t){return vn(Ni(e,t),h)},Ur.flatMapDepth=function(e,t,r){return r=r===a?1:ms(r),vn(Ni(e,t),r)},Ur.flatten=qo,Ur.flattenDeep=function(e){return(null==e?0:e.length)?vn(e,h):[]},Ur.flattenDepth=function(e,t){return(null==e?0:e.length)?vn(e,t=t===a?1:ms(t)):[]},Ur.flip=function(e){return Za(e,512)},Ur.flow=rc,Ur.flowRight=nc,Ur.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n},Ur.functions=function(e){return null==e?[]:wn(e,Is(e))},Ur.functionsIn=function(e){return null==e?[]:wn(e,Ts(e))},Ur.groupBy=_i,Ur.initial=function(e){return(null==e?0:e.length)?aa(e,0,-1):[]},Ur.intersection=$o,Ur.intersectionBy=Yo,Ur.intersectionWith=Xo,Ur.invert=As,Ur.invertBy=Ps,Ur.invokeMap=ji,Ur.iteratee=oc,Ur.keyBy=wi,Ur.keys=Is,Ur.keysIn=Ts,Ur.map=Ni,Ur.mapKeys=function(e,t){var r={};return t=lo(t,3),_n(e,(function(e,n,a){on(r,t(e,n,a),e)})),r},Ur.mapValues=function(e,t){var r={};return t=lo(t,3),_n(e,(function(e,n,a){on(r,n,t(e,n,a))})),r},Ur.matches=function(e){return Wn(ln(e,1))},Ur.matchesProperty=function(e,t){return Vn(e,ln(t,1))},Ur.memoize=ki,Ur.merge=Ms,Ur.mergeWith=ks,Ur.method=ic,Ur.methodOf=sc,Ur.mixin=cc,Ur.negate=Ri,Ur.nthArg=function(e){return e=ms(e),Qn((function(t){return Kn(t,e)}))},Ur.omit=Rs,Ur.omitBy=function(e,t){return Ls(e,Ri(lo(t)))},Ur.once=function(e){return Ai(2,e)},Ur.orderBy=function(e,t,r,n){return null==e?[]:(Gi(t)||(t=null==t?[]:[t]),Gi(r=n?a:r)||(r=null==r?[]:[r]),Gn(e,t,r))},Ur.over=uc,Ur.overArgs=Bi,Ur.overEvery=dc,Ur.overSome=fc,Ur.partial=Li,Ur.partialRight=Fi,Ur.partition=Ei,Ur.pick=Bs,Ur.pickBy=Ls,Ur.property=hc,Ur.propertyOf=function(e){return function(t){return null==e?a:Nn(e,t)}},Ur.pull=Zo,Ur.pullAll=Jo,Ur.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Hn(e,t,lo(r,2)):e},Ur.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Hn(e,t,a,r):e},Ur.pullAt=ei,Ur.range=pc,Ur.rangeRight=mc,Ur.rearg=Ui,Ur.reject=function(e,t){return(Gi(e)?It:xn)(e,Ri(lo(t,3)))},Ur.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,a=[],o=e.length;for(t=lo(t,3);++n<o;){var i=e[n];t(i,n,e)&&(r.push(i),a.push(n))}return $n(e,a),r},Ur.rest=function(e,t){if("function"!=typeof e)throw new Pe(o);return Qn(e,t=t===a?t:ms(t))},Ur.reverse=ti,Ur.sampleSize=function(e,t,r){return t=(r?_o(e,t,r):t===a)?1:ms(t),(Gi(e)?Zr:Jn)(e,t)},Ur.set=function(e,t,r){return null==e?e:ea(e,t,r)},Ur.setWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:ea(e,t,r,n)},Ur.shuffle=function(e){return(Gi(e)?Jr:na)(e)},Ur.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&_o(e,t,r)?(t=0,r=n):(t=null==t?0:ms(t),r=r===a?n:ms(r)),aa(e,t,r)):[]},Ur.sortBy=Ci,Ur.sortedUniq=function(e){return e&&e.length?ca(e):[]},Ur.sortedUniqBy=function(e,t){return e&&e.length?ca(e,lo(t,2)):[]},Ur.split=function(e,t,r){return r&&"number"!=typeof r&&_o(e,t,r)&&(t=r=a),(r=r===a?g:r>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!is(t))&&!(t=ua(t))&&sr(e)?ja(pr(e),0,r):e.split(t,r):[]},Ur.spread=function(e,t){if("function"!=typeof e)throw new Pe(o);return t=null==t?0:vr(ms(t),0),Qn((function(r){var n=r[t],a=ja(r,0,t);return n&&Rt(a,n),St(e,this,a)}))},Ur.tail=function(e){var t=null==e?0:e.length;return t?aa(e,1,t):[]},Ur.take=function(e,t,r){return e&&e.length?aa(e,0,(t=r||t===a?1:ms(t))<0?0:t):[]},Ur.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?aa(e,(t=n-(t=r||t===a?1:ms(t)))<0?0:t,n):[]},Ur.takeRightWhile=function(e,t){return e&&e.length?pa(e,lo(t,3),!1,!0):[]},Ur.takeWhile=function(e,t){return e&&e.length?pa(e,lo(t,3)):[]},Ur.tap=function(e,t){return t(e),e},Ur.throttle=function(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new Pe(o);return ts(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ii(e,t,{leading:n,maxWait:t,trailing:a})},Ur.thru=pi,Ur.toArray=hs,Ur.toPairs=Fs,Ur.toPairsIn=Us,Ur.toPath=function(e){return Gi(e)?kt(e,Lo):ls(e)?[e]:Pa(Bo(bs(e)))},Ur.toPlainObject=vs,Ur.transform=function(e,t,r){var n=Gi(e),a=n||Yi(e)||us(e);if(t=lo(t,4),null==r){var o=e&&e.constructor;r=a?n?new o:[]:ts(e)&&Zi(o)?Wr(He(e)):{}}return(a?At:_n)(e,(function(e,n,a){return t(r,e,n,a)})),r},Ur.unary=function(e){return Oi(e,1)},Ur.union=ri,Ur.unionBy=ni,Ur.unionWith=ai,Ur.uniq=function(e){return e&&e.length?da(e):[]},Ur.uniqBy=function(e,t){return e&&e.length?da(e,lo(t,2)):[]},Ur.uniqWith=function(e,t){return t="function"==typeof t?t:a,e&&e.length?da(e,a,t):[]},Ur.unset=function(e,t){return null==e||fa(e,t)},Ur.unzip=oi,Ur.unzipWith=ii,Ur.update=function(e,t,r){return null==e?e:ha(e,t,ba(r))},Ur.updateWith=function(e,t,r,n){return n="function"==typeof n?n:a,null==e?e:ha(e,t,ba(r),n)},Ur.values=Ws,Ur.valuesIn=function(e){return null==e?[]:er(e,Ts(e))},Ur.without=si,Ur.words=Zs,Ur.wrap=function(e,t){return Li(ba(t),e)},Ur.xor=ci,Ur.xorBy=li,Ur.xorWith=ui,Ur.zip=di,Ur.zipObject=function(e,t){return xa(e||[],t||[],tn)},Ur.zipObjectDeep=function(e,t){return xa(e||[],t||[],ea)},Ur.zipWith=fi,Ur.entries=Fs,Ur.entriesIn=Us,Ur.extend=_s,Ur.extendWith=js,cc(Ur,Ur),Ur.add=vc,Ur.attempt=Js,Ur.camelCase=Vs,Ur.capitalize=zs,Ur.ceil=bc,Ur.clamp=function(e,t,r){return r===a&&(r=t,t=a),r!==a&&(r=(r=xs(r))==r?r:0),t!==a&&(t=(t=xs(t))==t?t:0),cn(xs(e),t,r)},Ur.clone=function(e){return ln(e,4)},Ur.cloneDeep=function(e){return ln(e,5)},Ur.cloneDeepWith=function(e,t){return ln(e,5,t="function"==typeof t?t:a)},Ur.cloneWith=function(e,t){return ln(e,4,t="function"==typeof t?t:a)},Ur.conformsTo=function(e,t){return null==t||un(e,t,Is(t))},Ur.deburr=Ks,Ur.defaultTo=function(e,t){return null==e||e!=e?t:e},Ur.divide=yc,Ur.endsWith=function(e,t,r){e=bs(e),t=ua(t);var n=e.length,o=r=r===a?n:cn(ms(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Ur.eq=Wi,Ur.escape=function(e){return(e=bs(e))&&Q.test(e)?e.replace(Y,or):e},Ur.escapeRegExp=function(e){return(e=bs(e))&&oe.test(e)?e.replace(ae,"\\$&"):e},Ur.every=function(e,t,r){var n=Gi(e)?Dt:mn;return r&&_o(e,t,r)&&(t=a),n(e,lo(t,3))},Ur.find=xi,Ur.findIndex=Ko,Ur.findKey=function(e,t){return Wt(e,lo(t,3),_n)},Ur.findLast=vi,Ur.findLastIndex=Go,Ur.findLastKey=function(e,t){return Wt(e,lo(t,3),jn)},Ur.floor=_c,Ur.forEach=bi,Ur.forEachRight=yi,Ur.forIn=function(e,t){return null==e?e:bn(e,lo(t,3),Ts)},Ur.forInRight=function(e,t){return null==e?e:yn(e,lo(t,3),Ts)},Ur.forOwn=function(e,t){return e&&_n(e,lo(t,3))},Ur.forOwnRight=function(e,t){return e&&jn(e,lo(t,3))},Ur.get=Ss,Ur.gt=Vi,Ur.gte=zi,Ur.has=function(e,t){return null!=e&&xo(e,t,On)},Ur.hasIn=Os,Ur.head=Ho,Ur.identity=ac,Ur.includes=function(e,t,r,n){e=Hi(e)?e:Ws(e),r=r&&!n?ms(r):0;var a=e.length;return r<0&&(r=vr(a+r,0)),cs(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&zt(e,t,r)>-1},Ur.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:ms(r);return a<0&&(a=vr(n+a,0)),zt(e,t,a)},Ur.inRange=function(e,t,r){return t=ps(t),r===a?(r=t,t=0):r=ps(r),function(e,t,r){return e>=br(t,r)&&e<vr(t,r)}(e=xs(e),t,r)},Ur.invoke=Ds,Ur.isArguments=Ki,Ur.isArray=Gi,Ur.isArrayBuffer=qi,Ur.isArrayLike=Hi,Ur.isArrayLikeObject=$i,Ur.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Cn(e)==y},Ur.isBuffer=Yi,Ur.isDate=Xi,Ur.isElement=function(e){return rs(e)&&1===e.nodeType&&!os(e)},Ur.isEmpty=function(e){if(null==e)return!0;if(Hi(e)&&(Gi(e)||"string"==typeof e||"function"==typeof e.splice||Yi(e)||us(e)||Ki(e)))return!e.length;var t=go(e);if(t==E||t==P)return!e.size;if(Eo(e))return!Bn(e).length;for(var r in e)if(Re.call(e,r))return!1;return!0},Ur.isEqual=function(e,t){return Tn(e,t)},Ur.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:a)?r(e,t):a;return n===a?Tn(e,t,a,r):!!n},Ur.isError=Qi,Ur.isFinite=function(e){return"number"==typeof e&&yt(e)},Ur.isFunction=Zi,Ur.isInteger=Ji,Ur.isLength=es,Ur.isMap=ns,Ur.isMatch=function(e,t){return e===t||Mn(e,t,fo(t))},Ur.isMatchWith=function(e,t,r){return r="function"==typeof r?r:a,Mn(e,t,fo(t),r)},Ur.isNaN=function(e){return as(e)&&e!=+e},Ur.isNative=function(e){if(No(e))throw new Ne("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return kn(e)},Ur.isNil=function(e){return null==e},Ur.isNull=function(e){return null===e},Ur.isNumber=as,Ur.isObject=ts,Ur.isObjectLike=rs,Ur.isPlainObject=os,Ur.isRegExp=is,Ur.isSafeInteger=function(e){return Ji(e)&&e>=-9007199254740991&&e<=p},Ur.isSet=ss,Ur.isString=cs,Ur.isSymbol=ls,Ur.isTypedArray=us,Ur.isUndefined=function(e){return e===a},Ur.isWeakMap=function(e){return rs(e)&&go(e)==T},Ur.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Cn(e)},Ur.join=function(e,t){return null==e?"":Ut.call(e,t)},Ur.kebabCase=Gs,Ur.last=Qo,Ur.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==a&&(o=(o=ms(r))<0?vr(n+o,0):br(o,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Vt(e,Gt,o,!0)},Ur.lowerCase=qs,Ur.lowerFirst=Hs,Ur.lt=ds,Ur.lte=fs,Ur.max=function(e){return e&&e.length?gn(e,ac,Sn):a},Ur.maxBy=function(e,t){return e&&e.length?gn(e,lo(t,2),Sn):a},Ur.mean=function(e){return qt(e,ac)},Ur.meanBy=function(e,t){return qt(e,lo(t,2))},Ur.min=function(e){return e&&e.length?gn(e,ac,Fn):a},Ur.minBy=function(e,t){return e&&e.length?gn(e,lo(t,2),Fn):a},Ur.stubArray=gc,Ur.stubFalse=xc,Ur.stubObject=function(){return{}},Ur.stubString=function(){return""},Ur.stubTrue=function(){return!0},Ur.multiply=wc,Ur.nth=function(e,t){return e&&e.length?Kn(e,ms(t)):a},Ur.noConflict=function(){return mt._===this&&(mt._=We),this},Ur.noop=lc,Ur.now=Si,Ur.pad=function(e,t,r){e=bs(e);var n=(t=ms(t))?hr(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return Ga(gt(a),r)+e+Ga(pt(a),r)},Ur.padEnd=function(e,t,r){e=bs(e);var n=(t=ms(t))?hr(e):0;return t&&n<t?e+Ga(t-n,r):e},Ur.padStart=function(e,t,r){e=bs(e);var n=(t=ms(t))?hr(e):0;return t&&n<t?Ga(t-n,r)+e:e},Ur.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),_r(bs(e).replace(ie,""),t||0)},Ur.random=function(e,t,r){if(r&&"boolean"!=typeof r&&_o(e,t,r)&&(t=r=a),r===a&&("boolean"==typeof t?(r=t,t=a):"boolean"==typeof e&&(r=e,e=a)),e===a&&t===a?(e=0,t=1):(e=ps(e),t===a?(t=e,e=0):t=ps(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=jr();return br(e+o*(t-e+dt("1e-"+((o+"").length-1))),t)}return Yn(e,t)},Ur.reduce=function(e,t,r){var n=Gi(e)?Bt:Yt,a=arguments.length<3;return n(e,lo(t,4),r,a,hn)},Ur.reduceRight=function(e,t,r){var n=Gi(e)?Lt:Yt,a=arguments.length<3;return n(e,lo(t,4),r,a,pn)},Ur.repeat=function(e,t,r){return t=(r?_o(e,t,r):t===a)?1:ms(t),Xn(bs(e),t)},Ur.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ur.result=function(e,t,r){var n=-1,o=(t=ya(t,e)).length;for(o||(o=1,e=a);++n<o;){var i=null==e?a:e[Lo(t[n])];i===a&&(n=o,i=r),e=Zi(i)?i.call(e):i}return e},Ur.round=Nc,Ur.runInContext=e,Ur.sample=function(e){return(Gi(e)?Qr:Zn)(e)},Ur.size=function(e){if(null==e)return 0;if(Hi(e))return cs(e)?hr(e):e.length;var t=go(e);return t==E||t==P?e.size:Bn(e).length},Ur.snakeCase=$s,Ur.some=function(e,t,r){var n=Gi(e)?Ft:oa;return r&&_o(e,t,r)&&(t=a),n(e,lo(t,3))},Ur.sortedIndex=function(e,t){return ia(e,t)},Ur.sortedIndexBy=function(e,t,r){return sa(e,t,lo(r,2))},Ur.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ia(e,t);if(n<r&&Wi(e[n],t))return n}return-1},Ur.sortedLastIndex=function(e,t){return ia(e,t,!0)},Ur.sortedLastIndexBy=function(e,t,r){return sa(e,t,lo(r,2),!0)},Ur.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ia(e,t,!0)-1;if(Wi(e[r],t))return r}return-1},Ur.startCase=Ys,Ur.startsWith=function(e,t,r){return e=bs(e),r=null==r?0:cn(ms(r),0,e.length),t=ua(t),e.slice(r,r+t.length)==t},Ur.subtract=Ec,Ur.sum=function(e){return e&&e.length?Xt(e,ac):0},Ur.sumBy=function(e,t){return e&&e.length?Xt(e,lo(t,2)):0},Ur.template=function(e,t,r){var n=Ur.templateSettings;r&&_o(e,t,r)&&(t=a),e=bs(e),t=js({},t,n,Ja);var o,i,s=js({},t.imports,n.imports,Ja),c=Is(s),l=er(s,c),u=0,d=t.interpolate||je,f="__p += '",h=Oe((t.escape||je).source+"|"+d.source+"|"+(d===ee?pe:je).source+"|"+(t.evaluate||je).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,r,n,a,s,c){return n||(n=a),f+=e.slice(u,c).replace(we,ir),r&&(o=!0,f+="' +\n__e("+r+") +\n'"),s&&(i=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),f+="';\n";var m=Re.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new Ne("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(G,""):f).replace(q,"$1").replace(H,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Js((function(){return Ee(c,p+"return "+f).apply(a,l)}));if(g.source=f,Qi(g))throw g;return g},Ur.times=function(e,t){if((e=ms(e))<1||e>p)return[];var r=g,n=br(e,g);t=lo(t),e-=g;for(var a=Qt(n,t);++r<e;)t(r);return a},Ur.toFinite=ps,Ur.toInteger=ms,Ur.toLength=gs,Ur.toLower=function(e){return bs(e).toLowerCase()},Ur.toNumber=xs,Ur.toSafeInteger=function(e){return e?cn(ms(e),-9007199254740991,p):0===e?e:0},Ur.toString=bs,Ur.toUpper=function(e){return bs(e).toUpperCase()},Ur.trim=function(e,t,r){if((e=bs(e))&&(r||t===a))return Zt(e);if(!e||!(t=ua(t)))return e;var n=pr(e),o=pr(t);return ja(n,rr(n,o),nr(n,o)+1).join("")},Ur.trimEnd=function(e,t,r){if((e=bs(e))&&(r||t===a))return e.slice(0,mr(e)+1);if(!e||!(t=ua(t)))return e;var n=pr(e);return ja(n,0,nr(n,pr(t))+1).join("")},Ur.trimStart=function(e,t,r){if((e=bs(e))&&(r||t===a))return e.replace(ie,"");if(!e||!(t=ua(t)))return e;var n=pr(e);return ja(n,rr(n,pr(t))).join("")},Ur.truncate=function(e,t){var r=30,n="...";if(ts(t)){var o="separator"in t?t.separator:o;r="length"in t?ms(t.length):r,n="omission"in t?ua(t.omission):n}var i=(e=bs(e)).length;if(sr(e)){var s=pr(e);i=s.length}if(r>=i)return e;var c=r-hr(n);if(c<1)return n;var l=s?ja(s,0,c).join(""):e.slice(0,c);if(o===a)return l+n;if(s&&(c+=l.length-c),is(o)){if(e.slice(c).search(o)){var u,d=l;for(o.global||(o=Oe(o.source,bs(me.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var f=u.index;l=l.slice(0,f===a?c:f)}}else if(e.indexOf(ua(o),c)!=c){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+n},Ur.unescape=function(e){return(e=bs(e))&&X.test(e)?e.replace($,gr):e},Ur.uniqueId=function(e){var t=++Be;return bs(e)+t},Ur.upperCase=Xs,Ur.upperFirst=Qs,Ur.each=bi,Ur.eachRight=yi,Ur.first=Ho,cc(Ur,(jc={},_n(Ur,(function(e,t){Re.call(Ur.prototype,t)||(jc[t]=e)})),jc),{chain:!1}),Ur.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ur[e].placeholder=Ur})),At(["drop","take"],(function(e,t){Kr.prototype[e]=function(r){r=r===a?1:vr(ms(r),0);var n=this.__filtered__&&!t?new Kr(this):this.clone();return n.__filtered__?n.__takeCount__=br(r,n.__takeCount__):n.__views__.push({size:br(r,g),type:e+(n.__dir__<0?"Right":"")}),n},Kr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Kr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),At(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Kr.prototype[e]=function(){return this[r](1).value()[0]}})),At(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Kr.prototype[e]=function(){return this.__filtered__?new Kr(this):this[r](1)}})),Kr.prototype.compact=function(){return this.filter(ac)},Kr.prototype.find=function(e){return this.filter(e).head()},Kr.prototype.findLast=function(e){return this.reverse().find(e)},Kr.prototype.invokeMap=Qn((function(e,t){return"function"==typeof e?new Kr(this):this.map((function(r){return Dn(r,e,t)}))})),Kr.prototype.reject=function(e){return this.filter(Ri(lo(e)))},Kr.prototype.slice=function(e,t){e=ms(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Kr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==a&&(r=(t=ms(t))<0?r.dropRight(-t):r.take(t-e)),r)},Kr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kr.prototype.toArray=function(){return this.take(g)},_n(Kr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Ur[n?"take"+("last"==t?"Right":""):t],i=n||/^find/.test(t);o&&(Ur.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,c=t instanceof Kr,l=s[0],u=c||Gi(t),d=function(e){var t=o.apply(Ur,Rt([e],s));return n&&f?t[0]:t};u&&r&&"function"==typeof l&&1!=l.length&&(c=u=!1);var f=this.__chain__,h=!!this.__actions__.length,p=i&&!f,m=c&&!h;if(!i&&u){t=m?t:new Kr(this);var g=e.apply(t,s);return g.__actions__.push({func:pi,args:[d],thisArg:a}),new zr(g,f)}return p&&m?e.apply(this,s):(g=this.thru(d),p?n?g.value()[0]:g.value():g)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=De[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Ur.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var a=this.value();return t.apply(Gi(a)?a:[],e)}return this[r]((function(r){return t.apply(Gi(r)?r:[],e)}))}})),_n(Kr.prototype,(function(e,t){var r=Ur[t];if(r){var n=r.name+"";Re.call(Dr,n)||(Dr[n]=[]),Dr[n].push({name:t,func:r})}})),Dr[Wa(a,2).name]=[{name:"wrapper",func:a}],Kr.prototype.clone=function(){var e=new Kr(this.__wrapped__);return e.__actions__=Pa(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pa(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pa(this.__views__),e},Kr.prototype.reverse=function(){if(this.__filtered__){var e=new Kr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Gi(e),n=t<0,a=r?e.length:0,o=function(e,t,r){var n=-1,a=r.length;for(;++n<a;){var o=r[n],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=br(t,e+i);break;case"takeRight":e=vr(e,t-i)}}return{start:e,end:t}}(0,a,this.__views__),i=o.start,s=o.end,c=s-i,l=n?s:i-1,u=this.__iteratees__,d=u.length,f=0,h=br(c,this.__takeCount__);if(!r||!n&&a==c&&h==c)return ma(e,this.__actions__);var p=[];e:for(;c--&&f<h;){for(var m=-1,g=e[l+=t];++m<d;){var x=u[m],v=x.iteratee,b=x.type,y=v(g);if(2==b)g=y;else if(!y){if(1==b)continue e;break e}}p[f++]=g}return p},Ur.prototype.at=mi,Ur.prototype.chain=function(){return hi(this)},Ur.prototype.commit=function(){return new zr(this.value(),this.__chain__)},Ur.prototype.next=function(){this.__values__===a&&(this.__values__=hs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?a:this.__values__[this.__index__++]}},Ur.prototype.plant=function(e){for(var t,r=this;r instanceof Vr;){var n=Uo(r);n.__index__=0,n.__values__=a,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Ur.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kr){var t=e;return this.__actions__.length&&(t=new Kr(this)),(t=t.reverse()).__actions__.push({func:pi,args:[ti],thisArg:a}),new zr(t,this.__chain__)}return this.thru(ti)},Ur.prototype.toJSON=Ur.prototype.valueOf=Ur.prototype.value=function(){return ma(this.__wrapped__,this.__actions__)},Ur.prototype.first=Ur.prototype.head,Ze&&(Ur.prototype[Ze]=function(){return this}),Ur}();mt._=xr,(n=function(){return xr}.call(t,r,t,e))===a||(e.exports=n)}.call(this)},2551:(e,t,r)=>{"use strict";var n=r(6540),a=r(5228),o=r(9982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(i(227));var s=new Set,c={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,r,n,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,r,n){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0===a.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!h.call(m,e)||!h.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);x[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);x[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);x[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=60103,w=60106,N=60107,E=60108,C=60114,S=60109,O=60110,A=60112,P=60113,D=60120,I=60115,T=60116,M=60121,k=60128,R=60129,B=60130,L=60131;if("function"==typeof Symbol&&Symbol.for){var F=Symbol.for;j=F("react.element"),w=F("react.portal"),N=F("react.fragment"),E=F("react.strict_mode"),C=F("react.profiler"),S=F("react.provider"),O=F("react.context"),A=F("react.forward_ref"),P=F("react.suspense"),D=F("react.suspense_list"),I=F("react.memo"),T=F("react.lazy"),M=F("react.block"),F("react.scope"),k=F("react.opaque.id"),R=F("react.debug_trace_mode"),B=F("react.offscreen"),L=F("react.legacy_hidden")}var U,W="function"==typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=W&&e[W]||e["@@iterator"])?e:null}function z(e){if(void 0===U)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var K=!1;function G(e,t){if(!e||K)return"";K=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(e){if(e&&n&&"string"==typeof e.stack){for(var a=e.stack.split("\n"),o=n.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s])return"\n"+a[i].replace(" at new "," at ")}while(1<=i&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?z(e):""}function q(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case C:return"Profiler";case E:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case I:return H(e.type);case M:return H(e._render);case T:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Z(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=$(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function re(e,t){te(e,t);var r=$(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,r):t.hasOwnProperty("defaultValue")&&ae(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ae(e,t,r){"number"===t&&Z(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function oe(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(i(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(i(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:$(r)}}function le(e,t){var r=$(t.value),n=$(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,xe=(ge=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ve(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function _e(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function je(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=_e(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(be).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var we=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ne(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Oe=null,Ae=null;function Pe(e){if(e=na(e)){if("function"!=typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=oa(t),Se(e.stateNode,e.type,t))}}function De(e){Oe?Ae?Ae.push(e):Ae=[e]:Oe=e}function Ie(){if(Oe){var e=Oe,t=Ae;if(Ae=Oe=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Te(e,t){return e(t)}function Me(e,t,r,n,a){return e(t,r,n,a)}function ke(){}var Re=Te,Be=!1,Le=!1;function Fe(){null===Oe&&null===Ae||(ke(),Ie())}function Ue(e,t){var r=e.stateNode;if(null===r)return null;var n=oa(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(i(231,t,typeof r));return r}var We=!1;if(d)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){We=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ge){We=!1}function ze(e,t,r,n,a,o,i,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(e){this.onError(e)}}var Ke=!1,Ge=null,qe=!1,He=null,$e={onError:function(e){Ke=!0,Ge=e}};function Ye(e,t,r,n,a,o,i,s,c){Ke=!1,Ge=null,ze.apply($e,arguments)}function Xe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Xe(e)!==e)throw Error(i(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Xe(e)))throw Error(i(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return Ze(a),e;if(o===n)return Ze(a),t;o=o.sibling}throw Error(i(188))}if(r.return!==n.return)r=a,n=o;else{for(var s=!1,c=a.child;c;){if(c===r){s=!0,r=a,n=o;break}if(c===n){s=!0,n=a,r=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===r){s=!0,r=o,n=a;break}if(c===n){s=!0,n=o,r=a;break}c=c.sibling}if(!s)throw Error(i(189))}}if(r.alternate!==n)throw Error(i(190))}if(3!==r.tag)throw Error(i(188));return r.stateNode.current===r?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,at,ot=!1,it=[],st=null,ct=null,lt=null,ut=new Map,dt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,r,n,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:a,targetContainers:[n]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function gt(e,t,r,n,a,o){return null===e||e.nativeEvent!==o?(e=pt(t,r,n,a,o),null!==t&&(null!==(t=na(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function xt(e){var t=ra(e.target);if(null!==t){var r=Xe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Qe(r)))return e.blockedOn=t,void at(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=na(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){vt(e)&&r.delete(t)}function yt(){for(ot=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=na(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&it.shift()}null!==st&&vt(st)&&(st=null),null!==ct&&vt(ct)&&(ct=null),null!==lt&&vt(lt)&&(lt=null),ut.forEach(bt),dt.forEach(bt)}function _t(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,yt)))}function jt(e){function t(t){return _t(t,e)}if(0<it.length){_t(it[0],e);for(var r=1;r<it.length;r++){var n=it[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&_t(st,e),null!==ct&&_t(ct,e),null!==lt&&_t(lt,e),ut.forEach(t),dt.forEach(t),r=0;r<ft.length;r++)(n=ft[r]).blockedOn===e&&(n.blockedOn=null);for(;0<ft.length&&null===(r=ft[0]).blockedOn;)xt(r),null===r.blockedOn&&ft.shift()}function wt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nt={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},Et={},Ct={};function St(e){if(Et[e])return Et[e];if(!Nt[e])return e;var t,r=Nt[e];for(t in r)if(r.hasOwnProperty(t)&&t in Ct)return Et[e]=r[t];return e}d&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete Nt.animationend.animation,delete Nt.animationiteration.animation,delete Nt.animationstart.animation),"TransitionEvent"in window||delete Nt.transitionend.transition);var Ot=St("animationend"),At=St("animationiteration"),Pt=St("animationstart"),Dt=St("transitionend"),It=new Map,Tt=new Map,Mt=["abort","abort",Ot,"animationEnd",At,"animationIteration",Pt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function kt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];a="on"+(a[0].toUpperCase()+a.slice(1)),Tt.set(n,t),It.set(n,a),l(a,[n])}}(0,o.unstable_now)();var Rt=8;function Bt(e){if(1&e)return Rt=15,1;if(2&e)return Rt=14,2;if(4&e)return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):32&e?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):256&e?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):4096&e?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):134217728&e?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):1073741824&e?(Rt=1,1073741824):(Rt=8,e)}function Lt(e,t){var r=e.pendingLanes;if(0===r)return Rt=0;var n=0,a=0,o=e.expiredLanes,i=e.suspendedLanes,s=e.pingedLanes;if(0!==o)n=o,a=Rt=15;else if(0!==(o=134217727&r)){var c=o&~i;0!==c?(n=Bt(c),a=Rt):0!==(s&=o)&&(n=Bt(s),a=Rt)}else 0!==(o=r&~i)?(n=Bt(o),a=Rt):0!==s&&(n=Bt(s),a=Rt);if(0===n)return 0;if(n=r&((0>(n=31-Kt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&!(t&i)){if(Bt(t),a<=Rt)return t;Rt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-Kt(t)),n|=e[r],t&=~a;return n}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Wt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Wt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Wt(3584&~t))&&(0===(e=Wt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Wt(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Wt(e){return e&-e}function Vt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Kt(t)]=r}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/qt|0)|0},Gt=Math.log,qt=Math.LN2;var Ht=o.unstable_UserBlockingPriority,$t=o.unstable_runWithPriority,Yt=!0;function Xt(e,t,r,n){Be||ke();var a=Zt,o=Be;Be=!0;try{Me(a,e,t,r,n)}finally{(Be=o)||Fe()}}function Qt(e,t,r,n){$t(Ht,Zt.bind(null,e,t,r,n))}function Zt(e,t,r,n){var a;if(Yt)if((a=!(4&t))&&0<it.length&&-1<ht.indexOf(e))e=pt(null,e,t,r,n),it.push(e);else{var o=Jt(e,t,r,n);if(null===o)a&&mt(e,n);else{if(a){if(-1<ht.indexOf(e))return e=pt(o,e,t,r,n),void it.push(e);if(function(e,t,r,n,a){switch(t){case"focusin":return st=gt(st,e,t,r,n,a),!0;case"dragenter":return ct=gt(ct,e,t,r,n,a),!0;case"mouseover":return lt=gt(lt,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return ut.set(o,gt(ut.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,dt.set(o,gt(dt.get(o)||null,e,t,r,n,a)),!0}return!1}(o,e,t,r,n))return;mt(e,n)}kn(e,t,n,null,r)}}}function Jt(e,t,r,n){var a=Ce(n);if(null!==(a=ra(a))){var o=Xe(a);if(null===o)a=null;else{var i=o.tag;if(13===i){if(null!==(a=Qe(o)))return a;a=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return kn(e,t,n,a,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,a="value"in er?er.value:er.textContent,o=a.length;for(e=0;e<n&&r[e]===a[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===a[o-t];t++);return rr=a.slice(e,1<t?1-t:void 0)}function ar(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function or(){return!0}function ir(){return!1}function sr(e){function t(t,r,n,a,o){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?or:ir,this.isPropagationStopped=ir,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var cr,lr,ur,dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=sr(dr),hr=a({},dr,{view:0,detail:0}),pr=sr(hr),mr=a({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&"mousemove"===e.type?(cr=e.screenX-ur.screenX,lr=e.screenY-ur.screenY):lr=cr=0,ur=e),cr)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),gr=sr(mr),xr=sr(a({},mr,{dataTransfer:0})),vr=sr(a({},hr,{relatedTarget:0})),br=sr(a({},dr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=a({},dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_r=sr(yr),jr=sr(a({},dr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function Sr(){return Cr}var Or=a({},hr,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ar(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?ar(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ar(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ar=sr(Or),Pr=sr(a({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dr=sr(a({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Ir=sr(a({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tr=a({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mr=sr(Tr),kr=[9,13,27,32],Rr=d&&"CompositionEvent"in window,Br=null;d&&"documentMode"in document&&(Br=document.documentMode);var Lr=d&&"TextEvent"in window&&!Br,Fr=d&&(!Rr||Br&&8<Br&&11>=Br),Ur=String.fromCharCode(32),Wr=!1;function Vr(e,t){switch(e){case"keyup":return-1!==kr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Kr=!1;var Gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gr[e.type]:"textarea"===t}function Hr(e,t,r,n){De(n),0<(t=Bn(t,"onChange")).length&&(r=new fr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $r=null,Yr=null;function Xr(e){An(e,0)}function Qr(e){if(Q(aa(e)))return e}function Zr(e,t){if("change"===e)return t}var Jr=!1;if(d){var en;if(d){var tn="oninput"in document;if(!tn){var rn=document.createElement("div");rn.setAttribute("oninput","return;"),tn="function"==typeof rn.oninput}en=tn}else en=!1;Jr=en&&(!document.documentMode||9<document.documentMode)}function nn(){$r&&($r.detachEvent("onpropertychange",an),Yr=$r=null)}function an(e){if("value"===e.propertyName&&Qr(Yr)){var t=[];if(Hr(t,Yr,e,Ce(e)),e=Xr,Be)e(t);else{Be=!0;try{Te(e,t)}finally{Be=!1,Fe()}}}}function on(e,t,r){"focusin"===e?(nn(),Yr=r,($r=t).attachEvent("onpropertychange",an)):"focusout"===e&&nn()}function sn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Yr)}function cn(e,t){if("click"===e)return Qr(t)}function ln(e,t){if("input"===e||"change"===e)return Qr(t)}var un="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},dn=Object.prototype.hasOwnProperty;function fn(e,t){if(un(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!dn.call(t,r[n])||!un(e[r[n]],t[r[n]]))return!1;return!0}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var r,n=hn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hn(n)}}function mn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gn(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=Z((e=t.contentWindow).document)}return t}function xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn=d&&"documentMode"in document&&11>=document.documentMode,bn=null,yn=null,_n=null,jn=!1;function wn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;jn||null==bn||bn!==Z(n)||("selectionStart"in(n=bn)&&xn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},_n&&fn(_n,n)||(_n=n,0<(n=Bn(yn,"onSelect")).length&&(t=new fr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bn)))}kt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),kt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),kt(Mt,2);for(var Nn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),En=0;En<Nn.length;En++)Tt.set(Nn[En],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cn));function On(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,s,c,l){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(i(198));var u=Ge;Ke=!1,Ge=null,qe||(qe=!0,He=u)}}(n,t,void 0,e),e.currentTarget=null}function An(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&a.isPropagationStopped())break e;On(a,s,l),o=c}else for(i=0;i<n.length;i++){if(c=(s=n[i]).instance,l=s.currentTarget,s=s.listener,c!==o&&a.isPropagationStopped())break e;On(a,s,l),o=c}}}if(qe)throw e=He,qe=!1,He=null,e}function Pn(e,t){var r=ia(t),n=e+"__bubble";r.has(n)||(Mn(t,e,2,!1),r.add(n))}var Dn="_reactListening"+Math.random().toString(36).slice(2);function In(e){e[Dn]||(e[Dn]=!0,s.forEach((function(t){Sn.has(t)||Tn(t,!1,e,null),Tn(t,!0,e,null)})))}function Tn(e,t,r,n){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=r;if("selectionchange"===e&&9!==r.nodeType&&(o=r.ownerDocument),null!==n&&!t&&Sn.has(e)){if("scroll"!==e)return;a|=2,o=n}var i=ia(o),s=e+"__"+(t?"capture":"bubble");i.has(s)||(t&&(a|=4),Mn(o,e,a,t),i.add(s))}function Mn(e,t,r,n){var a=Tt.get(t);switch(void 0===a?2:a){case 0:a=Xt;break;case 1:a=Qt;break;default:a=Zt}r=a.bind(null,t,r,e),a=void 0,!We||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function kn(e,t,r,n,a){var o=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var s=n.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=n.return;null!==i;){var c=i.tag;if((3===c||4===c)&&((c=i.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ra(s)))return;if(5===(c=i.tag)||6===c){n=o=i;continue e}s=s.parentNode}}n=n.return}!function(e,t,r){if(Le)return e(t,r);Le=!0;try{return Re(e,t,r)}finally{Le=!1,Fe()}}((function(){var n=o,a=Ce(r),i=[];e:{var s=It.get(e);if(void 0!==s){var c=fr,l=e;switch(e){case"keypress":if(0===ar(r))break e;case"keydown":case"keyup":c=Ar;break;case"focusin":l="focus",c=vr;break;case"focusout":l="blur",c=vr;break;case"beforeblur":case"afterblur":c=vr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=gr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Dr;break;case Ot:case At:case Pt:c=br;break;case Dt:c=Ir;break;case"scroll":c=pr;break;case"wheel":c=Mr;break;case"copy":case"cut":case"paste":c=_r;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Pr}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=n;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==f&&(null!=(m=Ue(p,f))&&u.push(Rn(p,m,h)))),d)break;p=p.return}0<u.length&&(s=new c(s,l,null,r,a),i.push({event:s,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||16&t||!(l=r.relatedTarget||r.fromElement)||!ra(l)&&!l[ea])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=n,null!==(l=(l=r.relatedTarget||r.toElement)?ra(l):null)&&(l!==(d=Xe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=n),c!==l)){if(u=gr,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pr,m="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?s:aa(c),h=null==l?s:aa(l),(s=new u(m,p+"leave",c,r,a)).target=d,s.relatedTarget=h,m=null,ra(a)===n&&((u=new u(f,p+"enter",l,r,a)).target=h,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(f=l,p=0,h=u=c;h;h=Ln(h))p++;for(h=0,m=f;m;m=Ln(m))h++;for(;0<p-h;)u=Ln(u),p--;for(;0<h-p;)f=Ln(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Ln(u),f=Ln(f)}u=null}else u=null;null!==c&&Fn(i,s,c,u,!1),null!==l&&null!==d&&Fn(i,d,l,u,!0)}if("select"===(c=(s=n?aa(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Zr;else if(qr(s))if(Jr)g=ln;else{g=sn;var x=on}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=cn);switch(g&&(g=g(e,n))?Hr(i,g,r,a):(x&&x(e,s,n),"focusout"===e&&(x=s._wrapperState)&&x.controlled&&"number"===s.type&&ae(s,"number",s.value)),x=n?aa(n):window,e){case"focusin":(qr(x)||"true"===x.contentEditable)&&(bn=x,yn=n,_n=null);break;case"focusout":_n=yn=bn=null;break;case"mousedown":jn=!0;break;case"contextmenu":case"mouseup":case"dragend":jn=!1,wn(i,r,a);break;case"selectionchange":if(vn)break;case"keydown":case"keyup":wn(i,r,a)}var v;if(Rr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kr?Vr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Fr&&"ko"!==r.locale&&(Kr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kr&&(v=nr()):(tr="value"in(er=a)?er.value:er.textContent,Kr=!0)),0<(x=Bn(n,b)).length&&(b=new jr(b,e,null,r,a),i.push({event:b,listeners:x}),v?b.data=v:null!==(v=zr(r))&&(b.data=v))),(v=Lr?function(e,t){switch(e){case"compositionend":return zr(t);case"keypress":return 32!==t.which?null:(Wr=!0,Ur);case"textInput":return(e=t.data)===Ur&&Wr?null:e;default:return null}}(e,r):function(e,t){if(Kr)return"compositionend"===e||!Rr&&Vr(e,t)?(e=nr(),rr=tr=er=null,Kr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Bn(n,"onBeforeInput")).length&&(a=new jr("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:n}),a.data=v))}An(i,t)}))}function Rn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bn(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ue(e,r))&&n.unshift(Rn(e,o,a)),null!=(o=Ue(e,t))&&n.push(Rn(e,o,a))),e=e.return}return n}function Ln(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fn(e,t,r,n,a){for(var o=t._reactName,i=[];null!==r&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(null!==c&&c===n)break;5===s.tag&&null!==l&&(s=l,a?null!=(c=Ue(r,o))&&i.unshift(Rn(r,c,s)):a||null!=(c=Ue(r,o))&&i.push(Rn(r,c,s))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}function Un(){}var Wn=null,Vn=null;function zn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Gn="function"==typeof setTimeout?setTimeout:void 0,qn="function"==typeof clearTimeout?clearTimeout:void 0;function Hn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $n(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Xn=0;var Qn=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Qn,Jn="__reactProps$"+Qn,ea="__reactContainer$"+Qn,ta="__reactEvents$"+Qn;function ra(e){var t=e[Zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ea]||r[Zn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Yn(e);null!==e;){if(r=e[Zn])return r;e=Yn(e)}return t}r=(e=r).parentNode}return null}function na(e){return!(e=e[Zn]||e[ea])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function aa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function oa(e){return e[Jn]||null}function ia(e){var t=e[ta];return void 0===t&&(t=e[ta]=new Set),t}var sa=[],ca=-1;function la(e){return{current:e}}function ua(e){0>ca||(e.current=sa[ca],sa[ca]=null,ca--)}function da(e,t){ca++,sa[ca]=e.current,e.current=t}var fa={},ha=la(fa),pa=la(!1),ma=fa;function ga(e,t){var r=e.type.contextTypes;if(!r)return fa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in r)o[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xa(e){return null!=(e=e.childContextTypes)}function va(){ua(pa),ua(ha)}function ba(e,t,r){if(ha.current!==fa)throw Error(i(168));da(ha,t),da(pa,r)}function ya(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(i(108,H(t)||"Unknown",o));return a({},r,n)}function _a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fa,ma=ha.current,da(ha,e),da(pa,pa.current),!0}function ja(e,t,r){var n=e.stateNode;if(!n)throw Error(i(169));r?(e=ya(e,t,ma),n.__reactInternalMemoizedMergedChildContext=e,ua(pa),ua(ha),da(ha,e)):ua(pa),da(pa,r)}var wa=null,Na=null,Ea=o.unstable_runWithPriority,Ca=o.unstable_scheduleCallback,Sa=o.unstable_cancelCallback,Oa=o.unstable_shouldYield,Aa=o.unstable_requestPaint,Pa=o.unstable_now,Da=o.unstable_getCurrentPriorityLevel,Ia=o.unstable_ImmediatePriority,Ta=o.unstable_UserBlockingPriority,Ma=o.unstable_NormalPriority,ka=o.unstable_LowPriority,Ra=o.unstable_IdlePriority,Ba={},La=void 0!==Aa?Aa:function(){},Fa=null,Ua=null,Wa=!1,Va=Pa(),za=1e4>Va?Pa:function(){return Pa()-Va};function Ka(){switch(Da()){case Ia:return 99;case Ta:return 98;case Ma:return 97;case ka:return 96;case Ra:return 95;default:throw Error(i(332))}}function Ga(e){switch(e){case 99:return Ia;case 98:return Ta;case 97:return Ma;case 96:return ka;case 95:return Ra;default:throw Error(i(332))}}function qa(e,t){return e=Ga(e),Ea(e,t)}function Ha(e,t,r){return e=Ga(e),Ca(e,t,r)}function $a(){if(null!==Ua){var e=Ua;Ua=null,Sa(e)}Ya()}function Ya(){if(!Wa&&null!==Fa){Wa=!0;var e=0;try{var t=Fa;qa(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Fa=null}catch(t){throw null!==Fa&&(Fa=Fa.slice(e+1)),Ca(Ia,$a),t}finally{Wa=!1}}}var Xa=_.ReactCurrentBatchConfig;function Qa(e,t){if(e&&e.defaultProps){for(var r in t=a({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Za=la(null),Ja=null,eo=null,to=null;function ro(){to=eo=Ja=null}function no(e){var t=Za.current;ua(Za),e.type._context._currentValue=t}function ao(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function oo(e,t){Ja=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Bi=!0),e.firstContext=null)}function io(e,t){if(to!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ja)throw Error(i(308));eo=t,Ja.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ho(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?a=o=i:o=o.next=i,r=r.next}while(null!==r);null===o?a=o=t:o=o.next=t}else a=o=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function po(e,t,r,n){var o=e.updateQueue;so=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,c=o.shared.pending;if(null!==c){o.shared.pending=null;var l=c,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=u:f.next=u,d.lastBaseUpdate=l)}}if(null!==i){for(f=o.baseState,s=0,d=u=l=null;;){c=i.lane;var h=i.eventTime;if((n&c)===c){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(c=t,h=r,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(h,f,c);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(c="function"==typeof(p=m.payload)?p.call(h,f,c):p))break e;f=a({},f,c);break e;case 2:so=!0}}null!==i.callback&&(e.flags|=32,null===(c=o.effects)?o.effects=[i]:c.push(i))}else h={eventTime:h,lane:c,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(u=d=h,l=f):d=d.next=h,s|=c;if(null===(i=i.next)){if(null===(c=o.shared.pending))break;i=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}null===d&&(l=f),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=d,Vs|=s,e.lanes=s,e.memoizedState=f}}function mo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!=typeof a)throw Error(i(191,a));a.call(n)}}}var go=(new n.Component).refs;function xo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:a({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&Xe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hc(),a=pc(e),o=uo(n,a);o.payload=t,null!=r&&(o.callback=r),fo(e,o),mc(e,a,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hc(),a=pc(e),o=uo(n,a);o.tag=1,o.payload=t,null!=r&&(o.callback=r),fo(e,o),mc(e,a,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hc(),n=pc(e),a=uo(r,n);a.tag=2,null!=t&&(a.callback=t),fo(e,a),mc(e,n,r)}};function bo(e,t,r,n,a,o,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!fn(r,n)||!fn(a,o))}function yo(e,t,r){var n=!1,a=fa,o=t.contextType;return"object"==typeof o&&null!==o?o=io(o):(a=xa(t)?ma:ha.current,o=(n=null!=(n=t.contextTypes))?ga(e,a):fa),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function _o(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function jo(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=go,co(e);var o=t.contextType;"object"==typeof o&&null!==o?a.context=io(o):(o=xa(t)?ma:ha.current,a.context=ga(e,o)),po(e,r,a,n),a.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(xo(e,t,o,r),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&vo.enqueueReplaceState(a,a.state,null),po(e,r,a,n),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4)}var wo=Array.isArray;function No(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(i(309));var n=r.stateNode}if(!n)throw Error(i(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=n.refs;t===go&&(t=n.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Co(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Hc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Qc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function l(e,t,r,n){return null!==t&&t.elementType===r.type?((n=a(t,r.props)).ref=No(e,t,r),n.return=e,n):((n=$c(r.type,r.key,r.props,null,e.mode,n)).ref=No(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Zc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,o){return null===t||7!==t.tag?((t=Yc(r,e.mode,n,o)).return=e,t):((t=a(t,r)).return=e,t)}function f(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Qc(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case j:return(r=$c(t.type,t.key,t.props,null,e.mode,r)).ref=No(e,null,t),r.return=e,r;case w:return(t=Zc(t,e.mode,r)).return=e,t}if(wo(t)||V(t))return(t=Yc(t,e.mode,r,null)).return=e,t;Eo(e,t)}return null}function h(e,t,r,n){var a=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==a?null:c(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?r.type===N?d(e,t,r.props.children,n,a):l(e,t,r,n):null;case w:return r.key===a?u(e,t,r,n):null}if(wo(r)||V(r))return null!==a?null:d(e,t,r,n,null);Eo(e,r)}return null}function p(e,t,r,n,a){if("string"==typeof n||"number"==typeof n)return c(t,e=e.get(r)||null,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case j:return e=e.get(null===n.key?r:n.key)||null,n.type===N?d(t,e,n.props.children,a,n.key):l(t,e,n,a);case w:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a)}if(wo(n)||V(n))return d(t,e=e.get(r)||null,n,a,null);Eo(t,n)}return null}function m(a,i,s,c){for(var l=null,u=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var x=h(a,d,s[m],c);if(null===x){null===d&&(d=g);break}e&&d&&null===x.alternate&&t(a,d),i=o(x,i,m),null===u?l=x:u.sibling=x,u=x,d=g}if(m===s.length)return r(a,d),l;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],c))&&(i=o(d,i,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=n(a,d);m<s.length;m++)null!==(g=p(d,a,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=o(g,i,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),l}function g(a,s,c,l){var u=V(c);if("function"!=typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=s,g=s=0,x=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(x=m,m=null):x=m.sibling;var b=h(a,m,v.value,l);if(null===b){null===m&&(m=x);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=x}if(v.done)return r(a,m),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=f(a,v.value,l))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return u}for(m=n(a,m);!v.done;g++,v=c.next())null!==(v=p(m,a,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(a,e)})),u}return function(e,n,o,c){var l="object"==typeof o&&null!==o&&o.type===N&&null===o.key;l&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case j:e:{for(u=o.key,l=n;null!==l;){if(l.key===u){if(7===l.tag){if(o.type===N){r(e,l.sibling),(n=a(l,o.props.children)).return=e,e=n;break e}}else if(l.elementType===o.type){r(e,l.sibling),(n=a(l,o.props)).ref=No(e,l,o),n.return=e,e=n;break e}r(e,l);break}t(e,l),l=l.sibling}o.type===N?((n=Yc(o.props.children,e.mode,c,o.key)).return=e,e=n):((c=$c(o.type,o.key,o.props,null,e.mode,c)).ref=No(e,n,o),c.return=e,e=c)}return s(e);case w:e:{for(l=o.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=a(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Zc(o,e.mode,c)).return=e,e=n}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=a(n,o)).return=e,e=n):(r(e,n),(n=Qc(o,e.mode,c)).return=e,e=n),s(e);if(wo(o))return m(e,n,o,c);if(V(o))return g(e,n,o,c);if(u&&Eo(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,H(e.type)||"Component"))}return r(e,n)}}var So=Co(!0),Oo=Co(!1),Ao={},Po=la(Ao),Do=la(Ao),Io=la(Ao);function To(e){if(e===Ao)throw Error(i(174));return e}function Mo(e,t){switch(da(Io,t),da(Do,e),da(Po,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ua(Po),da(Po,t)}function ko(){ua(Po),ua(Do),ua(Io)}function Ro(e){To(Io.current);var t=To(Po.current),r=pe(t,e.type);t!==r&&(da(Do,e),da(Po,r))}function Bo(e){Do.current===e&&(ua(Po),ua(Do))}var Lo=la(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(64&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Wo=null,Vo=!1;function zo(e,t){var r=Gc(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Ko(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Go(e){if(Vo){var t=Wo;if(t){var r=t;if(!Ko(e,t)){if(!(t=$n(r.nextSibling))||!Ko(e,t))return e.flags=-1025&e.flags|2,Vo=!1,void(Uo=e);zo(Uo,r)}Uo=e,Wo=$n(t.firstChild)}else e.flags=-1025&e.flags|2,Vo=!1,Uo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Ho(e){if(e!==Uo)return!1;if(!Vo)return qo(e),Vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kn(t,e.memoizedProps))for(t=Wo;t;)zo(e,t),t=$n(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Wo=$n(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Wo=null}}else Wo=Uo?$n(e.stateNode.nextSibling):null;return!0}function $o(){Wo=Uo=null,Vo=!1}var Yo=[];function Xo(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Qo=_.ReactCurrentDispatcher,Zo=_.ReactCurrentBatchConfig,Jo=0,ei=null,ti=null,ri=null,ni=!1,ai=!1;function oi(){throw Error(i(321))}function ii(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!un(e[r],t[r]))return!1;return!0}function si(e,t,r,n,a,o){if(Jo=o,ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Ti:Mi,e=r(n,a),ai){o=0;do{if(ai=!1,!(25>o))throw Error(i(301));o+=1,ri=ti=null,t.updateQueue=null,Qo.current=ki,e=r(n,a)}while(ai)}if(Qo.current=Ii,t=null!==ti&&null!==ti.next,Jo=0,ri=ti=ei=null,ni=!1,t)throw Error(i(300));return e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ri?ei.memoizedState=ri=e:ri=ri.next=e,ri}function li(){if(null===ti){var e=ei.alternate;e=null!==e?e.memoizedState:null}else e=ti.next;var t=null===ri?ei.memoizedState:ri.next;if(null!==t)ri=t,ti=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ti=e).memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},null===ri?ei.memoizedState=ri=e:ri=ri.next=e}return ri}function ui(e,t){return"function"==typeof t?t(e):t}function di(e){var t=li(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=ti,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}n.baseQueue=a=o,r.pending=null}if(null!==a){a=a.next,n=n.baseState;var c=s=o=null,l=a;do{var u=l.lane;if((Jo&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===e?l.eagerState:e(n,l.action);else{var d={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===c?(s=c=d,o=n):c=c.next=d,ei.lanes|=u,Vs|=u}l=l.next}while(null!==l&&l!==a);null===c?o=n:c.next=s,un(n,t.memoizedState)||(Bi=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function fi(e){var t=li(),r=t.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);un(o,t.memoizedState)||(Bi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function hi(e,t,r){var n=t._getVersion;n=n(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===n:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=n,Yo.push(t))),e)return r(t._source);throw Yo.push(t),Error(i(350))}function pi(e,t,r,n){var a=Ms;if(null===a)throw Error(i(349));var o=t._getVersion,s=o(t._source),c=Qo.current,l=c.useState((function(){return hi(a,t,r)})),u=l[1],d=l[0];l=ri;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,m=f.source;f=f.subscribe;var g=ei;return e.memoizedState={refs:h,source:t,subscribe:n},c.useEffect((function(){h.getSnapshot=r,h.setSnapshot=u;var e=o(t._source);if(!un(s,e)){e=r(t._source),un(d,e)||(u(e),e=pc(g),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var n=a.entanglements,i=e;0<i;){var c=31-Kt(i),l=1<<c;n[c]|=e,i&=~l}}}),[r,t,n]),c.useEffect((function(){return n(t._source,(function(){var e=h.getSnapshot,r=h.setSnapshot;try{r(e(t._source));var n=pc(g);a.mutableReadLanes|=n&a.pendingLanes}catch(e){r((function(){throw e}))}}))}),[t,n]),un(p,r)&&un(m,t)&&un(f,n)||((e={pending:null,dispatch:null,lastRenderedReducer:ui,lastRenderedState:d}).dispatch=u=Di.bind(null,ei,e),l.queue=e,l.baseQueue=null,d=hi(a,t,r),l.memoizedState=l.baseState=d),d}function mi(e,t,r){return pi(li(),e,t,r)}function gi(e){var t=ci();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e}).dispatch=Di.bind(null,ei,e),[t.memoizedState,e]}function xi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ei.updateQueue)?(t={lastEffect:null},ei.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function vi(e){return e={current:e},ci().memoizedState=e}function bi(){return li().memoizedState}function yi(e,t,r,n){var a=ci();ei.flags|=e,a.memoizedState=xi(1|t,r,void 0,void 0===n?null:n)}function _i(e,t,r,n){var a=li();n=void 0===n?null:n;var o=void 0;if(null!==ti){var i=ti.memoizedState;if(o=i.destroy,null!==n&&ii(n,i.deps))return void xi(t,r,o,n)}ei.flags|=e,a.memoizedState=xi(1|t,r,o,n)}function ji(e,t){return yi(516,4,e,t)}function wi(e,t){return _i(516,4,e,t)}function Ni(e,t){return _i(4,2,e,t)}function Ei(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ci(e,t,r){return r=null!=r?r.concat([e]):null,_i(4,2,Ei.bind(null,t,e),r)}function Si(){}function Oi(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ii(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ai(e,t){var r=li();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ii(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Pi(e,t){var r=Ka();qa(98>r?98:r,(function(){e(!0)})),qa(97<r?97:r,(function(){var r=Zo.transition;Zo.transition=1;try{e(!1),t()}finally{Zo.transition=r}}))}function Di(e,t,r){var n=hc(),a=pc(e),o={lane:a,action:r,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?o.next=o:(o.next=i.next,i.next=o),t.pending=o,i=e.alternate,e===ei||null!==i&&i===ei)ai=ni=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=i(s,r);if(o.eagerReducer=i,o.eagerState=c,un(c,s))return}catch(e){}mc(e,a,n)}}var Ii={readContext:io,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useOpaqueIdentifier:oi,unstable_isNewReconciler:!1},Ti={readContext:io,useCallback:function(e,t){return ci().memoizedState=[e,void 0===t?null:t],e},useContext:io,useEffect:ji,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,yi(4,2,Ei.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var r=ci();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ci();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Di.bind(null,ei,e),[n.memoizedState,e]},useRef:vi,useState:gi,useDebugValue:Si,useDeferredValue:function(e){var t=gi(e),r=t[0],n=t[1];return ji((function(){var t=Zo.transition;Zo.transition=1;try{n(e)}finally{Zo.transition=t}}),[e]),r},useTransition:function(){var e=gi(!1),t=e[0];return vi(e=Pi.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=ci();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},pi(n,e,t,r)},useOpaqueIdentifier:function(){if(Vo){var e=!1,t=function(e){return{$$typeof:k,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(Xn++).toString(36))),Error(i(355))})),r=gi(t)[1];return!(2&ei.mode)&&(ei.flags|=516,xi(5,(function(){r("r:"+(Xn++).toString(36))}),void 0,null)),t}return gi(t="r:"+(Xn++).toString(36)),t},unstable_isNewReconciler:!1},Mi={readContext:io,useCallback:Oi,useContext:io,useEffect:wi,useImperativeHandle:Ci,useLayoutEffect:Ni,useMemo:Ai,useReducer:di,useRef:bi,useState:function(){return di(ui)},useDebugValue:Si,useDeferredValue:function(e){var t=di(ui),r=t[0],n=t[1];return wi((function(){var t=Zo.transition;Zo.transition=1;try{n(e)}finally{Zo.transition=t}}),[e]),r},useTransition:function(){var e=di(ui)[0];return[bi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return di(ui)[0]},unstable_isNewReconciler:!1},ki={readContext:io,useCallback:Oi,useContext:io,useEffect:wi,useImperativeHandle:Ci,useLayoutEffect:Ni,useMemo:Ai,useReducer:fi,useRef:bi,useState:function(){return fi(ui)},useDebugValue:Si,useDeferredValue:function(e){var t=fi(ui),r=t[0],n=t[1];return wi((function(){var t=Zo.transition;Zo.transition=1;try{n(e)}finally{Zo.transition=t}}),[e]),r},useTransition:function(){var e=fi(ui)[0];return[bi().current,e]},useMutableSource:mi,useOpaqueIdentifier:function(){return fi(ui)[0]},unstable_isNewReconciler:!1},Ri=_.ReactCurrentOwner,Bi=!1;function Li(e,t,r,n){t.child=null===e?Oo(t,null,r,n):So(t,e.child,r,n)}function Fi(e,t,r,n,a){r=r.render;var o=t.ref;return oo(t,a),n=si(e,t,r,n,o,a),null===e||Bi?(t.flags|=1,Li(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,is(e,t,a))}function Ui(e,t,r,n,a,o){if(null===e){var i=r.type;return"function"!=typeof i||qc(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=$c(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Wi(e,t,i,n,a,o))}return i=e.child,a&o||(a=i.memoizedProps,!(r=null!==(r=r.compare)?r:fn)(a,n)||e.ref!==t.ref)?(t.flags|=1,(e=Hc(i,n)).ref=t.ref,e.return=t,t.child=e):is(e,t,o)}function Wi(e,t,r,n,a,o){if(null!==e&&fn(e.memoizedProps,n)&&e.ref===t.ref){if(Bi=!1,!(o&a))return t.lanes=e.lanes,is(e,t,o);16384&e.flags&&(Bi=!0)}return Ki(e,t,r,n,o)}function Vi(e,t,r){var n=t.pendingProps,a=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(4&t.mode){if(!(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wc(t,e),null;t.memoizedState={baseLanes:0},wc(t,null!==o?o.baseLanes:r)}else t.memoizedState={baseLanes:0},wc(t,r);else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,wc(t,n);return Li(e,t,a,r),t.child}function zi(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Ki(e,t,r,n,a){var o=xa(r)?ma:ha.current;return o=ga(t,o),oo(t,a),r=si(e,t,r,n,o,a),null===e||Bi?(t.flags|=1,Li(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,is(e,t,a))}function Gi(e,t,r,n,a){if(xa(r)){var o=!0;_a(t)}else o=!1;if(oo(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),yo(t,r,n),jo(t,r,n,a),n=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,l=r.contextType;"object"==typeof l&&null!==l?l=io(l):l=ga(t,l=xa(r)?ma:ha.current);var u=r.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==n||c!==l)&&_o(t,i,n,l),so=!1;var f=t.memoizedState;i.state=f,po(t,n,i,a),c=t.memoizedState,s!==n||f!==c||pa.current||so?("function"==typeof u&&(xo(t,r,u,n),c=t.memoizedState),(s=so||bo(t,r,s,n,f,c,l))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4)):("function"==typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=l,n=s):("function"==typeof i.componentDidMount&&(t.flags|=4),n=!1)}else{i=t.stateNode,lo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Qa(t.type,s),i.props=l,d=t.pendingProps,f=i.context,"object"==typeof(c=r.contextType)&&null!==c?c=io(c):c=ga(t,c=xa(r)?ma:ha.current);var h=r.getDerivedStateFromProps;(u="function"==typeof h||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==d||f!==c)&&_o(t,i,n,c),so=!1,f=t.memoizedState,i.state=f,po(t,n,i,a);var p=t.memoizedState;s!==d||f!==p||pa.current||so?("function"==typeof h&&(xo(t,r,h,n),p=t.memoizedState),(l=so||bo(t,r,l,n,f,p,c))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(n,p,c),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,p,c)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=c,n=l):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),n=!1)}return qi(e,t,r,n,o,a)}function qi(e,t,r,n,a,o){zi(e,t);var i=!!(64&t.flags);if(!n&&!i)return a&&ja(t,r,!1),is(e,t,o);n=t.stateNode,Ri.current=t;var s=i&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Li(e,t,s,o),t.memoizedState=n.state,a&&ja(t,r,!0),t.child}function Hi(e){var t=e.stateNode;t.pendingContext?ba(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ba(0,t.context,!1),Mo(e,t.containerInfo)}var $i,Yi,Xi,Qi,Zi={dehydrated:null,retryLane:0};function Ji(e,t,r){var n,a=t.pendingProps,o=Lo.current,i=!1;return(n=!!(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&!!(2&o)),n?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=1),da(Lo,1&o),null===e?(void 0!==a.fallback&&Go(t),e=a.children,o=a.fallback,i?(e=es(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Zi,e):"number"==typeof a.unstable_expectedLoadTime?(e=es(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Zi,t.lanes=33554432,e):((r=Xc({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,i?(a=rs(e,t,a.children,a.fallback,r),i=t.child,o=e.child.memoizedState,i.memoizedState=null===o?{baseLanes:r}:{baseLanes:o.baseLanes|r},i.childLanes=e.childLanes&~r,t.memoizedState=Zi,a):(r=ts(e,t,a.children,r),t.memoizedState=null,r))}function es(e,t,r,n){var a=e.mode,o=e.child;return t={mode:"hidden",children:t},2&a||null===o?o=Xc(t,a,0,null):(o.childLanes=0,o.pendingProps=t),r=Yc(r,a,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function ts(e,t,r,n){var a=e.child;return e=a.sibling,r=Hc(a,{mode:"visible",children:r}),!(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function rs(e,t,r,n,a){var o=t.mode,i=e.child;e=i.sibling;var s={mode:"hidden",children:r};return 2&o||t.child===i?r=Hc(i,s):((r=t.child).childLanes=0,r.pendingProps=s,null!==(i=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null),null!==e?n=Hc(e,n):(n=Yc(n,o,a,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function ns(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ao(e.return,t)}function as(e,t,r,n,a,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,lastEffect:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a,i.lastEffect=o)}function os(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Li(e,t,n.children,r),2&(n=Lo.current))n=1&n|2,t.flags|=64;else{if(null!==e&&64&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,r);else if(19===e.tag)ns(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(da(Lo,n),2&t.mode)switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===Fo(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),as(t,!1,a,r,o,t.lastEffect);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Fo(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}as(t,!0,r,null,o,t.lastEffect);break;case"together":as(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function is(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,r&t.childLanes){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(r=Hc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Hc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function ss(e,t){if(!Vo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cs(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return xa(t.type)&&va(),null;case 3:return ko(),ua(pa),ua(ha),Xo(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Yi(t),null;case 5:Bo(t);var o=To(Io.current);if(r=t.type,null!==e&&null!=t.stateNode)Xi(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(i(166));return null}if(e=To(Po.current),Ho(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Zn]=t,n[Jn]=s,r){case"dialog":Pn("cancel",n),Pn("close",n);break;case"iframe":case"object":case"embed":Pn("load",n);break;case"video":case"audio":for(e=0;e<Cn.length;e++)Pn(Cn[e],n);break;case"source":Pn("error",n);break;case"img":case"image":case"link":Pn("error",n),Pn("load",n);break;case"details":Pn("toggle",n);break;case"input":ee(n,s),Pn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Pn("invalid",n);break;case"textarea":ce(n,s),Pn("invalid",n)}for(var l in Ne(r,s),e=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"==typeof o?n.textContent!==o&&(e=["children",o]):"number"==typeof o&&n.textContent!==""+o&&(e=["children",""+o]):c.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Pn("scroll",n));switch(r){case"input":X(n),ne(n,s,!0);break;case"textarea":X(n),ue(n);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(n.onclick=Un)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,e===de&&(e=he(r)),e===de?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Zn]=t,e[Jn]=n,$i(e,t,!1,!1),t.stateNode=e,l=Ee(r,n),r){case"dialog":Pn("cancel",e),Pn("close",e),o=n;break;case"iframe":case"object":case"embed":Pn("load",e),o=n;break;case"video":case"audio":for(o=0;o<Cn.length;o++)Pn(Cn[o],e);o=n;break;case"source":Pn("error",e),o=n;break;case"img":case"image":case"link":Pn("error",e),Pn("load",e),o=n;break;case"details":Pn("toggle",e),o=n;break;case"input":ee(e,n),o=J(e,n),Pn("invalid",e);break;case"option":o=oe(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=a({},n,{value:void 0}),Pn("invalid",e);break;case"textarea":ce(e,n),o=se(e,n),Pn("invalid",e);break;default:o=n}Ne(r,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?je(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&xe(e,d):"children"===s?"string"==typeof d?("textarea"!==r||""!==d)&&ve(e,d):"number"==typeof d&&ve(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Pn("scroll",e):null!=d&&y(e,s,d,l))}switch(r){case"input":X(e),ne(e,n,!1);break;case"textarea":X(e),ue(e);break;case"option":null!=n.value&&e.setAttribute("value",""+$(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ie(e,!!n.multiple,s,!1):null!=n.defaultValue&&ie(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Un)}zn(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qi(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(i(166));r=To(Io.current),To(Po.current),Ho(t)?(n=t.stateNode,r=t.memoizedProps,n[Zn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Zn]=t,t.stateNode=n)}return null;case 13:return ua(Lo),n=t.memoizedState,64&t.flags?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):r=null!==e.memoizedState,n&&!r&&2&t.mode&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||1&Lo.current?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ms||!(134217727&Vs)&&!(134217727&zs)||bc(Ms,Rs))),(n||r)&&(t.flags|=4),null);case 4:return ko(),Yi(t),null===e&&In(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ua(Lo),null===(n=t.memoizedState))return null;if(s=!!(64&t.flags),null===(l=n.rendering))if(s)ss(n,!1);else{if(0!==Fs||null!==e&&64&e.flags)for(e=t.child;null!==e;){if(null!==(l=Fo(e))){for(t.flags|=64,ss(n,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return da(Lo,1&Lo.current|2),t.child}e=e.sibling}null!==n.tail&&za()>Hs&&(t.flags|=64,s=!0,ss(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(l))){if(t.flags|=64,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),ss(n,!0),null===n.tail&&"hidden"===n.tailMode&&!l.alternate&&!Vo)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*za()-n.renderingStartTime>Hs&&1073741824!==r&&(t.flags|=64,s=!0,ss(n,!1),t.lanes=33554432);n.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=n.last)?r.sibling=l:t.child=l,n.last=l)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=za(),r.sibling=null,t=Lo.current,da(Lo,s?1&t|2:1&t),r):null;case 23:case 24:return Nc(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function ls(e){switch(e.tag){case 1:xa(e.type)&&va();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ko(),ua(pa),ua(ha),Xo(),64&(t=e.flags))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Bo(e),null;case 13:return ua(Lo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ua(Lo),null;case 4:return ko(),null;case 10:return no(e),null;case 23:case 24:return Nc(),null;default:return null}}function us(e,t){try{var r="",n=t;do{r+=q(n),n=n.return}while(n);var a=r}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}$i=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Yi=function(){},Xi=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,To(Po.current);var i,s=null;switch(r){case"input":o=J(e,o),n=J(e,n),s=[];break;case"option":o=oe(e,o),n=oe(e,n),s=[];break;case"select":o=a({},o,{value:void 0}),n=a({},n,{value:void 0}),s=[];break;case"textarea":o=se(e,o),n=se(e,n),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof n.onClick&&(e.onclick=Un)}for(d in Ne(r,n),r=null,o)if(!n.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var u=n[d];if(l=null!=o?o[d]:void 0,n.hasOwnProperty(d)&&u!==l&&(null!=u||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(r||(r={}),r[i]=u[i])}else r||(s||(s=[]),s.push(d,r)),r=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!=typeof u&&"number"!=typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Pn("scroll",e),s||l===u||(s=[])):"object"==typeof u&&null!==u&&u.$$typeof===k?u.toString():(s=s||[]).push(d,u))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Qi=function(e,t,r,n){r!==n&&(t.flags|=4)};var fs="function"==typeof WeakMap?WeakMap:Map;function hs(e,t,r){(r=uo(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qs||(Qs=!0,Zs=n),ds(0,t)},r}function ps(e,t,r){(r=uo(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var a=t.value;r.payload=function(){return ds(0,t),n(a)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Js?Js=new Set([this]):Js.add(this),ds(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var ms="function"==typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Wc(e,t)}else t.current=null}function xs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Qa(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hn(t.stateNode.containerInfo))}throw Error(i(163))}function vs(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(!(3&~e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;n=a.next,4&(a=a.tag)&&1&a&&(Lc(r,e),Bc(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Qa(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&mo(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:case 1:e=r.child.stateNode}mo(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&zn(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&jt(r)))))}throw Error(i(163))}function bs(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"==typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var a=r.memoizedProps.style;a=null!=a&&a.hasOwnProperty("display")?a.display:null,n.style.display=_e("display",a)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ys(e,t){if(Na&&"function"==typeof Na.onCommitFiberUnmount)try{Na.onCommitFiberUnmount(wa,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,a=n.destroy;if(n=n.tag,void 0!==a)if(4&n)Lc(t,r);else{n=t;try{a()}catch(e){Wc(n,e)}}r=r.next}while(r!==e)}break;case 1:if(gs(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Wc(t,e)}break;case 5:gs(t);break;case 4:Cs(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function js(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(js(t))break e;t=t.return}throw Error(i(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(i(161))}16&r.flags&&(ve(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||js(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?Ns(e,r,t):Es(e,r,t)}function Ns(e,t,r){var n=e.tag,a=5===n||6===n;if(a)e=a?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Un));else if(4!==n&&null!==(e=e.child))for(Ns(e,t,r),e=e.sibling;null!==e;)Ns(e,t,r),e=e.sibling}function Es(e,t,r){var n=e.tag,a=5===n||6===n;if(a)e=a?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(Es(e,t,r),e=e.sibling;null!==e;)Es(e,t,r),e=e.sibling}function Cs(e,t){for(var r,n,a=t,o=!1;;){if(!o){o=a.return;e:for(;;){if(null===o)throw Error(i(160));switch(r=o.stateNode,o.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}o=o.return}o=!0}if(5===a.tag||6===a.tag){e:for(var s=e,c=a,l=c;;)if(ys(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}n?(s=r,c=a.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,n=!0,a.child.return=a,a=a.child;continue}}else if(ys(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(o=!1)}a.sibling.return=a.return,a=a.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{!(3&~n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:case 12:case 17:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var a=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Jn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),Ee(e,a),t=Ee(e,n),a=0;a<o.length;a+=2){var s=o[a],c=o[a+1];"style"===s?je(r,c):"dangerouslySetInnerHTML"===s?xe(r,c):"children"===s?ve(r,c):y(r,s,c,t)}switch(e){case"input":re(r,n);break;case"textarea":le(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(o=n.value)?ie(r,!!n.multiple,o,!1):e!==!!n.multiple&&(null!=n.defaultValue?ie(r,!!n.multiple,n.defaultValue,!0):ie(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,jt(r.containerInfo)));case 13:return null!==t.memoizedState&&(qs=za(),bs(t.child,!0)),void Os(t);case 19:return void Os(t);case 23:case 24:return void bs(t,null!==t.memoizedState)}throw Error(i(163))}function Os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ms),t.forEach((function(t){var n=zc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,Ds=_.ReactCurrentDispatcher,Is=_.ReactCurrentOwner,Ts=0,Ms=null,ks=null,Rs=0,Bs=0,Ls=la(0),Fs=0,Us=null,Ws=0,Vs=0,zs=0,Ks=0,Gs=null,qs=0,Hs=1/0;function $s(){Hs=za()+500}var Ys,Xs=null,Qs=!1,Zs=null,Js=null,ec=!1,tc=null,rc=90,nc=[],ac=[],oc=null,ic=0,sc=null,cc=-1,lc=0,uc=0,dc=null,fc=!1;function hc(){return 48&Ts?za():-1!==cc?cc:cc=za()}function pc(e){if(!(2&(e=e.mode)))return 1;if(!(4&e))return 99===Ka()?1:2;if(0===lc&&(lc=Ws),0!==Xa.transition){0!==uc&&(uc=null!==Gs?Gs.pendingLanes:0),e=lc;var t=4186112&~uc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ka(),4&Ts&&98===e?e=Ut(12,lc):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),lc),e}function mc(e,t,r){if(50<ic)throw ic=0,sc=null,Error(i(185));if(null===(e=gc(e,t)))return null;zt(e,t,r),e===Ms&&(zs|=t,4===Fs&&bc(e,Rs));var n=Ka();1===t?8&Ts&&!(48&Ts)?yc(e):(xc(e,r),0===Ts&&($s(),$a())):(!(4&Ts)||98!==n&&99!==n||(null===oc?oc=new Set([e]):oc.add(e)),xc(e,r)),Gs=e}function gc(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function xc(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Kt(s),l=1<<c,u=o[c];if(-1===u){if(!(l&n)||l&a){u=t,Bt(l);var d=Rt;o[c]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=l);s&=~l}if(n=Lt(e,e===Ms?Rs:0),t=Rt,0===n)null!==r&&(r!==Ba&&Sa(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Ba&&Sa(r)}15===t?(r=yc.bind(null,e),null===Fa?(Fa=[r],Ua=Ca(Ia,Ya)):Fa.push(r),r=Ba):14===t?r=Ha(99,yc.bind(null,e)):(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),r=Ha(r,vc.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function vc(e){if(cc=-1,uc=lc=0,48&Ts)throw Error(i(327));var t=e.callbackNode;if(Rc()&&e.callbackNode!==t)return null;var r=Lt(e,e===Ms?Rs:0);if(0===r)return null;var n=r,a=Ts;Ts|=16;var o=Sc();for(Ms===e&&Rs===n||($s(),Ec(e,n));;)try{Pc();break}catch(t){Cc(e,t)}if(ro(),Ds.current=o,Ts=a,null!==ks?n=0:(Ms=null,Rs=0,n=Fs),Ws&zs)Ec(e,0);else if(0!==n){if(2===n&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Hn(e.containerInfo)),0!==(r=Ft(e))&&(n=Oc(e,r))),1===n)throw t=Us,Ec(e,0),bc(e,r),xc(e,za()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(i(345));case 2:case 5:Tc(e);break;case 3:if(bc(e,r),(62914560&r)===r&&10<(n=qs+500-za())){if(0!==Lt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){hc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gn(Tc.bind(null,e),n);break}Tc(e);break;case 4:if(bc(e,r),(4186112&r)===r)break;for(n=e.eventTimes,a=-1;0<r;){var s=31-Kt(r);o=1<<s,(s=n[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=za()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ps(r/1960))-r)){e.timeoutHandle=Gn(Tc.bind(null,e),r);break}Tc(e);break;default:throw Error(i(329))}}return xc(e,za()),e.callbackNode===t?vc.bind(null,e):null}function bc(e,t){for(t&=~Ks,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kt(t),n=1<<r;e[r]=-1,t&=~n}}function yc(e){if(48&Ts)throw Error(i(327));if(Rc(),e===Ms&&e.expiredLanes&Rs){var t=Rs,r=Oc(e,t);Ws&zs&&(r=Oc(e,t=Lt(e,t)))}else r=Oc(e,t=Lt(e,0));if(0!==e.tag&&2===r&&(Ts|=64,e.hydrate&&(e.hydrate=!1,Hn(e.containerInfo)),0!==(t=Ft(e))&&(r=Oc(e,t))),1===r)throw r=Us,Ec(e,0),bc(e,t),xc(e,za()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e),xc(e,za()),null}function _c(e,t){var r=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=r)&&($s(),$a())}}function jc(e,t){var r=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=r)&&($s(),$a())}}function wc(e,t){da(Ls,Bs),Bs|=t,Ws|=t}function Nc(){Bs=Ls.current,ua(Ls)}function Ec(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,qn(r)),null!==ks)for(r=ks.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&va();break;case 3:ko(),ua(pa),ua(ha),Xo();break;case 5:Bo(n);break;case 4:ko();break;case 13:case 19:ua(Lo);break;case 10:no(n);break;case 23:case 24:Nc()}r=r.return}Ms=e,ks=Hc(e.current,null),Rs=Bs=Ws=t,Fs=0,Us=null,Ks=zs=Vs=0}function Cc(e,t){for(;;){var r=ks;try{if(ro(),Qo.current=Ii,ni){for(var n=ei.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}ni=!1}if(Jo=0,ri=ti=ei=null,ai=!1,Is.current=null,null===r||null===r.return){Fs=1,Us=t,ks=null;break}e:{var o=e,i=r.return,s=r,c=t;if(t=Rs,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var l=c;if(!(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=!!(1&Lo.current),f=i;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var m=f.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(h){var g=f.updateQueue;if(null===g){var x=new Set;x.add(l),f.updateQueue=x}else g.add(l);if(!(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=uo(-1,1);v.tag=2,fo(s,v)}s.lanes|=1;break e}c=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,c=new Set,b.set(l,c)):void 0===(c=b.get(l))&&(c=new Set,b.set(l,c)),!c.has(s)){c.add(s);var y=Vc.bind(null,o,l,s);l.then(y,y)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);c=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),c=us(c,s),f=i;do{switch(f.tag){case 3:o=c,f.flags|=4096,t&=-t,f.lanes|=t,ho(f,hs(0,o,t));break e;case 1:o=c;var _=f.type,j=f.stateNode;if(!(64&f.flags||"function"!=typeof _.getDerivedStateFromError&&(null===j||"function"!=typeof j.componentDidCatch||null!==Js&&Js.has(j)))){f.flags|=4096,t&=-t,f.lanes|=t,ho(f,ps(f,o,t));break e}}f=f.return}while(null!==f)}Ic(r)}catch(e){t=e,ks===r&&null!==r&&(ks=r=r.return);continue}break}}function Sc(){var e=Ds.current;return Ds.current=Ii,null===e?Ii:e}function Oc(e,t){var r=Ts;Ts|=16;var n=Sc();for(Ms===e&&Rs===t||Ec(e,t);;)try{Ac();break}catch(t){Cc(e,t)}if(ro(),Ts=r,Ds.current=n,null!==ks)throw Error(i(261));return Ms=null,Rs=0,Fs}function Ac(){for(;null!==ks;)Dc(ks)}function Pc(){for(;null!==ks&&!Oa();)Dc(ks)}function Dc(e){var t=Ys(e.alternate,e,Bs);e.memoizedProps=e.pendingProps,null===t?Ic(e):ks=t,Is.current=null}function Ic(e){var t=e;do{var r=t.alternate;if(e=t.return,2048&t.flags){if(null!==(r=ls(t)))return r.flags&=2047,void(ks=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}else{if(null!==(r=cs(r,t,Bs)))return void(ks=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||1073741824&Bs||!(4&r.mode)){for(var n=0,a=r.child;null!==a;)n|=a.lanes|a.childLanes,a=a.sibling;r.childLanes=n}null!==e&&!(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===Fs&&(Fs=5)}function Tc(e){var t=Ka();return qa(99,Mc.bind(null,e,t)),null}function Mc(e,t){do{Rc()}while(null!==tc);if(48&Ts)throw Error(i(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null;var n=r.lanes|r.childLanes,a=n,o=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<o;){var l=31-Kt(o),u=1<<l;a[l]=0,s[l]=-1,c[l]=-1,o&=~u}if(null!==oc&&!(24&n)&&oc.has(e)&&oc.delete(e),e===Ms&&(ks=Ms=null,Rs=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(a=Ts,Ts|=32,Is.current=null,Wn=Yt,xn(s=gn())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(u=c.getSelection&&c.getSelection())&&0!==u.rangeCount){c=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{c.nodeType,l.nodeType}catch(e){c=null;break e}var d=0,f=-1,h=-1,p=0,m=0,g=s,x=null;t:for(;;){for(var v;g!==c||0!==o&&3!==g.nodeType||(f=d+o),g!==l||0!==u&&3!==g.nodeType||(h=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(v=g.firstChild);)x=g,g=v;for(;;){if(g===s)break t;if(x===c&&++p===o&&(f=d),x===l&&++m===u&&(h=d),null!==(v=g.nextSibling))break;x=(g=x).parentNode}g=v}c=-1===f||-1===h?null:{start:f,end:h}}else c=null;c=c||{start:0,end:0}}else c=null;Vn={focusedElem:s,selectionRange:c},Yt=!1,dc=null,fc=!1,Xs=n;do{try{kc()}catch(e){if(null===Xs)throw Error(i(330));Wc(Xs,e),Xs=Xs.nextEffect}}while(null!==Xs);dc=null,Xs=n;do{try{for(s=e;null!==Xs;){var b=Xs.flags;if(16&b&&ve(Xs.stateNode,""),128&b){var y=Xs.alternate;if(null!==y){var _=y.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:ws(Xs),Xs.flags&=-3;break;case 6:ws(Xs),Xs.flags&=-3,Ss(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,Ss(Xs.alternate,Xs);break;case 4:Ss(Xs.alternate,Xs);break;case 8:Cs(s,c=Xs);var j=c.alternate;_s(c),null!==j&&_s(j)}Xs=Xs.nextEffect}}catch(e){if(null===Xs)throw Error(i(330));Wc(Xs,e),Xs=Xs.nextEffect}}while(null!==Xs);if(_=Vn,y=gn(),b=_.focusedElem,s=_.selectionRange,y!==b&&b&&b.ownerDocument&&mn(b.ownerDocument.documentElement,b)){null!==s&&xn(b)&&(y=s.start,void 0===(_=s.end)&&(_=y),"selectionStart"in b?(b.selectionStart=y,b.selectionEnd=Math.min(_,b.value.length)):(_=(y=b.ownerDocument||document)&&y.defaultView||window).getSelection&&(_=_.getSelection(),c=b.textContent.length,j=Math.min(s.start,c),s=void 0===s.end?j:Math.min(s.end,c),!_.extend&&j>s&&(c=s,s=j,j=c),c=pn(b,j),o=pn(b,s),c&&o&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((y=y.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),j>s?(_.addRange(y),_.extend(o.node,o.offset)):(y.setEnd(o.node,o.offset),_.addRange(y))))),y=[];for(_=b;_=_.parentNode;)1===_.nodeType&&y.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<y.length;b++)(_=y[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Yt=!!Wn,Vn=Wn=null,e.current=r,Xs=n;do{try{for(b=e;null!==Xs;){var w=Xs.flags;if(36&w&&vs(b,Xs.alternate,Xs),128&w){y=void 0;var N=Xs.ref;if(null!==N){var E=Xs.stateNode;Xs.tag,y=E,"function"==typeof N?N(y):N.current=y}}Xs=Xs.nextEffect}}catch(e){if(null===Xs)throw Error(i(330));Wc(Xs,e),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,La(),Ts=a}else e.current=r;if(ec)ec=!1,tc=e,rc=t;else for(Xs=n;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((w=Xs).sibling=null,w.stateNode=null),Xs=t;if(0===(n=e.pendingLanes)&&(Js=null),1===n?e===sc?ic++:(ic=0,sc=e):ic=0,r=r.stateNode,Na&&"function"==typeof Na.onCommitFiberRoot)try{Na.onCommitFiberRoot(wa,r,void 0,!(64&~r.current.flags))}catch(e){}if(xc(e,za()),Qs)throw Qs=!1,e=Zs,Zs=null,e;return 8&Ts||$a(),null}function kc(){for(;null!==Xs;){var e=Xs.alternate;fc||null===dc||(8&Xs.flags?et(Xs,dc)&&(fc=!0):13===Xs.tag&&As(e,Xs)&&et(Xs,dc)&&(fc=!0));var t=Xs.flags;256&t&&xs(e,Xs),!(512&t)||ec||(ec=!0,Ha(97,(function(){return Rc(),null}))),Xs=Xs.nextEffect}}function Rc(){if(90!==rc){var e=97<rc?97:rc;return rc=90,qa(e,Fc)}return!1}function Bc(e,t){nc.push(t,e),ec||(ec=!0,Ha(97,(function(){return Rc(),null})))}function Lc(e,t){ac.push(t,e),ec||(ec=!0,Ha(97,(function(){return Rc(),null})))}function Fc(){if(null===tc)return!1;var e=tc;if(tc=null,48&Ts)throw Error(i(331));var t=Ts;Ts|=32;var r=ac;ac=[];for(var n=0;n<r.length;n+=2){var a=r[n],o=r[n+1],s=a.destroy;if(a.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===o)throw Error(i(330));Wc(o,e)}}for(r=nc,nc=[],n=0;n<r.length;n+=2){a=r[n],o=r[n+1];try{var c=a.create;a.destroy=c()}catch(e){if(null===o)throw Error(i(330));Wc(o,e)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Ts=t,$a(),!0}function Uc(e,t,r){fo(e,t=hs(0,t=us(r,t),1)),t=hc(),null!==(e=gc(e,1))&&(zt(e,1,t),xc(e,t))}function Wc(e,t){if(3===e.tag)Uc(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Uc(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Js||!Js.has(n))){var a=ps(r,e=us(t,e),1);if(fo(r,a),a=hc(),null!==(r=gc(r,1)))zt(r,1,a),xc(r,a);else if("function"==typeof n.componentDidCatch&&(null===Js||!Js.has(n)))try{n.componentDidCatch(t,e)}catch(e){}break}}r=r.return}}function Vc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=hc(),e.pingedLanes|=e.suspendedLanes&r,Ms===e&&(Rs&r)===r&&(4===Fs||3===Fs&&(62914560&Rs)===Rs&&500>za()-qs?Ec(e,0):Ks|=r),xc(e,t)}function zc(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(2&(t=e.mode)?4&t?(0===lc&&(lc=Ws),0===(t=Wt(62914560&~lc))&&(t=4194304)):t=99===Ka()?1:2:t=1),r=hc(),null!==(e=gc(e,t))&&(zt(e,t,r),xc(e,r))}function Kc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gc(e,t,r,n){return new Kc(e,t,r,n)}function qc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hc(e,t){var r=e.alternate;return null===r?((r=Gc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $c(e,t,r,n,a,o){var s=2;if(n=e,"function"==typeof e)qc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case N:return Yc(r.children,a,o,t);case R:s=8,a|=16;break;case E:s=8,a|=1;break;case C:return(e=Gc(12,r,t,8|a)).elementType=C,e.type=C,e.lanes=o,e;case P:return(e=Gc(13,r,t,a)).type=P,e.elementType=P,e.lanes=o,e;case D:return(e=Gc(19,r,t,a)).elementType=D,e.lanes=o,e;case B:return Xc(r,a,o,t);case L:return(e=Gc(24,r,t,a)).elementType=L,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case O:s=9;break e;case A:s=11;break e;case I:s=14;break e;case T:s=16,n=null;break e;case M:s=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Gc(s,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function Yc(e,t,r,n){return(e=Gc(7,e,n,t)).lanes=r,e}function Xc(e,t,r,n){return(e=Gc(23,e,n,t)).elementType=B,e.lanes=r,e}function Qc(e,t,r){return(e=Gc(6,e,null,t)).lanes=r,e}function Zc(e,t,r){return(t=Gc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jc(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function el(e,t,r,n){var a=t.current,o=hc(),s=pc(a);e:if(r){t:{if(Xe(r=r._reactInternals)!==r||1!==r.tag)throw Error(i(170));var c=r;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(xa(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(i(171))}if(1===r.tag){var l=r.type;if(xa(l)){r=ya(r,l,c);break e}}r=c}else r=fa;return null===t.context?t.context=r:t.pendingContext=r,(t=uo(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),fo(a,t),mc(a,s,o),s}function tl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function rl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function nl(e,t){rl(e,t),(e=e.alternate)&&rl(e,t)}function al(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Jc(e,t,null!=r&&!0===r.hydrate),t=Gc(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,co(t),e[ea]=r.current,In(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var a=(t=n[e])._getVersion;a=a(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,a]:r.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=r}function ol(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function il(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o._internalRoot;if("function"==typeof a){var s=a;a=function(){var e=tl(i);s.call(e)}}el(t,i,e,a)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new al(e,0,t?{hydrate:!0}:void 0)}(r,n),i=o._internalRoot,"function"==typeof a){var c=a;a=function(){var e=tl(i);c.call(e)}}jc((function(){el(t,i,e,a)}))}return tl(i)}function sl(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(t))throw Error(i(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)}Ys=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pa.current)Bi=!0;else{if(!(r&n)){switch(Bi=!1,t.tag){case 3:Hi(t),$o();break;case 5:Ro(t);break;case 1:xa(t.type)&&_a(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var a=t.type._context;da(Za,a._currentValue),a._currentValue=n;break;case 13:if(null!==t.memoizedState)return r&t.child.childLanes?Ji(e,t,r):(da(Lo,1&Lo.current),null!==(t=is(e,t,r))?t.sibling:null);da(Lo,1&Lo.current);break;case 19:if(n=!!(r&t.childLanes),64&e.flags){if(n)return os(e,t,r);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),da(Lo,Lo.current),n)break;return null;case 23:case 24:return t.lanes=0,Vi(e,t,r)}return is(e,t,r)}Bi=!!(16384&e.flags)}else Bi=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=ga(t,ha.current),oo(t,r),a=si(null,t,n,e,a,r),t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,xa(n)){var o=!0;_a(t)}else o=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,co(t);var s=n.getDerivedStateFromProps;"function"==typeof s&&xo(t,n,s,e),a.updater=vo,t.stateNode=a,a._reactInternals=t,jo(t,n,e,r),t=qi(null,t,n,!0,o,r)}else t.tag=0,Li(null,t,a,r),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(o=a._init)(a._payload),t.type=a,o=t.tag=function(e){if("function"==typeof e)return qc(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===I)return 14}return 2}(a),e=Qa(a,e),o){case 0:t=Ki(null,t,a,e,r);break e;case 1:t=Gi(null,t,a,e,r);break e;case 11:t=Fi(null,t,a,e,r);break e;case 14:t=Ui(null,t,a,Qa(a.type,e),n,r);break e}throw Error(i(306,a,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ki(e,t,n,a=t.elementType===n?a:Qa(n,a),r);case 1:return n=t.type,a=t.pendingProps,Gi(e,t,n,a=t.elementType===n?a:Qa(n,a),r);case 3:if(Hi(t),n=t.updateQueue,null===e||null===n)throw Error(i(282));if(n=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,lo(e,t),po(t,n,null,r),(n=t.memoizedState.element)===a)$o(),t=is(e,t,r);else{if((o=(a=t.stateNode).hydrate)&&(Wo=$n(t.stateNode.containerInfo.firstChild),Uo=t,o=Vo=!0),o){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(o=e[a])._workInProgressVersionPrimary=e[a+1],Yo.push(o);for(r=Oo(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Li(e,t,n,r),$o();t=t.child}return t;case 5:return Ro(t),null===e&&Go(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,Kn(n,a)?s=null:null!==o&&Kn(n,o)&&(t.flags|=16),zi(e,t),Li(e,t,s,r),t.child;case 6:return null===e&&Go(t),null;case 13:return Ji(e,t,r);case 4:return Mo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=So(t,null,n,r):Li(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Fi(e,t,n,a=t.elementType===n?a:Qa(n,a),r);case 7:return Li(e,t,t.pendingProps,r),t.child;case 8:case 12:return Li(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value;var c=t.type._context;if(da(Za,c._currentValue),c._currentValue=o,null!==s)if(c=s.value,0===(o=un(c,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(c,o):1073741823))){if(s.children===a.children&&!pa.current){t=is(e,t,r);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.dependencies;if(null!==l){s=c.child;for(var u=l.firstContext;null!==u;){if(u.context===n&&u.observedBits&o){1===c.tag&&((u=uo(-1,r&-r)).tag=2,fo(c,u)),c.lanes|=r,null!==(u=c.alternate)&&(u.lanes|=r),ao(c.return,r),l.lanes|=r;break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}Li(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=(o=t.pendingProps).children,oo(t,r),n=n(a=io(a,o.unstable_observedBits)),t.flags|=1,Li(e,t,n,r),t.child;case 14:return o=Qa(a=t.type,t.pendingProps),Ui(e,t,a,o=Qa(a.type,o),n,r);case 15:return Wi(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Qa(n,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,xa(n)?(e=!0,_a(t)):e=!1,oo(t,r),yo(t,n,a),jo(t,n,a,r),qi(null,t,n,!0,e,r);case 19:return os(e,t,r);case 23:case 24:return Vi(e,t,r)}throw Error(i(156,t.tag))},al.prototype.render=function(e){el(e,this._internalRoot,null,null)},al.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;el(null,e,null,(function(){t[ea]=null}))},tt=function(e){13===e.tag&&(mc(e,4,hc()),nl(e,4))},rt=function(e){13===e.tag&&(mc(e,67108864,hc()),nl(e,67108864))},nt=function(e){if(13===e.tag){var t=hc(),r=pc(e);mc(e,r,t),nl(e,r)}},at=function(e,t){return t()},Se=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=oa(n);if(!a)throw Error(i(90));Q(n),re(n,a)}}}break;case"textarea":le(e,r);break;case"select":null!=(t=r.value)&&ie(e,!!r.multiple,t,!1)}},Te=_c,Me=function(e,t,r,n,a){var o=Ts;Ts|=4;try{return qa(98,e.bind(null,t,r,n,a))}finally{0===(Ts=o)&&($s(),$a())}},ke=function(){!(49&Ts)&&(function(){if(null!==oc){var e=oc;oc=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,xc(e,za())}))}$a()}(),Rc())},Re=function(e,t){var r=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=r)&&($s(),$a())}};var cl={Events:[na,aa,oa,De,Ie,Rc,{current:!1}]},ll={findFiberByHostInstance:ra,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ul={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{wa=dl.inject(ul),Na=dl}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cl,t.createPortal=sl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Ts;if(48&r)return e(t);Ts|=1;try{if(e)return qa(99,e.bind(null,t))}finally{Ts=r,$a()}},t.hydrate=function(e,t,r){if(!ol(t))throw Error(i(200));return il(null,e,t,!0,r)},t.render=function(e,t,r){if(!ol(t))throw Error(i(200));return il(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!ol(e))throw Error(i(40));return!!e._reactRootContainer&&(jc((function(){il(null,null,e,!1,(function(){e._reactRootContainer=null,e[ea]=null}))})),!0)},t.unstable_batchedUpdates=_c,t.unstable_createPortal=function(e,t){return sl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ol(r))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return il(e,t,r,!1,n)},t.version="17.0.2"},2552:(e,t,r)=>{var n=r(1873),a=r(659),o=r(9350),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},2651:(e,t,r)=>{var n=r(4218);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},2694:(e,t,r)=>{"use strict";var n=r(6925);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},2749:(e,t,r)=>{var n=r(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},2799:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,x=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case o:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case l:case f:case g:case m:case c:return e;default:return t}}case a:return t}}}function j(e){return _(e)===d}t.isFragment=function(e){return _(e)===o}},2804:(e,t,r)=>{var n=r(6110)(r(9325),"Promise");e.exports=n},2865:(e,t,r)=>{var n=r(9570),a=r(1811)(n);e.exports=a},2881:(e,t,r)=>{"use strict";var n=r(9516),a=r(6987);e.exports=function(e,t,r){var o=this||a;return n.forEach(r,(function(r){e=r.call(o,e,t)})),e}},2882:e=>{var t="-".charCodeAt(0),r="+".charCodeAt(0),n=".".charCodeAt(0),a="e".charCodeAt(0),o="E".charCodeAt(0);e.exports=function(e){for(var i,s=0,c=e.length,l=!1,u=-1,d=!1;s<c;){if((i=e.charCodeAt(s))>=48&&i<=57)d=!0;else if(i===a||i===o){if(u>-1)break;u=s}else if(i===n){if(l)break;l=!0}else{if(i!==r&&i!==t)break;if(0!==s)break}s+=1}return u+1===s&&s--,!!d&&{number:e.slice(0,s),unit:e.slice(s)}}},2949:(e,t,r)=>{var n=r(2651);e.exports=function(e,t){var r=n(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}},2958:(e,t,r)=>{"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return a(e.children,(function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:i(r,"appear",e),enter:i(r,"enter",e),exit:i(r,"exit",e)})}))},t.getNextChildMapping=function(e,t,r){var s=a(e.children),c=o(t,s);return Object.keys(c).forEach((function(a){var o=c[a];if((0,n.isValidElement)(o)){var l=a in t,u=a in s,d=t[a],f=(0,n.isValidElement)(d)&&!d.props.in;!u||l&&!f?u||!l||f?u&&l&&(0,n.isValidElement)(d)&&(c[a]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:d.props.in,exit:i(o,"exit",e),enter:i(o,"enter",e)})):c[a]=(0,n.cloneElement)(o,{in:!1}):c[a]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:i(o,"exit",e),enter:i(o,"enter",e)})}})),c};var n=r(6540);function a(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function o(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,a=Object.create(null),o=[];for(var i in e)i in t?o.length&&(a[i]=o,o=[]):o.push(i);var s={};for(var c in t){if(a[c])for(n=0;n<a[c].length;n++){var l=a[c][n];s[a[c][n]]=r(l)}s[c]=r(c)}for(n=0;n<o.length;n++)s[o[n]]=r(o[n]);return s}function i(e,t,r){return null!=r[t]?r[t]:e.props[t]}},2963:(e,t,r)=>{"use strict";var n=r(5709);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=n(r(598));e.exports=t.default},2973:()=>{},3031:(e,t,r)=>{var n=r(3120),a=r(6155),o=r(9302),i=r(6800),s=o((function(e,t){if(null==e)return[];var r=t.length;return r>1&&i(e,t[0],t[1])?t=[]:r>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,n(t,1),[])}));e.exports=s},3040:(e,t,r)=>{var n=r(1549),a=r(79),o=r(8223);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(o||a),string:new n}}},3120:(e,t,r)=>{var n=r(4528),a=r(5891);e.exports=function e(t,r,o,i,s){var c=-1,l=t.length;for(o||(o=a),s||(s=[]);++c<l;){var u=t[c];r>0&&o(u)?r>1?e(u,r-1,o,i,s):n(s,u):i||(s[s.length]=u)}return s}},3181:(e,t,r)=>{var n=r(5508)();e.exports=n},3191:(e,t,r)=>{"use strict";var n=r(1928);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},3221:e=>{e.exports=function(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===r(o[c],c,o))break}return t}}},3222:(e,t,r)=>{var n=r(7556);e.exports=function(e){return null==e?"":n(e)}},3243:(e,t,r)=>{var n=r(6110),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},3335:e=>{e.exports=function(e,t){return e>t}},3345:e=>{e.exports=function(){return[]}},3360:(e,t,r)=>{var n=r(3243);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},3471:(e,t,r)=>{"use strict";var n=r(9516);function a(){this.handlers=[]}a.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},3488:e=>{e.exports=function(e){return e}},3496:(e,t,r)=>{"use strict";r.d(t,{Dv:()=>m,nm:()=>p});var n=r(6540),a=r(4848);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var h=(0,n.createContext)(),p=function(){var e=(0,n.useContext)(h);if(!e)throw new Error("useApp debe ser usado dentro de un AppProvider");return e},m=function(e){var t=e.children,r=u((0,n.useState)(null),2),o=r[0],i=r[1],d=u((0,n.useState)(null),2),f=d[0],p=d[1],m=u((0,n.useState)(!1),2),g=m[0],x=m[1],v=u((0,n.useState)([]),2),b=v[0],y=v[1],_=u((0,n.useState)("pagar"),2),j=_[0],w=_[1],N=u((0,n.useState)(null),2),E=N[0],C=N[1],S=u((0,n.useState)([]),2),O=S[0],A=S[1],P=u((0,n.useState)(""),2),D=P[0],I=P[1],T=u((0,n.useState)({}),2),M=T[0],k=T[1],R=u((0,n.useState)({}),2),B=R[0],L=R[1],F=u((0,n.useState)("light"),2),U=F[0],W=F[1],V=u((0,n.useState)(!0),2),z=V[0],K=V[1],G=function(e){A((function(t){return t.filter((function(t){return t.id!==e}))}))},q={activeProductCart:o,setActiveProductCart:i,user:f,setUser:p,loading:g,setLoading:x,notifications:b,currentView:j,setCurrentView:w,selectedProduct:E,setSelectedProduct:C,cartItems:O,searchQuery:D,setSearchQuery:I,filters:M,setFilters:k,modalStates:B,theme:U,setTheme:W,searchCompleted:z,setSearchCompleted:K,addNotification:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,n=Date.now(),a={id:n,message:e,type:t,duration:r};y((function(e){return[].concat(l(e),[a])})),setTimeout((function(){y((function(e){return e.filter((function(e){return e.id!==n}))}))}),r)},removeNotification:function(e){y((function(t){return t.filter((function(t){return t.id!==e}))}))},openModal:function(e){L((function(t){return s(s({},t),{},c({},e,!0))}))},closeModal:function(e){L((function(t){return s(s({},t),{},c({},e,!1))}))},toggleModal:function(e){L((function(t){return s(s({},t),{},c({},e,!t[e]))}))},addToCart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;A((function(r){return r.find((function(t){return t.id===e.id}))?r.map((function(r){return r.id===e.id?s(s({},r),{},{quantity:r.quantity+t}):r})):[].concat(l(r),[s(s({},e),{},{quantity:t})])}))},removeFromCart:G,updateCartItemQuantity:function(e,t){t<=0?G(e):A((function(r){return r.map((function(r){return r.id===e?s(s({},r),{},{quantity:t}):r}))}))},clearCart:function(){A([])}};return(0,a.jsx)(h.Provider,{value:q,children:t})}},3505:(e,t,r)=>{"use strict";r.d(t,{v:()=>P});var n="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function a(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on".concat(t),(function(){r(window.event)}))}function o(e,t){for(var r=t.slice(0,t.length-1),n=0;n<r.length;n++)r[n]=e[r[n].toLowerCase()];return r}function i(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),r=t.lastIndexOf("");r>=0;)t[r-1]+=",",t.splice(r,1),r=t.lastIndexOf("");return t}for(var s={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":n?173:189,"=":n?61:187,";":n?59:186,"'":222,"[":219,"]":221,"\\":220},c={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},l={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},u={16:!1,18:!1,17:!1,91:!1},d={},f=1;f<20;f++)s["f".concat(f)]=111+f;var h=[],p="all",m=[],g=function(e){return s[e.toLowerCase()]||c[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function x(e){p=e||"all"}function v(){return p||"all"}var b=function(e){var t=e.key,r=e.scope,n=e.method,a=e.splitKey,s=void 0===a?"+":a;i(t).forEach((function(e){var t=e.split(s),a=t.length,i=t[a-1],l="*"===i?"*":g(i);if(d[l]){r||(r=v());var u=a>1?o(c,t):[];d[l]=d[l].map((function(e){return(!n||e.method===n)&&e.scope===r&&function(e,t){for(var r=e.length>=t.length?e:t,n=e.length>=t.length?t:e,a=!0,o=0;o<r.length;o++)-1===n.indexOf(r[o])&&(a=!1);return a}(e.mods,u)?{}:e}))}}))};function y(e,t,r){var n;if(t.scope===r||"all"===t.scope){for(var a in n=t.mods.length>0,u)Object.prototype.hasOwnProperty.call(u,a)&&(!u[a]&&t.mods.indexOf(+a)>-1||u[a]&&-1===t.mods.indexOf(+a))&&(n=!1);(0!==t.mods.length||u[16]||u[18]||u[17]||u[91])&&!n&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function _(e){var t=d["*"],r=e.keyCode||e.which||e.charCode;if(j.filter.call(this,e)){if(93!==r&&224!==r||(r=91),-1===h.indexOf(r)&&229!==r&&h.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(t){var r=l[t];e[t]&&-1===h.indexOf(r)?h.push(r):!e[t]&&h.indexOf(r)>-1?h.splice(h.indexOf(r),1):"metaKey"===t&&e[t]&&3===h.length&&(e.ctrlKey||e.shiftKey||e.altKey||(h=h.slice(h.indexOf(r))))})),r in u){for(var n in u[r]=!0,c)c[n]===r&&(j[n]=!0);if(!t)return}for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(u[a]=e[l[a]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===h.indexOf(17)&&h.push(17),-1===h.indexOf(18)&&h.push(18),u[17]=!0,u[18]=!0);var o=v();if(t)for(var i=0;i<t.length;i++)t[i].scope===o&&("keydown"===e.type&&t[i].keydown||"keyup"===e.type&&t[i].keyup)&&y(e,t[i],o);if(r in d)for(var s=0;s<d[r].length;s++)if(("keydown"===e.type&&d[r][s].keydown||"keyup"===e.type&&d[r][s].keyup)&&d[r][s].key){for(var f=d[r][s],p=f.splitKey,m=f.key.split(p),x=[],b=0;b<m.length;b++)x.push(g(m[b]));x.sort().join("")===h.sort().join("")&&y(e,f,o)}}}function j(e,t,r){h=[];var n=i(e),s=[],l="all",f=document,p=0,x=!1,v=!0,b="+";for(void 0===r&&"function"==typeof t&&(r=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(l=t.scope),t.element&&(f=t.element),t.keyup&&(x=t.keyup),void 0!==t.keydown&&(v=t.keydown),"string"==typeof t.splitKey&&(b=t.splitKey)),"string"==typeof t&&(l=t);p<n.length;p++)s=[],(e=n[p].split(b)).length>1&&(s=o(c,e)),(e="*"===(e=e[e.length-1])?"*":g(e))in d||(d[e]=[]),d[e].push({keyup:x,keydown:v,scope:l,mods:s,shortcut:n[p],method:r,key:n[p],splitKey:b});void 0!==f&&!function(e){return m.indexOf(e)>-1}(f)&&window&&(m.push(f),a(f,"keydown",(function(e){_(e)})),a(window,"focus",(function(){h=[]})),a(f,"keyup",(function(e){_(e),function(e){var t=e.keyCode||e.which||e.charCode,r=h.indexOf(t);if(r>=0&&h.splice(r,1),e.key&&"meta"===e.key.toLowerCase()&&h.splice(0,h.length),93!==t&&224!==t||(t=91),t in u)for(var n in u[t]=!1,c)c[n]===t&&(j[n]=!1)}(e)})))}var w={setScope:x,getScope:v,deleteScope:function(e,t){var r,n;for(var a in e||(e=v()),d)if(Object.prototype.hasOwnProperty.call(d,a))for(r=d[a],n=0;n<r.length;)r[n].scope===e?r.splice(n,1):n++;v()===e&&x(t||"all")},getPressedKeyCodes:function(){return h.slice(0)},isPressed:function(e){return"string"==typeof e&&(e=g(e)),-1!==h.indexOf(e)},filter:function(e){var t=e.target||e.srcElement,r=t.tagName,n=!0;return!t.isContentEditable&&("INPUT"!==r&&"TEXTAREA"!==r&&"SELECT"!==r||t.readOnly)||(n=!1),n},unbind:function(e){if(e){if(Array.isArray(e))e.forEach((function(e){e.key&&b(e)}));else if("object"==typeof e)e.key&&b(e);else if("string"==typeof e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=r[0],o=r[1];"function"==typeof a&&(o=a,a=""),b({key:e,scope:a,method:o,splitKey:"+"})}}else Object.keys(d).forEach((function(e){return delete d[e]}))}};for(var N in w)Object.prototype.hasOwnProperty.call(w,N)&&(j[N]=w[N]);if("undefined"!=typeof window){var E=window.hotkeys;j.noConflict=function(e){return e&&window.hotkeys===j&&(window.hotkeys=E),j},window.hotkeys=j}const C=j;var S=r(6540);C.filter=function(){return!0};var O=function(e,t){var r=e.target,n=r&&r.tagName;return Boolean(n&&t&&t.includes(n))},A=function(e){return O(e,["INPUT","TEXTAREA","SELECT"])};function P(e,t,r,n){r instanceof Array&&(n=r,r=void 0);var a=r||{},o=a.enableOnTags,i=a.filter,s=a.keyup,c=a.keydown,l=a.filterPreventDefault,u=void 0===l||l,d=a.enabled,f=void 0===d||d,h=a.enableOnContentEditable,p=void 0!==h&&h,m=(0,S.useRef)(null),g=(0,S.useCallback)((function(e,r){var n;return i&&!i(e)?!u:!!(A(e)&&!O(e,o)||null!=(n=e.target)&&n.isContentEditable&&!p)||(null===m.current||document.activeElement===m.current)&&(t(e,r),!0)}),n?[m,o,i].concat(n):[m,o,i]);return(0,S.useEffect)((function(){if(f)return s&&!0!==c&&(r.keydown=!1),C(e,r||{},g),function(){return C.unbind(e,g)}}),[g,r,e,f]),m}},3599:(e,t,r)=>{var n=r(4394);e.exports=function(e,t,r){for(var a=-1,o=e.length;++a<o;){var i=e[a],s=t(i);if(null!=s&&(void 0===c?s==s&&!n(s):r(s,c)))var c=s,l=i}return l}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,r)=>{var n=r(4335)(Object.keys,Object);e.exports=n},3656:(e,t,r)=>{e=r.nmd(e);var n=r(9325),a=r(9935),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c},3661:(e,t,r)=>{var n=r(3040),a=r(7670),o=r(289),i=r(4509),s=r(2949);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},3663:(e,t,r)=>{var n=r(1799),a=r(776),o=r(7197);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3714:(e,t,r)=>{var n=r(3730);e.exports=function(e,t,r){for(var a=-1,o=e.criteria,i=t.criteria,s=o.length,c=r.length;++a<s;){var l=n(o[a],i[a]);if(l)return a>=c?l:l*("desc"==r[a]?-1:1)}return e.index-t.index}},3730:(e,t,r)=>{var n=r(4394);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,o=e==e,i=n(e),s=void 0!==t,c=null===t,l=t==t,u=n(t);if(!c&&!u&&!i&&e>t||i&&s&&l&&!c&&!u||a&&s&&l||!r&&l||!o)return 1;if(!a&&!i&&!u&&e<t||u&&r&&o&&!a&&!i||c&&r&&o||!s&&o||!l)return-1}return 0}},3777:(e,t,r)=>{var n=r(909);e.exports=function(e,t){var r=!0;return n(e,(function(e,n,a){return r=!!t(e,n,a)})),r}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3812:(e,t,r)=>{var n=r(2552),a=r(346);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==n(e)}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},3864:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3912:(e,t,r)=>{var n=r(1074),a=r(9698),o=r(2054);e.exports=function(e){return a(e)?o(e):n(e)}},3916:(e,t,r)=>{var n=r(3360),a=r(641),o=r(5389);e.exports=function(e,t){var r={};return t=o(t,3),a(e,(function(e,a,o){n(r,a,t(e,a,o))})),r}},3937:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},3948:(e,t,r)=>{"use strict";var n=r(9516);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,a,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(a)&&s.push("path="+a),n.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},3950:e=>{e.exports=function(){}},4128:(e,t,r)=>{var n=r(1800),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},4198:e=>{"use strict";e.exports=JSON.parse('{"_from":"axios@0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.4","name":"axios","escapedName":"axios","rawSpec":"0.21.4","saveSpec":null,"fetchSpec":"0.21.4"},"_requiredBy":["#DEV:/","/localtunnel"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@0.21.4","_where":"C:\\\\Users\\\\alvar\\\\Documentos\\\\GitHub\\\\arabitofacturacion","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},4202:(e,t,r)=>{"use strict";var n=r(9516);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=a(window.location.href),function(t){var r=n.isString(t)?a(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},4248:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},4335:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},4363:(e,t,r)=>{"use strict";e.exports=r(2799)},4394:(e,t,r)=>{var n=r(2552),a=r(346);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},4490:(e,t,r)=>{"use strict";var n=r(9516),a=r(2881),o=r(3864),i=r(6987);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return s(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},4506:(e,t,r)=>{var n=r(3599),a=r(3335),o=r(3488);e.exports=function(e){return e&&e.length?n(e,o,a):void 0}},4509:(e,t,r)=>{var n=r(2651);e.exports=function(e){return n(this,e).has(e)}},4517:(e,t,r)=>{var n=r(6545),a=r(3950),o=r(4247),i=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:a;e.exports=i},4528:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}},4664:(e,t,r)=>{var n=r(9770),a=r(3345),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),n(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},4680:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4713:(e,t,r)=>{var n=r(2523),a=r(5389),o=r(1489),i=Math.max;e.exports=function(e,t,r){var s=null==e?0:e.length;if(!s)return-1;var c=null==r?0:o(r);return c<0&&(c=i(s+c,0)),n(e,a(t,3),c)}},4739:(e,t,r)=>{var n=r(6025);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},4840:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},4841:(e,t,r)=>{"use strict";var n=r(4198),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={},i=n.version.split(".");function s(e,t){for(var r=t?t.split("."):i,n=e.split("."),a=0;a<3;a++){if(r[a]>n[a])return!0;if(r[a]<n[a])return!1}return!1}a.transitional=function(e,t,r){var a=t&&s(t);function i(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(i(n," has been removed in "+t));return a&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),a=n.length;a-- >0;){var o=n[a],i=t[o];if(i){var s=e[o],c=void 0===s||i(s,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:a}},4848:(e,t,r)=>{"use strict";e.exports=r(1020)},4894:(e,t,r)=>{var n=r(1882),a=r(294);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},4901:(e,t,r)=>{var n=r(2552),a=r(294),o=r(346),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[n(e)]}},4932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},5009:e=>{e.exports=function e(t,r,n){var a,o,i,s;for(a=0,o=t.length;a<o;a+=1)i=t[a],n||(s=r(i,a,t)),!1!==s&&"function"===i.type&&Array.isArray(i.nodes)&&e(i.nodes,r,n),n&&r(i,a,t)}},5015:(e,t,r)=>{var n=r(2552),a=r(6449),o=r(346);e.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&"[object String]"==n(e)}},5019:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},5083:(e,t,r)=>{var n=r(1882),a=r(7296),o=r(3805),i=r(7473),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(n(e)?f:s).test(i(e))}},5128:(e,t,r)=>{var n=r(909),a=r(4894);e.exports=function(e,t){var r=-1,o=a(e)?Array(e.length):[];return n(e,(function(e,n,a){o[++r]=t(e,n,a)})),o}},5155:(e,t,r)=>{"use strict";var n=r(9516),a=r(9106),o=r(3471),i=r(4490),s=r(5343),c=r(4841),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var a,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!n){var u=[i,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(o),a=Promise.resolve(e);u.length;)a=a.then(u.shift(),u.shift());return a}for(var d=e;r.length;){var f=r.shift(),h=r.shift();try{d=f(d)}catch(e){h(e);break}}try{a=i(d)}catch(e){return Promise.reject(e)}for(;o.length;)a=a.then(o.shift(),o.shift());return a},u.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=u},5160:e=>{e.exports=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o}},5228:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,a){for(var o,i,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))r.call(o,l)&&(s[l]=o[l]);if(t){i=t(o);for(var u=0;u<i.length;u++)n.call(o,i[u])&&(s[i[u]]=o[i[u]])}}return s}},5287:(e,t,r)=>{"use strict";var n=r(5228),a=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,s=60110,c=60112;t.Suspense=60113;var l=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),l=d("react.memo"),u=d("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function x(){}function v(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=g.prototype;var b=v.prototype=new x;b.constructor=v,n(b,g.prototype),b.isPureReactComponent=!0;var y={current:null},_=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var n,o={},i=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)_.call(t,n)&&!j.hasOwnProperty(n)&&(o[n]=t[n]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===o[n]&&(o[n]=c[n]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:y.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var E=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,r,n,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case a:case o:c=!0}}if(c)return i=i(c=e),e=""===n?"."+C(c,0):n,Array.isArray(i)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),S(i,t,r,"",(function(e){return e}))):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(c=0,n=""===n?".":n+":",Array.isArray(e))for(var l=0;l<e.length;l++){var u=n+C(s=e[l],l);c+=S(s,t,r,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(s=e.next()).done;)c+=S(s=s.value,t,r,u=n+C(s,l++),i);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function O(e,t,r){if(null==e)return e;var n=[],a=0;return S(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function D(){var e=P.current;if(null===e)throw Error(h(321));return e}var I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:y,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:O,forEach:function(e,t,r){O(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error(h(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null==e)throw Error(h(267,e));var o=n({},e.props),i=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=y.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)_.call(t,u)&&!j.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:a,type:e.type,key:i,ref:s,props:o,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return D().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,r){return D().useReducer(e,t,r)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5325:(e,t,r)=>{var n=r(6131);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},5343:(e,t,r)=>{"use strict";var n=r(9516);e.exports=function(e,t){t=t||{};var r={},a=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function l(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(r[a]=c(void 0,e[a])):r[a]=c(e[a],t[a])}n.forEach(a,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(o,l),n.forEach(i,(function(a){n.isUndefined(t[a])?n.isUndefined(e[a])||(r[a]=c(void 0,e[a])):r[a]=c(void 0,t[a])})),n.forEach(s,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var u=a.concat(o).concat(i).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return n.forEach(d,l),r}},5378:(e,t,r)=>{var n=r(4932),a=r(5389),o=r(5128),i=r(6449);e.exports=function(e,t){return(i(e)?n:o)(e,a(t,3))}},5389:(e,t,r)=>{var n=r(3663),a=r(7978),o=r(3488),i=r(6449),s=r(583);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):n(e):s(e)}},5449:e=>{"use strict";e.exports=function(e,t,r,n,a){return e.config=t,r&&(e.code=r),e.request=n,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},5463:e=>{e.exports=function(e){return e!=e}},5481:(e,t,r)=>{var n=r(9325)["__core-js_shared__"];e.exports=n},5508:(e,t,r)=>{var n=r(6151),a=r(6800),o=r(7400);e.exports=function(e){return function(t,r,i){return i&&"number"!=typeof i&&a(t,r,i)&&(r=i=void 0),t=o(t),void 0===r?(r=t,t=0):r=o(r),i=void 0===i?t<r?1:-1:o(i),n(t,r,i,e)}}},5527:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},5556:(e,t,r)=>{e.exports=r(2694)()},5580:(e,t,r)=>{var n=r(6110)(r(9325),"DataView");e.exports=n},5592:(e,t,r)=>{"use strict";var n=r(9516),a=r(7522),o=r(3948),i=r(9106),s=r(9615),c=r(2012),l=r(4202),u=r(7763);e.exports=function(e){return new Promise((function(t,r){var d=e.data,f=e.headers,h=e.responseType;n.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(m+":"+g)}var x=s(e.baseURL,e.url);function v(){if(p){var n="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,o={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};a(t,r,o),p=null}}if(p.open(e.method.toUpperCase(),i(x,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=v:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(v)},p.onabort=function(){p&&(r(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=(e.withCredentials||l(x))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}"setRequestHeader"in p&&n.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),h&&"json"!==h&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),r(e),p=null)})),d||(d=null),p.send(d)}))}},5606:e=>{var t,r,n=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&f())}function f(){if(!l){var e=i(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||i(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},5610:(e,t,r)=>{var n=r(9513),a=r(5009),o=r(7671);function i(e){return this instanceof i?(this.nodes=n(e),this):new i(e)}i.prototype.toString=function(){return Array.isArray(this.nodes)?o(this.nodes):""},i.prototype.walk=function(e,t){return a(this.nodes,e,t),this},i.unit=r(2882),i.walk=a,i.stringify=o,e.exports=i},5612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=i(t,r);return"MathExpression"===t.type&&(n=e+"("+n+")"),n};var n=r(558),a={"*":0,"/":0,"+":1,"-":1};function o(e,t){if(!1!==t){var r=Math.pow(10,t);return Math.round(e*r)/r}return e}function i(e,t){switch(e.type){case"MathExpression":var r=e.left,s=e.right,c=e.operator,l="";return"MathExpression"===r.type&&a[c]<a[r.operator]?l+="("+i(r,t)+")":l+=i(r,t),l+=" "+e.operator+" ","MathExpression"===s.type&&a[c]<a[s.operator]?l+="("+i(s,t)+")":"MathExpression"===s.type&&"-"===c&&["+","-"].includes(s.operator)?(s.operator=(0,n.flip)(s.operator),l+=i(s,t)):l+=i(s,t),l;case"Value":return o(e.value,t);case"CssVariable":return e.fallback?"var("+e.value+", "+i(e.fallback,t)+")":"var("+e.value+")";case"Calc":return e.prefix?"-"+e.prefix+"-calc("+i(e.value,t)+")":"calc("+i(e.value,t)+")";default:return o(e.value,t)+e.unit}}e.exports=t.default},5709:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},5749:(e,t,r)=>{var n=r(1042);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},5765:(e,t,r)=>{var n=r(8859),a=r(5325),o=r(9905),i=r(9219),s=r(4517),c=r(4247);e.exports=function(e,t,r){var l=-1,u=a,d=e.length,f=!0,h=[],p=h;if(r)f=!1,u=o;else if(d>=200){var m=t?null:s(e);if(m)return c(m);f=!1,u=i,p=new n}else p=t?[]:h;e:for(;++l<d;){var g=e[l],x=t?t(g):g;if(g=r||0!==g?g:0,f&&x==x){for(var v=p.length;v--;)if(p[v]===x)continue e;t&&p.push(x),h.push(g)}else u(p,x,r)||(p!==h&&p.push(x),h.push(g))}return h}},5808:(e,t,r)=>{var n=r(2507)("toUpperCase");e.exports=n},5861:(e,t,r)=>{var n=r(5580),a=r(8223),o=r(2804),i=r(6545),s=r(8303),c=r(2552),l=r(7473),u="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",m=l(n),g=l(a),x=l(o),v=l(i),b=l(s),y=c;(n&&y(new n(new ArrayBuffer(1)))!=p||a&&y(new a)!=u||o&&y(o.resolve())!=d||i&&y(new i)!=f||s&&y(new s)!=h)&&(y=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case m:return p;case g:return u;case x:return d;case v:return f;case b:return h}return t}),e.exports=y},5870:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(5610)),a=r(975),o=s(r(558)),i=s(r(5612));function s(e){return e&&e.__esModule?e:{default:e}}var c=/((?:\-[a-z]+\-)?calc)/;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(0,n.default)(e).walk((function(e){if("function"===e.type&&c.test(e.value)){var r=n.default.stringify(e.nodes);if(!(r.indexOf("constant")>=0||r.indexOf("env")>=0)){var s=a.parser.parse(r),l=(0,o.default)(s,t);e.type="word",e.value=(0,i.default)(e.value,l,t)}}}),!0).toString()},e.exports=t.default},5891:(e,t,r)=>{var n=r(1873),a=r(2428),o=r(6449),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},5911:(e,t,r)=>{var n=r(8859),a=r(4248),o=r(9219);e.exports=function(e,t,r,i,s,c){var l=1&r,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,m=!0,g=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++p<u;){var x=e[p],v=t[p];if(i)var b=l?i(v,x,p,t,e,c):i(x,v,p,e,t,c);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!a(t,(function(e,t){if(!o(g,t)&&(x===e||s(x,e,r,i,c)))return g.push(t)}))){m=!1;break}}else if(x!==v&&!s(x,v,r,i,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},5950:(e,t,r)=>{var n=r(695),a=r(8984),o=r(4894);e.exports=function(e){return o(e)?n(e):a(e)}},6009:(e,t,r)=>{e=r.nmd(e);var n=r(4840),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a&&n.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s},6025:(e,t,r)=>{var n=r(5288);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},6110:(e,t,r)=>{var n=r(5083),a=r(392);e.exports=function(e,t){var r=a(e,t);return n(r)?r:void 0}},6131:(e,t,r)=>{var n=r(2523),a=r(5463),o=r(6959);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,a,r)}},6151:e=>{var t=Math.ceil,r=Math.max;e.exports=function(e,n,a,o){for(var i=-1,s=r(t((n-e)/(a||1)),0),c=Array(s);s--;)c[o?s:++i]=e,e+=a;return c}},6155:(e,t,r)=>{var n=r(4932),a=r(7422),o=r(5389),i=r(5128),s=r(3937),c=r(7301),l=r(3714),u=r(3488),d=r(6449);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return d(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[u];var f=-1;t=n(t,c(o));var h=i(e,(function(e,r,a){return{criteria:n(t,(function(t){return t(e)})),index:++f,value:e}}));return s(h,(function(e,t){return l(e,t,r)}))}},6176:e=>{e.exports=function(e,t){return e<t}},6449:e=>{var t=Array.isArray;e.exports=t},6533:(e,t,r)=>{var n=r(3599),a=r(5389),o=r(6176);e.exports=function(e,t){return e&&e.length?n(e,a(t,2),o):void 0}},6540:(e,t,r)=>{"use strict";e.exports=r(5287)},6545:(e,t,r)=>{var n=r(6110)(r(9325),"Set");e.exports=n},6649:(e,t,r)=>{var n=r(3221)();e.exports=n},6721:(e,t,r)=>{var n=r(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return a.call(t,e)?t[e]:void 0}},6757:(e,t,r)=>{var n=r(1033),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),c=Array(s);++i<s;)c[i]=o[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=o[i];return l[t]=r(c),n(e,this,l)}}},6800:(e,t,r)=>{var n=r(5288),a=r(4894),o=r(361),i=r(3805);e.exports=function(e,t,r){if(!i(r))return!1;var s=typeof t;return!!("number"==s?a(r)&&o(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6942:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,o(r)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,r));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},6959:e=>{e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},6987:(e,t,r)=>{"use strict";var n=r(5606),a=r(9516),o=r(7018),i=r(5449),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(l=r(5592)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e,t,r){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&a.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),a.forEach(["post","put","patch"],(function(e){u.headers[e]=a.merge(s)})),e.exports=u},6988:e=>{var t={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};e.exports=function(e,r,n,a){if(!t.hasOwnProperty(n))throw new Error("Cannot convert to "+n);if(!t[n].hasOwnProperty(r))throw new Error("Cannot convert from "+r+" to "+n);var o=t[n][r]*e;return!1!==a?(a=Math.pow(10,parseInt(a)||5),Math.round(o*a)/a):o}},7018:(e,t,r)=>{"use strict";var n=r(9516);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},7068:(e,t,r)=>{var n=r(7217),a=r(5911),o=r(1986),i=r(689),s=r(5861),c=r(6449),l=r(3656),u=r(7167),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,x){var v=c(e),b=c(t),y=v?f:s(e),_=b?f:s(t),j=(y=y==d?h:y)==h,w=(_=_==d?h:_)==h,N=y==_;if(N&&l(e)){if(!l(t))return!1;v=!0,j=!1}if(N&&!j)return x||(x=new n),v||u(e)?a(e,t,r,m,g,x):o(e,t,y,r,m,g,x);if(!(1&r)){var E=j&&p.call(e,"__wrapped__"),C=w&&p.call(t,"__wrapped__");if(E||C){var S=E?e.value():e,O=C?t.value():t;return x||(x=new n),g(S,O,r,m,x)}}return!!N&&(x||(x=new n),i(e,t,r,m,g,x))}},7094:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>PagarMain});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6540),react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3505),_listProductosInterno__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8195),_database_database__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9892),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4848);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==_typeof(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(_typeof(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function asyncGeneratorStep(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){asyncGeneratorStep(o,n,a,i,s,"next",e)}function s(e){asyncGeneratorStep(o,n,a,i,s,"throw",e)}i(void 0)}))}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function PagarMain(_ref){var _pedidoData$clean_tot,_pedidoData$items12,_posTransaccionesPorP,_pedidoData$items14,qProductosMain=_ref.qProductosMain,setQProductosMain=_ref.setQProductosMain,setLastDbRequest=_ref.setLastDbRequest,lastDbRequest=_ref.lastDbRequest,openValidationTarea=_ref.openValidationTarea,num=_ref.num,setNum=_ref.setNum,ModaladdproductocarritoToggle=_ref.ModaladdproductocarritoToggle,productoSelectinternouno=_ref.productoSelectinternouno,devolucionTipo=_ref.devolucionTipo,setdevolucionTipo=_ref.setdevolucionTipo,cantidad=_ref.cantidad,addCarritoRequestInterno=_ref.addCarritoRequestInterno,setproductoSelectinternouno=_ref.setproductoSelectinternouno,setinputqinterno=_ref.setinputqinterno,inputqinterno=_ref.inputqinterno,refaddfast=_ref.refaddfast,tbodyproducInterref=_ref.tbodyproducInterref,productos=_ref.productos,countListInter=_ref.countListInter,setProductoCarritoInterno=_ref.setProductoCarritoInterno,setCountListInter=_ref.setCountListInter,toggleModalProductos=_ref.toggleModalProductos,inputCantidadCarritoref=_ref.inputCantidadCarritoref,setCantidad=_ref.setCantidad,getProductos=_ref.getProductos,permisoExecuteEnter=_ref.permisoExecuteEnter,devolucionMotivo=_ref.devolucionMotivo,setdevolucionMotivo=_ref.setdevolucionMotivo,devolucion_cantidad_salida=_ref.devolucion_cantidad_salida,setdevolucion_cantidad_salida=_ref.setdevolucion_cantidad_salida,devolucion_motivo_salida=_ref.devolucion_motivo_salida,setdevolucion_motivo_salida=_ref.setdevolucion_motivo_salida,devolucion_ci_cajero=_ref.devolucion_ci_cajero,setdevolucion_ci_cajero=_ref.setdevolucion_ci_cajero,devolucion_ci_autorizo=_ref.devolucion_ci_autorizo,setdevolucion_ci_autorizo=_ref.setdevolucion_ci_autorizo,devolucion_dias_desdecompra=_ref.devolucion_dias_desdecompra,setdevolucion_dias_desdecompra=_ref.setdevolucion_dias_desdecompra,devolucion_ci_cliente=_ref.devolucion_ci_cliente,setdevolucion_ci_cliente=_ref.setdevolucion_ci_cliente,devolucion_telefono_cliente=_ref.devolucion_telefono_cliente,setdevolucion_telefono_cliente=_ref.setdevolucion_telefono_cliente,devolucion_nombre_cliente=_ref.devolucion_nombre_cliente,setdevolucion_nombre_cliente=_ref.setdevolucion_nombre_cliente,devolucion_nombre_cajero=_ref.devolucion_nombre_cajero,setdevolucion_nombre_cajero=_ref.setdevolucion_nombre_cajero,devolucion_nombre_autorizo=_ref.devolucion_nombre_autorizo,setdevolucion_nombre_autorizo=_ref.setdevolucion_nombre_autorizo,devolucion_trajo_factura=_ref.devolucion_trajo_factura,setdevolucion_trajo_factura=_ref.setdevolucion_trajo_factura,devolucion_motivonotrajofact=_ref.devolucion_motivonotrajofact,setdevolucion_motivonotrajofact=_ref.setdevolucion_motivonotrajofact,getPedidosFast=_ref.getPedidosFast,addNewPedido=_ref.addNewPedido,addNewPedidoFront=_ref.addNewPedidoFront,addRetencionesPago=_ref.addRetencionesPago,delRetencionPago=_ref.delRetencionPago,user=_ref.user,view=_ref.view,changeEntregado=_ref.changeEntregado,setPagoPedido=_ref.setPagoPedido,viewconfigcredito=_ref.viewconfigcredito,setPrecioAlternoCarrito=_ref.setPrecioAlternoCarrito,addRefPago=_ref.addRefPago,delRefPago=_ref.delRefPago,refPago=_ref.refPago,pedidosFast=_ref.pedidosFast,_ref$pedidosFrontPend=_ref.pedidosFrontPendientesList,pedidosFrontPendientesList=void 0===_ref$pedidosFrontPend?[]:_ref$pedidosFrontPend,pedidoData=_ref.pedidoData,lastAddedFrontItemId=_ref.lastAddedFrontItemId,getPedido=_ref.getPedido,notificar=_ref.notificar,debito=_ref.debito,setDebito=_ref.setDebito,debitoRef=_ref.debitoRef,setDebitoRef=_ref.setDebitoRef,debitoRefError=_ref.debitoRefError,setDebitoRefError=_ref.setDebitoRefError,debitos=_ref.debitos,setDebitos=_ref.setDebitos,usarMultiplesDebitos=_ref.usarMultiplesDebitos,setUsarMultiplesDebitos=_ref.setUsarMultiplesDebitos,abrirModalPosDebitoConMonto=_ref.abrirModalPosDebitoConMonto,sucursaldata=_ref.sucursaldata,forzarReferenciaManual=_ref.forzarReferenciaManual,guardarDebitosPorPedido=_ref.guardarDebitosPorPedido,efectivo=_ref.efectivo,setEfectivo=_ref.setEfectivo,efectivo_bs=_ref.efectivo_bs,setEfectivo_bs=_ref.setEfectivo_bs,efectivo_dolar=_ref.efectivo_dolar,setEfectivo_dolar=_ref.setEfectivo_dolar,efectivo_peso=_ref.efectivo_peso,setEfectivo_peso=_ref.setEfectivo_peso,transferencia=_ref.transferencia,setTransferencia=_ref.setTransferencia,credito=_ref.credito,setCredito=_ref.setCredito,vuelto=_ref.vuelto,setVuelto=_ref.setVuelto,number=_ref.number,delItemPedido=_ref.delItemPedido,setDescuento=_ref.setDescuento,setDescuentoUnitario=_ref.setDescuentoUnitario,_ref$descuentoUnitari=_ref.descuentoUnitarioEditingId,descuentoUnitarioEditingId=void 0===_ref$descuentoUnitari?null:_ref$descuentoUnitari,_ref$descuentoUnitari2=_ref.descuentoUnitarioVerificandoId,descuentoUnitarioVerificandoId=void 0===_ref$descuentoUnitari2?null:_ref$descuentoUnitari2,_ref$descuentoUnitari3=_ref.descuentoUnitarioTooltipAprobadoId,descuentoUnitarioTooltipAprobadoId=void 0===_ref$descuentoUnitari3?null:_ref$descuentoUnitari3,_ref$descuentoUnitari4=_ref.descuentoUnitarioInputValue,descuentoUnitarioInputValue=void 0===_ref$descuentoUnitari4?"":_ref$descuentoUnitari4,setDescuentoUnitarioInputValue=_ref.setDescuentoUnitarioInputValue,_ref$pendientesDescue=_ref.pendientesDescuentoUnitario,pendientesDescuentoUnitario=void 0===_ref$pendientesDescue?{}:_ref$pendientesDescue,onDescuentoUnitarioSubmit=_ref.onDescuentoUnitarioSubmit,onDescuentoUnitarioCancel=_ref.onDescuentoUnitarioCancel,_ref$pendienteDescuen=_ref.pendienteDescuentoMetodoPago,pendienteDescuentoMetodoPago=void 0===_ref$pendienteDescuen?{}:_ref$pendienteDescuen,solicitarDescuentoMetodoPagoFront=_ref.solicitarDescuentoMetodoPagoFront,verificarDescuentoMetodoPagoFront=_ref.verificarDescuentoMetodoPagoFront,cancelarSolicitudDescuentoMetodoPagoFront=_ref.cancelarSolicitudDescuentoMetodoPagoFront,eliminarValidacionDescuentoMetodoPagoFront=_ref.eliminarValidacionDescuentoMetodoPagoFront,_ref$descuentoMetodoP=_ref.descuentoMetodoPagoVerificando,descuentoMetodoPagoVerificando=void 0!==_ref$descuentoMetodoP&&_ref$descuentoMetodoP,_ref$cancelandoDescue=_ref.cancelandoDescuentoMetodoPago,cancelandoDescuentoMetodoPago=void 0!==_ref$cancelandoDescue&&_ref$cancelandoDescue,_ref$eliminandoValida=_ref.eliminandoValidacionDescuentoMetodoPago,eliminandoValidacionDescuentoMetodoPago=void 0!==_ref$eliminandoValida&&_ref$eliminandoValida,_ref$descuentoMetodoP2=_ref.descuentoMetodoPagoAprobadoPorUuid,descuentoMetodoPagoAprobadoPorUuid=void 0===_ref$descuentoMetodoP2?{}:_ref$descuentoMetodoP2,_ref$metodosPagoAprob=_ref.metodosPagoAprobadosPorUuid,metodosPagoAprobadosPorUuid=void 0===_ref$metodosPagoAprob?{}:_ref$metodosPagoAprob,setDescuentoTotal=_ref.setDescuentoTotal,_ref$pendientesDescue2=_ref.pendientesDescuentoTotal,pendientesDescuentoTotal=void 0===_ref$pendientesDescue2?{}:_ref$pendientesDescue2,_ref$descuentoTotalEd=_ref.descuentoTotalEditingId,descuentoTotalEditingId=void 0===_ref$descuentoTotalEd?null:_ref$descuentoTotalEd,_ref$descuentoTotalIn=_ref.descuentoTotalInputValue,descuentoTotalInputValue=void 0===_ref$descuentoTotalIn?"":_ref$descuentoTotalIn,setDescuentoTotalInputValue=_ref.setDescuentoTotalInputValue,onDescuentoTotalSubmit=_ref.onDescuentoTotalSubmit,onDescuentoTotalCancel=_ref.onDescuentoTotalCancel,_ref$descuentoTotalVe=_ref.descuentoTotalVerificando,descuentoTotalVerificando=void 0!==_ref$descuentoTotalVe&&_ref$descuentoTotalVe,verificarDescuentoTotalFront=_ref.verificarDescuentoTotalFront,cancelarSolicitudDescuentoTotalFront=_ref.cancelarSolicitudDescuentoTotalFront,_ref$cancelandoDescue2=_ref.cancelandoDescuentoTotal,cancelandoDescuentoTotal=void 0!==_ref$cancelandoDescue2&&_ref$cancelandoDescue2,setCantidadCarrito=_ref.setCantidadCarrito,setCantidadCarritoFront=_ref.setCantidadCarritoFront,toggleAddPersona=_ref.toggleAddPersona,setToggleAddPersona=_ref.setToggleAddPersona,toggleImprimirTicket=_ref.toggleImprimirTicket,sendReciboFiscal=_ref.sendReciboFiscal,sendNotaCredito=_ref.sendNotaCredito,del_pedido=_ref.del_pedido,facturar_pedido=_ref.facturar_pedido,inputmodaladdpersonacarritoref=_ref.inputmodaladdpersonacarritoref,entregarVuelto=_ref.entregarVuelto,setclienteInpnombre=_ref.setclienteInpnombre,setclienteInptelefono=_ref.setclienteInptelefono,setclienteInpdireccion=_ref.setclienteInpdireccion,viewReportPedido=_ref.viewReportPedido,autoCorrector=_ref.autoCorrector,setautoCorrector=_ref.setautoCorrector,getDebito=_ref.getDebito,getCredito=_ref.getCredito,getTransferencia=_ref.getTransferencia,getEfectivo=_ref.getEfectivo,onClickEditPedido=_ref.onClickEditPedido,setBiopago=_ref.setBiopago,biopago=_ref.biopago,getBio=_ref.getBio,facturar_e_imprimir=_ref.facturar_e_imprimir,moneda=_ref.moneda,dolar=_ref.dolar,peso=_ref.peso,auth=_ref.auth,togglereferenciapago=_ref.togglereferenciapago,setToggleAddPersonaFun=_ref.setToggleAddPersonaFun,transferirpedidoa=_ref.transferirpedidoa,settransferirpedidoa=_ref.settransferirpedidoa,sucursalesCentral=_ref.sucursalesCentral,setexportpedido=_ref.setexportpedido,getSucursales=_ref.getSucursales,setView=_ref.setView,setselectprinter=_ref.setselectprinter,setmonedaToPrint=_ref.setmonedaToPrint,selectprinter=_ref.selectprinter,monedaToPrint=_ref.monedaToPrint,setGastoOperativo=_ref.setGastoOperativo,changeOnlyInputBulto=_ref.changeOnlyInputBulto,setchangeOnlyInputBultoFun=_ref.setchangeOnlyInputBultoFun,printBultos=_ref.printBultos,showXBulto=_ref.showXBulto,setshowXBulto=_ref.setshowXBulto,cedula_referenciapago=_ref.cedula_referenciapago,setcedula_referenciapago=_ref.setcedula_referenciapago,telefono_referenciapago=_ref.telefono_referenciapago,settelefono_referenciapago=_ref.settelefono_referenciapago,orderColumn=_ref.orderColumn,setOrderColumn=_ref.setOrderColumn,orderBy=_ref.orderBy,setOrderBy=_ref.setOrderBy,posTransaccionesPorPedido=_ref.posTransaccionesPorPedido,showModalPosDebito=_ref.showModalPosDebito,focusRefDebitoInputRef=_ref.focusRefDebitoInputRef,actualizarCampoPedidoFront=_ref.actualizarCampoPedidoFront,actualizarEstatusRefFront=_ref.actualizarEstatusRefFront,_ref$itemsDisponibles=_ref.itemsDisponiblesDevolucion,itemsDisponiblesDevolucion=void 0===_ref$itemsDisponibles?[]:_ref$itemsDisponibles,setItemsDisponiblesDevolucion=_ref.setItemsDisponiblesDevolucion,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState2=_slicedToArray(_useState,2),recibido_dolar=_useState2[0],setrecibido_dolar=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState4=_slicedToArray(_useState3,2),recibido_bs=_useState4[0],setrecibido_bs=_useState4[1],_useState5=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState6=_slicedToArray(_useState5,2),recibido_cop=_useState6[0],setrecibido_cop=_useState6[1],_useState7=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState8=_slicedToArray(_useState7,2),cambio_dolar=_useState8[0],setcambio_dolar=_useState8[1],_useState9=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),_useState0=_slicedToArray(_useState9,2),showFloatingMenu=_useState0[0],setShowFloatingMenu=_useState0[1],_useState1=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),_useState10=_slicedToArray(_useState1,2),lastScrollY=_useState10[0],setLastScrollY=_useState10[1],_useState11=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState12=_slicedToArray(_useState11,2),showVueltosSection=_useState12[0],setShowVueltosSection=_useState12[1],_useState13=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState14=_slicedToArray(_useState13,2),showTransferirSection=_useState14[0],setShowTransferirSection=_useState14[1],_useState15=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),_useState16=_slicedToArray(_useState15,2),showHeaderAndMenu=_useState16[0],setShowHeaderAndMenu=_useState16[1],_useState17=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState18=_slicedToArray(_useState17,2),cambio_bs=_useState18[0],setcambio_bs=_useState18[1],_useState19=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState20=_slicedToArray(_useState19,2),cambio_cop=_useState20[0],setcambio_cop=_useState20[1],_useState21=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState22=_slicedToArray(_useState21,2),cambio_tot_result=_useState22[0],setcambio_tot_result=_useState22[1],_useState23=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState24=_slicedToArray(_useState23,2),recibido_tot=_useState24[0],setrecibido_tot=_useState24[1],debitoInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),debitosInputRefs=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),efectivoInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),transferenciaInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),biopagoInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),creditoInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_useState25=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState26=_slicedToArray(_useState25,2),showModalPedidoOriginal=_useState26[0],setShowModalPedidoOriginal=_useState26[1],_useState27=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState28=_slicedToArray(_useState27,2),pedidoOriginalInput=_useState28[0],setPedidoOriginalInput=_useState28[1],_useState29=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),_useState30=_slicedToArray(_useState29,2),pedidoOriginalAsignado=_useState30[0],setPedidoOriginalAsignado=_useState30[1],pedidoOriginalInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_useState31=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),_useState32=_slicedToArray(_useState31,2),editingCantidadFront=_useState32[0],setEditingCantidadFront=_useState32[1],_useState33=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),_useState34=_slicedToArray(_useState33,2),editingCantidadFrontItemId=_useState34[0],setEditingCantidadFrontItemId=_useState34[1],quantityFrontInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_useState35=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState36=_slicedToArray(_useState35,2),showModalInfoFacturaOriginal=_useState36[0],setShowModalInfoFacturaOriginal=_useState36[1],_useState37=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),_useState38=_slicedToArray(_useState37,2),itemsFacturaOriginal=_useState38[0],setItemsFacturaOriginal=_useState38[1],_useState39=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState40=_slicedToArray(_useState39,2),loadingFacturaOriginal=_useState40[0],setLoadingFacturaOriginal=_useState40[1],_useState41=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState42=_slicedToArray(_useState41,2),showModalExportarLista=_useState42[0],setShowModalExportarLista=_useState42[1],refContenidoImpresionExportar=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_useState43=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState44=_slicedToArray(_useState43,2),showModalBultos=_useState44[0],setShowModalBultos=_useState44[1],_useState45=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState46=_slicedToArray(_useState45,2),numBultosInput=_useState46[0],setNumBultosInput=_useState46[1],_useState47=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),_useState48=_slicedToArray(_useState47,2),bultosIframeUrl=_useState48[0],setBultosIframeUrl=_useState48[1],refIframeBultos=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_useState49=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState50=_slicedToArray(_useState49,2),showEfectivoDetalle=_useState50[0],setShowEfectivoDetalle=_useState50[1],_useState51=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState52=_slicedToArray(_useState51,2),showEfectivoPeso=_useState52[0],setShowEfectivoPeso=_useState52[1],debitoRefInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),debitosRefInputRefs=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]),lastAutoSubmitPosRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({pedidoId:null,totalAprobado:null}),refEjecutarTrasFacturaOriginal=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),prevPedidoIdRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(void 0);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(focusRefDebitoInputRef)return focusRefDebitoInputRef.current=function(){var e=debitosRefInputRefs.current[0];e&&"function"==typeof e.focus&&e.focus()},function(){focusRefDebitoInputRef.current=null}}),[focusRefDebitoInputRef,debitos.length]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){editingCantidadFrontItemId&&quantityFrontInputRef.current&&(quantityFrontInputRef.current.focus(),quantityFrontInputRef.current.select())}),[editingCantidadFrontItemId]);var SHOW_BIOPAGO=!1,_useState53=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState54=_slicedToArray(_useState53,2),showCredito=_useState54[0],setShowCredito=_useState54[1],_useState55=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),_useState56=_slicedToArray(_useState55,2),lastPaymentMethodCalled=_useState56[0],setLastPaymentMethodCalled=_useState56[1],_useState57=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState58=_slicedToArray(_useState57,2),showCalculadora=_useState58[0],setShowCalculadora=_useState58[1],_useState59=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState60=_slicedToArray(_useState59,2),calcInput=_useState60[0],setCalcInput=_useState60[1],_useState61=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("usd"),_useState62=_slicedToArray(_useState61,2),calcMoneda=_useState62[0],setCalcMoneda=_useState62[1],_useState63=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState64=_slicedToArray(_useState63,2),calcPagoEfectivoUsd=_useState64[0],setCalcPagoEfectivoUsd=_useState64[1],_useState65=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState66=_slicedToArray(_useState65,2),calcPagoEfectivoBs=_useState66[0],setCalcPagoEfectivoBs=_useState66[1],_useState67=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState68=_slicedToArray(_useState67,2),calcPagoEfectivoCop=_useState68[0],setCalcPagoEfectivoCop=_useState68[1],_useState69=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState70=_slicedToArray(_useState69,2),calcPagoDebito=_useState70[0],setCalcPagoDebito=_useState70[1],_useState71=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState72=_slicedToArray(_useState71,2),calcPagoTransferencia=_useState72[0],setCalcPagoTransferencia=_useState72[1],_useState73=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),_useState74=_slicedToArray(_useState73,2),calcCampoActivo=_useState74[0],setCalcCampoActivo=_useState74[1],_useState75=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState76=_slicedToArray(_useState75,2),showMiniCalc=_useState76[0],setShowMiniCalc=_useState76[1],_useState77=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState78=_slicedToArray(_useState77,2),calcVueltoUsd=_useState78[0],setCalcVueltoUsd=_useState78[1],_useState79=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState80=_slicedToArray(_useState79,2),calcVueltoBs=_useState80[0],setCalcVueltoBs=_useState80[1],_useState81=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState82=_slicedToArray(_useState81,2),calcVueltoCop=_useState82[0],setCalcVueltoCop=_useState82[1],calculadoraRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),miniCalcRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),calculadoraBtnRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),descuentoUnitarioInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),descuentoTotalInputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),_useState83=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),_useState84=_slicedToArray(_useState83,2),descuentoUnitarioTick=_useState84[0],setDescuentoUnitarioTick=_useState84[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e=pendientesDescuentoUnitario&&Object.keys(pendientesDescuentoUnitario).some((function(e){return Object.keys(pendientesDescuentoUnitario[e]||{}).length>0})),t=pendienteDescuentoMetodoPago&&Object.keys(pendienteDescuentoMetodoPago).length>0,r=pendientesDescuentoTotal&&Object.keys(pendientesDescuentoTotal).length>0;if(e||t||r){var n=setInterval((function(){return setDescuentoUnitarioTick((function(e){return e+1}))}),1e3);return function(){return clearInterval(n)}}}),[pendientesDescuentoUnitario,pendienteDescuentoMetodoPago,pendientesDescuentoTotal]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){descuentoUnitarioEditingId&&descuentoUnitarioInputRef.current&&descuentoUnitarioInputRef.current.focus()}),[descuentoUnitarioEditingId]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){descuentoTotalEditingId&&descuentoTotalInputRef.current&&descuentoTotalInputRef.current.focus()}),[descuentoTotalEditingId]);var handlePaymentInputKeyDown=function(e){"Enter"!==e.key||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),e.stopPropagation(),facturar_e_imprimir())},handleDebitoInputKeyDown=function(e,t){"Enter"!==e.key||e.ctrlKey||e.shiftKey||e.altKey?"d"!==e.key&&"D"!==e.key||(e.preventDefault(),e.stopPropagation(),1===debitos.length?getDebitoLocal():getDebitoLocalParaIndex(t)):(e.preventDefault(),e.stopPropagation(),facturar_e_imprimir())},getDebitoLocalParaIndex=function(e){var t,r=getTasaPromedioCarrito(),n=(null==pedidoData||null===(t=pedidoData.items)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.tasa_cop)||peso,a=debitos.filter((function(e){return e.bloqueado})).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0)/r,o=parseFloat(pedidoData.clean_total)-a,i=debitos.reduce((function(t,r,n){return n===e||r.bloqueado?t:t+(parseFloat(r.monto)||0)}),0),s=parseFloat(efectivo_dolar||0)+parseFloat(efectivo_bs||0)/r+parseFloat(efectivo_peso||0)/n+parseFloat(transferencia||0)+parseFloat(credito||0)+parseFloat(biopago||0),c=Math.max(0,o-s)*r,l=Math.max(0,c-i).toFixed(2);actualizarMontoDebito(e,l),setLastPaymentMethodCalled("debito")},getTasaBsCalc=function(){var e;return(null==pedidoData||null===(e=pedidoData.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa)||dolar||1},getTasaCopCalc=function(){var e;return(null==pedidoData||null===(e=pedidoData.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa_cop)||peso||1},calcConvertir=function(e,t){var r=parseFloat(e)||0,n=getTasaBsCalc(),a=getTasaCopCalc();return"usd"===t?{usd:r,bs:r*n,cop:r*a}:"bs"===t?{usd:r/n,bs:r,cop:r/n*a}:"cop"===t?{usd:r/a,bs:r/a*n,cop:r}:{usd:0,bs:0,cop:0}},calcTotalPagado=function(){var e=getTasaBsCalc(),t=getTasaCopCalc();return(parseFloat(calcPagoEfectivoUsd)||0)+(parseFloat(calcPagoEfectivoBs)||0)/e+(parseFloat(calcPagoEfectivoCop)||0)/t+(parseFloat(calcPagoDebito)||0)/e+(parseFloat(calcPagoTransferencia)||0)},calcDiferencia=function(){var e=parseFloat(null==pedidoData?void 0:pedidoData.clean_total)||0;return calcTotalPagado()-e},calcVueltoAsignado=function(){var e=getTasaBsCalc(),t=getTasaCopCalc();return(parseFloat(calcVueltoUsd)||0)+(parseFloat(calcVueltoBs)||0)/e+(parseFloat(calcVueltoCop)||0)/t},calcVueltoPendiente=function(){var e=calcDiferencia();return e<=0?0:Math.max(0,e-calcVueltoAsignado())};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e=calcTotalPagado()-(parseFloat(null==pedidoData?void 0:pedidoData.clean_total)||0);e>0?(setCalcVueltoUsd(e.toFixed(2)),setCalcVueltoBs(""),setCalcVueltoCop("")):(setCalcVueltoUsd(""),setCalcVueltoBs(""),setCalcVueltoCop(""))}),[calcPagoEfectivoUsd,calcPagoEfectivoBs,calcPagoEfectivoCop,calcPagoDebito,calcPagoTransferencia]);var calcAutoVuelto=function(e){var t=calcDiferencia();if(!(t<=0)){var r=getTasaBsCalc(),n=getTasaCopCalc();"usd"===e?(setCalcVueltoUsd(t.toFixed(2)),setCalcVueltoBs(""),setCalcVueltoCop("")):"bs"===e?(setCalcVueltoUsd(""),setCalcVueltoBs((t*r).toFixed(2)),setCalcVueltoCop("")):"cop"===e&&(setCalcVueltoUsd(""),setCalcVueltoBs(""),setCalcVueltoCop((t*n).toFixed(0)))}},handleVueltoChange=function(e,t){var r=getTasaBsCalc(),n=getTasaCopCalc(),a=calcDiferencia();if(!(a<=0)){var o=0;"usd"===e?(o=parseFloat(t)||0,setCalcVueltoUsd(t)):"bs"===e?(o=(parseFloat(t)||0)/r,setCalcVueltoBs(t)):"cop"===e&&(o=(parseFloat(t)||0)/n,setCalcVueltoCop(t));var i="usd"===e?0:parseFloat(calcVueltoUsd)||0,s="bs"===e?0:(parseFloat(calcVueltoBs)||0)/r,c="cop"===e?0:(parseFloat(calcVueltoCop)||0)/n,l=i+s+c,u=a-o;if(o>a)"usd"===e?setCalcVueltoUsd(a.toFixed(2)):"bs"===e?setCalcVueltoBs((a*r).toFixed(2)):"cop"===e&&setCalcVueltoCop((a*n).toFixed(0)),"usd"!==e&&setCalcVueltoUsd(""),"bs"!==e&&setCalcVueltoBs(""),"cop"!==e&&setCalcVueltoCop("");else if(l>u&&u>=0){var d=u/l;"usd"!==e&&i>0&&setCalcVueltoUsd((i*d).toFixed(2)),"bs"!==e&&s>0&&setCalcVueltoBs((s*d*r).toFixed(2)),"cop"!==e&&c>0&&setCalcVueltoCop((c*d*n).toFixed(0))}}},calcEvaluar=function calcEvaluar(){try{var expr=calcInput.replace(/[^0-9+\-*/.]/g,"");return expr&&eval(expr)||0}catch(e){return 0}},calcAgregarDigito=function(e){return setCalcInput((function(t){return t+e}))},calcBorrar=function(){return setCalcInput((function(e){return e.slice(0,-1)}))},calcLimpiarTodo=function(){setCalcInput(""),setCalcPagoEfectivoUsd(""),setCalcPagoEfectivoBs(""),setCalcPagoEfectivoCop(""),setCalcPagoDebito(""),setCalcPagoTransferencia("")},getCalcCampoValor=function(){return parseFloat({efectivo_usd:calcPagoEfectivoUsd,efectivo_bs:calcPagoEfectivoBs,efectivo_cop:calcPagoEfectivoCop,debito:calcPagoDebito,transferencia:calcPagoTransferencia}[calcCampoActivo])||0},getCalcCampoMoneda=function(){return{efectivo_usd:"usd",efectivo_bs:"bs",efectivo_cop:"cop",debito:"bs",transferencia:"usd"}[calcCampoActivo]||"usd"},calcAplicarAlCampo=function(){var e=calcEvaluar();if(e&&calcCampoActivo){var t="efectivo_cop"===calcCampoActivo?0:2,r={efectivo_usd:setCalcPagoEfectivoUsd,efectivo_bs:setCalcPagoEfectivoBs,efectivo_cop:setCalcPagoEfectivoCop,debito:setCalcPagoDebito,transferencia:setCalcPagoTransferencia}[calcCampoActivo];r&&r((function(r){return((parseFloat(r)||0)+e).toFixed(t)})),setCalcInput("")}},handleCalcInputFocus=function(e){setCalcCampoActivo(e),setShowMiniCalc(!0),setCalcInput("")},handleCalcInputBlur=function(e){setTimeout((function(){miniCalcRef.current&&!miniCalcRef.current.contains(document.activeElement)&&setShowMiniCalc(!1)}),150)},calcImportarTodoAPago=function(){var e=getTasaBsCalc(),t=getTasaCopCalc(),r=parseFloat(null==pedidoData?void 0:pedidoData.clean_total)||0,n=(usarMultiplesDebitos?calcularTotalDebitos():parseFloat(debito||0))/e+parseFloat(efectivo_dolar||0)+parseFloat(efectivo_bs||0)/e+parseFloat(efectivo_peso||0)/t+parseFloat(transferencia||0)+parseFloat(credito||0),a=Math.max(0,r-n),o=parseFloat(calcPagoEfectivoUsd)||0;if(o>0&&a>0){var i=Math.min(o,a);setEfectivo_dolar((function(e){return((parseFloat(e)||0)+i).toFixed(2)})),setCalcPagoEfectivoUsd((function(e){var t=(parseFloat(e)||0)-i;return t>0?t.toFixed(2):""})),a-=i}var s=parseFloat(calcPagoEfectivoBs)||0,c=s/e;if(s>0&&a>0){var l=Math.min(c,a),u=l*e;setEfectivo_bs((function(e){return((parseFloat(e)||0)+u).toFixed(2)})),setCalcPagoEfectivoBs((function(e){var t=(parseFloat(e)||0)-u;return t>0?t.toFixed(2):""})),a-=l}var d=parseFloat(calcPagoDebito)||0,f=d/e;if(0!==d)if(d>0&&a>0){var h=Math.min(f,a),p=h*e;setDebito((function(e){return((parseFloat(e)||0)+p).toFixed(2)})),setCalcPagoDebito((function(e){var t=(parseFloat(e)||0)-p;return t>0?t.toFixed(2):""})),a-=h}else d<0&&(setDebito((function(e){return((parseFloat(e)||0)+d).toFixed(2)})),setCalcPagoDebito(""));var m=parseFloat(calcPagoTransferencia)||0;if(m>0&&a>0){var g=Math.min(m,a);setTransferencia((function(e){return((parseFloat(e)||0)+g).toFixed(2)})),setCalcPagoTransferencia((function(e){var t=(parseFloat(e)||0)-g;return t>0?t.toFixed(2):""})),a-=g}var x=parseFloat(calcPagoEfectivoCop)||0,v=x/t;if(x>0&&a>0){var b=Math.min(v,a)*t;setEfectivo_peso((function(e){return((parseFloat(e)||0)+b).toFixed(0)})),setCalcPagoEfectivoCop((function(e){var t=(parseFloat(e)||0)-b;return t>0?t.toFixed(0):""}))}};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(showCalculadora){var e=function(e){e.stopPropagation(),"Escape"!==e.key?showMiniCalc&&"INPUT"===e.target.tagName&&(/^[0-9]$/.test(e.key)||["+","-","*","/","."].includes(e.key)?(e.preventDefault(),calcAgregarDigito(e.key)):"Backspace"===e.key&&calcInput?(e.preventDefault(),calcBorrar()):"Enter"===e.key&&calcInput&&(e.preventDefault(),calcAplicarAlCampo())):showMiniCalc?setShowMiniCalc(!1):setShowCalculadora(!1)};return document.addEventListener("keydown",e,!0),function(){return document.removeEventListener("keydown",e,!0)}}}),[showCalculadora,showMiniCalc,calcInput,calcCampoActivo]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(showModalExportarLista){var e=function(e){"Escape"===e.key&&(e.preventDefault(),setShowModalExportarLista(!1))};return document.addEventListener("keydown",e,!0),function(){return document.removeEventListener("keydown",e,!0)}}}),[showModalExportarLista]);var formatMonedaLive=function(e){if(!e||""===e)return"";var t=String(e),r=((t=t.replace(/,/g,".")).match(/\./g)||[]).length;if(r>1){var n=t.lastIndexOf("."),a=t.substring(0,n),o=t.substring(n+1);t=a.replace(/\./g,"")+"."+o}else if(1===r){var i=t.lastIndexOf(".");t.substring(i+1).length>2&&(t=t.replace(/\./g,""))}var s=t.replace(/[^0-9.-]/g,""),c=s.split(".");return c.length>2&&(s=c[0]+"."+c.slice(1).join("")),2===c.length&&c[1].length>2&&(s=c[0]+"."+c[1].substring(0,2)),s},displayMonedaLive=function(e){if(!e||""===e)return"";var t=parseFloat(e);if(isNaN(t))return e;var r=String(e).split("."),n=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,".");return r.length>1?n+","+r[1].substring(0,2):n},showTittlePrice=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{var n=r||dolar;return"P/U. Bs."+moneda(number(e)*n)+"\nTotal Bs."+moneda(number(t)*n)}catch(e){return""}},changeRecibido=function(e,t){switch(t){case"recibido_dolar":setrecibido_dolar(number(e));break;case"recibido_bs":setrecibido_bs(number(e));break;case"recibido_cop":setrecibido_cop(number(e))}},setPagoInBs=function(e){var t=window.prompt("Monto en Bs (se usar la tasa del pedido)");if(null!==t&&""!==t){var r=parseFloat(formatMonedaLive(t));if(!isNaN(r)&&0!==r){var n=getTasaPromedioCarrito();if(n&&!(n<=0))e((r/n).toFixed(4))}}},sumRecibido=function(){var e=parseFloat(recibido_dolar||0)+parseFloat(recibido_bs||0)/parseFloat(dolar)+parseFloat(recibido_cop||0)/parseFloat(peso),t=recibido_dolar||recibido_bs||recibido_cop?e-pedidoData.clean_total:"";setrecibido_tot(e.toFixed(2)),setcambio_dolar(""!==t?t.toFixed(2):""),setcambio_bs(""),setcambio_cop(""),setcambio_tot_result(""!==t?t.toFixed(2):"")},setVueltobs=function(){setcambio_bs((cambio_tot_result*dolar).toFixed(2)),setcambio_dolar(""),setcambio_cop("")},setVueltodolar=function(){setcambio_bs(""),setcambio_dolar(cambio_tot_result),setcambio_cop("")},setVueltocop=function(){setcambio_bs(""),setcambio_dolar(""),setcambio_cop((cambio_tot_result*peso).toFixed(2))},syncCambio=function(e,t){e=number(e);var r=0;"Dolar"==t?(setcambio_dolar(e),r=e):"Bolivares"==t?(setcambio_bs(e),r=parseFloat(e||0)/parseFloat(dolar)):"Pesos"==t&&(setcambio_cop(e),r=parseFloat(e||0)/parseFloat(peso));var n=0,a=[{key:"Dolar",val:cambio_dolar,set:function(e){return setcambio_dolar(e)}},{key:"Bolivares",val:cambio_bs,set:function(e){return setcambio_bs(e)}},{key:"Pesos",val:cambio_cop,set:function(e){return setcambio_cop(e)}}];a.map((function(e){e.key!=t&&e.val&&n++}));var o=0;if(cambio_bs&&cambio_dolar&&"Pesos"==t){var i=parseFloat(cambio_bs)/parseFloat(dolar);setcambio_dolar((cambio_tot_result-i-r).toFixed(2))}else a.map((function(e){e.key!=t&&e.val&&(o=(cambio_tot_result-r)/n,"Dolar"==e.key?e.set(o.toFixed(2)):"Bolivares"==e.key?e.set((o*dolar).toFixed(2)):"Pesos"==e.key&&e.set((o*peso).toFixed(2)))}))},sumCambio=function(){return(parseFloat(cambio_dolar||0)+parseFloat(cambio_bs||0)/parseFloat(dolar)+parseFloat(cambio_cop||0)/parseFloat(peso)).toFixed(2)},getTasaPromedioCarrito=function(){try{var e=(null==pedidoData?void 0:pedidoData.items)||[];if(0===e.length)return dolar;var t=0,r=0;return e.forEach((function(e){var n=number(e.total)||0,a=number(e.tasa)||dolar;t+=Math.abs(n)*a,r+=Math.abs(n)})),0===r?dolar:t/r}catch(e){return dolar}},agregarFilaDebito=function(){var e="";if(null!=pedidoData&&pedidoData.clean_total){var t=parseFloat(pedidoData.clean_total)*parseFloat(dolar)-debitos.reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0)-((parseFloat(efectivo)||0)+(parseFloat(efectivo_bs)||0)/parseFloat(dolar)+(parseFloat(efectivo_peso)||0)/parseFloat(peso)+(parseFloat(transferencia)||0)+(parseFloat(credito)||0)+(parseFloat(biopago)||0))*parseFloat(dolar);t>0&&(e=t.toFixed(2))}var r=[].concat(_toConsumableArray(debitos),[{monto:e,referencia:"",bloqueado:!1,posData:null}]);setDebitos(r),null!=pedidoData&&pedidoData.id&&guardarDebitosPorPedido&&guardarDebitosPorPedido(pedidoData.id,r)},eliminarFilaDebito=function(e){var t;if((null===(t=debitos[e])||void 0===t||!t.bloqueado)&&debitos.length>1){var r=debitos.filter((function(t,r){return r!==e}));setDebitos(r),null!=pedidoData&&pedidoData.id&&guardarDebitosPorPedido&&guardarDebitosPorPedido(pedidoData.id,r)}},actualizarMontoDebito=function(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===(r=debitos[e])||void 0===r||!r.bloqueado){var o=getTasaPromedioCarrito(),i=parseFloat((null==pedidoData?void 0:pedidoData.bs_clean)||(null==pedidoData?void 0:pedidoData.bs)||0);i||null==(null==pedidoData?void 0:pedidoData.clean_total)||(i=parseFloat(pedidoData.clean_total)*o);var s=i-debitos.filter((function(e){return e.bloqueado})).reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0),c=(null==pedidoData||null===(n=pedidoData.items)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.tasa_cop)||peso,l=(parseFloat(efectivo_dolar||0)+parseFloat(efectivo_bs||0)/o+parseFloat(efectivo_peso||0)/c+parseFloat(transferencia||0)+parseFloat(credito||0)+parseFloat(biopago||0))*o,u=Math.max(0,s-l),d="string"==typeof t?parseFloat(t.replace(/[^0-9.,-]/g,"").replace(",",".")):parseFloat(t),f=""!==t&&null!==t&&!Number.isNaN(d)&&d>u?u:Number.isNaN(d)?0:d,h=debitos.map((function(e,t){return _objectSpread({},e)}));if(debitos.length>1&&!Number.isNaN(d)&&""!==t&&null!==t){var p=debitos.reduce((function(t,r,n){return n===e||r.bloqueado?t:t+(parseFloat(r.monto)||0)}),0),m=Math.max(0,u-p);if(f>m){var g=f-m,x=debitos.reduce((function(t,r,n){return n===e||r.bloqueado?t:t+(parseFloat(r.monto)||0)}),0);x>0&&h.forEach((function(t,r){if(r!==e&&!t.bloqueado){var n=parseFloat(t.monto)||0;if(n>0){var a=Math.min(n,n/x*g);h[r].monto=Math.max(0,n-a).toFixed(2)}}}))}}h[e].monto=""===t?"":!Number.isNaN(d)&&d>u?u.toFixed(2):t;var v=h.filter((function(e){return!e.bloqueado})).reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0);setDebitos(h),null!=pedidoData&&pedidoData.id&&guardarDebitosPorPedido&&guardarDebitosPorPedido(pedidoData.id,h),!a&&autoCorrector&&syncPago(v.toString(),"Debito")}},actualizarReferenciaDebito=function(e,t){var r;if(null===(r=debitos[e])||void 0===r||!r.bloqueado){var n=_toConsumableArray(debitos);n[e].referencia=t.replace(/[^0-9]/g,""),setDebitos(n),null!=pedidoData&&pedidoData.id&&guardarDebitosPorPedido&&guardarDebitosPorPedido(pedidoData.id,n)}},calcularTotalDebitos=function(){return debitos.reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0)},toggleModoDebito=function(){if(usarMultiplesDebitos){var e,t=calcularTotalDebitos(),r=(null===(e=debitos.find((function(e){return e.referencia})))||void 0===e?void 0:e.referencia)||"";setDebito(t>0?t.toFixed(2):""),setDebitoRef(r),setUsarMultiplesDebitos(!1)}else setDebitos(debito||debitoRef?[{monto:debito||"",referencia:debitoRef||""}]:[{monto:"",referencia:""}]),setUsarMultiplesDebitos(!0)},getDebitoLocal=function(){var e;if(1===debitos.length){var t=getTasaPromedioCarrito(),r=(null==pedidoData||null===(e=pedidoData.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa_cop)||peso,n=debitos[0];if(!n.bloqueado){var a=debitos.filter((function(e){return e.bloqueado})).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0)/t,o=parseFloat(pedidoData.clean_total)-a,i=parseFloat(efectivo_dolar||0)+parseFloat(efectivo_bs||0)/t+parseFloat(efectivo_peso||0)/r+parseFloat(transferencia||0)+parseFloat(credito||0)+parseFloat(biopago||0),s=((0===i?o:Math.max(0,o-i))*t).toFixed(2),c=parseFloat(n.monto||0).toFixed(2);if("debito"===lastPaymentMethodCalled&&c===s){var l=(o*t).toFixed(2);actualizarMontoDebito(0,l,!0),setEfectivo_dolar(""),setEfectivo_bs(""),setEfectivo_peso(""),setTransferencia(""),setCredito(""),setBiopago("")}else actualizarMontoDebito(0,s);setLastPaymentMethodCalled("debito"),setTimeout((function(){debitosInputRefs.current[0]&&(debitosInputRefs.current[0].focus(),debitosInputRefs.current[0].select())}),0)}}},getEfectivoLocal=function(){var e,t=getTasaPromedioCarrito(),r=(null==pedidoData||null===(e=pedidoData.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa_cop)||peso,n=debitos.filter((function(e){return!e.bloqueado})).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0),a=debitos.filter((function(e){return e.bloqueado})),o=a.reduce((function(e,t){return e+parseFloat(t.monto||0)}),0)/t,i=parseFloat(pedidoData.clean_total)-o,s=n/t+parseFloat(efectivo_bs||0)/t+parseFloat(efectivo_peso||0)/r+parseFloat(transferencia||0)+parseFloat(credito||0)+parseFloat(biopago||0),c=(0===s?i:Math.max(0,i-s)).toFixed(2);"efectivo"===lastPaymentMethodCalled&&parseFloat(efectivo_dolar||0).toFixed(2)===c?(setEfectivo_dolar(i.toFixed(2)),setEfectivo_bs(""),setEfectivo_peso(""),setDebito(""),setDebitos(a.length>0?a:[{monto:"",referencia:""}]),setTransferencia(""),setCredito(""),setBiopago("")):setEfectivo_dolar(c),setLastPaymentMethodCalled("efectivo")},getEfectivoBsLocal=function(){var e,t=getTasaPromedioCarrito(),r=(null==pedidoData||null===(e=pedidoData.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa_cop)||peso,n=debitos.filter((function(e){return!e.bloqueado})).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0),a=debitos.filter((function(e){return e.bloqueado})),o=a.reduce((function(e,t){return e+parseFloat(t.monto||0)}),0),i=n/t+parseFloat(efectivo_dolar||0)+parseFloat(efectivo_peso||0)/r+parseFloat(transferencia||0)+parseFloat(credito||0)+parseFloat(biopago||0),s=o/t,c=parseFloat(pedidoData.clean_total)-s,l=((0===i?c:Math.max(0,c-i))*t).toFixed(2);if("efectivo_bs"===lastPaymentMethodCalled&&parseFloat(efectivo_bs||0).toFixed(2)===l){var u=(c*t).toFixed(2);setEfectivo_bs(u),setEfectivo_dolar(""),setEfectivo_peso(""),setDebito(""),setDebitos(a.length>0?a:[{monto:"",referencia:""}]),setTransferencia(""),setCredito(""),setBiopago("")}else setEfectivo_bs(l);setLastPaymentMethodCalled("efectivo_bs")},getTransferenciaLocal=function(){var e,t=getTasaPromedioCarrito(),r=(null==pedidoData||null===(e=pedidoData.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa_cop)||peso,n=debitos.filter((function(e){return!e.bloqueado})).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0),a=debitos.filter((function(e){return e.bloqueado})),o=a.reduce((function(e,t){return e+parseFloat(t.monto||0)}),0)/t,i=parseFloat(pedidoData.clean_total)-o,s=parseFloat(efectivo_dolar||0)+parseFloat(efectivo_bs||0)/t+parseFloat(efectivo_peso||0)/r+n/t+parseFloat(credito||0)+parseFloat(biopago||0),c=0===s?i.toFixed(2):Math.max(0,i-s).toFixed(2);"transferencia"===lastPaymentMethodCalled&&parseFloat(transferencia||0).toFixed(2)===c?(setTransferencia(i.toFixed(2)),setEfectivo_dolar(""),setEfectivo_bs(""),setEfectivo_peso(""),setDebito(""),setDebitos(a.length>0?a:[{monto:"",referencia:""}]),setCredito(""),setBiopago("")):setTransferencia(c),setLastPaymentMethodCalled("transferencia")},getCreditoLocal=function(){var e,t=getTasaPromedioCarrito(),r=(null==pedidoData||null===(e=pedidoData.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa_cop)||peso,n=debitos.filter((function(e){return!e.bloqueado})).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0),a=debitos.filter((function(e){return e.bloqueado})),o=a.reduce((function(e,t){return e+parseFloat(t.monto||0)}),0)/t,i=parseFloat(pedidoData.clean_total)-o,s=parseFloat(efectivo_dolar||0)+parseFloat(efectivo_bs||0)/t+parseFloat(efectivo_peso||0)/r+parseFloat(transferencia||0)+n/t+parseFloat(biopago||0),c=0===s?i.toFixed(2):Math.max(0,i-s).toFixed(2);"credito"===lastPaymentMethodCalled&&parseFloat(credito||0).toFixed(2)===c?(setCredito(i.toFixed(2)),setEfectivo_dolar(""),setEfectivo_bs(""),setEfectivo_peso(""),setTransferencia(""),setDebito(""),setDebitos(a.length>0?a:[{monto:"",referencia:""}]),setBiopago("")):setCredito(c),setLastPaymentMethodCalled("credito")},getBiopagoLocal=function(){},debitoBs=function(e){try{var t=getTasaPromedioCarrito();if("debito"==e)return""==debito?"":"Bs."+moneda(t*debito);if("transferencia"==e)return""==transferencia?"":"Bs."+moneda(t*transferencia);if("biopago"==e)return""==biopago?"":"Bs."+moneda(t*biopago);if("efectivo"==e)return""==efectivo?"":"Bs."+moneda(t*efectivo)}catch(e){return""}},syncPago=function(e,t){var r,n;e=number(e);var a=getTasaPromedioCarrito(),o=(null==pedidoData||null===(r=pedidoData.items)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.tasa_cop)||peso;"Debito"==t?setDebito(e):"Efectivo"==t?setEfectivo(e):"EfectivoUSD"==t?setEfectivo_dolar(e):"EfectivoBs"==t?setEfectivo_bs(e):"EfectivoCOP"==t?setEfectivo_peso(e):"Transferencia"==t?setTransferencia(e):"Credito"==t?setCredito(e):"Biopago"==t&&setBiopago(e);var i=pedidoData.clean_total,s=i<0,c=debitos&&debitos.length>0?debitos.filter((function(e){return!e.bloqueado})):[],l=debitos&&debitos.length>0?c.reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0):parseFloat(debito||0),u=(debitos&&debitos.length>0?debitos.filter((function(e){return e.bloqueado})):[]).reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0),d=i-(a>0?u/a:0),f=[{key:"Debito",val:"Debito"===t?e:l,set:setDebito,moneda:"bs",esEfectivo:!1},{key:"EfectivoUSD",val:"EfectivoUSD"===t?e:efectivo_dolar,set:setEfectivo_dolar,moneda:"usd",esEfectivo:!0},{key:"EfectivoBs",val:"EfectivoBs"===t?e:efectivo_bs,set:setEfectivo_bs,moneda:"bs",esEfectivo:!0},{key:"EfectivoCOP",val:"EfectivoCOP"===t?e:efectivo_peso,set:setEfectivo_peso,moneda:"cop",esEfectivo:!0},{key:"Transferencia",val:"Transferencia"===t?e:transferencia,set:setTransferencia,moneda:"usd",esEfectivo:!1},{key:"Credito",val:"Credito"===t?e:credito,set:setCredito,moneda:"usd",esEfectivo:!1},{key:"Biopago",val:"Biopago"===t?e:biopago,set:setBiopago,moneda:"usd",esEfectivo:!1}],h=function(e,t){var r=parseFloat(e)||0;return"bs"===t?a>0?r/a:0:"cop"===t?o>0?r/o:0:r},p=(null===(n=f.find((function(e){return e.key===t})))||void 0===n?void 0:n.moneda)||"usd",m=h(e,p),g=f.filter((function(e){return e.key!==t&&parseFloat(e.val)>0})).reduce((function(e,t){return e+h(t.val,t.moneda)}),0),x=d-g,v=g+m,b=parseFloat((null==pedidoData?void 0:pedidoData.bs_clean)||(null==pedidoData?void 0:pedidoData.bs)||0)-u,y=v*a;if(!(s?y<b-.01:y>b+.01)||autoCorrector||"Debito"===t)if(autoCorrector){var _=function(e){if(!e&&0!==e)return!1;var t=parseFloat(e);return!isNaN(t)&&0!==t},j=["EfectivoUSD","EfectivoBs","EfectivoCOP"].includes(t),w=f.filter((function(e){return e.esEfectivo&&e.key!==t&&_(e.val)})).length,N=j&&w>0?f.filter((function(e){return e.esEfectivo})):f,E=d;if(j&&w>0)E=d-f.filter((function(e){return!e.esEfectivo&&_(e.val)})).reduce((function(e,t){var r=parseFloat(t.val)||0;return"bs"===t.moneda?r/=a:"cop"===t.moneda&&(r/=o),e+r}),0);var C=0,S=[];if(N.forEach((function(e){e.key!==t&&("Debito"===e.key&&l>0||_(e.val))&&(C++,S.push(e.key))})),0!==C){var O=(E-m)/C;if(s){if(O>0)return}else if(O<0)return void N.forEach((function(e){if(e.key!==t&&("Debito"===e.key?l>0:_(e.val)))if("Debito"===e.key)if(debitos&&debitos.length>0){var r=debitos.map((function(e){return e.bloqueado?e:_objectSpread(_objectSpread({},e),{},{monto:"0"})}));setDebitos(r),null!=pedidoData&&pedidoData.id&&guardarDebitosPorPedido&&guardarDebitosPorPedido(pedidoData.id,r)}else setDebito("0");else e.set("0")}));N.forEach((function(e){if(e.key!==t&&("Debito"===e.key?l>0:_(e.val))){var r=O;"bs"===e.moneda?r=O*a:"cop"===e.moneda&&(r=O*o);var n=r.toFixed("cop"===e.moneda?0:2);if("Debito"===e.key)if(debitos&&debitos.length>0){var i=debitos.findIndex((function(e){return!e.bloqueado}));-1!==i?actualizarMontoDebito(i,n,!0):e.set(n)}else e.set(n);else e.set(n)}}))}}else{if((s?m<x-.01:m>x+.01)&&x>=0){var A=s?x:Math.max(0,x),P=A;if("bs"===p?P=A*a:"cop"===p&&(P=A*o),"Debito"===t){var D=A*a;if((null==debitos?void 0:debitos.length)>0){if(debitos.filter((function(e){return!e.bloqueado})).reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0)>D+.01){var I=debitos.findIndex((function(e){return!e.bloqueado})),T=debitos.map((function(e,t){return e.bloqueado?e:_objectSpread(_objectSpread({},e),{},{monto:t===I?Math.max(0,D).toFixed(2):"0"})}));setDebitos(T),null!=pedidoData&&pedidoData.id&&guardarDebitosPorPedido&&guardarDebitosPorPedido(pedidoData.id,T)}}else setDebito(D.toFixed(2))}else"EfectivoUSD"===t?setEfectivo_dolar(P.toFixed(2)):"EfectivoBs"===t?setEfectivo_bs(P.toFixed(2)):"EfectivoCOP"===t?setEfectivo_peso(P.toFixed(2)):"Transferencia"===t?setTransferencia(P.toFixed(2)):"Credito"===t?setCredito(P.toFixed(2)):"Biopago"===t&&setBiopago(P.toFixed(2))}}else"EfectivoUSD"===t?setEfectivo_dolar(""):"EfectivoBs"===t?setEfectivo_bs(""):"EfectivoCOP"===t?setEfectivo_peso(""):"Transferencia"===t?setTransferencia(""):"Credito"===t?setCredito(""):"Biopago"===t&&setBiopago("")},_useState85=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),_useState86=_slicedToArray(_useState85,2),validatingRef=_useState86[0],setValidatingRef=_useState86[1],_useState87=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState88=_slicedToArray(_useState87,2),showCodigoModal=_useState88[0],setShowCodigoModal=_useState88[1],_useState89=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState90=_slicedToArray(_useState89,2),codigoGenerado=_useState90[0],setCodigoGenerado=_useState90[1],_useState91=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),_useState92=_slicedToArray(_useState91,2),claveIngresada=_useState92[0],setClaveIngresada=_useState92[1],_useState93=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),_useState94=_slicedToArray(_useState93,2),currentRefId=_useState94[0],setCurrentRefId=_useState94[1],verificarRefFrontOnly=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i,s,c,l,u,d,f,h,p,m,g,x,v,b,y;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t._localId&&null!=pedidoData&&pedidoData.id){e.next=2;break}return e.abrupt("return");case 2:if(r=t._localId,n="central"===(t.categoria||"central"),setValidatingRef(r),e.prev=5,!n){e.next=13;break}return e.next=9,axios.post("/consultar-ref-central-front",{id_pedido:pedidoData.id,descripcion:t.descripcion,banco:null!==(a=t.banco)&&void 0!==a?a:"",monto:null!==(o=t.monto)&&void 0!==o?o:"",cedula:null!==(i=t.cedula)&&void 0!==i?i:null,telefono:null!==(s=t.telefono)&&void 0!==s?s:null,tipo:null!==(c=t.tipo)&&void 0!==c?c:1});case 9:u=e.sent,null!==(l=u.data)&&void 0!==l&&l.aprobada?(actualizarEstatusRefFront(pedidoData.id,r,"aprobada",u.data),notificar({data:{msj:"Referencia aprobada por central.",estado:!0}})):notificar({data:{msj:(null===(d=u.data)||void 0===d?void 0:d.msj)||"La referencia an est pendiente de aprobacin en central.",estado:!1}}),e.next=17;break;case 13:return e.next=15,axios.post("/autovalidar-transferencia",{descripcion:t.descripcion,banco_origen:null!==(f=null!==(h=t.banco_origen)&&void 0!==h?h:t.banco)&&void 0!==f?f:"",telefono:null!==(p=t.telefono)&&void 0!==p?p:"",fecha_pago:null!==(m=t.fecha_pago)&&void 0!==m?m:null,monto:null!==(g=t.monto)&&void 0!==g?g:"",id_pedido:pedidoData.id});case 15:v=e.sent,null!==(x=v.data)&&void 0!==x&&x.estado?(actualizarEstatusRefFront(pedidoData.id,r,"aprobada",v.data),notificar({data:{msj:"Referencia verificada y aprobada.",estado:!0}})):(actualizarEstatusRefFront(pedidoData.id,r,"error"),notificar({data:{msj:(null===(b=v.data)||void 0===b?void 0:b.msj)||"Central no aprob la referencia.",estado:!1}}));case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),n||actualizarEstatusRefFront(pedidoData.id,r,"error"),notificar({data:{msj:"Error al verificar: "+((null===(y=e.t0.response)||void 0===y||null===(y=y.data)||void 0===y?void 0:y.msj)||e.t0.message),estado:!1}});case 23:return e.prev=23,setValidatingRef(null),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[5,19,23,26]])})));return function(t){return e.apply(this,arguments)}}(),sendRefToMerchant=function(e){setValidatingRef(e),_database_database__WEBPACK_IMPORTED_MODULE_3__.A.sendRefToMerchant({id_ref:e}).then((function(t){if("megasoft_required"===t.data.estado){var r=t.data.datos_megasoft;fetch("http://localhost:8085/vpos/metodo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accion:r.accion,montoTransaccion:r.montoTransaccion,cedula:r.cedula})}).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()})).then((function(e){return _database_database__WEBPACK_IMPORTED_MODULE_3__.A.procesarRespuestaMegasoft({id_ref:r.id_ref,response_megasoft:e})})).then((function(e){notificar(e.data.msj),setTimeout((function(){getPedido(null,null,!1)}),500)})).catch((function(e){console.error("Error en proceso Megasoft:",e),notificar({msj:"Error al procesar con Megasoft: "+e.message,estado:!1})})).finally((function(){setValidatingRef(null)}))}else"codigo_required"===t.data.estado?(setCodigoGenerado(t.data.codigo_generado),setCurrentRefId(e),setShowCodigoModal(!0),setClaveIngresada(""),setValidatingRef(null)):(notificar(t.data.msj),setTimeout((function(){getPedido(null,null,!1)}),500),setValidatingRef(null))})).catch((function(e){var t;notificar({msj:"Error al validar referencia: "+((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.msj)||e.message),estado:!1}),setValidatingRef(null)}))},validarCodigo=function(){claveIngresada.trim()?_database_database__WEBPACK_IMPORTED_MODULE_3__.A.validarCodigoAprobacion({codigo:claveIngresada,id_ref:currentRefId}).then((function(e){e.data.estado?(notificar(e.data.msj),setShowCodigoModal(!1),setClaveIngresada(""),setCodigoGenerado(""),setCurrentRefId(null),setTimeout((function(){getPedido(null,null,!1)}),500)):notificar({msj:e.data.msj,estado:!1})})).catch((function(e){var t;notificar({msj:"Error al validar cdigo: "+((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.msj)||e.message),estado:!1})})):notificar({msj:"Por favor ingrese la clave de aprobacin",estado:!1})},cerrarModalCodigo=function(){setShowCodigoModal(!1),setClaveIngresada(""),setCodigoGenerado(""),setCurrentRefId(null)},asignarPedidoOriginal=function(){pedidoOriginalInput.trim()?_database_database__WEBPACK_IMPORTED_MODULE_3__.A.asignarPedidoOriginalDevolucion({id_pedido_devolucion:null==pedidoData?void 0:pedidoData.id,id_pedido_original:pedidoOriginalInput}).then((function(e){if(e.data.estado){if(notificar(e.data),setItemsDisponiblesDevolucion(e.data.items_disponibles||[]),setPedidoOriginalAsignado(pedidoOriginalInput),setShowModalPedidoOriginal(!1),setPedidoOriginalInput(""),e.data.front_only&&null!=pedidoData&&pedidoData._frontOnly&&null!=pedidoData&&pedidoData.id?"function"==typeof actualizarCampoPedidoFront&&actualizarCampoPedidoFront(pedidoData.id,{isdevolucionOriginalid:pedidoOriginalInput}):getPedido(null,null,!1),"function"==typeof refEjecutarTrasFacturaOriginal.current){var t=refEjecutarTrasFacturaOriginal.current,r=pedidoOriginalInput,n=e.data.items_disponibles||[];refEjecutarTrasFacturaOriginal.current=null,setTimeout((function(){return t(r,n)}),0)}}else notificar(e.data)})).catch((function(e){var t;notificar({msj:"Error: "+((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.msj)||e.message),estado:!1})})):notificar({msj:"Ingrese el nmero de pedido original",estado:!1})},cerrarModalPedidoOriginal=function(){setShowModalPedidoOriginal(!1),setPedidoOriginalInput(""),refEjecutarTrasFacturaOriginal.current=null},verificarNecesitaPedidoOriginal=function(){var e=items.some((function(e){return e.cantidad<0})),t=null==pedidoData?void 0:pedidoData.isdevolucionOriginalid;return!e&&!t},verFacturaOriginal=function(){var e=(null==pedidoData?void 0:pedidoData.isdevolucionOriginalid)||pedidoOriginalAsignado;e&&(setLoadingFacturaOriginal(!0),setShowModalInfoFacturaOriginal(!0),_database_database__WEBPACK_IMPORTED_MODULE_3__.A.getItemsDisponiblesDevolucion({id_pedido_original:e}).then((function(e){e.data.estado?setItemsFacturaOriginal(e.data.items_disponibles||[]):notificar({msj:"Error al cargar items",estado:!1})})).catch((function(e){notificar({msj:"Error: "+e.message,estado:!1})})).finally((function(){setLoadingFacturaOriginal(!1)})))},eliminarAsignacionFacturaOriginal=function(){if(confirm("Est seguro de eliminar la asignacin de la factura original?")){var e=null==pedidoData?void 0:pedidoData.id;_database_database__WEBPACK_IMPORTED_MODULE_3__.A.eliminarPedidoOriginalDevolucion({id_pedido:e}).then((function(t){var r;notificar(t.data||t),null!==(r=t.data)&&void 0!==r&&r.estado&&(setShowModalInfoFacturaOriginal(!1),setPedidoOriginalAsignado(null),setItemsFacturaOriginal([]),setItemsDisponiblesDevolucion([]),t.data.front_only&&e&&"function"==typeof actualizarCampoPedidoFront?actualizarCampoPedidoFront(e,{isdevolucionOriginalid:null}):getPedido(null,null,!1))})).catch((function(e){var t;notificar({msj:"Error: "+((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.msj)||e.message),estado:!1})}))}};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){sumRecibido()}),[recibido_bs,recibido_cop,recibido_dolar]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e=parseFloat(efectivo_dolar||0)+parseFloat(efectivo_bs||0)/dolar+parseFloat(efectivo_peso||0)/peso;setEfectivo(e>0?e.toFixed(2):"")}),[efectivo_dolar,efectivo_bs,efectivo_peso,dolar,peso]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(null!=pedidoData&&pedidoData.id&&posTransaccionesPorPedido&&posTransaccionesPorPedido[pedidoData.id]){var e=posTransaccionesPorPedido[pedidoData.id];if(e&&0!==e.length){var t=e.reduce((function(e,t){return e+parseFloat(t.monto||0)}),0),r=parseFloat((null==pedidoData?void 0:pedidoData.bs_clean)||(null==pedidoData?void 0:pedidoData.bs)||0);if(Math.abs(t-r)<.01&&t>0&&r>0){var n=lastAutoSubmitPosRef.current,a=n.pedidoId,o=n.totalAprobado;if(a===pedidoData.id&&o===t)return;lastAutoSubmitPosRef.current={pedidoId:pedidoData.id,totalAprobado:t},facturar_e_imprimir&&facturar_e_imprimir()}}}}),[posTransaccionesPorPedido,null==pedidoData?void 0:pedidoData.id,null==pedidoData?void 0:pedidoData.bs_clean,null==pedidoData?void 0:pedidoData.bs,facturar_e_imprimir]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e=null==pedidoData?void 0:pedidoData.id,t=prevPedidoIdRef.current;(void 0!==t&&void 0!==e&&String(t)!==String(e)||void 0!==t&&void 0===e)&&(lastAutoSubmitPosRef.current={pedidoId:null,totalAprobado:null},setPedidoOriginalAsignado(null),setItemsFacturaOriginal([]),setItemsDisponiblesDevolucion([]),setShowModalInfoFacturaOriginal(!1),setShowModalPedidoOriginal(!1),setPedidoOriginalInput(""),setShowCalculadora(!1),setShowMiniCalc(!1),setCalcInput(""),setCalcCampoActivo(null),setCalcPagoEfectivoUsd(""),setCalcPagoEfectivoBs(""),setCalcPagoEfectivoCop(""),setCalcPagoDebito(""),setCalcPagoTransferencia(""),setCalcVueltoUsd(""),setCalcVueltoBs(""),setCalcVueltoCop("")),prevPedidoIdRef.current=e}),[null==pedidoData?void 0:pedidoData.id]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e=function(){var e=window.scrollY;e<lastScrollY?setShowFloatingMenu(!0):e>lastScrollY&&e>50&&setShowFloatingMenu(!1),setLastScrollY(e)};return window.addEventListener("scroll",e,{passive:!0}),function(){window.removeEventListener("scroll",e)}}),[lastScrollY]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("t",(function(e){var t;showModalPosDebito||togglereferenciapago||e.target!==(null==refaddfast?void 0:refaddfast.current)&&"true"!==(null===(t=e.target)||void 0===t?void 0:t.getAttribute("data-carnet-input"))&&(e.preventDefault(),e.stopPropagation(),getTransferenciaLocal(),setTimeout((function(){transferenciaInputRef.current&&(transferenciaInputRef.current.focus(),transferenciaInputRef.current.select())}),50))}),{enableOnTags:["INPUT","SELECT","TEXTAREA"]},[refaddfast,showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("p",(function(e){}),{enableOnTags:["INPUT","SELECT","TEXTAREA"]},[refaddfast,showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("b",(function(e){var t;showModalPosDebito||togglereferenciapago||e.target!==(null==refaddfast?void 0:refaddfast.current)&&"true"!==(null===(t=e.target)||void 0===t?void 0:t.getAttribute("data-carnet-input"))&&(e.preventDefault(),e.stopPropagation(),getEfectivoBsLocal(),setTimeout((function(){var e=document.querySelector('[data-efectivo="bs"]');e&&(e.focus(),e.select())}),50))}),{enableOnTags:["INPUT","SELECT","TEXTAREA"]},[refaddfast,showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("e",(function(e){var t;showModalPosDebito||togglereferenciapago||e.target!==(null==refaddfast?void 0:refaddfast.current)&&"true"!==(null===(t=e.target)||void 0===t?void 0:t.getAttribute("data-carnet-input"))&&(e.preventDefault(),e.stopPropagation(),getEfectivoLocal(),setTimeout((function(){efectivoInputRef.current&&(efectivoInputRef.current.focus(),efectivoInputRef.current.select())}),50))}),{enableOnTags:["INPUT","SELECT","TEXTAREA"]},[refaddfast,showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("d",(function(e){var t;if(!showModalPosDebito&&!togglereferenciapago&&e.target!==(null==refaddfast?void 0:refaddfast.current)&&"true"!==(null===(t=e.target)||void 0===t?void 0:t.getAttribute("data-carnet-input")))if(e.preventDefault(),e.stopPropagation(),document.activeElement!==debitoInputRef.current)getDebitoLocal(),setTimeout((function(){debitoInputRef.current&&(debitoInputRef.current.focus(),debitoInputRef.current.select())}),50);else{var r=document.querySelector('[data-ref-input="true"]');r&&(r.focus(),r.select())}}),{enableOnTags:["INPUT","SELECT","TEXTAREA"]},[refaddfast,debitoInputRef,showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("f5",(function(e){(e.preventDefault(),showModalPosDebito||togglereferenciapago)||(debitos&&debitos.some((function(e){return!0===e.bloqueado}))?notificar({data:{msj:"No se puede eliminar el pedido: tiene un dbito aprobado.",estado:!1}}):refPago&&refPago.length>0?notificar({data:{msj:"No se puede eliminar el pedido: tiene referencias bancarias cargadas. Elimnelas primero.",estado:!1}}):del_pedido())}),{enableOnTags:["INPUT","SELECT"]},[showModalPosDebito,togglereferenciapago,debitos,del_pedido,notificar]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("f4",(function(){var e,t;showModalPosDebito||togglereferenciapago||(null!=pedidoData&&pedidoData.id&&(null!==(e=null==pedidoData||null===(t=pedidoData.items)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0?setShowModalExportarLista(!0):"function"==typeof viewReportPedido&&viewReportPedido())}),{enableOnTags:["INPUT","SELECT"]},[showModalPosDebito,togglereferenciapago,null==pedidoData?void 0:pedidoData.id,null==pedidoData?void 0:pedidoData.items]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("f3",(function(){showModalPosDebito||togglereferenciapago||toggleImprimirTicket()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("f2",(function(){showModalPosDebito||togglereferenciapago||setToggleAddPersonaFun(!0,(function(){setclienteInpnombre(""),setclienteInptelefono(""),setclienteInpdireccion(""),inputmodaladdpersonacarritoref&&inputmodaladdpersonacarritoref.current&&inputmodaladdpersonacarritoref.current.focus()}))}),{enableOnTags:["INPUT","SELECT"]},[showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("ctrl+enter",(function(e){facturar_e_imprimir()}),{keydown:!0,keyup:!1,enableOnTags:["INPUT","SELECT","TEXTAREA"]},[showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("f1",(function(){showModalPosDebito||togglereferenciapago||("function"==typeof addNewPedidoFront?addNewPedidoFront():console.warn("addNewPedidoFront function not available"))}),{enableOnTags:["INPUT","SELECT"]},[showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("f10",(function(e){showModalPosDebito||togglereferenciapago||(e.preventDefault(),setShowHeaderAndMenu(!showHeaderAndMenu),window.scrollTo({top:0,behavior:"smooth"}))}),{enableOnTags:["INPUT","SELECT"],filter:!1},[showHeaderAndMenu,showModalPosDebito,togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("tab",(function(e){}),{enableOnTags:["INPUT","SELECT"],filter:!1},[togglereferenciapago]),(0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_1__.v)("r",(function(e){if(!showModalPosDebito&&!togglereferenciapago&&!("INPUT"===e.target.tagName||"SELECT"===e.target.tagName||"TEXTAREA"===e.target.tagName)){e.preventDefault(),e.stopPropagation();var t=transferencia,r="1";debito&&debito>0?(t=debito,r="2"):efectivo&&efectivo>0?(t=efectivo,r="3"):credito&&credito>0?(t=credito,r="4"):biopago&&biopago>0&&(t=biopago,r="5"),addRefPago("toggle",t,r)}}),{enableOnTags:["INPUT","SELECT","TEXTAREA"],filter:!1},[transferencia,debito,efectivo,credito,biopago,showModalPosDebito]);var _pedidoData$id=pedidoData.id,id=void 0===_pedidoData$id?null:_pedidoData$id,_pedidoData$created_a=pedidoData.created_at,created_at=void 0===_pedidoData$created_a?"":_pedidoData$created_a,_pedidoData$cliente=pedidoData.cliente,cliente=void 0===_pedidoData$cliente?"":_pedidoData$cliente,_pedidoData$items11=pedidoData.items,items=void 0===_pedidoData$items11?[]:_pedidoData$items11,_pedidoData$retencion=pedidoData.retenciones,retenciones=void 0===_pedidoData$retencion?[]:_pedidoData$retencion,_pedidoData$total_des=pedidoData.total_des,total_des=void 0===_pedidoData$total_des?0:_pedidoData$total_des,_pedidoData$subtotal=pedidoData.subtotal,subtotal=void 0===_pedidoData$subtotal?0:_pedidoData$subtotal,_pedidoData$total=pedidoData.total,total=void 0===_pedidoData$total?0:_pedidoData$total,_pedidoData$total_por=pedidoData.total_porciento,total_porciento=void 0===_pedidoData$total_por?0:_pedidoData$total_por,_pedidoData$cop=pedidoData.cop,cop=void 0===_pedidoData$cop?0:_pedidoData$cop,_pedidoData$bs=pedidoData.bs,bs=void 0===_pedidoData$bs?0:_pedidoData$bs,_pedidoData$editable=pedidoData.editable,editable=void 0===_pedidoData$editable?0:_pedidoData$editable,_pedidoData$vuelto_en=pedidoData.vuelto_entregado,vuelto_entregado=void 0===_pedidoData$vuelto_en?0:_pedidoData$vuelto_en,_pedidoData$estado=pedidoData.estado,estado=void 0===_pedidoData$estado?0:_pedidoData$estado,_pedidoData$exento=pedidoData.exento,exento=void 0===_pedidoData$exento?0:_pedidoData$exento,_pedidoData$gravable=pedidoData.gravable,gravable=void 0===_pedidoData$gravable?0:_pedidoData$gravable,_pedidoData$ivas=pedidoData.ivas,ivas=void 0===_pedidoData$ivas?0:_pedidoData$ivas,_pedidoData$monto_iva=pedidoData.monto_iva,monto_iva=void 0===_pedidoData$monto_iva?0:_pedidoData$monto_iva,totalRef=parseFloat(null!==(_pedidoData$clean_tot=null==pedidoData?void 0:pedidoData.clean_total)&&void 0!==_pedidoData$clean_tot?_pedidoData$clean_tot:total)||0,tasaBsDisplay=getTasaBsCalc(),tasaCopDisplay=getTasaCopCalc(),totalBs=null!=(null==pedidoData?void 0:pedidoData.bs)&&""!==(null==pedidoData?void 0:pedidoData.bs)?parseFloat(pedidoData.bs):totalRef*tasaBsDisplay,totalCop=null!=(null==pedidoData?void 0:pedidoData.cop)&&""!==(null==pedidoData?void 0:pedidoData.cop)?parseFloat(pedidoData.cop):totalRef*tasaCopDisplay,ifnegative=items.filter((function(e){return e.cantidad<0})).length,tasaBsPedido,totalPedidoBs,efectivoUsd,efectivoBsVal,puedeAgregarDebito,_pend$numItemsConDesc,pend,metodos,fmt;return pedidoData?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"container-fluid h-100 ",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"row h-100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"h-100 col-lg-7 pr-2 pl-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_listProductosInterno__WEBPACK_IMPORTED_MODULE_2__.A,{qProductosMain,setQProductosMain,setLastDbRequest,lastDbRequest,openValidationTarea,num,setNum,auth,refaddfast,cedula_referenciapago,setcedula_referenciapago,telefono_referenciapago,settelefono_referenciapago,setinputqinterno,inputqinterno,tbodyproducInterref,productos,countListInter,moneda,setCountListInter,setView,permisoExecuteEnter,user,inputCantidadCarritoref,setCantidad,cantidad,number,dolar,addCarritoRequestInterno,setproductoSelectinternouno,pedidoData,notificar,getPedido,pedidosFast,pedidosFrontPendientesList,onClickEditPedido,addNewPedidoFront,togglereferenciapago,orderColumn,setOrderColumn,orderBy,setOrderBy,getProductos,devolucionTipo,setShowModalPedidoOriginal,pedidoOriginalAsignado,refEjecutarTrasFacturaOriginal})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"h-100 col-lg-5 pr-2 pl-0 d-flex flex-column",children:id?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"relative",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-2 mb-1 bg-white border border-orange-400 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col items-center justify-between border-b border-gray-200 gap-y-2 sm:flex-row",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-left",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-2xl font-bold text-green-500 md:text-4xl",children:[moneda(totalRef)," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs",children:"Ref"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"h-12 border-l border-gray-300"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-left",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex items-center gap-2 text-xs font-semibold text-gray-700 mb-0.5",children:0!==pedidoData.estado&&(null===(_pedidoData$items12=pedidoData.items)||void 0===_pedidoData$items12||null===(_pedidoData$items12=_pedidoData$items12[0])||void 0===_pedidoData$items12?void 0:_pedidoData$items12.tasa)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"px-1.5 py-0.5 text-[10px] font-medium text-orange-600 bg-orange-100 rounded",children:["@",parseFloat(pedidoData.items[0].tasa).toFixed(4)]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-2xl font-bold text-orange-500 md:text-4xl",children:[moneda(totalBs)," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs",children:"Bs"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{ref:calculadoraBtnRef,onClick:function(){return setShowCalculadora(!showCalculadora)},className:"p-1.5 text-xs border rounded transition-colors ".concat(showCalculadora?"bg-orange-500 text-white border-orange-600":"text-gray-500 bg-gray-100 border-gray-300 hover:bg-gray-200 hover:text-gray-700"),title:"Calculadora y Vueltos (ESC para cerrar)",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-calculator"})})]})]}),"elorza"==user.sucursal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"h-12 border-l border-gray-300"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-left",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-xs font-semibold text-gray-700 mb-0.5",children:"Total Cops"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-2xl font-bold text-blue-500 md:text-4xl",children:moneda(totalCop)})]})]})]}),pedidoData._frontOnly&&null!=descuentoTotalEditingId&&String(id)===String(descuentoTotalEditingId)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative flex items-center gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:descuentoTotalInputRef,type:"text",className:"w-24 px-2 py-1 text-xs border border-orange-300 rounded-lg focus:ring-1 focus:ring-orange-400 focus:border-orange-400",placeholder:"Monto final",value:descuentoTotalInputValue,onChange:function(e){return setDescuentoTotalInputValue&&setDescuentoTotalInputValue(e.target.value)},onBlur:function(){var e=(descuentoTotalInputValue||"").trim();""!==e?onDescuentoTotalSubmit&&onDescuentoTotalSubmit(e):onDescuentoTotalCancel&&onDescuentoTotalCancel()},onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=(descuentoTotalInputValue||"").trim();onDescuentoTotalSubmit&&onDescuentoTotalSubmit(t)}"Escape"===e.key&&(e.preventDefault(),onDescuentoTotalCancel&&onDescuentoTotalCancel())},onClick:function(e){return e.stopPropagation()}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"absolute right-full mr-1.5 top-1/2 -translate-y-1/2 px-2 py-1 text-xs min-w-[180px] max-w-[220px] rounded-lg shadow-lg bg-gray-800 text-white pointer-events-none z-[9999] leading-snug whitespace-normal",children:["Monto final del pedido.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-300",children:"0 = quitar descuento  Enter aplicar  Esc cancelar"})]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{"data-index":id,onClick:pendienteDescuentoMetodoPago[pedidoData.id]?void 0:setDescuentoTotal,disabled:!!pendienteDescuentoMetodoPago[pedidoData.id],className:"px-2 py-1 text-xs font-semibold border !border-gray-300 rounded-lg ".concat(pendienteDescuentoMetodoPago[pedidoData.id]?"text-gray-400 bg-gray-50 cursor-not-allowed":"text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors"),title:pendienteDescuentoMetodoPago[pedidoData.id]?"Solicitud en espera. Verifique aprobacin o cancele para editar descuentos.":void 0,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-1.5 fa fa-percentage text-xs"}),total_porciento,"%"]})]}),pedidoData._frontOnly&&pedidoData.id&&(pedidoData.items||[]).some((function(e){return null!=e.descuento&&parseFloat(e.descuento)>0}))&&pendienteDescuentoMetodoPago[pedidoData.id]&&(pend=pendienteDescuentoMetodoPago[pedidoData.id],metodos=(null==pend?void 0:pend.metodos_pago)||[],fmt=function(e){var t="debito"===e.tipo||"Bs"===e.moneda?"Bs":"COP"===e.moneda?"COP":"USD",r=parseFloat(e.monto);return"".concat(function(e){var t={efectivo:"Efectivo",debito:"Dbito",transferencia:"Transferencia",biopago:"Biopago",credito:"Crdito"}[e.tipo]||e.tipo;return"adicional"===e.tipo?"Bs"===e.moneda?"Efectivo (Bs)":"COP"===e.moneda?"Efectivo (COP)":"Efectivo (otra)":t}(e)," ").concat(Number.isNaN(r)?"":r%1==0?r:r.toFixed(2)," ").concat(t)},(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-200 flex flex-col gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{className:"text-xs text-amber-800 bg-amber-50 border border-amber-200 rounded px-2 py-1.5",children:["Se envi la solicitud de descuento de ",null!==(_pend$numItemsConDesc=null==pend?void 0:pend.numItemsConDescuento)&&void 0!==_pend$numItemsConDesc?_pend$numItemsConDesc:(pedidoData.items||[]).filter((function(e){return null!=e.descuento&&parseFloat(e.descuento)>0})).length," tem(s) con sus descuentos y el mtodo de pago elegido."]}),metodos.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{className:"text-xs text-amber-900 bg-amber-100/80 border border-amber-300 rounded px-2 py-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"font-semibold",children:"Mtodos enviados: "}),metodos.map((function(e,t){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[t>0?", ":"",fmt(e)]},t)}))]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",disabled:descuentoMetodoPagoVerificando||cancelandoDescuentoMetodoPago,onClick:function(){return verificarDescuentoMetodoPagoFront&&verificarDescuentoMetodoPagoFront()},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm font-semibold text-orange-800 bg-orange-200 border border-orange-400 rounded-lg hover:bg-orange-300 disabled:opacity-60",children:descuentoMetodoPagoVerificando?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"inline-block w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin shrink-0"}),"Verificando"]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:"Verificar aprobacin"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",disabled:descuentoMetodoPagoVerificando||cancelandoDescuentoMetodoPago,onClick:function(){return cancelarSolicitudDescuentoMetodoPagoFront&&cancelarSolicitudDescuentoMetodoPagoFront()},className:"flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 disabled:opacity-60",title:"Cancelar solicitud para poder enviar de nuevo",children:cancelandoDescuentoMetodoPago?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"inline-block w-4 h-4 border-2 border-gray-500 border-t-transparent rounded-full animate-spin shrink-0"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:"Cancelar solicitud"})})]})]})),pedidoData._frontOnly&&pedidoData.id&&!pendienteDescuentoMetodoPago[pedidoData.id]&&(pedidoData.items||[]).some((function(e){return null!=e.descuento&&parseFloat(e.descuento)>0}))&&descuentoMetodoPagoAprobadoPorUuid[pedidoData.id]&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-200 flex flex-col gap-1.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex items-center justify-between gap-2 text-green-700 bg-green-50 border border-green-200 rounded px-2 py-1.5",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs font-medium",children:"Descuento por mtodo de pago aprobado"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",disabled:eliminandoValidacionDescuentoMetodoPago,onClick:function(){return eliminarValidacionDescuentoMetodoPagoFront&&eliminarValidacionDescuentoMetodoPagoFront()},className:"w-full flex items-center justify-center gap-2 px-3 py-2 text-xs font-medium text-amber-800 bg-amber-100 border border-amber-300 rounded-lg hover:bg-amber-200 disabled:opacity-60",title:"Si fue un error, eliminar esta validacin para volver a solicitar",children:eliminandoValidacionDescuentoMetodoPago?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"inline-block w-3 h-3 border-2 border-amber-500 border-t-transparent rounded-full animate-spin shrink-0"}),"Eliminando"]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:"Eliminar validacin"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between mt-2 gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"min-w-0 flex flex-col gap-0.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-xs font-semibold text-gray-700 truncate",title:id,children:["#",id]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs text-gray-400 shrink-0",children:""}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs text-gray-500 shrink-0",children:created_at}),((null==pedidoData?void 0:pedidoData.isdevolucionOriginalid)||pedidoOriginalAsignado)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs text-gray-400",children:""}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:verFacturaOriginal,className:"px-1.5 py-0.5 text-[10px] font-medium text-orange-700 bg-orange-100 border border-orange-300 rounded hover:bg-orange-200 transition-colors shrink-0",title:"Ver factura original",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-0.5 fa fa-file-invoice"}),"#",(null==pedidoData?void 0:pedidoData.isdevolucionOriginalid)||pedidoOriginalAsignado]})]})]}),cliente&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-[11px] text-gray-600 truncate",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"font-medium text-gray-700",title:"CF"===cliente.nombre?"Sin cliente":cliente.nombre,children:"CF"===cliente.nombre?"Sin cliente":cliente.nombre}),cliente.identificacion&&"CF"!==cliente.identificacion&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-gray-500",children:["  ",cliente.identificacion]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"".concat(1==estado?"bg-green-100 text-green-700 !border-green-200":2==estado?"bg-red-100 text-red-700 !border-red-200":"bg-orange-100 text-orange-700 !border-orange-200"," inline-flex items-center gap-1.5 px-3 py-1 text-xs font-semibold border rounded-full whitespace-nowrap"),children:1==estado?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-check-circle"}),"Completado"]}):2==estado?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times-circle"}),"Cancelado"]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-clock"}),"Pendiente"]})})]}),"elorza"==user.sucursal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"pt-3 mt-3 text-right border-t border-gray-200",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-xs text-gray-500",children:["COP"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{"data-type":"cop",className:"font-bold text-gray-600 cursor-pointer",children:moneda(totalCop)})]})}),totalRef<0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-2 mt-3 text-xs border border-yellow-200 rounded bg-yellow-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-2 text-yellow-600 fa fa-exclamation-triangle"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-yellow-800",children:"Debemos pagarle diferencia al cliente"})]}):null]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-1 overflow-auto pr-2",children:[items&&items.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"mb-3 bg-white border border-gray-200 rounded ",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("table",{className:"w-full text-xs ",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("colgroup",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("col",{className:"!w-[50%]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("col",{className:"!w-[10%]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("col",{className:"!w-[10%]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("col",{className:"!w-[10%]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("col",{className:"!w-[10%]"}),(editable||pedidoData._frontOnly)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("col",{className:"!w-[10%]"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("thead",{className:"border-b border-gray-200 bg-gray-50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("th",{className:"px-2 py-1 text-xs font-medium tracking-wider text-left text-gray-600",children:["Producto"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"font-normal text-gray-500",children:["(",items.length,")"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-2 py-1 text-xs font-medium tracking-wider text-center text-gray-600",children:"Cant."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-2 py-1 text-xs font-medium tracking-wider text-right text-gray-600",children:"Precio"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-2 py-1 text-xs font-medium tracking-wider text-right text-gray-600",children:"Desc."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-2 py-1 text-xs font-medium tracking-wider text-right text-gray-600",children:"Total"}),(editable||pedidoData._frontOnly)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-2 py-1 text-xs font-medium tracking-wider text-center text-gray-600"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:items.map((function(e,t){var r,n,a,o,i,s,c,l,u,d,f,h,p,m,g,x,v,b,y,_,j,w,N,E,C;return e.abono&&!e.producto?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1 text-xs text-gray-600",children:"MOV"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1 text-xs",children:e.abono}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1 text-xs text-center",children:e.cantidad}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1 text-xs text-right",children:e.monto}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{onClick:setDescuentoUnitario,"data-index":e.id,className:"px-2 py-1 text-xs text-right cursor-pointer hover:bg-orange-50",children:e.descuento}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1 text-xs text-right",children:moneda(e.total_des)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1 text-xs font-bold text-right",children:moneda(e.total)})]},e.id):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tr",{title:showTittlePrice(null!==(r=null!==(n=null!==(a=null===(o=e.producto)||void 0===o?void 0:o.precio)&&void 0!==a?a:e.precio_unitario)&&void 0!==n?n:e.precio)&&void 0!==r?r:0,e.total,e.tasa),className:"hover:bg-gray-50 ".concat(lastAddedFrontItemId===e.id?"carrito-item-just-added":""),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center space-x-2",children:[ifnegative?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[1==e.condicion?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 rounded text-xs",children:"Garanta"}):null,2==e.condicion||0==e.condicion?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:"Cambio"}):null,pedidoData._frontOnly&&1!=e.condicion&&2!=e.condicion&&0!=e.condicion?e.cantidad<0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-0.5 bg-green-100 text-green-800 rounded text-xs",children:"Entrada"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-0.5 bg-red-100 text-red-800 rounded text-xs",children:"Salida"}):null]}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-xs cursor-pointer","data-id":e.id,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"font-mono text-gray-600",children:(C=null!==(_=null!==(j=null!==(w=null===(N=e.producto)||void 0===N?void 0:N.codigo_barras)&&void 0!==w?w:null===(E=e.producto)||void 0===E?void 0:E.codigo_proveedor)&&void 0!==j?j:e.codigo_barras)&&void 0!==_?_:e.codigo_proveedor,null!=C&&""!==String(C).trim()?String(C).trim():"")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"font-medium text-gray-900 ",title:null!==(i=null!==(s=null===(c=e.producto)||void 0===c?void 0:c.descripcion)&&void 0!==s?s:e.descripcion)&&void 0!==i?i:"Producto no disponible",children:null!==(l=null!==(u=null===(d=e.producto)||void 0===d?void 0:d.descripcion)&&void 0!==u?u:e.descripcion)&&void 0!==l?l:"Producto no disponible"})]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1 text-center ".concat(null!=e.descuento&&parseFloat(e.descuento)>0?"text-gray-500":""),onClick:pendienteDescuentoMetodoPago[pedidoData.id]||null!=e.descuento&&parseFloat(e.descuento)>0&&descuentoMetodoPagoAprobadoPorUuid[pedidoData.id]||pedidoData._frontOnly||1==e.condicion?void 0:setCantidadCarrito,"data-index":pedidoData._frontOnly?void 0:e.id,title:pendienteDescuentoMetodoPago[pedidoData.id]?"Solicitud de descuento en espera. Verifique aprobacin o cancele para editar.":null!=e.descuento&&parseFloat(e.descuento)>0&&descuentoMetodoPagoAprobadoPorUuid[pedidoData.id]?"No se puede editar cantidad: el tem tiene descuento aprobado por central":void 0,children:pedidoData._frontOnly?pendienteDescuentoMetodoPago[pedidoData.id]||null!=e.descuento&&parseFloat(e.descuento)>0&&descuentoMetodoPagoAprobadoPorUuid[pedidoData.id]?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs",children:Number(e.cantidad)%1==0?Number(e.cantidad):Number(e.cantidad).toFixed(2)}):editingCantidadFrontItemId===e.id?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:quantityFrontInputRef,type:"number",className:"w-14 px-1 py-0.5 text-xs text-center border border-gray-300 rounded focus:ring-1 focus:ring-orange-400 focus:border-orange-400 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:void 0!==editingCantidadFront[e.id]?editingCantidadFront[e.id]:e.cantidad,min:"0",onClick:function(e){return e.stopPropagation()},onChange:function(t){var r=t.target.value;(""===r||/^\d*\.?\d*$/.test(r))&&setEditingCantidadFront((function(t){return _objectSpread(_objectSpread({},t),{},_defineProperty({},e.id,r))}))},onBlur:function(t){var r=""===t.target.value?"0":t.target.value;setCantidadCarritoFront(e.id,r),setEditingCantidadFrontItemId(null),setEditingCantidadFront((function(t){var r=_objectSpread({},t);return delete r[e.id],r}))},onKeyDown:function(t){"Enter"===t.key&&(t.target.blur(),t.preventDefault()),"Escape"===t.key&&(setEditingCantidadFrontItemId(null),setEditingCantidadFront((function(t){var r=_objectSpread({},t);return delete r[e.id],r})),t.target.blur(),t.preventDefault())}}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-center space-x-1 cursor-pointer hover:bg-amber-50 rounded px-1 py-0.5 min-h-[1.5rem]",onClick:function(t){t.stopPropagation(),setEditingCantidadFrontItemId(e.id)},title:"Click para editar cantidad",children:[ifnegative?e.cantidad<0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-1 py-0.5 bg-green-100 text-green-800 rounded text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-arrow-down"})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-1 py-0.5 bg-red-100 text-red-800 rounded text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-arrow-up"})}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs",children:Number(e.cantidad)%1==0?Number(e.cantidad):Number(e.cantidad).toFixed(2)})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-center space-x-1 cursor-pointer",children:[ifnegative?e.cantidad<0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-1 py-0.5 bg-green-100 text-green-800 rounded text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-arrow-down"})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-1 py-0.5 bg-red-100 text-red-800 rounded text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-arrow-up"})}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs",children:Number(e.cantidad)%1==0?Number(e.cantidad):Number(e.cantidad).toFixed(2)})]})}),null!==(f=e.producto)&&void 0!==f&&f.precio1?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("td",{className:"px-2 py-1 text-xs text-right text-green-600 cursor-pointer","data-iditem":e.id,onClick:setPrecioAlternoCarrito,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:moneda(null!==(h=null!==(p=null!==(m=null===(g=e.producto)||void 0===g?void 0:g.precio)&&void 0!==m?m:e.precio_unitario)&&void 0!==p?p:e.precio)&&void 0!==h?h:0,4)}),e.cantidad<0&&e.tasa&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-[10px] text-orange-600 font-normal",children:["@",moneda(e.tasa,4)]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("td",{className:"px-2 py-1 text-xs text-right cursor-pointer",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:moneda(null!==(x=null!==(v=null!==(b=null===(y=e.producto)||void 0===y?void 0:y.precio)&&void 0!==b?b:e.precio_unitario)&&void 0!==v?v:e.precio)&&void 0!==x?x:0,4)}),e.cantidad<0&&e.tasa&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-[10px] text-orange-600",children:["@",moneda(e.tasa,4)]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"relative px-2 py-1 text-xs text-right ".concat(pedidoData._frontOnly&&pendienteDescuentoMetodoPago[pedidoData.id]?"cursor-not-allowed opacity-60":parseFloat(e.cantidad)<0&&e.descuento&&parseFloat(e.descuento)>0?"text-gray-400 select-none":null!=descuentoUnitarioVerificandoId&&String(e.id)===String(descuentoUnitarioVerificandoId)?"align-middle bg-gray-50":null!=descuentoUnitarioEditingId&&String(e.id)===String(descuentoUnitarioEditingId)?"align-middle":"cursor-pointer hover:bg-orange-50 ".concat(e.descuento&&parseFloat(e.descuento)>0?"bg-orange-100 text-orange-700 font-semibold":"text-gray-400")),title:pedidoData._frontOnly&&pendienteDescuentoMetodoPago[pedidoData.id]?"Solicitud en espera. Verifique aprobacin o cancele para editar descuentos.":parseFloat(e.cantidad)<0&&e.descuento&&parseFloat(e.descuento)>0?"Descuento heredado del tem original, no modificable":null!=descuentoUnitarioVerificandoId&&String(e.id)===String(descuentoUnitarioVerificandoId)||null!=descuentoUnitarioEditingId&&String(e.id)===String(descuentoUnitarioEditingId)||null!=descuentoUnitarioTooltipAprobadoId&&String(e.id)===String(descuentoUnitarioTooltipAprobadoId)?void 0:"Click para aplicar descuento",onClick:function(){if((!pedidoData._frontOnly||!pendienteDescuentoMetodoPago[pedidoData.id])&&(!(parseFloat(e.cantidad)<0&&e.descuento&&parseFloat(e.descuento)>0)&&null==descuentoUnitarioVerificandoId&&(null==descuentoUnitarioEditingId||String(e.id)!==String(descuentoUnitarioEditingId))))return setDescuentoUnitario}(),"data-index":e.id,children:parseFloat(e.cantidad)<0&&e.descuento&&parseFloat(e.descuento)>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"flex items-center justify-end gap-1 text-gray-400",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-lock text-[9px]"}),e.descuento,"%"]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[null!=descuentoUnitarioVerificandoId&&String(e.id)===String(descuentoUnitarioVerificandoId)||null!=descuentoUnitarioEditingId&&String(e.id)===String(descuentoUnitarioEditingId)||null!=descuentoUnitarioTooltipAprobadoId&&String(e.id)===String(descuentoUnitarioTooltipAprobadoId)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"absolute left-1/2 top-full -translate-x-1/2 mt-1 px-3 py-2 text-xs min-w-[280px] max-w-[360px] text-center rounded-lg shadow-lg bg-gray-800 text-white pointer-events-none z-[9999] leading-snug",role:"tooltip",children:null!=descuentoUnitarioTooltipAprobadoId&&String(e.id)===String(descuentoUnitarioTooltipAprobadoId)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:["Se aprob un descuento en este tem.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),"Para reversarlo: pida al aprobador que revierta la aprobacin, elimine el tem del carrito y vuelva a enviar la solicitud."]}):null!=descuentoUnitarioVerificandoId&&String(e.id)===String(descuentoUnitarioVerificandoId)?"Comprobando solicitud":(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:["Escriba el monto final.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),"0 = quitar descuento.",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("br",{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-300",children:"Enter aplicar  Esc cancelar"})]})}):null,null!=descuentoUnitarioVerificandoId&&String(e.id)===String(descuentoUnitarioVerificandoId)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex w-full justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"inline-block w-3 h-3 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"})}):null!=descuentoUnitarioEditingId&&String(e.id)===String(descuentoUnitarioEditingId)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:descuentoUnitarioInputRef,type:"text",className:"w-full max-w-[72px] px-1.5 py-0.5 text-right text-xs border border-orange-300 rounded focus:ring-1 focus:ring-orange-400 focus:border-orange-400",placeholder:"0",value:descuentoUnitarioInputValue,onChange:function(e){return setDescuentoUnitarioInputValue&&setDescuentoUnitarioInputValue(e.target.value)},onBlur:function(){var e=(descuentoUnitarioInputValue||"").trim();""!==e?onDescuentoUnitarioSubmit&&onDescuentoUnitarioSubmit(e):onDescuentoUnitarioCancel&&onDescuentoUnitarioCancel()},onKeyDown:function(e){if("Enter"===e.key){e.preventDefault();var t=(descuentoUnitarioInputValue||"").trim();onDescuentoUnitarioSubmit&&onDescuentoUnitarioSubmit(t)}"Escape"===e.key&&(e.preventDefault(),onDescuentoUnitarioCancel&&onDescuentoUnitarioCancel())},onClick:function(e){return e.stopPropagation()}}):function(t){var r=(null==pedidoData?void 0:pedidoData.id)&&(null==pendientesDescuentoUnitario||null===(t=pendientesDescuentoUnitario[pedidoData.id])||void 0===t?void 0:t[String(e.id)]);if(r){var n=Math.floor((Date.now()-(r.submittedAt||0))/1e3),a=Math.floor(n/60),o=n%60;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"flex flex-col items-end gap-0.5 text-amber-700 bg-amber-50 border border-amber-200 rounded px-1.5 py-0.5",title:"En espera de aprobacin (solo referencia visual)",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium",children:r.montoFinal}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-[9px] text-amber-600 tabular-nums",children:[a,":",String(o).padStart(2,"0")]})]})}return e.descuento&&parseFloat(e.descuento)>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"flex items-center justify-end gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-tag text-[10px]"}),e.descuento,"%"]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-300",children:"-"})}()]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1 text-xs font-bold text-right",children:moneda(e.total)}),editable||pedidoData._frontOnly?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-2 py-1 text-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{onClick:function(t){t.stopPropagation(),pedidoData._frontOnly&&pendienteDescuentoMetodoPago[pedidoData.id]||(pedidoData._frontOnly?delItemPedido({currentTarget:{attributes:{"data-index":{value:e.id}}}}):delItemPedido(t))},"data-index":e.id,className:"".concat(pedidoData._frontOnly&&pendienteDescuentoMetodoPago[pedidoData.id]?"cursor-not-allowed opacity-50":"cursor-pointer hover:opacity-80"," ").concat(pedidoData._frontOnly?"text-red-500 fa fa-trash hover:text-red-700":"text-red-500 fa fa-times hover:text-red-700"),title:pedidoData._frontOnly&&pendienteDescuentoMetodoPago[pedidoData.id]?"Solicitud en espera. Verifique aprobacin o cancele para eliminar tems.":pedidoData._frontOnly?"Eliminar del pedido":"Quitar tem"})}):null]},e.id)}))})]})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"mb-1 overflow-hidden bg-white border border-gray-200 rounded",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col items-center justify-center px-4 py-12",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex items-center justify-center w-16 h-16 mb-3 bg-gray-100 rounded-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-2xl text-gray-400 fa fa-box-open"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"mb-1 text-sm font-semibold text-gray-700",children:"Sin productos an"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text-xs text-center text-gray-500",children:"Comienza agregando productos al pedido"})]})}),1===(null==pedidoData?void 0:pedidoData.estado)&&null!=pedidoData&&pedidoData.pagos&&pedidoData.pagos.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-3 overflow-hidden bg-white border border-gray-200 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"px-3 py-2 border-b border-gray-200 bg-gray-50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h6",{className:"flex items-center text-sm font-semibold text-gray-800",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-2 text-green-500 fa fa-check-circle"}),"Pagos Procesados"]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"p-3 space-y-2",children:pedidoData.pagos.map((function(e){var t=function(e){switch(String(e)){case"1":return{nombre:"Transferencia",icon:"fa-exchange",color:"blue"};case"2":return{nombre:"Dbito",icon:"fa-credit-card",color:"orange"};case"3":return{nombre:"Efectivo",icon:"fa-money",color:"green"};case"4":return{nombre:"Crdito",icon:"fa-calendar",color:"yellow"};case"5":return{nombre:"Biopago",icon:"fa-mobile",color:"purple"};case"6":return{nombre:"Vuelto",icon:"fa-undo",color:"red"};default:return{nombre:"Otro",icon:"fa-ban",color:"gray"}}}(e.tipo);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded bg-".concat(t.color,"-50 border-").concat(t.color,"-200"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa ".concat(t.icon," text-").concat(t.color,"-600")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-sm font-semibold text-".concat(t.color,"-800"),children:t.nombre}),e.referencia&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-xs text-gray-600",children:["Ref: #",e.referencia]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-right",children:e.monto_original&&e.moneda?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-sm font-bold text-".concat(t.color,"-700"),children:"bs"===e.moneda?"Bs ".concat(moneda(e.monto_original)):"cop"===e.moneda?"COP ".concat(parseFloat(e.monto_original).toFixed(0)):"$".concat(moneda(e.monto))}),"usd"!==e.moneda&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-[10px] text-gray-600",children:["$",moneda(e.monto)]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-sm font-bold text-".concat(t.color,"-700"),children:["$",moneda(e.monto)]})})]},e.id)}))})]}):1!==(null==pedidoData?void 0:pedidoData.estado)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-3 space-y-2 relative",children:[pedidoData._frontOnly&&pedidoData.id&&(pedidoData.items||[]).some((function(e){return null!=e.descuento&&parseFloat(e.descuento)>0}))&&pendienteDescuentoMetodoPago[pedidoData.id]&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"absolute inset-0 bg-white/70 rounded-lg z-[5]","aria-hidden":"true"}),pedidoData._frontOnly&&pedidoData.id&&(pedidoData.items||[]).some((function(e){return null!=e.descuento&&parseFloat(e.descuento)>0}))&&descuentoMetodoPagoAprobadoPorUuid[pedidoData.id]&&function(){var e=metodosPagoAprobadosPorUuid[pedidoData.id]||[],t={efectivo:"Efectivo",transferencia:"Transferencia",debito:"Dbito",biopago:"Biopago",credito:"Crdito",adicional:"Bs/Pesos"},r=e.map((function(e){return"".concat(t[e.tipo]||e.tipo," Bs ").concat(null==(r=e.monto)?"":"number"==typeof r?r%1==0?r:r.toFixed(2):String(r));var r})).filter(Boolean);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"mb-2 rounded-lg border border-green-300 bg-green-50 px-3 py-2 text-green-800",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-green-200",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-check text-xs text-green-700"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs font-semibold",children:"Descuento aprobado para: "}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs",children:r.length>0?r.join(", "):""}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"mt-0.5 text-[10px] text-green-700",children:"Use exactamente estos mtodos y montos para facturar."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",disabled:eliminandoValidacionDescuentoMetodoPago,onClick:function(){return eliminarValidacionDescuentoMetodoPagoFront&&eliminarValidacionDescuentoMetodoPagoFront()},className:"shrink-0 px-3 py-1.5 text-xs font-medium text-amber-800 bg-amber-100 border border-amber-300 rounded-lg hover:bg-amber-200 disabled:opacity-60",title:"Si fue un error (central y pedido), eliminar esta validacin para poder volver a solicitar el descuento",children:eliminandoValidacionDescuentoMetodoPago?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"inline-block w-3 h-3 border-2 border-amber-500 border-t-transparent rounded-full animate-spin align-middle mr-1"}),"Eliminando"]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:"Eliminar validacin"})})]})})}(),pedidoData._frontOnly&&pedidoData.id&&(pedidoData.items||[]).some((function(e){return null!=e.descuento&&parseFloat(e.descuento)>0}))&&pendienteDescuentoMetodoPago[pedidoData.id]&&function(){var e=pendienteDescuentoMetodoPago[pedidoData.id],t=(null==e?void 0:e.metodos_pago)||[];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"absolute inset-0 z-[20] flex flex-col items-center justify-start pt-4 gap-2 bg-amber-50 border-2 border-amber-300 rounded-lg pointer-events-none",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-sm font-semibold text-amber-900 bg-amber-100 border border-amber-400 rounded-lg px-4 py-3 shadow-md text-center max-w-md",children:["Pago bloqueado hasta que la solicitud de descuento por mtodo de pago est aprobada. Use el botn ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("strong",{children:'"Verificar si ya est aprobado"'})," en la tarjeta del pedido (lista izquierda)."]}),t.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-xs font-medium text-amber-800 bg-amber-100 border border-amber-300 rounded-lg px-3 py-2 text-center max-w-md",children:["Mtodos enviados: ",t.map((function(e,t){return function(e){var t="debito"===e.tipo||"Bs"===e.moneda?"Bs":"COP"===e.moneda?"COP":"USD",r=parseFloat(e.monto);return"".concat(function(e){return"adicional"===e.tipo?"Bs"===e.moneda?"Efectivo (Bs)":"COP"===e.moneda?"Efectivo (COP)":"Efectivo (otra)":{efectivo:"Efectivo",debito:"Dbito",transferencia:"Transferencia",biopago:"Biopago",credito:"Crdito"}[e.tipo]||e.tipo}(e)," ").concat(Number.isNaN(r)?"":r%1==0?r:r.toFixed(2)," ").concat(t)}(e)})).join(", ")]})]})}(),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium text-orange-600",children:"Dbito (D)"}),(null==pedidoData?void 0:pedidoData.id)&&(null==posTransaccionesPorPedido||null===(_posTransaccionesPorP=posTransaccionesPorPedido[pedidoData.id])||void 0===_posTransaccionesPorP?void 0:_posTransaccionesPorP.length)>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 text-[9px] font-semibold text-green-700 bg-green-100 border border-green-300 rounded-full animate-pulse",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),posTransaccionesPorPedido[pedidoData.id].length," POS aprobado(s)"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col gap-1.5",children:[debitos.map((function(e,t){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex gap-2 items-stretch ".concat(e.bloqueado?"opacity-75":""),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-1 flex border rounded ".concat(e.bloqueado?"bg-green-50 border-green-300":e.monto?"bg-white border-orange-300":"bg-white border-gray-200"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"flex items-center justify-center w-8 border-r border-gray-200 rounded-l ".concat(e.bloqueado?"text-green-600 bg-green-100":"text-orange-500 bg-orange-100"),children:e.bloqueado?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-bold",children:"Bs"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 flex flex-col h-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center h-full",children:[(null==sucursaldata?void 0:sucursaldata.pinpad)&&!forzarReferenciaManual&&!e.bloqueado&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",onClick:function(){return abrirModalPosDebitoConMonto&&abrirModalPosDebitoConMonto(e.monto,t)},className:"w-6 h-6 flex items-center justify-center text-orange-600 hover:text-orange-800 hover:bg-orange-100 rounded transition-colors flex-shrink-0",title:"Abrir POS",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:function(e){return debitosInputRefs.current[t]=e},type:"text",className:"flex-1 min-w-0 h-full px-2 py-1 text-lg font-bold bg-transparent border-0 focus:ring-0 focus:outline-none text-right ".concat(e.bloqueado?"text-green-700 cursor-not-allowed":"text-orange-700"),value:displayMonedaLive(e.monto),onChange:function(e){return actualizarMontoDebito(t,formatMonedaLive(e.target.value))},onKeyDown:function(e){return handleDebitoInputKeyDown(e,t)},placeholder:"0",disabled:e.bloqueado,readOnly:e.bloqueado}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-1 text-sm font-bold ".concat(e.bloqueado?"text-green-700":"text-orange-700"),children:"Bs"})]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative w-28",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"h-full border rounded ".concat(e.bloqueado?"bg-green-50 border-green-300":4===e.referencia.length?"bg-white border-orange-300":e.monto&&e.referencia.length>0&&e.referencia.length<4?"bg-yellow-50 border-yellow-400":"bg-white border-gray-200"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:function(e){return debitosRefInputRefs.current[t]=e},type:"text",className:"w-full h-full px-2 text-lg font-bold text-center bg-transparent border-0 focus:ring-0 focus:outline-none ".concat(e.bloqueado?"text-green-700 cursor-not-allowed":"placeholder-gray-400"),value:e.referencia,onChange:function(e){return actualizarReferenciaDebito(t,e.target.value)},onKeyDown:handlePaymentInputKeyDown,placeholder:"Ref.*",maxLength:4,disabled:e.bloqueado,readOnly:e.bloqueado})}),e.monto&&e.referencia.length>0&&e.referencia.length<4&&!e.bloqueado&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"absolute -bottom-3 left-0 right-0 text-[8px] text-yellow-600 text-center",children:["Faltan ",4-e.referencia.length," dg."]})]}),debitos.length>1&&!e.bloqueado&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:function(){return eliminarFilaDebito(t)},className:"w-6 h-full flex items-center justify-center text-red-600 hover:bg-red-100 rounded transition-colors",title:"Eliminar esta tarjeta",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),debitos.length>1&&e.bloqueado&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-6 h-full flex items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]},t)})),(tasaBsPedido=getTasaPromedioCarrito(),totalPedidoBs=parseFloat((null==pedidoData?void 0:pedidoData.clean_total)||0)*tasaBsPedido,efectivoUsd=parseFloat(efectivo)||0,efectivoBsVal=parseFloat(efectivo_bs)||0,puedeAgregarDebito=totalPedidoBs-((efectivoUsd+(parseFloat(efectivo_peso)||0)/parseFloat(peso)+(parseFloat(transferencia)||0)+(parseFloat(credito)||0)+(parseFloat(biopago)||0))*tasaBsPedido+efectivoBsVal)-calcularTotalDebitos()>.01,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:agregarFilaDebito,disabled:!puedeAgregarDebito,className:"flex items-center justify-center gap-1 px-2 py-1 text-[10px] font-semibold border border-dashed rounded transition-colors ".concat(puedeAgregarDebito?"text-orange-700 bg-orange-50 border-orange-300 hover:bg-orange-100 cursor-pointer":"text-gray-400 bg-gray-50 border-gray-300 cursor-not-allowed opacity-50"),title:puedeAgregarDebito?"Agregar otra tarjeta":"No se pueden agregar ms dbitos (total alcanzado)",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar otra tarjeta"]})),debitos.length>1&&0!==calcularTotalDebitos()&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex justify-end items-center gap-2 px-2 py-1 bg-orange-50 border border-orange-200 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium text-orange-600",children:"Total:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-sm font-bold ".concat(calcularTotalDebitos()<0?"text-red-700":"text-orange-700"),children:[moneda(calcularTotalDebitos())," Bs"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-[10px] text-orange-500",children:["$",moneda(calcularTotalDebitos()/getTasaPromedioCarrito())]})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-1 flex flex-wrap gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-1 min-w-[120px] flex flex-col gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium text-green-600",children:"Efectivo USD (E)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex border rounded ".concat(""!=efectivo_dolar?"bg-white border-green-300":"bg-white border-gray-200"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"flex items-center justify-center w-8 text-green-600 border-r border-gray-200 rounded-l cursor-pointer bg-green-100",onClick:getEfectivoLocal,title:"Efectivo USD - Calcular restante en $",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs font-bold",children:"$"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:efectivoInputRef,"data-efectivo":"usd",type:"text",className:"flex-1 min-w-0 px-2 py-1.5 text-lg font-bold text-green-700 bg-transparent border-0 focus:ring-0 focus:outline-none text-right",value:displayMonedaLive(efectivo_dolar),onChange:function(e){return syncPago(formatMonedaLive(e.target.value),"EfectivoUSD")},onKeyDown:handlePaymentInputKeyDown,placeholder:"0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex items-center px-1 text-sm font-bold text-green-700",children:"$"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-1 min-w-[120px] flex flex-col gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium text-yellow-600",children:"Efectivo Bolvares (B)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex border rounded ".concat(""!=efectivo_bs?"bg-white border-yellow-300":"bg-white border-gray-200"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"flex items-center justify-center w-8 text-yellow-600 border-r border-gray-200 rounded-l cursor-pointer bg-yellow-100",onClick:getEfectivoBsLocal,title:efectivo_bs?"Efectivo Bs $".concat(moneda(parseFloat(efectivo_bs||0)/getTasaPromedioCarrito())):"Efectivo Bs - Calcular restante en Bs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-bold",children:"Bs"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{"data-efectivo":"bs",type:"text",className:"flex-1 min-w-0 px-2 py-1.5 text-lg font-bold text-yellow-700 bg-transparent border-0 focus:ring-0 focus:outline-none text-right",value:displayMonedaLive(efectivo_bs),onChange:function(e){return syncPago(formatMonedaLive(e.target.value),"EfectivoBs")},onKeyDown:handlePaymentInputKeyDown,placeholder:"0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex items-center px-1 text-sm font-bold text-yellow-700",children:"Bs"})]})]}),showEfectivoPeso&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-1 min-w-[120px] flex flex-col gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium text-amber-600",children:"Efectivo COP (C)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex border rounded ".concat(""!=efectivo_peso?"bg-white border-amber-300":"bg-white border-gray-200"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"flex items-center justify-center w-8 text-amber-600 border-r border-gray-200 rounded-l cursor-pointer bg-amber-100",onClick:function(){var e,t=getTasaPromedioCarrito(),r=(null==pedidoData||null===(e=pedidoData.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa_cop)||peso,n=debitos.filter((function(e){return!e.bloqueado})).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0)/t+parseFloat(efectivo_dolar||0)+parseFloat(efectivo_bs||0)/t+parseFloat(efectivo_peso||0)/r+parseFloat(transferencia||0),a=parseFloat((null==pedidoData?void 0:pedidoData.clean_total)||0)-n;a>0&&setEfectivo_peso((a*r).toFixed(0))},title:"Efectivo Pesos COP",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-bold",children:"COP"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{"data-efectivo":"cop",type:"text",className:"flex-1 min-w-0 px-2 py-1.5 text-lg font-bold text-amber-700 bg-transparent border-0 focus:ring-0 focus:outline-none text-right",value:displayMonedaLive(efectivo_peso),onChange:function(e){return syncPago(formatMonedaLive(e.target.value),"EfectivoCOP")},onKeyDown:handlePaymentInputKeyDown,placeholder:"0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex items-center px-1 text-sm font-bold text-amber-700",children:"COP"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",onClick:function(){setShowEfectivoPeso(!1),setEfectivo_peso("")},className:"flex items-center px-1.5 text-gray-400 hover:text-red-500",title:"Quitar COP",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-xs fa fa-times"})})]}),efectivo_peso&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"px-2 pb-0.5 text-[10px] text-amber-600 text-right",children:["$",moneda(parseFloat(efectivo_peso||0)/((null==pedidoData||null===(_pedidoData$items14=pedidoData.items)||void 0===_pedidoData$items14||null===(_pedidoData$items14=_pedidoData$items14[0])||void 0===_pedidoData$items14?void 0:_pedidoData$items14.tasa_cop)||peso))]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium text-blue-600",children:"Transferencia (T)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 border rounded ".concat(""!=transferencia?"bg-white border-blue-300":"bg-white border-gray-200"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-stretch",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"flex items-center justify-center w-8 text-blue-500 border-r border-gray-200 rounded-l cursor-pointer bg-blue-100",onClick:getTransferenciaLocal,title:"Transferencia",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-xs fa fa-dollar"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:transferenciaInputRef,type:"text",className:"flex-1 min-w-0 px-2 py-1.5 text-lg font-bold text-blue-700 bg-transparent border-0 focus:ring-0 focus:outline-none text-right",value:displayMonedaLive(transferencia),onChange:function(e){return syncPago(formatMonedaLive(e.target.value),"Transferencia")},onKeyDown:handlePaymentInputKeyDown,placeholder:"0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex items-center px-1 text-lg font-bold text-blue-700",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{role:"button",className:"flex items-center justify-center min-w-[2.5rem] min-h-[2rem] px-3 py-2 text-blue-500 cursor-pointer hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",onClick:function(){return addRefPago("toggle",transferencia,"1")},title:"Agregar referencia de pago",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-sm fa fa-plus-circle"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex items-center px-2 py-1.5 text-xs font-medium text-white bg-blue-500 rounded-r cursor-pointer hover:bg-blue-600",onClick:function(){return setPagoInBs((function(e){return syncPago(e,"Transferencia")}))},title:"Convertir de Bs a $",children:"Bs"})]})})]}),SHOW_BIOPAGO&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium text-gray-500",children:"Biopago"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 border rounded ".concat(""!=biopago?"bg-white border-purple-300":"bg-white border-gray-200"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-stretch",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"flex items-center justify-center w-8 text-purple-500 border-r border-gray-200 rounded-l cursor-pointer bg-purple-100",onClick:getBiopagoLocal,title:"Biopago",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-xs fa fa-dollar"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:biopagoInputRef,type:"text",className:"flex-1 min-w-0 px-2 py-1.5 text-lg font-bold text-purple-700 bg-transparent border-0 focus:ring-0 focus:outline-none text-right",value:displayMonedaLive(biopago),onChange:function(e){return syncPago(formatMonedaLive(e.target.value),"Biopago")},placeholder:"0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex items-center px-1 text-lg font-bold text-purple-700",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{role:"button",className:"flex items-center justify-center min-w-[2.5rem] min-h-[2rem] px-3 py-2 text-purple-500 cursor-pointer hover:text-purple-600 hover:bg-purple-50 rounded transition-colors",onClick:function(){return addRefPago("toggle",biopago,"5")},title:"Agregar referencia de pago",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-sm fa fa-plus-circle"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex items-center px-2 py-1.5 text-xs font-medium text-white bg-purple-500 rounded-r cursor-pointer hover:bg-purple-600",onClick:function(){return setPagoInBs((function(e){return syncPago(e,"Biopago")}))},title:"Convertir de Bs a $",children:"Bs"})]})})]}),showCredito&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium text-gray-500",children:"Crdito"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 border rounded ".concat(""!=credito?"bg-white border-yellow-300":"bg-white border-gray-200"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-stretch",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"flex items-center justify-center w-8 text-yellow-500 border-r border-gray-200 rounded-l cursor-pointer bg-yellow-100",onClick:getCreditoLocal,title:"Crdito",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-xs fa fa-dollar"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:creditoInputRef,type:"text",className:"flex-1 min-w-0 px-2 py-1.5 text-lg font-bold text-yellow-700 bg-transparent border-0 focus:ring-0 focus:outline-none text-right",value:displayMonedaLive(credito),onChange:function(e){return syncPago(formatMonedaLive(e.target.value),"Credito")},placeholder:"0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"flex items-center px-2 text-lg font-bold text-yellow-700",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",onClick:function(){setShowCredito(!1),setCredito("")},className:"flex items-center px-2 text-gray-400 hover:text-red-500",title:"Quitar crdito",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]})})]})]}):null,refPago&&refPago.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-3 bg-white border border-gray-200 rounded-lg !overflow-visible",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between px-2 py-1 border-b border-orange-100 rounded-t-lg bg-orange-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"flex items-center text-xs font-medium text-gray-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-1.5 text-[10px] text-orange-500 fa fa-credit-card"}),"Ref. Bancarias"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"px-1.5 py-0.5 text-[10px] font-medium text-orange-600 bg-white border border-orange-200 rounded hover:bg-orange-50",onClick:addRetencionesPago,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-0.5 fa fa-plus"}),"Retencin"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-2 space-y-2",children:[refPago.map((function(e){var t,r,n,a,o;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative bg-white border rounded-lg p-1.5 transition-all duration-200 ".concat(validatingRef===(null!==(r=e.id)&&void 0!==r?r:e._localId)?"border-blue-300 bg-blue-50 ":"border-gray-200 hover:border-gray-300 hover:"),children:[validatingRef===(null!==(n=e.id)&&void 0!==n?n:e._localId)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-blue-50/80 backdrop-blur-sm",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 rounded-full border-t-transparent animate-spin"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs font-medium text-blue-700",children:"Validando..."})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-col justify-between gap-3 sm:items-center sm:flex-row",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 min-w-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{className:"text-sm text-gray-900 truncate",children:[e.descripcion?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("b",{children:["#",e.descripcion]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Sin referencia"})," ",e.banco?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:e.banco})}):null]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{className:"text-xs text-gray-500",children:[e.cedula&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:["CI: ",e.cedula," | "]}),e.telefono&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:["Tel: ",e.telefono," | "]}),e.banco_origen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:["Origen: ",e.banco_origen]})]}),e.response&&function(){try{var t,r,n="string"==typeof e.response?JSON.parse(e.response):e.response,a=(null==n||null===(t=n.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.dataResponse)||(null==n||null===(r=n.data)||void 0===r?void 0:r.dataResponse)||{},o=(null==a?void 0:a.transactionDetail)||(null==a?void 0:a.transaction)||[];Array.isArray(o)||(o=[o]);var i=o[0]||{};return i&&Object.keys(i).length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mt-1 p-1.5 bg-green-50 border border-green-200 rounded text-xs",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0.5 text-green-800",children:[i.referenceNumber&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Referencia:"})," ",i.referenceNumber]}),i.amount&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Monto:"})," ",i.amount," ",i.currencyCode||"Bs"]}),i.accountId&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Cuenta:"})," ",i.accountId]}),i.customerIdBen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"CI Beneficiario:"})," ",i.customerIdBen]}),i.sourceBankId&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Banco Origen:"})," ",i.sourceBankId]}),i.destBankId&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Banco Destino:"})," ",i.destBankId]}),i.trnDate&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Fecha:"})," ",i.trnDate," ",i.trnTime||""]}),i.concept&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Concepto:"})," ",i.concept]}),i.trnType&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Tipo:"})," ","CR"===i.trnType?"Crdito":i.trnType]})]}),(null==n?void 0:n.modalidad)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mt-1 pt-1 border-t border-green-200 text-green-600",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{children:"Modalidad:"})," ","pagomovil"===n.modalidad?"Pago Mvil":"interbancaria"===n.modalidad?"Interbancaria":"banesco"===n.modalidad?"Banesco-Banesco":n.modalidad]})]}):null}catch(e){return console.error("Error parsing response:",e),null}}()]}),1==e.tipo&&0!=e.monto||2==e.tipo&&0!=e.monto||5==e.tipo&&0!=e.monto?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"ml-3",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"px-2 py-1 text-xs font-medium text-green-700 border !border-green-300 bg-green-100 rounded",children:[1==e.tipo&&"T. ",2==e.tipo&&"D. ",5==e.tipo&&"B. ",moneda(e.monto)]})}):null]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-2",children:["aprobada"===e.estatus?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium text-green-800 border !border-green-300 bg-green-100 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mr-1.5"}),"Aprobada"]}):"rechazada"===e.estatus?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium text-red-800 border !border-red-300 bg-red-100 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-1.5 h-1.5 bg-red-400 rounded-full mr-1.5"}),"Rechazada"]}):"pendiente"===e.estatus?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium border !border-amber-300 bg-amber-100 text-amber-800 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-1.5 h-1.5 bg-amber-400 rounded-full mr-1.5"}),"Pendiente"]}):"error"===e.estatus?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium text-red-800 border !border-red-300 bg-red-100 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-1.5 h-1.5 bg-red-400 rounded-full mr-1.5"}),"Error"]}):e.descripcion&&""!==e.descripcion.trim()?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium text-green-800 border !border-green-300 bg-green-100 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mr-1.5"}),"Validada"]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium text-gray-600 border !border-gray-300 bg-gray-100 rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-1.5"}),"Sin validar"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-1",children:[("pendiente"===e.estatus||"error"===e.estatus||!e.descripcion||""===e.descripcion.trim())&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"flex items-center justify-center w-6 h-6 text-blue-600 transition-colors bg-blue-100 rounded hover:bg-blue-200 disabled:opacity-50 disabled:cursor-not-allowed",onClick:function(){return e._localId&&!e.id?verificarRefFrontOnly(e):sendRefToMerchant(e.id)},disabled:validatingRef===(null!==(a=e.id)&&void 0!==a?a:e._localId),title:"error"===e.estatus?"Reintentar Validacin":"Validar Referencia",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-xs fa ".concat("error"===e.estatus?"fa-refresh":"fa-paper-plane")})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"flex items-center justify-center w-6 h-6 text-red-600 transition-colors bg-red-100 rounded hover:bg-red-200","data-id":null!==(o=e.id)&&void 0!==o?o:e._localId,onClick:delRefPago,title:"Eliminar",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-xs fa fa-times"})})]})]})]})]},null!==(t=e.id)&&void 0!==t?t:e._localId)})),retenciones&&retenciones.length>0&&retenciones.map((function(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 bg-orange-50 hover:bg-orange-100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-orange-200 text-orange-800 rounded",children:"Retencin"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-sm text-gray-700",children:e.descripcion})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"px-2 py-0.5 text-xs font-medium bg-orange-100 text-orange-700 rounded",children:["-",moneda(e.monto)]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"p-1 text-red-500 transition-colors rounded hover:bg-red-50",onClick:function(){return delRetencionPago(e.id)},title:"Eliminar",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-xs fa fa-times"})})]})]},e.id)}))]})]}),showVueltosSection&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-3 bg-white border border-gray-200 rounded-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between px-3 py-1.5 border-b border-gray-100 bg-gray-50 rounded-t-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] font-medium text-gray-600",children:"Clculo de Vueltos"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex space-x-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"px-1.5 py-0.5 text-[10px] text-gray-500 border border-gray-300 rounded hover:bg-gray-100",onClick:setVueltodolar,children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"px-1.5 py-0.5 text-[10px] text-gray-500 border border-gray-300 rounded hover:bg-gray-100",onClick:setVueltobs,children:"BS"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"px-1.5 py-0.5 text-[10px] text-gray-500 border border-gray-300 rounded hover:bg-gray-100",onClick:setVueltocop,children:"COP"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"p-3",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-1 text-xs text-gray-600 bg-gray-100 border border-r-0 border-gray-300 rounded-l",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded-r focus:ring-1 focus:ring-orange-400 focus:border-orange-400",value:recibido_dolar,onChange:function(e){return changeRecibido(e.target.value,"recibido_dolar")},placeholder:"$"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-1 text-xs text-gray-600 bg-gray-100 border border-r-0 border-gray-300 rounded-l",children:"BS"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded-r focus:ring-1 focus:ring-orange-400 focus:border-orange-400",value:recibido_bs,onChange:function(e){return changeRecibido(e.target.value,"recibido_bs")},placeholder:"BS"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-1 text-xs text-gray-600 bg-gray-100 border border-r-0 border-gray-300 rounded-l",children:"COP"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded-r focus:ring-1 focus:ring-orange-400 focus:border-orange-400",value:recibido_cop,onChange:function(e){return changeRecibido(e.target.value,"recibido_cop")},placeholder:"COP"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-1 text-xs text-orange-600 bg-orange-100 border border-r-0 border-orange-300 rounded-l cursor-pointer",onClick:setVueltodolar,children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",className:"flex-1 px-2 py-1 text-xs border border-orange-300 rounded-r focus:ring-1 focus:ring-orange-400 focus:border-orange-400",value:cambio_dolar,onChange:function(e){return syncCambio(e.target.value,"Dolar")},placeholder:"$"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-1 text-xs text-orange-600 bg-orange-100 border border-r-0 border-orange-300 rounded-l cursor-pointer",onClick:setVueltobs,children:"BS"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",className:"flex-1 px-2 py-1 text-xs border border-orange-300 rounded-r focus:ring-1 focus:ring-orange-400 focus:border-orange-400",value:cambio_bs,onChange:function(e){return syncCambio(e.target.value,"Bolivares")},placeholder:"BS"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"px-2 py-1 text-xs text-orange-600 bg-orange-100 border border-r-0 border-orange-300 rounded-l cursor-pointer",onClick:setVueltocop,children:"COP"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",className:"flex-1 px-2 py-1 text-xs border border-orange-300 rounded-r focus:ring-1 focus:ring-orange-400 focus:border-orange-400",value:cambio_cop,onChange:function(e){return syncCambio(e.target.value,"Pesos")},placeholder:"COP"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("small",{className:"mr-2 text-xs text-gray-500",children:"Recibido:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs font-bold text-green-600",children:recibido_tot})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("small",{className:"mr-2 text-xs text-gray-500",children:"Vuelto:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs font-bold text-green-600",children:sumCambio()})]})]})]})})]}),auth(1)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-3 bg-white ",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"px-3 py-2 bg-white border border-gray-200 rounded",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex items-center justify-between",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:function(){return setShowTransferirSection(!showTransferirSection)},className:"flex items-center text-xs font-medium text-gray-700 transition-colors hover:text-blue-600",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-2 text-xs fa fa-chevron-".concat(showTransferirSection?"down":"right"," transition-transform")}),"Transferir a Sucursal"]})})}),showTransferirSection&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{className:"px-2 py-1.5 text-xs text-blue-600 transition-colors bg-blue-50 border border-blue-200 rounded hover:bg-blue-100",onClick:getSucursales,title:"Buscar sucursales",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-search"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("select",{className:"flex-1 px-2 py-1.5 text-xs bg-white border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-blue-400",value:transferirpedidoa,onChange:function(e){return settransferirpedidoa(e.target.value)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("option",{value:"",children:"Seleccionar Sucursal"}),sucursalesCentral.map((function(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"px-3 py-1.5 text-xs font-semibold text-white transition-colors bg-blue-500 rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",onClick:setexportpedido,disabled:!transferirpedidoa,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-1.5 fa fa-paper-plane"}),"Transferir"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between gap-2 px-2 py-1 bg-gray-50 rounded border border-gray-200",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer hover:opacity-80",onClick:function(){return setautoCorrector(!autoCorrector)},title:"Auto resta de pagos",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] text-gray-500",children:"Auto"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded ".concat(autoCorrector?"bg-green-100 text-green-600":"bg-gray-200 text-gray-400"),children:autoCorrector?"ON":"OFF"})]}),!showCredito&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{type:"button",onClick:function(){return setShowCredito(!0)},className:"flex items-center gap-1 text-[10px] text-yellow-600 hover:text-yellow-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-plus"})," Crdito"]}),!showEfectivoPeso&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{type:"button",onClick:function(){return setShowEfectivoPeso(!0)},className:"flex items-center gap-1 text-[10px] text-amber-600 hover:text-amber-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-plus"})," COP"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"text-[10px] text-orange-500 fa fa-print"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("select",{className:"text-[10px] text-gray-600 bg-transparent border-none focus:outline-none cursor-pointer",value:selectprinter,onChange:function(e){return setselectprinter(e.target.value)},children:_toConsumableArray(Array(10)).map((function(e,t){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("option",{value:t+1,children:["C",t+1]},t+1)}))})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"mb-3",children:showHeaderAndMenu&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-wrap gap-1.5 justify-center mt-2",children:[editable?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-green-700 transition-colors border !border-green-300 rounded bg-green-100 hover:bg-green-200",onClick:facturar_pedido,title:"Facturar e Imprimir (Enter)",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-paper-plane"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Fact."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-blue-700 transition-colors border !border-blue-300 rounded bg-blue-100 hover:bg-blue-200",onClick:facturar_e_imprimir,title:"Solo Facturar",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-save"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Guard."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-orange-700 transition-colors border !border-orange-300 rounded bg-orange-100 hover:bg-orange-200",onClick:function(){return setToggleAddPersona(!0)},title:"Cliente (F2)",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-user"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Client."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-purple-700 transition-colors border !border-purple-300 rounded bg-purple-100 hover:bg-purple-200",onClick:function(){return toggleImprimirTicket()},title:"Imprimir (F3)",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-print"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Impr."})]})]}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-indigo-700 transition-colors border !border-indigo-300 rounded bg-indigo-100 hover:bg-indigo-200",onClick:function(){var e;null!=pedidoData&&null!==(e=pedidoData.items)&&void 0!==e&&e.length?setShowModalExportarLista(!0):"function"==typeof viewReportPedido&&viewReportPedido()},title:"Exportar lista / Ver pedido (F4)",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-eye"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Ver"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-700 transition-colors border !border-gray-300 rounded bg-gray-100 hover:bg-gray-200",onClick:function(){return sendReciboFiscal()},title:"Recibo Fiscal",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-file-text"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Recib."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-amber-700 transition-colors border !border-amber-300 rounded bg-amber-100 hover:bg-amber-200",onClick:function(){setNumBultosInput(""),setBultosIframeUrl(null),setShowModalBultos(!0)},title:"Imprimir Bultos",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-box"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Bultos"})]}),1==pedidoData.fiscal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-red-700 transition-colors border !border-red-300 rounded bg-red-100 hover:bg-red-200",title:"Nota de Crdito",onClick:function(){return sendNotaCredito()},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-undo"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"N.Crd."})]})]})})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-5 text-center d-flex flex-column align-items-center justify-content-center",style:{height:"100%"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"mb-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"mb-3 bg-light rounded-circle d-flex align-items-center justify-content-center",style:{width:"120px",height:"120px"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-shopping-cart text-muted",style:{fontSize:"3.5rem"}})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{className:"mb-2 text-muted fw-normal",children:"Ningn pedido seleccionado"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"mb-0 text-muted",style:{maxWidth:"300px",lineHeight:"1.5"},children:"Selecciona un pedido de la lista lateral para ver los detalles de pago y procesar la facturacin."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"gap-2 d-flex flex-column",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-center text-muted small mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-lightbulb-o me-2 text-warning"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{children:"Haz clic en cualquier pedido para comenzar"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mt-4 p-3 bg-light rounded",style:{maxWidth:"500px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h6",{className:"mb-3 text-center fw-bold text-dark",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-keyboard-o me-2 text-info"}),"Atajos del Teclado"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"row g-2 small",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"F1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Iniciar nueva factura"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"ESC"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Buscar producto"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"CTRL"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Cancelar bsqueda"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:" / "}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Moverse entre productos"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"TAB"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Navegar entre facturas"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"SHIFT+TAB"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Navegar inversa"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"CTRL+"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Guardar y facturar"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"F2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Agregar cliente"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"D"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Dbito"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"T"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Transferencia"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"col-6",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-flex align-items-start mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("kbd",{className:"me-2",style:{fontSize:"0.75rem"},children:"E"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-muted",children:"Efectivo"})]})})]})]})]})]})})]}),showCodigoModal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-full max-w-md mx-4 bg-white rounded-lg shadow-xl",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Cdigo de Aprobacin"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:cerrarModalCodigo,className:"text-gray-400 hover:text-gray-600",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-4 mb-4 text-center bg-gray-100 rounded-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"mb-2 text-sm text-gray-600",children:"Cdigo generado:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"font-mono text-2xl font-bold text-blue-600",children:codigoGenerado}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"Solo una persona autorizada puede descifrar este cdigo"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Ingrese la clave de aprobacin:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"password",value:claveIngresada,onChange:function(e){return setClaveIngresada(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ingrese la clave",onKeyPress:function(e){"Enter"===e.key&&validarCodigo()},autoFocus:!0})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-3 text-xs text-gray-500 border-l-4 border-yellow-400 rounded bg-yellow-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"mb-1 font-medium text-yellow-800",children:"Instrucciones:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"La persona autorizada debe generar la clave correcta basndose en el cdigo mostrado arriba."})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:cerrarModalCodigo,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:validarCodigo,className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!claveIngresada.trim(),children:"Validar"})]})]})})}),showModalPedidoOriginal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-full max-w-md mx-4 bg-white rounded-lg shadow-xl",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-2 text-orange-500 fa fa-exchange-alt"}),"Devolucin - Factura Original"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:cerrarModalPedidoOriginal,className:"text-gray-400 hover:text-gray-600",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-4 mb-4 text-sm border-l-4 border-orange-400 rounded bg-orange-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"font-medium text-orange-800",children:"Para procesar una devolucin, debe indicar el nmero de la factura original."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"mt-1 text-orange-700",children:"Solo podr devolver productos que existan en esa factura y en las cantidades disponibles."})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:"Nmero de Pedido/Factura Original:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{ref:pedidoOriginalInputRef,type:"number",value:pedidoOriginalInput,onChange:function(e){return setPedidoOriginalInput(e.target.value)},className:"w-full px-3 py-2 text-lg font-bold text-center border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Ej: 12345",onKeyPress:function(e){"Enter"===e.key&&asignarPedidoOriginal()},autoFocus:!0})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:cerrarModalPedidoOriginal,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancelar"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:asignarPedidoOriginal,className:"px-4 py-2 text-white bg-orange-600 rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500",disabled:!pedidoOriginalInput.trim(),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-2 fa fa-check"}),"Confirmar"]})]})]})})}),showModalInfoFacturaOriginal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"w-full max-w-5xl mx-4 bg-white rounded-lg shadow-xl max-h-[80vh] flex flex-col",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-2 text-orange-500 fa fa-file-invoice"}),"Factura Original #",(null==pedidoData?void 0:pedidoData.isdevolucionOriginalid)||pedidoOriginalAsignado]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:function(){return setShowModalInfoFacturaOriginal(!1)},className:"text-gray-400 hover:text-gray-600",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Productos y precios al momento de la venta original"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:loadingFacturaOriginal?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-2 text-2xl text-orange-500 fa fa-spinner fa-spin"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-600",children:"Cargando..."})]}):itemsFacturaOriginal.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("table",{className:"w-full text-sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("thead",{className:"bg-gray-50",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-xs font-medium text-left text-gray-500 uppercase",children:"Producto"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-xs font-medium text-right text-gray-500 uppercase",children:"Cant. Original"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-xs font-medium text-right text-gray-500 uppercase",children:"Devuelto"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-xs font-medium text-right text-gray-500 uppercase",children:"Disponible"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-xs font-medium text-right text-gray-500 uppercase",children:"Precio Unit."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-xs font-medium text-right text-gray-500 uppercase",children:"Desc."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-xs font-medium text-right text-gray-500 uppercase",children:"Tasa"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tbody",{className:"divide-y divide-gray-200",children:itemsFacturaOriginal.map((function(e,t){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tr",{className:e.cantidad_disponible>0?"":"bg-gray-100 text-gray-400",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("td",{className:"px-3 py-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"font-medium text-gray-900",children:e.descripcion}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-xs text-gray-500",children:e.codigo_barras})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 text-right font-medium",children:e.cantidad_original}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 text-right text-red-600",children:e.cantidad_devuelta>0?"-".concat(e.cantidad_devuelta):"0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 text-right font-bold text-green-600",children:e.cantidad_disponible}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("td",{className:"px-3 py-2 text-right font-medium",children:["$",moneda(e.precio_unitario)]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 text-right text-purple-600",children:e.descuento>0?"".concat(e.descuento,"%"):"-"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 text-right text-gray-600",children:e.tasa?moneda(e.tasa):"-"})]},t)}))})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"py-8 text-center text-gray-500",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mb-2 text-3xl text-gray-300 fa fa-box-open"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{children:"No hay items disponibles para devolucin"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex justify-between gap-3 p-4 border-t border-gray-200",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:eliminarAsignacionFacturaOriginal,className:"px-4 py-2 text-red-700 bg-red-100 border border-red-300 rounded-md hover:bg-red-200",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-2 fa fa-unlink"}),"Eliminar asignacin"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:function(){return setShowModalInfoFacturaOriginal(!1)},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cerrar"})]})]})}),showModalExportarLista&&pedidoData&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"fixed inset-0 z-[100] flex flex-col bg-white",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{ref:refContenidoImpresionExportar,className:"flex-shrink-0 px-4 py-3 bg-gray-100 border-b border-gray-300 shadow-sm print:bg-transparent print:border-b print:shadow-none",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Cliente"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"mt-0.5 text-base font-medium text-gray-900",children:cliente&&(cliente.nombre||cliente.identificacion)?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:["CF"!==cliente.nombre?cliente.nombre:"Sin cliente",cliente.identificacion&&"CF"!==cliente.identificacion&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:[" ",cliente.identificacion]})]}):""})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-sm text-gray-500",children:["Pedido #",id," ",created_at?"  ".concat(created_at):""]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 min-h-0 overflow-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"p-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("table",{className:"w-full text-sm border-collapse border border-gray-300",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("thead",{className:"bg-gray-100 sticky top-0 z-10 print:static",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tr",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border border-gray-300 w-14",children:"#"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border border-gray-300",children:"Cdigo"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border border-gray-300",children:"Cd. proveedor"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-left font-semibold text-gray-700 border border-gray-300",children:"Descripcin"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-right font-semibold text-gray-700 border border-gray-300 w-24",children:"Cantidad"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{className:"px-3 py-2 text-right font-semibold text-gray-700 border border-gray-300 w-28",children:"Precio"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tbody",{children:(items||[]).map((function(e,t){var r,n,a,o,i,s,c,l,u,d,f,h,p,m,g=null!==(r=null!==(n=null===(a=e.producto)||void 0===a?void 0:a.codigo_barras)&&void 0!==n?n:e.codigo_barras)&&void 0!==r?r:"",x=null!==(o=null!==(i=null===(s=e.producto)||void 0===s?void 0:s.codigo_proveedor)&&void 0!==i?i:e.codigo_proveedor)&&void 0!==o?o:"",v=null!==(c=null!==(l=null===(u=e.producto)||void 0===u?void 0:u.descripcion)&&void 0!==l?l:e.descripcion)&&void 0!==c?c:"",b=Number(e.cantidad),y=null!==(d=null!==(f=null!==(h=null===(p=e.producto)||void 0===p?void 0:p.precio)&&void 0!==h?h:e.precio_unitario)&&void 0!==f?f:e.precio)&&void 0!==d?d:0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 border border-gray-200 font-mono text-gray-600",children:t+1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 border border-gray-200 font-mono text-gray-800",children:String(g).trim()||""}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 border border-gray-200 font-mono text-gray-700",children:String(x).trim()||""}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 border border-gray-200 text-gray-900",children:v}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 border border-gray-200 text-right font-medium",children:b%1==0?b:b.toFixed(2)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("td",{className:"px-3 py-2 border border-gray-200 text-right",children:moneda(y,4)})]},null!==(m=e.id)&&void 0!==m?m:t)}))})]})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-end gap-3 px-4 py-3 bg-gray-100 border-t border-gray-300 print:hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{type:"button",onClick:function(){if(refContenidoImpresionExportar.current){var e=window.open("","_blank");e&&(e.document.write("\n                                            <!DOCTYPE html><html><head><title>Lista de productos - Pedido ".concat(id,'</title>\n                                            <style>body{font-family:sans-serif;padding:1rem;} table{width:100%;border-collapse:collapse;} th,td{border:1px solid #ccc;padding:6px 10px;text-align:left;} th{background:#f3f4f6;} .cliente{margin-bottom:1rem;font-weight:600;}</style>\n                                            </head><body>\n                                            <div class="cliente">Cliente: ').concat(cliente&&("CF"!==cliente.nombre?cliente.nombre:"Sin cliente")).concat(null!=cliente&&cliente.identificacion&&"CF"!==cliente.identificacion?"  "+cliente.identificacion:"",'</div>\n                                            <div style="margin-bottom:0.5rem;font-size:12px;color:#666;">Pedido #').concat(id," ").concat(created_at?"  "+created_at:"",'</div>\n                                            <table><thead><tr><th>#</th><th>Cdigo</th><th>Cd. proveedor</th><th>Descripcin</th><th style="text-align:right">Cantidad</th><th style="text-align:right">Precio</th></tr></thead><tbody>\n                                            ').concat((items||[]).map((function(e,t){var r,n,a,o,i,s,c,l,u,d,f,h,p,m=(null!==(r=null!==(n=null===(a=e.producto)||void 0===a?void 0:a.codigo_barras)&&void 0!==n?n:e.codigo_barras)&&void 0!==r?r:"").toString().trim()||"",g=(null!==(o=null!==(i=null===(s=e.producto)||void 0===s?void 0:s.codigo_proveedor)&&void 0!==i?i:e.codigo_proveedor)&&void 0!==o?o:"").toString().trim()||"",x=(null!==(c=null!==(l=null===(u=e.producto)||void 0===u?void 0:u.descripcion)&&void 0!==l?l:e.descripcion)&&void 0!==c?c:"").toString(),v=Number(e.cantidad),b=null!==(d=null!==(f=null!==(h=null===(p=e.producto)||void 0===p?void 0:p.precio)&&void 0!==h?h:e.precio_unitario)&&void 0!==f?f:e.precio)&&void 0!==d?d:0,y=Number(b).toLocaleString("es",{minimumFractionDigits:2,maximumFractionDigits:4});return"<tr><td>".concat(t+1,"</td><td>").concat(m,"</td><td>").concat(g,"</td><td>").concat(x,'</td><td style="text-align:right">').concat(v%1==0?v:v.toFixed(2),'</td><td style="text-align:right">').concat(y,"</td></tr>")})).join(""),"\n                                            </tbody></table></body></html>")),e.document.close(),e.focus(),setTimeout((function(){e.print(),e.close()}),300))}},className:"px-4 py-2 text-white bg-indigo-600 border border-indigo-700 rounded-lg hover:bg-indigo-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"mr-2 fa fa-print"}),"Imprimir"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",onClick:function(){return setShowModalExportarLista(!1)},className:"px-4 py-2 text-gray-700 bg-gray-200 border border-gray-400 rounded-lg hover:bg-gray-300",children:"Cerrar"})]})]}),showModalBultos&&(null==pedidoData?void 0:pedidoData.id)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"fixed inset-0 z-[100] flex flex-col bg-white",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-shrink-0 flex flex-wrap items-center justify-between gap-3 px-4 py-3 bg-amber-50 border-b border-amber-200",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h2",{className:"text-lg font-bold text-amber-900",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-box mr-2"}),"Imprimir Bultos  Pedido #",pedidoData.id]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:["Nmero de bultos:",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"number",min:"1",className:"w-20 px-2 py-1.5 border border-gray-300 rounded-md text-center font-mono",value:numBultosInput,onChange:function(e){return setNumBultosInput(e.target.value)},placeholder:"Ej: 5"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{type:"button",onClick:function(){var e=parseInt(numBultosInput,10);if(e>=1){var t="undefined"!=typeof window?window.location.origin:"";setBultosIframeUrl("".concat(t,"/printBultos?id=").concat(pedidoData.id,"&bultos=").concat(e))}else(null==notificar?void 0:notificar("Indique un nmero de bultos vlido ( 1)"))||alert("Indique un nmero de bultos vlido ( 1).")},className:"px-4 py-2 text-white bg-amber-600 border border-amber-700 rounded-lg hover:bg-amber-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-refresh mr-2"}),"Generar vista"]}),bultosIframeUrl&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{type:"button",onClick:function(){try{var e;null!==(e=refIframeBultos.current)&&void 0!==e&&e.contentWindow&&refIframeBultos.current.contentWindow.print()}catch(e){(null==notificar?void 0:notificar("Error al imprimir: "+e.message))||alert("Error al imprimir: "+e.message)}},className:"px-4 py-2 text-white bg-indigo-600 border border-indigo-700 rounded-lg hover:bg-indigo-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-print mr-2"}),"Imprimir"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{type:"button",onClick:function(){setShowModalBultos(!1),setBultosIframeUrl(null),setNumBultosInput("")},className:"px-4 py-2 text-gray-700 bg-gray-200 border border-gray-400 rounded-lg hover:bg-gray-300",children:"Cerrar"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 min-h-0 flex flex-col bg-gray-100 p-4",children:bultosIframeUrl?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("iframe",{ref:refIframeBultos,src:bultosIframeUrl,title:"Vista de bultos para imprimir",className:"w-full flex-1 min-h-0 border border-gray-300 rounded-lg bg-white"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-box text-4xl mb-3 opacity-50"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"font-medium",children:"Indique el nmero de bultos y pulse Generar vista"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text-sm mt-1",children:"Luego use Imprimir para imprimir como antes."})]})})})]}),showCalculadora&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"fixed inset-0 bg-black/30 z-[60] transition-opacity duration-300",onClick:function(){return setShowCalculadora(!1)}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{ref:calculadoraRef,className:"fixed top-0 right-0 h-full w-full sm:w-96 md:w-[420px] lg:w-[480px] max-w-full bg-white shadow-2xl z-[70] transform transition-transform duration-300 ease-out flex flex-col overflow-hidden",style:{animation:"slideInRight 0.3s ease-out"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"px-4 py-3 bg-white border-b-2 border-gray-200",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs font-bold text-gray-500",children:"TOTAL PEDIDO"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:["Tasa Bs: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{className:"text-orange-600",children:moneda(getTasaBsCalc(),2)})]}),"elorza"===(null==user?void 0:user.sucursal)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{children:["Tasa COP: ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("b",{className:"text-blue-600",children:moneda(getTasaCopCalc(),0)})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:function(){return setShowCalculadora(!1)},className:"w-8 h-8 flex items-center justify-center text-gray-500 bg-gray-100 rounded-full hover:bg-red-100 hover:text-red-500 transition-colors",title:"Cerrar (ESC)",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-sm text-gray-500",children:"REF"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["$",moneda(null==pedidoData?void 0:pedidoData.clean_total)]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-sm text-gray-500",children:"Bs"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-2xl font-bold text-orange-500",children:moneda(null==pedidoData?void 0:pedidoData.bs)})]}),"elorza"===(null==user?void 0:user.sucursal)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs text-gray-400",children:"COP"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-lg font-bold text-blue-500",children:moneda(((null==pedidoData?void 0:pedidoData.clean_total)||0)*getTasaCopCalc(),0)})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-1 flex flex-col p-3 gap-3 overflow-y-auto",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200 relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-xs font-bold text-blue-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-hand-holding-usd mr-1"}),"LO QUE PAG EL CLIENTE"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:calcLimpiarTodo,className:"text-[9px] text-red-500 hover:text-red-700 font-medium px-1.5 py-0.5 bg-white rounded",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-trash mr-0.5"}),"Limpiar"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"text-[9px] font-bold text-green-600 block mb-0.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-dollar-sign mr-0.5"}),"EFECTIVO $"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-green-500 font-bold text-sm",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",value:calcPagoEfectivoUsd,onChange:function(e){return setCalcPagoEfectivoUsd(e.target.value.replace(/[^0-9.]/g,""))},className:"w-full pl-6 pr-6 py-1.5 font-bold text-gray-900 border border-green-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-green-400",placeholder:"0.00"}),calcPagoEfectivoUsd&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:function(){return setCalcPagoEfectivoUsd("")},className:"absolute right-1 top-1/2 -translate-y-1/2 text-green-400 hover:text-red-500 text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]}),parseFloat(calcPagoEfectivoUsd)>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-sm font-bold text-orange-600 mt-1 text-right bg-orange-50 px-2 py-0.5 rounded",children:["= Bs ",moneda((parseFloat(calcPagoEfectivoUsd)||0)*getTasaBsCalc(),2)]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"text-[9px] font-bold text-orange-600 block mb-0.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-money-bill mr-0.5"}),"EFECTIVO Bs"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-orange-500 font-bold text-xs",children:"Bs"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",value:calcPagoEfectivoBs,onChange:function(e){return setCalcPagoEfectivoBs(e.target.value.replace(/[^0-9.]/g,""))},className:"w-full pl-7 pr-6 py-1.5 font-bold text-gray-900 border border-orange-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-orange-400",placeholder:"0.00"}),calcPagoEfectivoBs&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:function(){return setCalcPagoEfectivoBs("")},className:"absolute right-1 top-1/2 -translate-y-1/2 text-orange-400 hover:text-red-500 text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]}),parseFloat(calcPagoEfectivoBs)>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-sm font-bold text-green-600 mt-1 text-right bg-green-50 px-2 py-0.5 rounded",children:["= $",moneda((parseFloat(calcPagoEfectivoBs)||0)/getTasaBsCalc(),2)]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"text-[9px] font-bold text-purple-600 block mb-0.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-credit-card mr-0.5"}),"DBITO (Bs)"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-purple-500 font-bold text-xs",children:"Bs"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",value:calcPagoDebito,onChange:function(e){return setCalcPagoDebito(e.target.value.replace(/[^0-9.]/g,""))},className:"w-full pl-7 pr-6 py-1.5 font-bold text-gray-900 border border-purple-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-purple-400",placeholder:"0.00"}),calcPagoDebito&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:function(){return setCalcPagoDebito("")},className:"absolute right-1 top-1/2 -translate-y-1/2 text-purple-400 hover:text-red-500 text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]}),parseFloat(calcPagoDebito)>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-sm font-bold text-green-600 mt-1 text-right bg-green-50 px-2 py-0.5 rounded",children:["= $",moneda((parseFloat(calcPagoDebito)||0)/getTasaBsCalc(),2)]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"text-[9px] font-bold text-cyan-600 block mb-0.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-exchange-alt mr-0.5"}),"TRANSF. $"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-cyan-500 font-bold text-sm",children:"$"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",value:calcPagoTransferencia,onChange:function(e){return setCalcPagoTransferencia(e.target.value.replace(/[^0-9.]/g,""))},className:"w-full pl-6 pr-6 py-1.5 font-bold text-gray-900 border border-cyan-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-cyan-400",placeholder:"0.00"}),calcPagoTransferencia&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:function(){return setCalcPagoTransferencia("")},className:"absolute right-1 top-1/2 -translate-y-1/2 text-cyan-400 hover:text-red-500 text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]}),parseFloat(calcPagoTransferencia)>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-sm font-bold text-orange-600 mt-1 text-right bg-orange-50 px-2 py-0.5 rounded",children:["= Bs ",moneda((parseFloat(calcPagoTransferencia)||0)*getTasaBsCalc(),2)]})]})]}),"elorza"===(null==user?void 0:user.sucursal)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("label",{className:"text-[9px] font-bold text-blue-600 block mb-0.5",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-coins mr-0.5"}),"EFECTIVO COP"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-blue-500 font-bold text-xs",children:"COP"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",value:calcPagoEfectivoCop,onChange:function(e){return setCalcPagoEfectivoCop(e.target.value.replace(/[^0-9.]/g,""))},className:"w-full pl-10 pr-6 py-1.5 font-bold text-gray-900 border border-blue-300 rounded bg-white focus:outline-none focus:ring-1 focus:ring-blue-400",placeholder:"0"}),calcPagoEfectivoCop&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:function(){return setCalcPagoEfectivoCop("")},className:"absolute right-1 top-1/2 -translate-y-1/2 text-blue-400 hover:text-red-500 text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-times"})})]}),parseFloat(calcPagoEfectivoCop)>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-sm font-bold text-green-600 mt-1 text-right bg-green-50 px-2 py-0.5 rounded",children:["= $",moneda((parseFloat(calcPagoEfectivoCop)||0)/getTasaCopCalc(),2)]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mt-2 pt-2 border-t border-blue-200 flex justify-between items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-xs text-blue-600",children:"Total pagado:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-lg font-bold text-blue-700",children:["$",moneda(calcTotalPagado(),2)]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:calcImportarTodoAPago,className:"py-2 text-sm font-bold text-white bg-indigo-500 rounded-lg hover:bg-indigo-600 transition-colors",title:"Importar montos a los campos de pago del sistema",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-download mr-2"}),"IMPORTAR A PAGOS"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"px-3 py-3 border-t-2 ".concat(calcDiferencia()>=0?"bg-green-50 border-green-300":"bg-red-50 border-red-300"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-sm font-bold px-3 py-1 rounded-full ".concat(calcDiferencia()>=0?"bg-green-200 text-green-700":"bg-red-200 text-red-700"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa ".concat(calcDiferencia()>=0?"fa-hand-holding-usd":"fa-exclamation-triangle"," mr-1")}),calcDiferencia()>=0?"VUELTO A DAR":"FALTA POR COBRAR"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"text-lg font-bold text-gray-700",children:["$",moneda(Math.abs(calcDiferencia()),2)]})]}),calcDiferencia()>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:function(){return calcAutoVuelto("usd")},className:"w-full text-sm font-bold text-green-700 bg-green-100 hover:bg-green-200 rounded-t px-2 py-1.5 transition-colors border-2 border-b-0 border-green-400",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-dollar-sign mr-1"}),"DLARES"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",value:calcVueltoUsd,onChange:function(e){return handleVueltoChange("usd",e.target.value.replace(/[^0-9.]/g,""))},className:"w-full px-2 py-2 text-lg font-bold text-gray-900 border-2 border-green-400 rounded-b bg-white focus:outline-none focus:ring-2 focus:ring-green-500 text-center",placeholder:"0.00"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:function(){return calcAutoVuelto("bs")},className:"w-full text-sm font-bold text-orange-700 bg-orange-100 hover:bg-orange-200 rounded-t px-2 py-1.5 transition-colors border-2 border-b-0 border-orange-400",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-money-bill mr-1"}),"BOLVARES"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",value:calcVueltoBs,onChange:function(e){return handleVueltoChange("bs",e.target.value.replace(/[^0-9.]/g,""))},className:"w-full px-2 py-2 text-lg font-bold text-gray-900 border-2 border-orange-400 rounded-b bg-white focus:outline-none focus:ring-2 focus:ring-orange-500 text-center",placeholder:"0.00"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:function(){return calcAutoVuelto("cop")},className:"w-full text-sm font-bold text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-t px-2 py-1.5 transition-colors border-2 border-b-0 border-blue-400",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-coins mr-1"}),"PESOS"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("input",{type:"text",value:calcVueltoCop,onChange:function(e){return handleVueltoChange("cop",e.target.value.replace(/[^0-9.]/g,""))},className:"w-full px-2 py-2 text-lg font-bold text-gray-900 border-2 border-blue-400 rounded-b bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 text-center",placeholder:"0"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-center text-xs font-bold py-1 rounded ".concat(calcVueltoPendiente()>.01?"bg-red-100 text-red-600":"bg-green-100 text-green-600"),children:calcVueltoPendiente()>.01?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:["Falta asignar: $",moneda(calcVueltoPendiente(),2)]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-check mr-1"}),"Vuelto completo"]})})]}):calcDiferencia()<0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-center p-2 rounded-lg bg-red-100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-[9px] text-gray-500 font-medium",children:"DLARES"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-xl font-bold text-red-600",children:["$",moneda(Math.abs(calcDiferencia()),2)]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-center p-2 rounded-lg bg-red-100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-[9px] text-gray-500 font-medium",children:"BOLVARES"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-xl font-bold text-red-600",children:moneda(Math.abs(calcDiferencia())*getTasaBsCalc(),2)})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-center p-2 rounded-lg bg-red-100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-[9px] text-gray-500 font-medium",children:"PESOS"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-lg font-bold text-red-600",children:moneda(Math.abs(calcDiferencia())*getTasaCopCalc(),0)})]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-center py-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fa fa-check-circle text-3xl text-green-500 mb-1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-sm font-bold text-green-600",children:"MONTO EXACTO"})]})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("style",{children:"\n                @keyframes slideInRight {\n                    from { transform: translateX(100%); }\n                    to { transform: translateX(0); }\n                }\n            "})]}):null}},7167:(e,t,r)=>{var n=r(4901),a=r(7301),o=r(6009),i=o&&o.isTypedArray,s=i?a(i):n;e.exports=s},7197:e=>{e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},7217:(e,t,r)=>{var n=r(79),a=r(1420),o=r(938),i=r(3605),s=r(9817),c=r(945);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,e.exports=l},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7255:(e,t,r)=>{var n=r(7422);e.exports=function(e){return function(t){return n(t,e)}}},7277:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}},7296:(e,t,r)=>{var n,a=r(5481),o=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!o&&o in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7307:(e,t,r)=>{var n=r(3120),a=r(5378);e.exports=function(e,t){return n(a(e,t),1)}},7309:(e,t,r)=>{var n=r(2006)(r(4713));e.exports=n},7334:e=>{e.exports=function(e){return function(){return e}}},7350:(e,t,r)=>{var n=r(8221),a=r(3805);e.exports=function(e,t,r){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),n(e,t,{leading:o,maxWait:t,trailing:i})}},7400:(e,t,r)=>{var n=r(9374),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7422:(e,t,r)=>{var n=r(1769),a=r(7797);e.exports=function(e,t){for(var r=0,o=(t=n(t,e)).length;null!=e&&r<o;)e=e[a(t[r++])];return r&&r==o?e:void 0}},7463:(e,t)=>{"use strict";var r,n,a,o;if("object"==typeof performance&&"function"==typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,d=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(d,0),e}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(d,0))},n=function(e,t){u=setTimeout(e,t)},a=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,x=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var y=new MessageChannel,_=y.port2;y.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+v;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},r=function(e){g=e,m||(m=!0,_.postMessage(null))},n=function(e,r){x=f((function(){e(t.unstable_now())}),r)},a=function(){h(x),x=-1}}function j(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,a=e[n];if(!(void 0!==a&&0<E(a,t)))break e;e[n]=t,e[r]=a,r=n}}function w(e){return void 0===(e=e[0])?null:e}function N(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length;n<a;){var o=2*(n+1)-1,i=e[o],s=o+1,c=e[s];if(void 0!==i&&0>E(i,r))void 0!==c&&0>E(c,i)?(e[n]=c,e[s]=r,n=s):(e[n]=i,e[o]=r,n=o);else{if(!(void 0!==c&&0>E(c,r)))break e;e[n]=c,e[s]=r,n=s}}}return t}return null}function E(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var C=[],S=[],O=1,A=null,P=3,D=!1,I=!1,T=!1;function M(e){for(var t=w(S);null!==t;){if(null===t.callback)N(S);else{if(!(t.startTime<=e))break;N(S),t.sortIndex=t.expirationTime,j(C,t)}t=w(S)}}function k(e){if(T=!1,M(e),!I)if(null!==w(C))I=!0,r(R);else{var t=w(S);null!==t&&n(k,t.startTime-e)}}function R(e,r){I=!1,T&&(T=!1,a()),D=!0;var o=P;try{for(M(r),A=w(C);null!==A&&(!(A.expirationTime>r)||e&&!t.unstable_shouldYield());){var i=A.callback;if("function"==typeof i){A.callback=null,P=A.priorityLevel;var s=i(A.expirationTime<=r);r=t.unstable_now(),"function"==typeof s?A.callback=s:A===w(C)&&N(C),M(r)}else N(C);A=w(C)}if(null!==A)var c=!0;else{var l=w(S);null!==l&&n(k,l.startTime-r),c=!1}return c}finally{A=null,P=o,D=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||D||(I=!0,r(R))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return w(C)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var r=P;P=t;try{return e()}finally{P=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=P;P=e;try{return t()}finally{P=r}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:O++,callback:o,priorityLevel:e,startTime:i,expirationTime:c=i+c,sortIndex:-1},i>s?(e.sortIndex=i,j(S,e),null===w(C)&&e===w(S)&&(T?a():T=!0,n(k,i-s))):(e.sortIndex=c,j(C,e),I||D||(I=!0,r(R))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var r=P;P=t;try{return e.apply(this,arguments)}finally{P=r}}}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7522:(e,t,r)=>{"use strict";var n=r(7763);e.exports=function(e,t,r){var a=r.config.validateStatus;r.status&&a&&!a(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},7534:(e,t,r)=>{var n=r(2552),a=r(346);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},7551:(e,t,r)=>{var n=r(3599),a=r(3335),o=r(5389);e.exports=function(e,t){return e&&e.length?n(e,o(t,2),a):void 0}},7556:(e,t,r)=>{var n=r(1873),a=r(4932),o=r(6449),i=r(4394),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},7670:(e,t,r)=>{var n=r(2651);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7671:e=>{function t(e,t){var n,a,o=e.type,i=e.value;return t&&void 0!==(a=t(e))?a:"word"===o||"space"===o?i:"string"===o?(n=e.quote||"")+i+(e.unclosed?"":n):"comment"===o?"/*"+i+(e.unclosed?"":"*/"):"div"===o?(e.before||"")+i+(e.after||""):Array.isArray(e.nodes)?(n=r(e.nodes),"function"!==o?n:i+"("+(e.before||"")+n+(e.after||"")+(e.unclosed?"":")")):i}function r(e,r){var n,a;if(Array.isArray(e)){for(n="",a=e.length-1;~a;a-=1)n=t(e[a],r)+n;return n}return t(e,r)}e.exports=r},7763:(e,t,r)=>{"use strict";var n=r(5449);e.exports=function(e,t,r,a,o){var i=new Error(e);return n(i,t,r,a,o)}},7797:(e,t,r)=>{var n=r(4394);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7828:(e,t,r)=>{var n=r(9325).Uint8Array;e.exports=n},7978:(e,t,r)=>{var n=r(270),a=r(8156),o=r(631),i=r(8586),s=r(756),c=r(7197),l=r(7797);e.exports=function(e,t){return i(e)&&s(t)?c(l(e),t):function(r){var i=a(r,e);return void 0===i&&i===t?o(r,e):n(t,i,3)}}},7980:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8015:(e,t,r)=>{"use strict";var n=r(9516),a=r(9012),o=r(5155),i=r(5343);function s(e){var t=new o(e),r=a(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var c=s(r(6987));c.Axios=o,c.create=function(e){return s(i(c.defaults,e))},c.Cancel=r(1928),c.CancelToken=r(3191),c.isCancel=r(3864),c.all=function(e){return Promise.all(e)},c.spread=r(7980),c.isAxiosError=r(5019),e.exports=c,e.exports.default=c},8023:(e,t,r)=>{var n=r(2552),a=r(346);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==n(e)}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8090:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},8096:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},8156:(e,t,r)=>{var n=r(7422);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},8195:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(6540),a=r(3505),o=r(3496),i=r(9892),s=r(4848);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e){var t=e.isOpen,r=e.onClose,o=e.onScanSuccess,i=e.inputCarnetRef,l=e.valinputsetclaveadmin,u=e.setvalinputsetclaveadmin,d=c((0,n.useState)(""),2),f=d[0],h=d[1],p=c((0,n.useState)(!1),2),m=p[0],g=p[1],x=c((0,n.useState)(!1),2),v=x[0],b=x[1],y=(0,n.useRef)(null),_=(0,n.useRef)(null);(0,n.useEffect)((function(){t&&i.current&&i.current.focus()}),[t]);var j=function(){y.current&&(y.current.clear(),y.current=null),_.current&&clearTimeout(_.current),g(!1),u(""),h(""),r()};return(0,a.v)("esc",(function(e){j()}),{filterPreventDefault:!1,enableOnTags:["INPUT","SELECT","TEXTAREA"]},[t]),t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("section",{className:"modal-custom",children:(0,s.jsxs)("div",{className:"shadow-lg modal-content-supersm",children:[(0,s.jsxs)("div",{className:"pb-0 border-0 modal-header",children:[(0,s.jsxs)("h5",{className:"modal-title",children:[(0,s.jsx)("i",{className:"fa fa-id-card text-warning me-2"}),"Escanear Carnet de Aprobacin"]}),(0,s.jsx)("button",{type:"button",className:"btn-close",onClick:j,"aria-label":"Cerrar"})]}),(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l?(o(l),r()):h("Por favor escanee o ingrese el cdigo del carnet")},children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("label",{className:"form-label text-muted",children:"Escanee el cdigo de barras del carnet de aprobacin"}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("input",{type:v?"text":"password",className:"form-control form-control-lg ".concat(f?"is-invalid":""),ref:i,value:l,onChange:function(e){u(e.target.value),h("")},"data-carnet-input":"true",onPaste:function(e){return e.preventDefault(),e.stopPropagation(),!1},onInput:function(e){_.current&&clearTimeout(_.current),_.current=setTimeout((function(){u("")}),500)},onCopy:function(e){return e.preventDefault(),e.stopPropagation(),!1},onCut:function(e){return e.preventDefault(),e.stopPropagation(),!1},onContextMenu:function(e){return e.preventDefault(),e.stopPropagation(),!1},onDrag:function(e){return e.preventDefault(),e.stopPropagation(),!1},onDrop:function(e){return e.preventDefault(),e.stopPropagation(),!1},onKeyDown:function(e){return!e.ctrlKey||"c"!==e.key&&"v"!==e.key&&"x"!==e.key&&"a"!==e.key?"F12"===e.key?(e.preventDefault(),e.stopPropagation(),!1):void 0:(e.preventDefault(),e.stopPropagation(),!1)},autoComplete:"new-password",autoSave:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false","data-lpignore":"true","data-form-type":"other","data-1p-ignore":"true","data-bwignore":"true","data-kwignore":"true",placeholder:"Cdigo del carnet",autoFocus:!0}),(0,s.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return b(!v)},children:(0,s.jsx)("i",{className:"fa ".concat(v?"fa-eye-slash":"fa-eye")})}),(0,s.jsxs)("button",{type:"button",className:"btn ".concat(m?"btn-danger":"btn-outline-primary"),onClick:function(){if(m)return y.current&&(y.current.clear(),y.current=null),void g(!1);"undefined"!=typeof Html5QrcodeScanner?(g(!0),h(""),y.current=new Html5QrcodeScanner("reader",{fps:10,qrbox:{width:300,height:150}}),y.current.render((function(e){u(e),y.current&&(y.current.clear(),y.current=null);g(!1),h("")}),(function(e){console.log("Error de escaneo:",e)}))):h("Scanner no disponible. Ingrese el cdigo manualmente.")},children:[(0,s.jsx)("i",{className:"fa ".concat(m?"fa-stop":"fa-qrcode")}),m?" Detener":" Escanear"]})]}),f&&(0,s.jsx)("div",{className:"invalid-feedback d-block",children:f})]}),m&&(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("div",{id:"reader",className:"border rounded p-2 bg-light"})}),(0,s.jsxs)("div",{className:"gap-2 d-flex justify-content-end",children:[(0,s.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:j,children:"Cancelar"}),(0,s.jsxs)("button",{type:"submit",className:"btn btn-warning",disabled:!l,children:[(0,s.jsx)("i",{className:"fa fa-check me-1"}),"Aprobar"]})]})]})})]})}),(0,s.jsx)("div",{className:"overlay"}),(0,s.jsx)("style",{jsx:!0,children:"\n                .modal-custom {\n                    position: fixed;\n                    top: 50%;\n                    left: 50%;\n                    transform: translate(-50%, -50%);\n                    z-index: 1050;\n                }\n                .modal-content-supersm {\n                    background: white;\n                    border-radius: 0.5rem;\n                    padding: 1.5rem;\n                    min-width: 450px;\n                }\n                .overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background: rgba(0, 0, 0, 0.5);\n                    backdrop-filter: blur(4px);\n                    z-index: 1040;\n                }\n                .form-control:focus {\n                    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.15);\n                }\n                .btn-close:focus {\n                    box-shadow: none;\n                }\n                #reader {\n                    min-height: 200px;\n                }\n            "})]}):null}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e){var t=e.setLastDbRequest,r=(e.lastDbRequest,e.openValidationTarea),c=e.num,l=e.setNum,h=(e.auth,e.refaddfast),p=(e.setinputqinterno,e.inputqinterno,e.tbodyproducInterref),m=e.productos,g=e.countListInter,x=e.moneda,v=e.setCountListInter,b=(e.setView,e.permisoExecuteEnter,e.user),y=e.inputCantidadCarritoref,_=e.setCantidad,j=e.cantidad,w=(e.number,e.dolar),N=e.addCarritoRequestInterno,E=e.setproductoSelectinternouno,C=e.devolucionTipo,S=e.pedidoData,O=e.devolucionMotivo,A=e.devolucion_cantidad_salida,P=e.devolucion_motivo_salida,D=e.devolucion_ci_cajero,I=e.devolucion_ci_autorizo,T=e.devolucion_dias_desdecompra,M=e.devolucion_ci_cliente,k=e.devolucion_telefono_cliente,R=e.devolucion_nombre_cliente,B=e.devolucion_nombre_cajero,L=e.devolucion_nombre_autorizo,F=e.devolucion_trajo_factura,U=e.devolucion_motivonotrajofact,W=e.devolucion_numfactoriginal,V=e.notificar,z=e.getPedido,K=e.addNewPedido,G=e.addNewPedidoFront,q=e.pedidosFast,H=e.pedidosFrontPendientesList,$=void 0===H?[]:H,Y=e.onClickEditPedido,X=e.togglereferenciapago,Q=(e.cedula_referenciapago,e.setcedula_referenciapago,e.telefono_referenciapago,e.settelefono_referenciapago,e.orderColumn),Z=e.setOrderColumn,J=e.orderBy,ee=e.setOrderBy,te=e.getProductos,re=e.qProductosMain,ne=e.setQProductosMain,ae=e.setShowModalPedidoOriginal,oe=e.pedidoOriginalAsignado,ie=e.refEjecutarTrasFacturaOriginal;(0,n.useEffect)((function(){te()}),[c,re,Q,J]);var se=(0,o.nm)(),ce=se.setActiveProductCart,le=(se.activeProductCart,se.searchCompleted),ue=f((0,n.useState)(null),2),de=ue[0],fe=ue[1],he=f((0,n.useState)(null),2),pe=he[0],me=he[1],ge=f((0,n.useState)(null),2),xe=(ge[0],ge[1]),ve=((0,n.useRef)(null),(0,n.useRef)(null)),be=(0,n.useRef)(!1),ye=f((0,n.useState)(!1),2),_e=ye[0],je=ye[1],we=f((0,n.useState)(""),2),Ne=we[0],Ee=we[1],Ce=(0,n.useRef)(null),Se=function(e){return!(!S||!S.items)&&S.items.some((function(t){return t.producto&&t.producto.id==e}))},Oe=function(e){if(!S||!S.items)return 0;var t=S.items.find((function(t){return t.producto&&t.producto.id==e}));return t?Number(parseFloat(t.cantidad).toFixed(2)):0},Ae=function(e){Q===e?ee("asc"===J?"desc":"asc"):(Z(e),ee("asc"))},Pe=function(e){return Q!==e?(0,s.jsx)("span",{className:"text-gray-400",children:""}):"asc"===J?(0,s.jsx)("span",{className:"text-orange-600",children:""}):(0,s.jsx)("span",{className:"text-orange-600",children:""})};(0,a.v)("f1",(function(){"function"==typeof G?G():"function"==typeof K&&K()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]);var De=[].concat(d(Array.isArray($)?$.map((function(e){return{id:e.id,_frontOnly:!0}})):[]),d(Array.isArray(q)?q.map((function(e){return{id:e.id,_frontOnly:!1}})):[]));(0,a.v)("tab",(function(e){if(!X)if(be.current)e.preventDefault();else if(e.preventDefault(),De.length>0)if(S&&null!=S.id&&""!==S.id){var t=De.findIndex((function(e){return e.id==S.id}));if(t>=0&&t<De.length-1){var r=De[t+1];r&&null!=r.id&&(be.current=!0,Y(null,r.id),setTimeout((function(){be.current=!1}),300))}}else{var n=De[0];n&&null!=n.id&&(be.current=!0,Y(null,n.id),setTimeout((function(){be.current=!1}),300))}}),{enableOnTags:["INPUT","SELECT"],filter:function(e){return e.target!==(null==y?void 0:y.current)}},[q,$,S,Y,y,X]),(0,a.v)("shift+tab",(function(e){if(!X)if(be.current)e.preventDefault();else if(e.preventDefault(),De.length>0)if(S&&null!=S.id&&""!==S.id){var t=De.findIndex((function(e){return e.id==S.id}));if(t>0){var r=De[t-1];r&&null!=r.id&&(be.current=!0,Y(null,r.id),setTimeout((function(){be.current=!1}),300))}}else{var n=De[De.length-1];n&&null!=n.id&&(be.current=!0,Y(null,n.id),setTimeout((function(){be.current=!1}),300))}}),{enableOnTags:["INPUT","SELECT"],filter:function(e){return e.target!==(null==y?void 0:y.current)}},[q,$,S,Y,y,X]),(0,a.v)("down",(function(e){if(!de&&!X){var t;if(e.target===(null==h?void 0:h.current)&&m.length>0)return e.preventDefault(),v(0),void(null!=p&&null!==(t=p.current)&&void 0!==t&&t.rows[0]&&p.current.rows[0].focus());var r=g+1;p&&p.current&&p.current.rows[r]&&(v(r),p.current.rows[r].focus())}}),{enableOnTags:["INPUT","SELECT"]},[de,m,g,h,p,v,X]),(0,a.v)("up",(function(){if(!de&&!X&&g>0){var e=g-1;p&&p.current&&p.current.rows[e]&&(p.current.rows[e].focus(),v(e))}}),{enableOnTags:["INPUT","SELECT"]},[de,X,g,p,v]),(0,n.useEffect)((function(){v(0)}),[]),(0,n.useEffect)((function(){var e=function(e){var t=e.key,r=parseInt(t);if("INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName){var n=t>="0"&&t<="9"||"."===t||"-"===t;if(S&&S.id){if(n&&!de&&g>=0&&m.length>0){var a=m[g];a&&(e.preventDefault(),e.stopPropagation(),Ie(a.id),setTimeout((function(){"."===t?(_("0."),xe("0.")):(_("0"===t?"0":"-"===t?"-":r),xe("0"===t?"0":"-"===t?"-":r))}),100))}}else n&&!de&&g>=0&&m.length>0&&V("No hay pedido seleccionado.","warning")}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[de,g,m,Ie,_,xe,S]);var Ie=function(e){if(S&&S.id){var t=m.find((function(t){return t.id==e}));if(t){if(de&&de.id==e)return void Te();de&&(fe(null),ce(null),xe(null),E(null)),setTimeout((function(){var r,n,a,o;fe(t),ce(e),_(""),xe(null);var i=null!=t.id_producto?t.id_producto:e;E({descripcion:t.descripcion,precio:t.precio,unidad:t.unidad,cantidad:t.cantidad,id:i,id_producto:null!==(r=t.id_producto)&&void 0!==r?r:e,codigo_barras:null!==(n=null!==(a=t.codigo_barras)&&void 0!==a?a:t.codigo_proveedor)&&void 0!==n?n:"",codigo_proveedor:null!==(o=t.codigo_proveedor)&&void 0!==o?o:""}),setTimeout((function(){y&&y.current&&y.current.focus()}),50)}),10)}}else V("No hay pedido seleccionado. ","error")},Te=function(){fe(null)};(0,n.useEffect)((function(){S&&S.id&&Te()}),[null==S?void 0:S.id]),(0,n.useEffect)((function(){return function(){ve.current&&clearTimeout(ve.current)}}),[]);var Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(de){var s=null!=n&&""!==String(n).trim()?n:j,c=parseFloat(s)||0,u=m.find((function(e){return e.id===de.id}));if(!u)return void V("Producto no encontrado","error");if((null==S||!S._frontOnly)&&c>u.cantidad)return void V("No se puede agregar ".concat(c," unidades. Stock disponible: ").concat(u.cantidad),"error");if(null!=S&&S._frontOnly&&0===c)return void V("Indique la cantidad","error");if(null!=S&&S._frontOnly){var d=null!=a||o&&o.length?{id_pedido_original:null!=a?a:void 0,items_disponibles:o||void 0}:void 0;if(N(null,!0,s,d),E(null),Te(),null!=h&&h.current){ve.current&&clearTimeout(ve.current),h.current.select(),me(null);var f=function(){le&&null!=h&&h.current?h.current.focus():setTimeout(f,50)};setTimeout(f,50)}return}try{if(1==C)return void console.log("Es garanta, no implementado an");var p={id:de.id,type:"agregar",cantidad:c,numero_factura:(null==S?void 0:S.id)||null,devolucionTipo:C,devolucionMotivo:O,devolucion_cantidad_salida:A,devolucion_motivo_salida:P,devolucion_ci_cajero:D,devolucion_ci_autorizo:I,devolucion_dias_desdecompra:T,devolucion_ci_cliente:M,devolucion_telefono_cliente:k,devolucion_nombre_cliente:R,devolucion_nombre_cajero:B,devolucion_nombre_autorizo:L,devolucion_trajo_factura:F,devolucion_motivonotrajofact:U,devolucion_numfactoriginal:W,valinputsetclaveadmin:e};c<0&&null!=S&&S.isdevolucionOriginalid&&(p.id_pedido_original=S.isdevolucionOriginalid),i.A.setCarrito(p).then((function(e){if(e.data.msj&&V(e.data.msj),z(),E(null),Te(),l(10),null!=h&&h.current){ve.current&&clearTimeout(ve.current),h.current.select(),me(null);var n=function(){le&&null!=h&&h.current?h.current.focus():setTimeout(n,50)};setTimeout(n,50)}!1===e.data.estado&&(t({dbFunction:i.A.setCarrito,params:p}),r(e.data.id_tarea))})).catch((function(e){console.error("Error en setCarrito:",e),V("Error al agregar producto al carrito")}))}catch(e){console.error("Error al agregar al carrito:",e)}}},ke=function(){return!!S&&(!S.isdevolucionOriginalid&&!oe)},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(de){var t;if(function(){if(!S||!S.items)return!1;var e=!!S.items.filter((function(e){return parseFloat(e.cantidad)<0})).length,t=parseFloat(j)<0;return!e&&t}())return void je(!0);var r=null==e||null===(t=e.target)||void 0===t?void 0:t.value;Me(null,r)}};(0,a.v)("up",(function(e){X||!de||(e.target,null==y||y.current)}),{enableOnTags:["INPUT"],keydown:!0,keyup:!1},[de,X,y]),(0,a.v)("down",(function(e){X||!de||(e.target,null==y||y.current)}),{enableOnTags:["INPUT"],keydown:!0,keyup:!1},[de,X,y]),(0,a.v)("escape",(function(e){var t;if(de)return e.preventDefault(),e.stopPropagation(),void Te();window.scrollTo({top:0,behavior:"smooth"});for(var r=null===(t=h.current)||void 0===t?void 0:t.parentElement;r;){var n=window.getComputedStyle(r);"auto"!==n.overflowY&&"scroll"!==n.overflowY||r.scrollTo({top:0,behavior:"smooth"}),r=r.parentElement}setTimeout((function(){h.current.select()}),100)}),{enableOnTags:["INPUT","SELECT"]},[]),(0,a.v)("enter",(function(e){de&&e.target===(null==y?void 0:y.current)&&(e.preventDefault(),e.stopPropagation(),Re(e))}),{enableOnTags:["INPUT"],keydown:!0,keyup:!1},[de,Re]);var Be=(0,n.useRef)(!1);return(0,n.useEffect)((function(){Be.current&&le&&m.length>0&&setTimeout((function(){var e;v(0),null!=p&&null!==(e=p.current)&&void 0!==e&&e.rows[0]&&p.current.rows[0].focus(),Be.current=!1}),50)}),[le,m,p,v]),(0,n.useEffect)((function(){var e=function(e){"Control"!==e.key&&!e.ctrlKey||document.activeElement!==(null==h?void 0:h.current)||h.current.blur()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[h]),(0,a.v)("enter",(function(e){if(e.target===(null==h?void 0:h.current)){e.preventDefault(),e.stopPropagation();var t=function(){var e;v(0),null!=p&&null!==(e=p.current)&&void 0!==e&&e.rows[0]&&p.current.rows[0].focus()};if(m.length>0&&le)t();else{var r=h.current.value;r?(ve.current&&clearTimeout(ve.current),ne(r),te(r),Be.current=!0):m.length>0&&t()}}}),{enableOnTags:["INPUT"],keydown:!0,keyup:!1},[m,p,v,le]),(0,s.jsxs)("div",{className:"flex flex-col h-100",children:[(0,s.jsxs)("div",{className:"top-0 z-10 flex flex-col mt-0 mb-1 rounded gap-y-1 sm:flex-row sm:items-center",children:[(0,s.jsx)("input",{type:"text",ref:h,className:"flex-1 px-3 py-2 text-xs border border-gray-300 rounded focus:!ring-2 focus:!ring-orange-400 focus:!border-orange-400",placeholder:"Agregar...(Esc)",onChange:function(e){var t=e.target.value;ve.current&&clearTimeout(ve.current),ve.current=setTimeout((function(){ne(t)}),100)}}),(0,s.jsxs)("select",{className:"px-2 py-2 text-xs border border-gray-300 rounded sm:ml-2 sm:w-20 focus:ring-1 focus:ring-orange-400 focus:border-orange-400 sm:mt-0",value:c,onChange:function(e){return l(Number(e.target.value))},title:"Cantidad de registros a mostrar",children:[(0,s.jsx)("option",{value:10,children:"10"}),(0,s.jsx)("option",{value:15,children:"15"}),(0,s.jsx)("option",{value:20,children:"20"}),(0,s.jsx)("option",{value:50,children:"50"})]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto border border-gray-200 rounded",children:(0,s.jsxs)("table",{className:"w-full min-w-[700px] text-xs table-fixed border-gray-200",children:[(0,s.jsxs)("colgroup",{children:[(0,s.jsx)("col",{className:"w-[100px] min-w-[100px]"}),(0,s.jsx)("col",{className:"w-[200px] min-w-[200px]"}),(0,s.jsx)("col",{className:"w-[60px] min-w-[60px]"}),(0,s.jsx)("col",{className:"w-[25px] min-w-[25px]"}),(0,s.jsx)("col",{className:"w-[180px] min-w-[180px]"})]}),(0,s.jsx)("thead",{className:"border-b bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-1 py-1 text-xs font-medium text-left text-gray-600 transition-colors cursor-pointer",onClick:function(){return Ae("codigo_barras")},title:"Ordenar por cdigo",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Cdigo"}),Pe("codigo_barras")]})}),(0,s.jsx)("th",{className:"px-2 py-1 text-xs font-medium text-left text-gray-600 transition-colors cursor-pointer",onClick:function(){return Ae("descripcion")},title:"Ordenar por descripcin",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Descripcin"}),Pe("descripcion")]})}),(0,s.jsx)("th",{className:"px-1 py-1 text-xs font-medium text-center text-gray-600 transition-colors cursor-pointer hover:bg-gray-100",onClick:function(){return Ae("cantidad")},title:"Ordenar por cantidad",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,s.jsx)("span",{children:"Cant."}),Pe("cantidad")]})}),(0,s.jsx)("th",{className:"px-0.5 py-1 text-center text-xs font-medium text-gray-600",children:"Und."}),(0,s.jsx)("th",{className:"px-1 py-1 text-xs font-medium text-center text-gray-600 transition-colors cursor-pointer hover:bg-gray-100",onClick:function(){return Ae("precio")},title:"Ordenar por precio",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,s.jsx)("span",{children:"Precios"}),Pe("precio")]})})]})}),(0,s.jsx)("tbody",{ref:p,className:"divide-y divide-gray-200",children:le?m.length>0?m.map((function(e,t){var r=de&&de.id==e.id,n=r||g==t||pe===t;return(0,s.jsxs)("tr",{tabIndex:-1,className:"bg-white cursor-pointer outline-none transition-colors focus:outline-none focus:ring-0 ".concat(n?"bg-amber-50/80":""," focus-within:!bg-amber-100 hover:bg-gray-50/80"),onClick:function(){return Ie(e.id)},onFocus:function(){return me(t)},onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||me(null)},"data-index":e.id,children:[(0,s.jsxs)("td",{className:"px-1 py-1 font-mono text-xs text-gray-700",children:[(0,s.jsx)("div",{className:"text-xs break-words",title:e.codigo_barras,children:e.codigo_barras}),(0,s.jsx)("div",{className:"text-xs text-gray-500 break-words",title:e.codigo_proveedor,children:e.codigo_proveedor})]}),(0,s.jsx)("td",{className:"px-2 py-1 text-xs font-medium text-gray-900",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"break-words",title:e.descripcion,children:e.descripcion}),Se(e.id)&&(0,s.jsx)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 flex-shrink-0",children:Oe(e.id)})]})}),(0,s.jsx)("td",{className:"px-1 py-1 text-center align-middle",children:(0,s.jsx)("div",{className:"inline-block min-w-[3.5rem] w-14 text-center",children:r?(0,s.jsx)("input",{type:"number",ref:y,className:"w-full max-w-[3.5rem] min-w-[2.5rem] px-1 py-0.5 text-xs text-center border border-gray-300 rounded focus:ring-1 focus:ring-orange-400 focus:border-orange-400 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none box-border",placeholder:"".concat(e.cantidad),min:"1",max:e.cantidad,onKeyDown:function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.preventDefault(),"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),Re(e))},onChange:function(t){var r=t.target.value;if(""===r||/^[-\d]*\.?\d*$/.test(r)){var n=""===r?"":parseFloat(r);""===n||n<=e.cantidad?_(n):V("Cantidad mxima disponible: ".concat(e.cantidad),"warning")}},value:j}):(0,s.jsx)("span",{className:"inline-block px-1 py-0.5 border !border-orange-200 rounded text-xs formShowProductos cursor-pointer "+(0==e.cantidad?"bg-red-100 text-red-700 border-red-300":"bg-orange-50 text-orange-900"),children:e.cantidad})})}),(0,s.jsx)("td",{className:"px-0.5 py-1 text-center text-xs text-gray-600 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-xs",children:e.unidad})}),(0,s.jsx)("td",{className:"px-1 py-1",children:r?(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,s.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,s.jsxs)("div",{className:"text-green-800",children:["$",x(j*e.precio)]}),(0,s.jsxs)("div",{children:["Bs.",x(j*e.precio*w)]})]}),(0,s.jsx)("div",{className:"flex space-x-1",children:(0,s.jsx)("button",{onClick:function(e){e.stopPropagation(),Te()},className:"px-2 py-1 text-xs text-white bg-gray-500 rounded hover:bg-gray-600 focus:ring-2 focus:ring-gray-400",title:"Cancelar",children:""})})]}):(0,s.jsxs)("div",{className:"flex flex-col gap-1 sm:flex-row sm:gap-2 min-w-[180px]",children:[(0,s.jsxs)("span",{className:"flex-1 px-1 py-0.5 bg-orange-50 text-green-800 border !border-orange-200 text-lg font-medium rounded text-center whitespace-nowrap",children:["$",x(e.precio)]}),(0,s.jsxs)("span",{className:"flex-1 px-1 py-0.5 bg-orange-50 text-orange-900 border !border-orange-200 text-lg rounded text-center whitespace-nowrap",children:["Bs.",x(e.bs)]}),"elorza"==b.sucursal&&(0,s.jsxs)("span",{className:"flex-1 px-1 py-0.5 bg-orange-50 text-orange-900 border !border-orange-200 text-lg rounded text-center whitespace-nowrap",children:["P.",x(e.cop)]})]})})]},e.id)})):m&&0===m.length&&re?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"5",className:"px-4 py-4 text-xs text-center text-gray-500",children:(0,s.jsx)("div",{className:"text-gray-600",children:"No se encontraron productos"})})}):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"5",className:"px-4 py-8 text-xs text-center text-gray-500",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-gray-200 rounded-full animate-spin",children:(0,s.jsx)("div",{className:"absolute inset-0 border-2 border-transparent rounded-full border-t-orange-400 animate-spin"})})}),(0,s.jsxs)("div",{className:"text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Cargando productos"}),(0,s.jsx)("span",{className:"animate-pulse",children:"..."})]})]})})}):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"5",className:"px-4 py-8 text-xs text-center text-gray-500",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-gray-200 rounded-full animate-spin",children:(0,s.jsx)("div",{className:"absolute inset-0 border-2 border-transparent rounded-full border-t-orange-400 animate-spin"})})}),(0,s.jsxs)("div",{className:"text-gray-600",children:[(0,s.jsx)("span",{className:"font-medium",children:"Buscando productos"}),(0,s.jsx)("span",{className:"animate-pulse",children:"..."})]})]})})})})]})}),(0,s.jsx)(u,{isOpen:_e,onClose:function(){je(!1),Ee("")},onScanSuccess:function(e){if(Ee(e),ie&&ke()){je(!1);var t=j;return ie.current=function(r,n){return Me(e,t,r,n)},void(ae&&ae(!0))}Me(e)},inputCarnetRef:Ce,valinputsetclaveadmin:Ne,setvalinputsetclaveadmin:Ee})]})}},8221:(e,t,r)=>{var n=r(3805),a=r(124),o=r(9374),i=Math.max,s=Math.min;e.exports=function(e,t,r){var c,l,u,d,f,h,p=0,m=!1,g=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=c,n=l;return c=l=void 0,p=t,d=e.apply(n,r)}function b(e){var r=e-h;return void 0===h||r>=t||r<0||g&&e-p>=u}function y(){var e=a();if(b(e))return _(e);f=setTimeout(y,function(e){var r=t-(e-h);return g?s(r,u-(e-p)):r}(e))}function _(e){return f=void 0,x&&c?v(e):(c=l=void 0,d)}function j(){var e=a(),r=b(e);if(c=arguments,l=this,h=e,r){if(void 0===f)return function(e){return p=e,f=setTimeout(y,t),m?v(e):d}(h);if(g)return clearTimeout(f),f=setTimeout(y,t),v(h)}return void 0===f&&(f=setTimeout(y,t)),d}return t=o(t)||0,n(r)&&(m=!!r.leading,u=(g="maxWait"in r)?i(o(r.maxWait)||0,t):u,x="trailing"in r?!!r.trailing:x),j.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=l=f=void 0},j.flush=function(){return void 0===f?d:_(a())},j}},8223:(e,t,r)=>{var n=r(6110)(r(9325),"Map");e.exports=n},8303:(e,t,r)=>{var n=r(6110)(r(9325),"WeakMap");e.exports=n},8329:(e,t,r)=>{var n=r(4894);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var o=r.length,i=t?o:-1,s=Object(r);(t?i--:++i<o)&&!1!==a(s[i],i,s););return r}}},8351:function(e,t,r){var n;!function(){"use strict";var a,o=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,c="[DecimalError] ",l=c+"Invalid argument: ",u=c+"Exponent out of range: ",d=Math.floor,f=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),x={};function v(e,t){var r,n,a,o,i,c,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?O(t,f):t;if(l=e.d,u=t.d,i=e.e,a=t.e,l=l.slice(),o=i-a){for(o<0?(n=l,o=-o,c=u.length):(n=u,a=i,c=l.length),o>(c=(i=Math.ceil(f/7))>c?i+1:c+1)&&(o=c,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((c=l.length)-(o=u.length)<0&&(o=c,n=u,u=l,l=n),r=0;o;)r=(l[--o]=l[o]+u[o]+r)/p|0,l[o]%=p;for(r&&(l.unshift(r),++a),c=l.length;0==l[--c];)l.pop();return t.d=l,t.e=a,s?O(t,f):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(l+e)}function y(e){var t,r,n,a=e.length-1,o="",i=e[0];if(a>0){for(o+=i,t=1;t<a;t++)(r=7-(n=e[t]+"").length)&&(o+=E(r)),o+=n;(r=7-(n=(i=e[t])+"").length)&&(o+=E(r))}else if(0===i)return"0";for(;i%10==0;)i/=10;return o+i}x.absoluteValue=x.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},x.comparedTo=x.cmp=function(e){var t,r,n,a,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,r=(n=o.d.length)<(a=e.d.length)?n:a;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1},x.decimalPlaces=x.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},x.dividedBy=x.div=function(e){return _(this,new this.constructor(e))},x.dividedToIntegerBy=x.idiv=function(e){var t=this.constructor;return O(_(this,new t(e),0,1),t.precision)},x.equals=x.eq=function(e){return!this.cmp(e)},x.exponent=function(){return w(this)},x.greaterThan=x.gt=function(e){return this.cmp(e)>0},x.greaterThanOrEqualTo=x.gte=function(e){return this.cmp(e)>=0},x.isInteger=x.isint=function(){return this.e>this.d.length-2},x.isNegative=x.isneg=function(){return this.s<0},x.isPositive=x.ispos=function(){return this.s>0},x.isZero=function(){return 0===this.s},x.lessThan=x.lt=function(e){return this.cmp(e)<0},x.lessThanOrEqualTo=x.lte=function(e){return this.cmp(e)<1},x.logarithm=x.log=function(e){var t,r=this,n=r.constructor,o=n.precision,i=o+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(a))throw Error(c+"NaN");if(r.s<1)throw Error(c+(r.s?"NaN":"-Infinity"));return r.eq(a)?new n(0):(s=!1,t=_(C(r,i),C(e,i),i),s=!0,O(t,o))},x.minus=x.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):v(t,(e.s=-e.s,e))},x.modulo=x.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(!(e=new n(e)).s)throw Error(c+"NaN");return r.s?(s=!1,t=_(r,e,0,1).times(e),s=!0,r.minus(t)):O(new n(r),a)},x.naturalExponential=x.exp=function(){return j(this)},x.naturalLogarithm=x.ln=function(){return C(this)},x.negated=x.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},x.plus=x.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):A(t,(e.s=-e.s,e))},x.precision=x.sd=function(e){var t,r,n,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(l+e);if(t=w(a)+1,r=7*(n=a.d.length-1)+1,n=a.d[n]){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},x.squareRoot=x.sqrt=function(){var e,t,r,n,a,o,i,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(c+"NaN")}for(e=w(l),s=!1,0==(a=Math.sqrt(+l))||a==1/0?(((t=y(l.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(a.toString()),a=i=(r=u.precision)+3;;)if(n=(o=n).plus(_(l,o,i+2)).times(.5),y(o.d).slice(0,i)===(t=y(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(O(o,r+1,0),o.times(o).eq(l)){n=o;break}}else if("9999"!=t)break;i+=4}return s=!0,O(n,r)},x.times=x.mul=function(e){var t,r,n,a,o,i,c,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,(l=h.length)<(u=m.length)&&(o=h,h=m,m=o,i=l,l=u,u=i),o=[],n=i=l+u;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)c=o[a]+m[n]*h[a-n-1]+t,o[a--]=c%p|0,t=c/p|0;o[a]=(o[a]+t)%p|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,s?O(e,f.precision):e},x.toDecimalPlaces=x.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,o),void 0===t?t=n.rounding:b(t,0,8),O(r,e+w(r)+1,t))},x.toExponential=function(e,t){var r,n=this,a=n.constructor;return void 0===e?r=P(n,!0):(b(e,0,o),void 0===t?t=a.rounding:b(t,0,8),r=P(n=O(new a(n),e+1,t),!0,e+1)),r},x.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?P(a):(b(e,0,o),void 0===t?t=i.rounding:b(t,0,8),r=P((n=O(new i(a),e+w(a)+1,t)).abs(),!1,e+w(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)},x.toInteger=x.toint=function(){var e=this,t=e.constructor;return O(new t(e),w(e)+1,t.rounding)},x.toNumber=function(){return+this},x.toPower=x.pow=function(e){var t,r,n,o,i,l,u=this,f=u.constructor,h=+(e=new f(e));if(!e.s)return new f(a);if(!(u=new f(u)).s){if(e.s<1)throw Error(c+"Infinity");return u}if(u.eq(a))return u;if(n=f.precision,e.eq(a))return O(u,n);if(l=(t=e.e)>=(r=e.d.length-1),i=u.s,l){if((r=h<0?-h:h)<=m){for(o=new f(a),t=Math.ceil(n/7+4),s=!1;r%2&&D((o=o.times(u)).d,t),0!==(r=d(r/2));)D((u=u.times(u)).d,t);return s=!0,e.s<0?new f(a).div(o):O(o,n)}}else if(i<0)throw Error(c+"NaN");return i=i<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,s=!1,o=e.times(C(u,n+12)),s=!0,(o=j(o)).s=i,o},x.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return void 0===e?n=P(a,(r=w(a))<=i.toExpNeg||r>=i.toExpPos):(b(e,1,o),void 0===t?t=i.rounding:b(t,0,8),n=P(a=O(new i(a),e,t),e<=(r=w(a))||r<=i.toExpNeg,e)),n},x.toSignificantDigits=x.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,o),void 0===t?t=r.rounding:b(t,0,8)),O(new r(this),e,t)},x.toString=x.valueOf=x.val=x.toJSON=function(){var e=this,t=w(e),r=e.constructor;return P(e,t<=r.toExpNeg||t>=r.toExpPos)};var _=function(){function e(e,t){var r,n=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+n,e[a]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var a,o;if(r!=n)o=r>n?1:-1;else for(a=o=0;a<r;a++)if(e[a]!=t[a]){o=e[a]>t[a]?1:-1;break}return o}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,a,o,i){var s,l,u,d,f,h,m,g,x,v,b,y,_,j,N,E,C,S,A=n.constructor,P=n.s==a.s?1:-1,D=n.d,I=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(c+"Division by zero");for(l=n.e-a.e,C=I.length,N=D.length,g=(m=new A(P)).d=[],u=0;I[u]==(D[u]||0);)++u;if(I[u]>(D[u]||0)&&--l,(y=null==o?o=A.precision:i?o+(w(n)-w(a))+1:o)<0)return new A(0);if(y=y/7+2|0,u=0,1==C)for(d=0,I=I[0],y++;(u<N||d)&&y--;u++)_=d*p+(D[u]||0),g[u]=_/I|0,d=_%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),D=e(D,d),C=I.length,N=D.length),j=C,v=(x=D.slice(0,C)).length;v<C;)x[v++]=0;(S=I.slice()).unshift(0),E=I[0],I[1]>=p/2&&++E;do{d=0,(s=t(I,x,C,v))<0?(b=x[0],C!=v&&(b=b*p+(x[1]||0)),(d=b/E|0)>1?(d>=p&&(d=p-1),1==(s=t(f=e(I,d),x,h=f.length,v=x.length))&&(d--,r(f,C<h?S:I,h))):(0==d&&(s=d=1),f=I.slice()),(h=f.length)<v&&f.unshift(0),r(x,f,v),-1==s&&(s=t(I,x,C,v=x.length))<1&&(d++,r(x,C<v?S:I,v)),v=x.length):0===s&&(d++,x=[0]),g[u++]=d,s&&x[0]?x[v++]=D[j]||0:(x=[D[j]],v=1)}while((j++<N||void 0!==x[0])&&y--)}return g[0]||g.shift(),m.e=l,O(m,i?o+w(m)+1:o)}}();function j(e,t){var r,n,o,i,c,l=0,d=0,h=e.constructor,p=h.precision;if(w(e)>16)throw Error(u+w(e));if(!e.s)return new h(a);for(null==t?(s=!1,c=p):c=t,i=new h(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(c+=Math.log(f(2,d))/Math.LN10*2+5|0,r=n=o=new h(a),h.precision=c;;){if(n=O(n.times(e),c),r=r.times(++l),y((i=o.plus(_(n,r,c))).d).slice(0,c)===y(o.d).slice(0,c)){for(;d--;)o=O(o.times(o),c);return h.precision=p,null==t?(s=!0,O(o,p)):o}o=i}}function w(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function N(e,t,r){if(t>e.LN10.sd())throw s=!0,r&&(e.precision=r),Error(c+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function E(e){for(var t="";e--;)t+="0";return t}function C(e,t){var r,n,o,i,l,u,d,f,h,p=1,m=e,g=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(c+(m.s?"NaN":"-Infinity"));if(m.eq(a))return new x(0);if(null==t?(s=!1,f=v):f=t,m.eq(10))return null==t&&(s=!0),N(x,f);if(f+=10,x.precision=f,n=(r=y(g)).charAt(0),i=w(m),!(Math.abs(i)<15e14))return d=N(x,f+2,v).times(i+""),m=C(new x(n+"."+r.slice(1)),f-10).plus(d),x.precision=v,null==t?(s=!0,O(m,v)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=y((m=m.times(e)).d)).charAt(0),p++;for(i=w(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1)),u=l=m=_(m.minus(a),m.plus(a),f),h=O(m.times(m),f),o=3;;){if(l=O(l.times(h),f),y((d=u.plus(_(l,new x(o),f))).d).slice(0,f)===y(u.d).slice(0,f))return u=u.times(2),0!==i&&(u=u.plus(N(x,f+2,v).times(i+""))),u=_(u,new x(p),f),x.precision=v,null==t?(s=!0,O(u,v)):u;u=d,o+=2}}function S(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(n,a)){if(a-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=7;n<a;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,r){var n,a,o,i,c,l,h,m,x=e.d;for(i=1,o=x[0];o>=10;o/=10)i++;if((n=t-i)<0)n+=7,a=t,h=x[m=0];else{if((m=Math.ceil((n+1)/7))>=(o=x.length))return e;for(h=o=x[m],i=1;o>=10;o/=10)i++;a=(n%=7)-7+i}if(void 0!==r&&(c=h/(o=f(10,i-a-1))%10|0,l=t<0||void 0!==x[m+1]||h%o,l=r<4?(c||l)&&(0==r||r==(e.s<0?3:2)):c>5||5==c&&(4==r||l||6==r&&(n>0?a>0?h/f(10,i-a):0:x[m-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return l?(o=w(e),x.length=1,t=t-o-1,x[0]=f(10,(7-t%7)%7),e.e=d(-t/7)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(0==n?(x.length=m,o=1,m--):(x.length=m+1,o=f(10,7-n),x[m]=a>0?(h/f(10,i-a)%f(10,a)|0)*o:0),l)for(;;){if(0==m){(x[0]+=o)==p&&(x[0]=1,++e.e);break}if(x[m]+=o,x[m]!=p)break;x[m--]=0,o=1}for(n=x.length;0===x[--n];)x.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+w(e));return e}function A(e,t){var r,n,a,o,i,c,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),s?O(t,m):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),i=u-n){for((d=i<0)?(r=l,i=-i,c=f.length):(r=f,n=u,c=l.length),i>(a=Math.max(Math.ceil(m/7),c)+2)&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for((d=(a=l.length)<(c=f.length))&&(c=a),a=0;a<c;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,a=f.length-c;a>0;--a)l[c++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(o=a;o&&0===l[--o];)l[o]=p-1;--l[o],l[a]+=p}l[a]-=f[a]}for(;0===l[--c];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,s?O(t,m):t):new h(0)}function P(e,t,r){var n,a=w(e),o=y(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+E(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+E(-a-1)+o,r&&(n=r-i)>0&&(o+=E(n))):a>=i?(o+=E(a+1-i),r&&(n=r-a-1)>0&&(o=o+"."+E(n))):((n=a+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(o+="."),o+=E(n))),e.s<0?"-"+o:o}function D(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!=typeof e)throw Error(c+"Object expected");var t,r,n,a=["precision",1,o,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(n=e[r=a[t]])){if(!(d(n)===n&&n>=a[t+1]&&n<=a[t+2]))throw Error(l+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(l+r+": "+n);this[r]=new this(n)}return this}i=function e(t){var r,n,a;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(l+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):S(t,e.toString())}if("string"!=typeof e)throw Error(l+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(l+e);S(t,e)}if(o.prototype=x,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=I,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<a.length;)t.hasOwnProperty(n=a[r++])||(t[n]=this[n]);return o.config(t),o}(i),i.default=i.Decimal=i,a=new i(1),void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},8514:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(5556));var n=s(r(2963)),a=s(r(788)),o=s(r(6540)),i=s(r(495));r(554);function s(e){return e&&e.__esModule?e:{default:e}}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,n.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},d=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onEnter=function(e,r){var n=t.getClassNames(r?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,n),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.getClassNames(r?"appear":"enter").activeClassName;t.reflowAndAddClass(e,n),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,o=r?n+" "+a:a;t.removeClasses(e,r?"appear":"enter"),l(e,o),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,r),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,r),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,r),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,a=n?(n&&r?r+"-":"")+e:r[e];return{className:a,activeClassName:n?a+"-active":r[e+"Active"],doneClassName:n?a+"-done":r[e+"Done"]}},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.removeClasses=function(e,t){var r=this.getClassNames(t),n=r.className,a=r.activeClassName,o=r.doneClassName;n&&u(e,n),a&&u(e,a),o&&u(e,o)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},a.render=function(){var e=c({},this.props);return delete e.classNames,o.default.createElement(i.default,c({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(o.default.Component);d.defaultProps={classNames:""},d.propTypes={};var f=d;t.default=f,e.exports=t.default},8586:(e,t,r)=>{var n=r(6449),a=r(4394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||(i.test(e)||!o.test(e)||null!=t&&e in Object(t))}},8655:(e,t,r)=>{var n=r(6025);e.exports=function(e){return n(this.__data__,e)>-1}},8754:(e,t,r)=>{var n=r(5160);e.exports=function(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&r>=a?e:n(e,t,r)}},8792:(e,t,r)=>{"use strict";var n={};r.r(n),r.d(n,{scaleBand:()=>wd,scaleDiverging:()=>vg,scaleDivergingLog:()=>bg,scaleDivergingPow:()=>_g,scaleDivergingSqrt:()=>jg,scaleDivergingSymlog:()=>yg,scaleIdentity:()=>fh,scaleImplicit:()=>_d,scaleLinear:()=>dh,scaleLog:()=>_h,scaleOrdinal:()=>jd,scalePoint:()=>Ed,scalePow:()=>Ph,scaleQuantile:()=>Vh,scaleQuantize:()=>zh,scaleRadial:()=>Th,scaleSequential:()=>dg,scaleSequentialLog:()=>fg,scaleSequentialPow:()=>pg,scaleSequentialQuantile:()=>gg,scaleSequentialSqrt:()=>mg,scaleSequentialSymlog:()=>hg,scaleSqrt:()=>Dh,scaleSymlog:()=>Eh,scaleThreshold:()=>Kh,scaleTime:()=>sg,scaleUtc:()=>cg,tickFormat:()=>lh});var a=r(961),o=r(6540),i=r(2505),s=r.n(i);const c={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let l;const u=new Uint8Array(16);const d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));function f(e,t=0){return(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase()}function h(e,t,r){const n=(e=e||{}).random??e.rng?.()??function(){if(!l){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");l=crypto.getRandomValues.bind(crypto)}return l(u)}();if(n.length<16)throw new Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return f(n)}const p=function(e,t,r){return!c.randomUUID||t||e?h(e,t,r):c.randomUUID()};var m,g=r(3505);!function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(m||(m={}));var x,v,b=new Map([[m.QR_CODE,"QR_CODE"],[m.AZTEC,"AZTEC"],[m.CODABAR,"CODABAR"],[m.CODE_39,"CODE_39"],[m.CODE_93,"CODE_93"],[m.CODE_128,"CODE_128"],[m.DATA_MATRIX,"DATA_MATRIX"],[m.MAXICODE,"MAXICODE"],[m.ITF,"ITF"],[m.EAN_13,"EAN_13"],[m.EAN_8,"EAN_8"],[m.PDF_417,"PDF_417"],[m.RSS_14,"RSS_14"],[m.RSS_EXPANDED,"RSS_EXPANDED"],[m.UPC_A,"UPC_A"],[m.UPC_E,"UPC_E"],[m.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function y(e){return Object.values(m).includes(e)}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"}(x||(x={})),function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"}(v||(v={}));var _,j=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[v.SCAN_TYPE_CAMERA,v.SCAN_TYPE_FILE],e}(),w=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!b.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,b.get(t))},e}(),N=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();!function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"}(_||(_={}));var E=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:_.UNKWOWN_ERROR}},e}(),C=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||!0===t)&&console.error(e)},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},e}();function S(e){return null==e}var O,A=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),P=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(e){return"Last Match: ".concat(e)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),D=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),I=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!=typeof e){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var n=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),a=0,o=Object.keys(e);a<o.length;a++){var i=o[a];if(n.has(i))return t.logError("".concat(i," is not supported videoConstaints."),!0),!1}return!0},e}(),T=r(9255),M=function(){function e(e,t,r){if(this.formatMap=new Map([[m.QR_CODE,T.BarcodeFormat.QR_CODE],[m.AZTEC,T.BarcodeFormat.AZTEC],[m.CODABAR,T.BarcodeFormat.CODABAR],[m.CODE_39,T.BarcodeFormat.CODE_39],[m.CODE_93,T.BarcodeFormat.CODE_93],[m.CODE_128,T.BarcodeFormat.CODE_128],[m.DATA_MATRIX,T.BarcodeFormat.DATA_MATRIX],[m.MAXICODE,T.BarcodeFormat.MAXICODE],[m.ITF,T.BarcodeFormat.ITF],[m.EAN_13,T.BarcodeFormat.EAN_13],[m.EAN_8,T.BarcodeFormat.EAN_8],[m.PDF_417,T.BarcodeFormat.PDF_417],[m.RSS_14,T.BarcodeFormat.RSS_14],[m.RSS_EXPANDED,T.BarcodeFormat.RSS_EXPANDED],[m.UPC_A,T.BarcodeFormat.UPC_A],[m.UPC_E,T.BarcodeFormat.UPC_E],[m.UPC_EAN_EXTENSION,T.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!T)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var n=this.createZXingFormats(e),a=new Map;a.set(T.DecodeHintType.POSSIBLE_FORMATS,n),a.set(T.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(e){var t=this;return new Promise((function(r,n){try{r(t.decode(e))}catch(e){n(e)}}))},e.prototype.decode=function(e){var t=new T.MultiFormatReader(this.verbose,this.hints),r=new T.HTMLCanvasElementLuminanceSource(e),n=new T.BinaryBitmap(new T.HybridBinarizer(r)),a=t.decode(n);return{text:a.text,format:w.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,r,n){e.set(t,r)})),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var a=n[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),k=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},R=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},B=function(){function e(t,r,n){if(this.formatMap=new Map([[m.QR_CODE,"qr_code"],[m.AZTEC,"aztec"],[m.CODABAR,"codabar"],[m.CODE_39,"code_39"],[m.CODE_93,"code_93"],[m.CODE_128,"code_128"],[m.DATA_MATRIX,"data_matrix"],[m.ITF,"itf"],[m.EAN_13,"ean_13"],[m.EAN_8,"ean_8"],[m.PDF_417,"pdf417"],[m.UPC_A,"upc_a"],[m.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&void 0!==new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return k(this,void 0,void 0,(function(){var t,r;return R(this,(function(n){switch(n.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=n.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(t)).rawValue,format:w.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}}))}))},e.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,n=0,a=e;n<a.length;n++){var o=a[n],i=o.boundingBox.width*o.boundingBox.height;i>r&&(r=i,t=o)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var a=n[r];this.formatMap.has(a)?t.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach((function(t,r,n){e.set(t,r)})),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),L=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},F=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},U=function(){function e(e,t,r,n){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&B.isSupported()?(this.primaryDecoder=new B(e,r,n),this.secondaryDecoder=new M(e,r,n)):this.primaryDecoder=new M(e,r,n)}return e.prototype.decodeAsync=function(e){return L(this,void 0,void 0,(function(){var t;return F(this,(function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}}))}))},e.prototype.decodeRobustlyAsync=function(e){return L(this,void 0,void 0,(function(){var t,r;return F(this,(function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,n.sent()];case 3:if(r=n.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}}))}))},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){e+=r[t]}var n=e/this.executionResults.length;console.log("".concat(n," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),W=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),V=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},z=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},K=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),G=function(e){function t(t,r){return e.call(this,t,r)||this}return W(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(K),q=function(e){function t(t){return e.call(this,"zoom",t)||this}return W(t,e),t}(G),H=function(e){function t(t){return e.call(this,"torch",t)||this}return W(t,e),t}(K),$=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new q(this.track)},e.prototype.torchFeature=function(){return new H(this.track)},e}(),Y=function(){function e(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,n=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,n),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,a){return V(this,void 0,void 0,(function(){var o,i;return z(this,(function(s){switch(s.label){case 0:return o=new e(t,r,a),n.aspectRatio?(i={aspectRatio:n.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(i)]):[3,2];case 1:s.sent(),s.label=2;case 2:return o.setupSurface(),[2,o]}}))}))},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return V(this,void 0,void 0,(function(){return z(this,(function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]}))}))},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise((function(t,r){var n=e.mediaStream.getVideoTracks().length,a=0;e.mediaStream.getVideoTracks().forEach((function(r){e.mediaStream.removeTrack(r),r.stop(),++a>=n&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())}))}))},e.prototype.getCapabilities=function(){return new $(this.getFirstTrackOrFail())},e}(),X=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,r){return V(this,void 0,void 0,(function(){return z(this,(function(n){return[2,Y.create(e,this.mediaStream,t,r)]}))}))},e.create=function(t){return V(this,void 0,void 0,(function(){var r;return z(this,(function(n){switch(n.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return[2,new e(n.sent())]}}))}))},e}(),Q=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},Z=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},J=function(){function e(){}return e.failIfNotSupported=function(){return Q(this,void 0,void 0,(function(){return Z(this,(function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]}))}))},e.prototype.create=function(e){return Q(this,void 0,void 0,(function(){return Z(this,(function(t){return[2,X.create(e)]}))}))},e}(),ee=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},te=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},re=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=A.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=A.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e},e.getCamerasFromMediaDevices=function(){return ee(this,void 0,void 0,(function(){var e,t,r,n,a,o,i;return te(this,(function(s){switch(s.label){case 0:return e=function(e){for(var t=0,r=e.getVideoTracks();t<r.length;t++){var n=r[t];n.enabled=!1,n.stop(),e.removeTrack(n)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=s.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=s.sent(),n=[],a=0,o=r;a<o.length;a++)"videoinput"===(i=o[a]).kind&&n.push({id:i.deviceId,label:i.label});return e(t),[2,n]}}))}))},e.getCamerasFromMediaStreamTrack=function(){return new Promise((function(e,t){MediaStreamTrack.getSources((function(t){for(var r=[],n=0,a=t;n<a.length;n++){var o=a[n];"video"===o.kind&&r.push({id:o.id,label:o.label})}e(r)}))}))},e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"}(O||(O={}));var ne,ae=function(){function e(){this.state=O.NOT_STARTED,this.onGoingTransactionNewState=O.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===O.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=O.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===O.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=O.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==O.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case O.UNKNOWN:throw"Transition from unknown is not allowed";case O.NOT_STARTED:this.failIfNewStateIs(e,[O.PAUSED]);case O.SCANNING:case O.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var r=0,n=t;r<n.length;r++){if(e===n[r])throw"Cannot transition from ".concat(this.state," to ").concat(e)}},e}(),oe=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===O.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==O.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===O.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===O.PAUSED},e}(),ie=function(){function e(){}return e.create=function(){return new oe(new ae)},e}(),se=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return se(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(j),le=function(){function e(e,t){this.logger=t,this.fps=ce.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=ce.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?I.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!S(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),ue=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");var r;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(r=t,this.verbose=!0===r.verbose,r.experimentalFeatures),this.logger=new C(this.verbose),this.qrcode=new U(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ie.create()}return e.prototype.start=function(e,t,r,n){var a,o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";a=n||(this.verbose?this.logger.log:function(){});var i=le.create(t,this.logger);this.clearElement();var s=!1;i.videoConstraints&&(i.isMediaStreamConstraintsValid()?s=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var c=s,l=document.getElementById(this.elementId);l.clientWidth?l.clientWidth:ce.DEFAULT_WIDTH;l.style.position="relative",this.shouldScan=!0,this.element=l;var u=this,d=this.stateManagerProxy.startTransition(O.SCANNING);return new Promise((function(t,n){var s=c?i.videoConstraints:u.createVideoConstraints(e);if(!s)return d.cancel(),void n("videoConstraints should be defined");var l={};c&&!i.aspectRatio||(l.aspectRatio=i.aspectRatio);var f={onRenderSurfaceReady:function(e,t){u.setupUi(e,t,i),u.isScanning=!0,u.foreverScan(i,r,a)}};J.failIfNotSupported().then((function(e){e.create(s).then((function(e){return e.render(o.element,l,f).then((function(e){u.renderedCamera=e,d.execute(),t(null)})).catch((function(e){d.cancel(),n(e)}))})).catch((function(e){d.cancel(),n(A.errorGettingUserMedia(e))}))})).catch((function(e){d.cancel(),n(A.cameraStreamingNotSupported())}))}))},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(O.PAUSED),this.showPausedState(),(S(e)||!0!==e)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(O.SCANNING),e.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume((function(){t()})):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(O.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=this;return this.renderedCamera.close().then((function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),function(){if(e.element){var t=document.getElementById(ce.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}}(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),t.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()}))},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then((function(e){return e.decodedText}))},e.prototype.scanFileV2=function(e,t){var r=this;if(!(e&&e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(S(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise((function(n,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var e=o.width,i=o.height,s=document.getElementById(r.elementId),c=s.clientWidth?s.clientWidth:ce.DEFAULT_WIDTH,l=Math.max(s.clientHeight?s.clientHeight:i,ce.FILE_SCAN_MIN_HEIGHT),u=r.computeCanvasDrawConfig(e,i,c,l);if(t){var d=r.createCanvasElement(c,l,"qr-canvas-visible");d.style.display="inline-block",s.appendChild(d);var f=d.getContext("2d");if(!f)throw"Unable to get 2d context from canvas";f.canvas.width=c,f.canvas.height=l,f.drawImage(o,0,0,e,i,u.x,u.y,u.width,u.height)}var h=ce.FILE_SCAN_HIDDEN_CANVAS_PADDING,p=Math.max(o.width,u.width),m=Math.max(o.height,u.height),g=p+2*h,x=m+2*h,v=r.createCanvasElement(g,x);s.appendChild(v);var b=v.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=g,b.canvas.height=x,b.drawImage(o,0,0,e,i,h,h,p,m);try{r.qrcode.decodeRobustlyAsync(v).then((function(e){n(N.createFromQrcodeResult(e))})).catch(a)}catch(e){a("QR code parse error, error = ".concat(e))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(e)}))},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return re.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(!e)throw"videoConstaints is required argument.";if(!I.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[m.QR_CODE,m.AZTEC,m.CODABAR,m.CODE_39,m.CODE_93,m.CODE_128,m.DATA_MATRIX,m.MAXICODE,m.ITF,m.EAN_13,m.EAN_8,m.PDF_417,m.RSS_14,m.RSS_EXPANDED,m.UPC_A,m.UPC_E,m.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e)return t;if(!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],n=0,a=e.formatsToSupport;n<a.length;n++){var o=a[n];y(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(S(e))return!0;if(!S(e.useBarCodeDetectorIfSupported))return!1!==e.useBarCodeDetectorIfSupported;if(S(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return!!S(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,r){var n=this,a=r.qrbox;this.validateQrboxConfig(a);var o,i=this.toQrdimensions(e,t,a),s=function(e){if(e<ce.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ce.MIN_QR_BOX_SIZE,"px.")};s(i.width),s(i.height),i.width=((o=i.width)>e&&(n.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),o=e),o)},e.prototype.validateQrboxConfig=function(e){if("number"!=typeof e&&"function"!=typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(e,t)}catch(e){throw new Error("qrbox config was passed as a function but it failed with unknown error"+e)}return r},e.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var n=S(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(n);var a=this.toQrdimensions(e,t,n);a.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&a.height<=t,i={x:0,y:0,width:e,height:t},s=o?this.getShadedRegionBounds(e,t,a):i,c=this.createCanvasElement(s.width,s.height),l=c.getContext("2d",{willReadFrequently:!0});l.canvas.width=s.width,l.canvas.height=s.height,this.element.append(c),o&&this.possiblyInsertShadingElement(this.element,e,t,a),this.createScannerPausedUiElement(this.element),this.qrRegion=s,this.context=l,this.canvasElement=c},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=A.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then((function(t){return e(t.text,N.createFromQrcodeResult(t)),r.possiblyUpdateShaders(!0),!0})).catch((function(e){r.possiblyUpdateShaders(!1);var n=A.codeParseError(e);return t(n,E.createFrom(n)),!1}))},e.prototype.foreverScan=function(e,t,r){var n=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,i=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var s=this.qrRegion.width*o,c=this.qrRegion.height*i,l=this.qrRegion.x*o,u=this.qrRegion.y*i;this.context.drawImage(a,l,u,s,c,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){n.foreverScanTimeout=setTimeout((function(){n.foreverScan(e,t,r)}),n.getTimeoutFps(e.fps))};this.scanContext(t,r).then((function(a){a||!0===e.disableFlip?d():(n.context.translate(n.context.canvas.width,0),n.context.scale(-1,1),n.scanContext(t,r).finally((function(){d()})))})).catch((function(e){n.logger.logError("Error happend while scanning context",e),d()}))}},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",r="deviceId",n={user:!0,environment:!0},a="exact",o=function(e){if(e in n)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")},i=Object.keys(e);if(1!==i.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(i.length," keys");var s=Object.keys(e)[0];if(s!==t&&s!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(s!==t){var c=e.deviceId;if("string"==typeof c)return{deviceId:c};if("object"==typeof c){if(a in c)return{deviceId:{exact:c["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof c)}var l=e.facingMode;if("string"==typeof l){if(o(l))return{facingMode:l}}else{if("object"!=typeof l)throw"Invalid type of 'facingMode' = ".concat(typeof l);if(!(a in l))throw"'facingMode' should be string or object with"+" ".concat(a," as key.");if(o(l["".concat(a)]))return{facingMode:{exact:l["".concat(a)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof e)},e.prototype.computeCanvasDrawConfig=function(e,t,r,n){if(e<=r&&t<=n)return{x:(r-e)/2,y:(n-t)/2,width:e,height:t};var a=e,o=t;return e>r&&(t*=r/e,e=r),t>n&&(e*=n/t,t=n),this.logger.log("Image downsampled from "+"".concat(a,"X").concat(o)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,n)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach((function(t){t.style.backgroundColor=e?ce.BORDER_SHADER_MATCH_COLOR:ce.BORDER_SHADER_DEFAULT_COLOR})),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,r){var n=e,a=t,o=document.createElement("canvas");return o.style.width="".concat(n,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=S(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(e,t,r,n){if(!(t-n.width<1||r-n.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(t-n.width)/2,i=(r-n.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(i,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(ce.SHADED_REGION_ELEMENT_ID),t-n.width<11||r-n.height<11)this.hasBorderShaders=!1;else{var s=40;this.insertShaderBorders(a,s,5,-5,null,0,!0),this.insertShaderBorders(a,s,5,-5,null,0,!1),this.insertShaderBorders(a,s,5,null,-5,0,!0),this.insertShaderBorders(a,s,5,null,-5,0,!1),this.insertShaderBorders(a,5,45,-5,null,-5,!0),this.insertShaderBorders(a,5,45,null,-5,-5,!0),this.insertShaderBorders(a,5,45,-5,null,-5,!1),this.insertShaderBorders(a,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}e.append(a)}},e.prototype.insertShaderBorders=function(e,t,r,n,a,o,i){var s=document.createElement("div");s.style.position="absolute",s.style.backgroundColor=ce.BORDER_SHADER_DEFAULT_COLOR,s.style.width="".concat(t,"px"),s.style.height="".concat(r,"px"),null!==n&&(s.style.top="".concat(n,"px")),null!==a&&(s.style.bottom="".concat(a,"px")),i?s.style.left="".concat(o,"px"):s.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(s),e.appendChild(s)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}(),de="data:image/svg+xml;base64,",fe=de+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",he=de+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",pe=de+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",me=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),ge=function(){function e(){this.data=me.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},e.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=me.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),xe=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=D.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var r=document.createElement("br"),n=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(n);var a=document.createElement("a");a.innerText=D.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),ve=function(){function e(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(e){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=pe,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(e){return t.onHoverIn()},this.infoIcon.onmouseout=function(e){return t.onHoverOut()},this.infoIcon.onclick=function(e){return t.onClick()},e.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=pe,this.infoIcon.style.opacity="0.6")},e}(),be=function(){function e(){var e=this;this.infoDiv=new xe,this.infoIcon=new ve((function(){e.infoDiv.show()}),(function(){e.infoDiv.hide()}))}return e.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},e}(),ye=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},_e=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},je=function(){function e(){}return e.hasPermissions=function(){return ye(this,void 0,void 0,(function(){var e,t,r,n;return _e(this,(function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),t=0,r=e;t<r.length;t++)if("videoinput"===(n=r[t]).kind&&n.label)return[2,!0];return[2,!1]}}))}))},e}(),we=function(){function e(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(e){return e===v.SCAN_TYPE_CAMERA},e.isFileScanType=function(e){return e===v.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(e){if(!e||0===e.length)return j.DEFAULT_SUPPORTED_SCAN_TYPE;var t=j.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var r=0,n=e;r<n.length;r++){var a=n[r];if(!j.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},e}(),Ne=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Ee=function(){function e(){}return e.createElement=function(e,t){var r=document.createElement(e);return r.id=t,r.classList.add(Ne.ALL_ELEMENT_CLASS),"button"===e&&r.setAttribute("type","button"),r},e}(),Ce=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))},Se=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Oe=function(){function e(e,t,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Ce(this,void 0,void 0,(function(){var e,t;return Se(this,(function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=r.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}}))}))},e.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?P.torchOffButton():P.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(e,t){var r=e?P.torchOnFailedMessage():P.torchOffFailedMessage();t&&(r+="; Error = "+t),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Ae=function(){function e(e,t){this.onTorchActionFailureCallback=t,this.torchButton=Ee.createElement("button",Ne.TORCH_BUTTON_ID),this.torchController=new Oe(e,this,t)}return e.prototype.render=function(e,t){var r=this;this.torchButton.innerText=P.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var n=this;this.torchButton.addEventListener("click",(function(e){return Ce(r,void 0,void 0,(function(){return Se(this,(function(e){switch(e.label){case 0:return[4,n.torchController.flipState()];case 1:return e.sent(),n.torchController.isTorchEnabled()?(n.torchButton.classList.remove(Ne.TORCH_BUTTON_CLASS_TORCH_OFF),n.torchButton.classList.add(Ne.TORCH_BUTTON_CLASS_TORCH_ON)):(n.torchButton.classList.remove(Ne.TORCH_BUTTON_CLASS_TORCH_ON),n.torchButton.classList.add(Ne.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}}))}))})),e.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(e){this.torchController=new Oe(e,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(e){this.torchButton.innerText=e},e.prototype.reset=function(){this.torchButton.innerText=P.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,a){var o=new e(r,a);return o.render(t,n),o},e}(),Pe=function(){function e(e,t,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",e.appendChild(this.fileBasedScanRegion);var n=document.createElement("label");n.setAttribute("for",this.getFileScanInputId()),n.style.display="inline-block",this.fileBasedScanRegion.appendChild(n),this.fileSelectionButton=Ee.createElement("button",Ne.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",(function(e){n.click()})),n.append(this.fileSelectionButton),this.fileScanInput=Ee.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",n.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",(function(e){if(null!=e&&null!=e.target){var t=e.target;if(!t.files||0!==t.files.length){var n=t.files[0],o=n.name;a.setImageNameToButton(o),r(n)}}}));var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragleave",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("dragover",(function(e){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()})),this.fileBasedScanRegion.addEventListener("drop",(function(e){e.stopPropagation(),e.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var t=e.dataTransfer;if(t){var n=t.files;if(!n||0===n.length)return;for(var i=!1,s=0;s<n.length;++s){var c=n.item(s);if(c){if(c.type.match(/image.*/)){i=!0;var l=c.name;a.setImageNameToButton(l),r(c),o.innerText=P.dragAndDropMessage();break}}}i||(o.innerText=P.dragAndDropMessageOnlyImages())}}))}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=P.dragAndDropMessage(),e.style.fontWeight="400",e},e.prototype.setImageNameToButton=function(e){if(e.length>20){var t=e.substring(0,8),r=e.length,n=e.substring(r-8,r);e="".concat(t,"....").concat(n)}var a=P.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=a},e.prototype.setInitialValueToButton=function(){var e=P.fileSelectionChooseImage()+" - "+P.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){return new e(t,r,n)},e}(),De=function(){function e(e){this.selectElement=Ee.createElement("select",Ne.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return e.prototype.render=function(e){var t=document.createElement("span");t.style.marginRight="10px";var r=this.cameras.length;if(0===r)throw new Error("No cameras found");if(1===r)t.style.display="none";else{var n=P.selectCamera();t.innerText="".concat(n," (").concat(this.cameras.length,")  ")}for(var a=1,o=0,i=this.cameras;o<i.length;o++){var s=i[o],c=s.id,l=null==s.label?c:s.label;l&&""!==l||(l=[P.anonymousCameraPrefix(),a++].join(" "));var u=document.createElement("option");u.value=c,u.innerText=l,this.options.push(u),this.selectElement.appendChild(u)}t.appendChild(this.selectElement),e.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(e){for(var t=0,r=this.options;t<r.length;t++){if(r[t].value===e)return!0}return!1},e.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e}(),Ie=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ee.createElement("input",Ne.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=P.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var n=this;this.rangeInput.addEventListener("input",(function(){return n.onValueChange()})),this.rangeInput.addEventListener("change",(function(){return n.onValueChange()})),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var e=P.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(e,t,r,n){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=n.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e}();!function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"}(ne||(ne={}));var Te=function(){function e(e,t,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=!0===r,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new we(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new C(this.verbose),this.persistedDataManager=new ge,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}return e.prototype.render=function(e,t){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(t,n){if(e)e(t,n);else{if(r.lastMatchFound===t)return;r.lastMatchFound=t,r.setHeaderMessage(P.lastMatch(t),ne.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e,r){t&&t(e,r)};var n,a,o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new ue(this.getScanRegionId(),(n=this.config,a=this.verbose,{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:a}))},e.prototype.pause=function(e){(S(e)||!0!==e)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var e=this,t=function(){var t=document.getElementById(e.elementId);t&&(t.innerHTML="",e.resetBasicLayout(t))};return this.html5Qrcode?new Promise((function(r,n){e.html5Qrcode?e.html5Qrcode.isScanning?e.html5Qrcode.stop().then((function(n){e.html5Qrcode?(e.html5Qrcode.clear(),t(),r()):r()})).catch((function(t){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",t),n(t)})):(e.html5Qrcode.clear(),t(),r()):r()})):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(e){return e?(e.fps||(e.fps=j.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!j.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=j.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=j.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:j.SCAN_DEFAULT_FPS,rememberLastUsedCamera:j.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:j.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var t=document.createElement("div"),r=this.getScanRegionId();t.id=r,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",e.appendChild(t),we.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var n=document.createElement("div"),a=this.getDashboardId();n.id=a,n.style.width="100%",e.appendChild(n),this.setupInitialDashboard(n)},e.prototype.resetBasicLayout=function(e){e.style.border="none"},e.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(e){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",e.appendChild(t),(new be).renderInto(t);var r=document.createElement("div");r.id=this.getHeaderMessageContainerId(),r.style.display="none",r.style.textAlign="center",r.style.fontSize="14px",r.style.padding="2px 10px",r.style.margin="4px",r.style.borderTop="1px solid #f6f6f6",t.appendChild(r)},e.prototype.createSection=function(e){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",e.appendChild(t)},e.prototype.createCameraListUi=function(e,t,r){var n=this;n.showHideScanTypeSwapLink(!1),n.setHeaderMessage(P.cameraPermissionRequesting());var a=function(){r||n.createPermissionButton(e,t)};ue.getCameras().then((function(r){n.persistedDataManager.setHasPermission(!0),n.showHideScanTypeSwapLink(!0),n.resetHeaderMessage(),r&&r.length>0?(e.removeChild(t),n.renderCameraSelection(r)):(n.setHeaderMessage(P.noCameraFound(),ne.STATUS_WARNING),a())})).catch((function(e){n.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),n.setHeaderMessage(e,ne.STATUS_WARNING),n.showHideScanTypeSwapLink(!0)}))},e.prototype.createPermissionButton=function(e,t){var r=this,n=Ee.createElement("button",this.getCameraPermissionButtonId());n.innerText=P.cameraPermissionTitle(),n.addEventListener("click",(function(){n.disabled=!0,r.createCameraListUi(e,t,n)})),t.appendChild(n)},e.prototype.createPermissionsUi=function(e,t){var r=this;we.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?je.hasPermissions().then((function(n){n?r.createCameraListUi(e,t):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t))})).catch((function(n){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,t)})):this.createPermissionButton(e,t)},e.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");e.appendChild(t);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=we.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(r);var n=document.createElement("div");n.style.textAlign="center",r.appendChild(n),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,n),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(e){var t=we.isFileScanType(this.currentScanType),r=this;this.fileSelectionUi=Pe.create(e,t,(function(e){if(!r.html5Qrcode)throw"html5Qrcode not defined";we.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(P.loadingImage()),r.html5Qrcode.scanFileV2(e,!0).then((function(e){r.resetHeaderMessage(),r.qrCodeSuccessCallback(e.decodedText,e)})).catch((function(e){r.setHeaderMessage(e,ne.STATUS_WARNING),r.qrCodeErrorCallback(e,E.createFrom(e))})))}))},e.prototype.renderCameraSelection=function(e){var t=this,r=this,n=document.getElementById(this.getDashboardSectionCameraScanRegionId());n.style.textAlign="center";var a=Ie.create(n,!1),o=De.create(n,e),i=document.createElement("span"),s=Ee.createElement("button",Ne.CAMERA_START_BUTTON_ID);s.innerText=P.scanButtonStartScanningText(),i.appendChild(s);var c,l=Ee.createElement("button",Ne.CAMERA_STOP_BUTTON_ID);l.innerText=P.scanButtonStopScanningText(),l.style.display="none",l.disabled=!0,i.appendChild(l);n.appendChild(i);var u=function(e){e||(s.style.display="none"),s.innerText=P.scanButtonStartScanningText(),s.style.opacity="1",s.disabled=!1,e&&(s.style.display="inline-block")};if(s.addEventListener("click",(function(e){s.innerText=P.scanButtonScanningStarting(),o.disable(),s.disabled=!0,s.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var n,d=o.getValue();r.persistedDataManager.setLastUsedCameraId(d),r.html5Qrcode.start(d,(n=r.config,{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then((function(e){l.disabled=!1,l.style.display="inline-block",u(!1);var n=r.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(e){e.torchFeature().isSupported()?(c?c.updateTorchCapability(e.torchFeature()):c=Ae.create(i,e.torchFeature(),{display:"none",marginLeft:"5px"},(function(e){r.setHeaderMessage(e,ne.STATUS_WARNING)})),c.show()):c&&c.hide()}(n),!0===t.config.showZoomSliderIfSupported&&function(e){var r=e.zoomFeature();if(r.isSupported()){a.setOnCameraZoomValueChangeCallback((function(e){r.apply(e)}));var n=1;t.config.defaultZoomValueIfSupported&&(n=t.config.defaultZoomValueIfSupported),n=function(e,t,r){return e>r?r:e<t?t:e}(n,r.min(),r.max()),a.setValues(r.min(),r.max(),n,r.step()),a.show()}}(n)})).catch((function(e){r.showHideScanTypeSwapLink(!0),o.enable(),u(!0),r.setHeaderMessage(e,ne.STATUS_WARNING)}))})),o.hasSingleItem()&&s.click(),l.addEventListener("click",(function(e){if(!r.html5Qrcode)throw"html5Qrcode not defined";l.disabled=!0,r.html5Qrcode.stop().then((function(e){t.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),o.enable(),s.disabled=!1,l.style.display="none",s.style.display="inline-block",c&&(c.reset(),c.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()})).catch((function(e){l.disabled=!1,r.setHeaderMessage(e,ne.STATUS_WARNING)}))})),r.persistedDataManager.getLastUsedCameraId()){var d=r.persistedDataManager.getLastUsedCameraId();o.hasValue(d)?(o.setValue(d),s.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var e=this,t=P.textIfCameraScanSelected(),r=P.textIfFileScanSelected(),n=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var o=Ee.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=we.isCameraScanType(this.currentScanType)?t:r,o.addEventListener("click",(function(){e.sectionSwapAllowed?(e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,we.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),o.innerText=r,e.currentScanType=v.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),o.innerText=t,e.currentScanType=v.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0):e.verbose&&e.logger.logError("Section swap called when not allowed")})),a.appendChild(o),n.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;this.persistedDataManager.hasCameraPermissions()&&je.hasPermissions().then((function(r){if(r){var n=document.getElementById(t.getCameraPermissionButtonId());if(!n)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";n.click()}else t.persistedDataManager.setHasPermission(!1)})).catch((function(e){t.persistedDataManager.setHasPermission(!1)}))},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(e,t){t||(t=ne.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",t){case ne.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case ne.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case ne.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==e&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=fe,this.cameraScanImage.alt=P.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(r){t.innerHTML="<br>",t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=he,this.fileScanImage.alt=P.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Ne.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Ne.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}(),Me=r(2543),ke=r(9892);const Re=(e,t)=>t.some((t=>e instanceof t));let Be,Le;const Fe=new WeakMap,Ue=new WeakMap,We=new WeakMap;let Ve={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return Fe.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return qe(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ze(e){Ve=e(Ve)}function Ke(e){return(Le||(Le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(He(this),t),qe(this.request)}:function(...t){return qe(e.apply(He(this),t))}}function Ge(e){return"function"==typeof e?Ke(e):(e instanceof IDBTransaction&&function(e){if(Fe.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{t(),n()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)}));Fe.set(e,t)}(e),Re(e,Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ve):e)}function qe(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{t(qe(e.result)),n()},o=()=>{r(e.error),n()};e.addEventListener("success",a),e.addEventListener("error",o)}));return We.set(t,e),t}(e);if(Ue.has(e))return Ue.get(e);const t=Ge(e);return t!==e&&(Ue.set(e,t),We.set(t,e)),t}const He=e=>We.get(e);const $e=["get","getKey","getAll","getAllKeys","count"],Ye=["put","add","delete","clear"],Xe=new Map;function Qe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Xe.get(t))return Xe.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Ye.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!a&&!$e.includes(r))return;const o=async function(e,...t){const o=this.transaction(e,a?"readwrite":"readonly");let i=o.store;return n&&(i=i.index(t.shift())),(await Promise.all([i[r](...t),a&&o.done]))[0]};return Xe.set(t,o),o}ze((e=>({...e,get:(t,r,n)=>Qe(t,r)||e.get(t,r,n),has:(t,r)=>!!Qe(t,r)||e.has(t,r)})));const Ze=["continue","continuePrimaryKey","advance"],Je={},et=new WeakMap,tt=new WeakMap,rt={get(e,t){if(!Ze.includes(t))return e[t];let r=Je[t];return r||(r=Je[t]=function(...e){et.set(this,tt.get(this)[t](...e))}),r}};async function*nt(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;const r=new Proxy(t,rt);for(tt.set(r,t),We.set(r,He(t));t;)yield r,t=await(et.get(r)||t.continue()),et.delete(r)}function at(e,t){return t===Symbol.asyncIterator&&Re(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&Re(e,[IDBIndex,IDBObjectStore])}function ot(){ot=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==it(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(it(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function st(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function ct(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){st(o,n,a,i,s,"next",e)}function s(e){st(o,n,a,i,s,"throw",e)}i(void 0)}))}}ze((e=>({...e,get:(t,r,n)=>at(t,r)?nt:e.get(t,r,n),has:(t,r)=>at(t,r)||e.has(t,r)})));var lt="pedidosFront",ut="pendientes",dt="pendienteDescuentoMetodoPago",ft="metodosPagoAprobadosPorUuid",ht=null;function pt(){return ht||(ht=function(e,t,{blocked:r,upgrade:n,blocking:a,terminated:o}={}){const i=indexedDB.open(e,t),s=qe(i);return n&&i.addEventListener("upgradeneeded",(e=>{n(qe(i.result),e.oldVersion,e.newVersion,qe(i.transaction),e)})),r&&i.addEventListener("blocked",(e=>r(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),a&&e.addEventListener("versionchange",(e=>a(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}("arabitofacturacion",1,{upgrade:function(e){e.objectStoreNames.contains(lt)||e.createObjectStore(lt)}})),ht}function mt(){return gt.apply(this,arguments)}function gt(){return(gt=ct(ot().mark((function e(){var t,r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pt();case 3:return t=e.sent,e.next=6,t.get(lt,ut);case 6:return r=e.sent,e.abrupt("return",r&&"object"===it(r)?r:{});case 10:return e.prev=10,e.t0=e.catch(0),console.warn("pedidosFrontStorage getPedidosFront:",e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function xt(e){return vt.apply(this,arguments)}function vt(){return(vt=ct(ot().mark((function e(t){var r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pt();case 3:return r=e.sent,e.next=6,r.put(lt,t,ut);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("pedidosFrontStorage setPedidosFront:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function bt(){return yt.apply(this,arguments)}function yt(){return(yt=ct(ot().mark((function e(){var t,r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pt();case 3:return t=e.sent,e.next=6,t.get(lt,dt);case 6:return r=e.sent,e.abrupt("return",r&&"object"===it(r)?r:{});case 10:return e.prev=10,e.t0=e.catch(0),console.warn("pedidosFrontStorage getPendienteDescuentoMetodoPago:",e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function _t(){return(_t=ct(ot().mark((function e(t){var r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pt();case 3:return r=e.sent,e.next=6,r.put(lt,t,dt);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("pedidosFrontStorage setPendienteDescuentoMetodoPagoStorage:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function jt(){return wt.apply(this,arguments)}function wt(){return(wt=ct(ot().mark((function e(){var t,r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pt();case 3:return t=e.sent,e.next=6,t.get(lt,ft);case 6:return r=e.sent,e.abrupt("return",r&&"object"===it(r)?r:{});case 10:return e.prev=10,e.t0=e.catch(0),console.warn("pedidosFrontStorage getMetodosPagoAprobadosPorUuid:",e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Nt(e){return Et.apply(this,arguments)}function Et(){return(Et=ct(ot().mark((function e(t){var r;return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pt();case 3:return r=e.sent,e.next=6,r.put(lt,t,ft);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.warn("pedidosFrontStorage setMetodosPagoAprobadosPorUuidStorage:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Ct=r(3496);function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}var Ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[".",".",","];t=t>=0?parseInt(t,0):2,r=r||[".","'",","];var n=(parseFloat(e)||0).toFixed(t);if(n.length<=4+t)return n.replace(".",r[r.length-1]);for(var a=n.split(/[-.]/),o=(e=a[a.length>1?a.length-2:0]).substr(e.length-3,3)+(a.length>1?r[r.length-1]+a[a.length-1]:""),i=e.length-6,s=0;i>-3;)o=(i>0?e.substr(i,3):e.substr(0,3+i))+r[s]+o,s=++s%2,i-=3;return(3==a.length?"-":"")+o},At=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof e?""==e?"":(t&&(e=e.substr(0,t)),e.replace(/[^\d|\.|\-]+/g,"")):"number"==typeof e?e:"Error: Esto no es un nmero. "+St(e)},Pt=r(4848);const Dt=function(e){var t=e.usuarioNombre,r=e.setusuarioNombre,n=e.usuarioUsuario,a=e.setusuarioUsuario,o=e.usuarioRole,i=e.setusuarioRole,s=e.usuarioClave,c=e.setusuarioClave,l=e.usuarioIpPinpad,u=e.setusuarioIpPinpad,d=e.indexSelectUsuarios,f=e.setIndexSelectUsuarios,h=e.qBuscarUsuario,p=e.setQBuscarUsuario,m=e.delUsuario,g=e.usuariosData,x=e.addNewUsuario,v=function(e){var t=e.currentTarget.attributes["data-index"].value;f(t==d?null:t)};return(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("div",{className:"container",children:(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsxs)("h1",{children:["Usuarios ",(0,Pt.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){r(""),a(""),i(""),c(""),u(""),f(null)},children:"Nuevo"})]}),(0,Pt.jsx)("div",{className:"",children:(0,Pt.jsxs)("div",{className:"input-group ",children:[(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:h,onChange:function(e){return p(e.target.value)}}),(0,Pt.jsx)("div",{className:"input-group-prepend",children:(0,Pt.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-search"})})})]})}),g.length?g.map((function(e,t){return(0,Pt.jsxs)("div",{onClick:v,"data-index":t,className:(d==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,Pt.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("small",{children:["ID.",e.id]})}),(0,Pt.jsx)("div",{className:"d-flex justify-content-between",children:(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{children:e.nombre})})})]}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("div",{className:"",children:(0,Pt.jsx)("h5",{className:"card-title",children:(0,Pt.jsx)("b",{children:e.usuario})})}),(0,Pt.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,Pt.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,Pt.jsx)("i",{children:"Sin resultados!"})})]}),(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsxs)("form",{onSubmit:x,children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Nombres"}),(0,Pt.jsx)("input",{type:"text",value:t,onChange:function(e){return r(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Usuario"}),(0,Pt.jsx)("input",{type:"text",value:n,onChange:function(e){return a(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Role"}),(0,Pt.jsxs)("select",{value:o,onChange:function(e){return i(e.target.value)},className:"form-control",children:[(0,Pt.jsx)("option",{value:"",children:"--Seleccione--"}),(0,Pt.jsx)("option",{value:"1",children:"GERENTE"}),(0,Pt.jsx)("option",{value:"4",children:"Cajero Vendedor"}),(0,Pt.jsx)("option",{value:"5",children:"SUPERVISOR DE CAJA"}),(0,Pt.jsx)("option",{value:"6",children:"SUPERADMIN"}),(0,Pt.jsx)("option",{value:"7",children:"DICI"}),(0,Pt.jsx)("option",{value:"8",children:"Pasillero"}),(0,Pt.jsx)("option",{value:"10",children:"Portero (PPR)"})]})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Clave"}),(0,Pt.jsx)("input",{type:"password",value:s,onChange:function(e){return c(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"IP PINPAD"}),(0,Pt.jsx)("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)},placeholder:"Ej: 192.168.0.191:9001",className:"form-control"})]}),(0,Pt.jsx)("div",{className:"form-group mt-1",children:null==d?(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,Pt.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:m,type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]})})]})})]})})})};function It(e){var t=e.addNewCategorias,r=e.categoriasDescripcion,n=e.setcategoriasDescripcion,a=e.indexSelectCategorias,o=e.setIndexSelectCategorias,i=e.qBuscarCategorias,s=e.setQBuscarCategorias,c=e.delCategorias,l=e.categorias,u=function(e){var t=e.currentTarget.attributes["data-index"].value;o(t==a?null:t)};return(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("div",{className:"container",children:(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsxs)("h1",{children:["Categoras ",(0,Pt.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){n(""),o(null)},children:"Nuevo"})]}),(0,Pt.jsx)("div",{className:"",children:(0,Pt.jsxs)("div",{className:"input-group ",children:[(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:i,onChange:function(e){return s(e.target.value)}}),(0,Pt.jsx)("div",{className:"input-group-prepend",children:(0,Pt.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-search"})})})]})}),l.length?l.map((function(e,t){return(0,Pt.jsxs)("div",{onClick:u,"data-index":t,className:(a==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,Pt.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("small",{children:["ID.",e.id]})}),(0,Pt.jsx)("div",{className:"d-flex justify-content-between",children:(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{children:e.descripcion})})})]}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("div",{className:"",children:(0,Pt.jsx)("h5",{className:"card-title",children:(0,Pt.jsx)("b",{children:e.descripcion})})}),(0,Pt.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,Pt.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,Pt.jsx)("i",{children:"Sin resultados!"})})]}),(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsxs)("form",{onSubmit:t,children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Descripcin"}),(0,Pt.jsx)("input",{type:"text",value:r,onChange:function(e){return n(e.target.value)},className:"form-control"})]}),(0,Pt.jsx)("div",{className:"form-group mt-1",children:null==a?(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,Pt.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:c,type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]})})]})})]})})})}function Tt(e){var t=e.subViewConfig,r=e.setsubViewConfig,n=e.addNewUsuario,a=e.usuarioNombre,o=e.setusuarioNombre,i=e.usuarioUsuario,s=e.setusuarioUsuario,c=e.usuarioRole,l=e.setusuarioRole,u=e.usuarioClave,d=e.setusuarioClave,f=e.usuarioIpPinpad,h=e.setusuarioIpPinpad,p=e.indexSelectUsuarios,m=e.setIndexSelectUsuarios,g=e.qBuscarUsuario,x=e.setQBuscarUsuario,v=e.delUsuario,b=e.usuariosData,y=e.addNewCategorias,_=e.categoriasDescripcion,j=e.setcategoriasDescripcion,w=e.indexSelectCategorias,N=e.setIndexSelectCategorias,E=e.qBuscarCategorias,C=e.setQBuscarCategorias,S=e.delCategorias,O=e.categorias;return(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"container",children:(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsx)("div",{className:"col mb-2 d-flex justify-content-between",children:(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn "+("usuarios"==t?"btn-success":"btn-outline-success"),onClick:function(){return r("usuarios")},children:"Usuarios"}),(0,Pt.jsx)("button",{className:"btn "+("categorias"==t?"btn-success":"btn-outline-success"),onClick:function(){return r("categorias")},children:"Categoras"})]})})})}),(0,Pt.jsx)("hr",{}),"usuarios"==t?(0,Pt.jsx)(Dt,{addNewUsuario:n,usuarioNombre:a,setusuarioNombre:o,usuarioUsuario:i,setusuarioUsuario:s,usuarioRole:c,setusuarioRole:l,usuarioClave:u,setusuarioClave:d,usuarioIpPinpad:f,setusuarioIpPinpad:h,indexSelectUsuarios:p,setIndexSelectUsuarios:m,qBuscarUsuario:g,setQBuscarUsuario:x,delUsuario:v,usuariosData:b}):null,"categorias"==t?(0,Pt.jsx)(It,{addNewCategorias:y,categoriasDescripcion:_,setcategoriasDescripcion:j,indexSelectCategorias:w,setIndexSelectCategorias:N,qBuscarCategorias:E,setQBuscarCategorias:C,delCategorias:S,categorias:O}):null]})}function Mt(e){var t=e.children;return(0,Pt.jsx)(Pt.Fragment,{children:t})}r(8195);function kt(e){var t,r=e.pedidosFast,n=e.pedidosFrontPendientesList,a=void 0===n?[]:n,o=e.onClickEditPedido,i=e.pedidoData,s=(e.addNewPedido,e.addNewPedidoFront),c=i.id,l=void 0===c?null:c;return(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"items-center flex-1 hidden min-w-0 gap-2 md:flex",children:[s&&(0,Pt.jsxs)("button",{className:"flex items-center flex-shrink-0 gap-1 px-2 py-1 text-xs font-medium text-blue-700 transition-colors border !border-blue-200 rounded bg-blue-50 hover:bg-blue-100",onClick:function(){return s()},title:"Nuevo pedido (F1)",children:[(0,Pt.jsx)("i",{className:"fa fa-plus"}),(0,Pt.jsx)("span",{children:"Nuevo"})]}),((null==a?void 0:a.length)>0||r&&r.length>0)&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"text-xs font-medium text-gray-600 whitespace-nowrap flex-shrink-0",children:"Pedidos:"}),(0,Pt.jsxs)("div",{className:"flex flex-1 gap-1 overflow-x-auto min-w-0",children:[null==a?void 0:a.map((function(e){return e?(0,Pt.jsxs)("button",{"data-id":e.id,onClick:o,title:"Pedido pendiente ".concat(String(e.id).slice(0,8),"..."),style:{border:"1px solid"},className:"px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 min-w-[2.5rem] border-t-4 border-t-blue-500 ".concat(e.id==l?"bg-blue-500 text-white !border-blue-200 shadow-sm":"bg-blue-50 text-blue-700 !border-blue-200 hover:bg-blue-100"),children:["#",String(e.id).slice(0,8)]},e.id):null})),null==r?void 0:r.map((function(e){return e?(0,Pt.jsxs)("button",{"data-id":e.id,onClick:o,title:"Pedido #".concat(e.id," - ").concat(e.estado?"Completado":"Pendiente"),style:{border:"1px solid"},className:"px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 min-w-[2.5rem] ".concat(e.id==l?e.estado?"bg-green-500 text-white !border-green-200 shadow-sm":"bg-orange-500 text-white !border-orange-200 shadow-sm":e.estado?"bg-green-100 text-green-700 !border-green-300 hover:bg-green-200":"bg-orange-100 text-orange-700 !border-orange-200 hover:bg-orange-200"),children:["#",e.id]},e.id):null}))]})]})]}),(0,Pt.jsxs)("div",{className:"flex items-center flex-1 min-w-0 gap-2 md:hidden",children:[s&&(0,Pt.jsx)("button",{className:"flex-shrink-0 bg-blue-50 hover:bg-blue-100 text-blue-700 border border-blue-500 p-1.5 rounded font-medium text-xs transition-colors",onClick:function(){return s()},title:"Nuevo pedido (F1)",children:(0,Pt.jsx)("i",{className:"fa fa-plus"})}),((null==a?void 0:a.length)>0||r&&r.length>0)&&(0,Pt.jsxs)("div",{className:"relative flex-1",children:[(0,Pt.jsxs)("select",{className:"w-full px-2 py-1 pr-8 text-xs bg-white border border-gray-300 rounded appearance-none focus:ring-1 focus:ring-orange-400 focus:border-orange-400",value:l||"",onChange:function(e){if(e.target.value&&o){var t={currentTarget:{attributes:{"data-id":{value:e.target.value}}}};o(t)}},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccionar pedido..."}),null==a?void 0:a.map((function(e){return e?(0,Pt.jsxs)("option",{value:e.id,children:["#",String(e.id).slice(0,8),"... (pendiente)"]},e.id):null})),null==r?void 0:r.map((function(e){return e?(0,Pt.jsxs)("option",{value:e.id,children:["#",e.id," -"," ",e.estado?"Completado":"Pendiente"]},e.id):null}))]}),(0,Pt.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:(0,Pt.jsx)("i",{className:"text-xs text-gray-400 fa fa-chevron-down"})})]}),l&&(0,Pt.jsx)("div",{className:"flex-shrink-0",children:(0,Pt.jsxs)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat(null!=a&&a.some((function(e){return(null==e?void 0:e.id)==l}))?"bg-blue-100 text-blue-800 border border-blue-300":null!=r&&null!==(t=r.find((function(e){return(null==e?void 0:e.id)==l})))&&void 0!==t&&t.estado?"bg-green-100 text-green-800 border border-green-300":"bg-orange-100 text-orange-800 border border-orange-300"),children:["#",String(l).length>10?String(l).slice(0,8)+"":l]})})]})]})}function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Bt(){Bt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==Rt(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(Rt(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function Lt(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ut(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Wt=function(e){e.updatetasasfromCentral;var t=e.user,r=e.logout,n=(e.getip,e.settoggleClientesBtn),a=e.toggleClientesBtn,i=e.getVentasClick,s=e.dolar,c=e.peso,l=e.view,u=e.setView,d=e.setMoneda,f=(e.getPedidos,e.setViewCaja,e.viewCaja,e.setShowModalMovimientos,e.showModalMovimientos,e.auth),h=(e.isCierre,e.getPermisoCierre),p=e.setsubViewInventario,m=(e.subViewInventario,e.pedidosFast),g=e.pedidosFrontPendientesList,x=void 0===g?[]:g,v=e.onClickEditPedido,b=(e.currentPedidoId,e.addNewPedido),y=e.addNewPedidoFront,_=e.pedidoData,j=Ft((0,o.useState)(!1),2),w=j[0],N=j[1],E=Ft((0,o.useState)(!1),2),C=E[0],S=E[1],O=function(){var e,t=(e=Bt().mark((function e(t){var r;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.currentTarget.attributes["data-type"].value,window.confirm("Est seguro que desea actualizar la tasa?")){e.next=3;break}return e.abrupt("return");case 3:if(window.confirm("Esta accin no se puede deshacer. Desea continuar?")){e.next=5;break}return e.abrupt("return");case 5:if("1"!==r){e.next=15;break}return N(!0),e.prev=7,e.next=10,d(t);case 10:return e.prev=10,N(!1),e.finish(10);case 13:e.next=16;break;case 15:d(t);case 16:case"end":return e.stop()}}),e,null,[[7,,10,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Lt(o,n,a,i,s,"next",e)}function s(e){Lt(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,Pt.jsxs)(Pt.Fragment,{children:[C&&(0,Pt.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50",onClick:function(){return S(!1)}}),(0,Pt.jsxs)("div",{className:"fixed left-0 top-0 h-full w-full z-[2040] sm:w-72 bg-white shadow-lg transform transition-transform duration-300 ease-in-out ".concat(C?"translate-x-0":"-translate-x-full"),children:[(0,Pt.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("img",{src:"/images/logo.png?b708d78cd7782c7d9b5f9c1327bb7dfb",alt:"Sinapsis",className:"w-auto h-6"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h1",{className:"text-sm font-bold text-gray-800",children:t.sucursal}),(0,Pt.jsx)("p",{className:"text-xs text-gray-600",children:t.nombre})]})]}),(0,Pt.jsx)("button",{className:"sm:p-1  !p-3 text-gray-600 rounded hover:bg-gray-100",onClick:function(){return S(!1)},children:(0,Pt.jsx)("i",{className:"text-base text-black sm:text-sm fa fa-times"})})]})}),(0,Pt.jsx)("div",{className:"h-full p-3 overflow-y-auto",children:(0,Pt.jsxs)("nav",{className:"space-y-1",children:[8==t.tipo_usuario?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("tcd-pasillero"===l?"bg-green-100 text-green-800 border-l-4 border-green-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){window.open("/warehouse-inventory/tcd/pasillero","_blank")},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-warehouse"}),"TCD Pasillero"]}),(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("tcr-pasillero"===l?"bg-green-100 text-green-800 border-l-4 border-green-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){window.open("/warehouse-inventory/tcr/pasillero","_blank")},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-warehouse"}),"TCR Pasillero"]})]}):7==t.tipo_usuario?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("inventario"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("inventario"),p("inventario"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-boxes"}),"Inventario"]}),(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("pedidosCentral"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("pedidosCentral"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-truck"}),"Recibir de Sucursal"]}),(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("garantias"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("garantias"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-shield-alt"}),"Garantas"]}),(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("inventario-ciclico"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("inventario-ciclico"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-clipboard-list"}),"Inventario Cclico"]}),"galponvalencia1"===t.sucursal&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("warehouse-inventory"===l?"bg-green-100 text-green-800 border-l-4 border-green-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){window.open("/warehouse-inventory","_blank")},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-warehouse"}),"Gestin de Almacn"]}),(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("warehouse-inventory"===l?"bg-green-100 text-green-800 border-l-4 border-green-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){window.open("/warehouse-inventory/tcd/pasillero","_blank")},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-warehouse"}),"TCD Pasillero"]}),(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("warehouse-inventory"===l?"bg-green-100 text-green-800 border-l-4 border-green-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){window.open("/warehouse-inventory/tcr/pasillero","_blank")},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-warehouse"}),"TCR Pasillero"]})]})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[f(1)&&(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("ventas"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("ventas"),i(),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-chart-line"}),"Ventas"]}),f(3)&&(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3  py-2 rounded text-sm font-medium transition-colors text-left ".concat("pedidos"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("pedidos"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-calculator"}),"Pedidos"]}),f(3)&&(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("presupuestos"===l?"bg-blue-100 text-blue-800 border-l-4 border-blue-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("presupuestos"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-file-alt"}),"Presupuestos"]}),f(2)&&(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsxs)("button",{className:"w-full flex items-center justify-between px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat(a?"bg-orange-100 text-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){return n(!a)},children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-users"}),"Clientes"]}),(0,Pt.jsx)("i",{className:"fa fa-chevron-".concat(a?"up":"down"," text-xs")})]}),a&&(0,Pt.jsxs)("div",{className:"ml-6 space-y-1",children:[(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-1.5 rounded text-sm font-medium transition-colors text-left ".concat("credito"===l?"bg-orange-50 text-orange-800":"text-gray-600 hover:bg-gray-50"),onClick:function(){u("credito"),n(!1),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-credit-card"}),"Cuentas por cobrar"]}),(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-1.5 rounded text-sm font-medium transition-colors text-left ".concat("clientes_crud"===l?"bg-orange-50 text-orange-800":"text-gray-600 hover:bg-gray-50"),onClick:function(){u("clientes_crud"),n(!1),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-user-cog"}),"Administrar Clientes"]})]})]}),(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("cierres"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){f(1)?u("cierres"):h(),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-lock"}),"Cierre"]}),(f("super")||1==t.tipo_usuario)&&(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("historialVentasCierre"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("historialVentasCierre"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-history"}),"Historial ventas por cierre"]}),f(1)&&(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("inventario"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("inventario"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-cogs"}),"Administracin"]}),f(1)&&t.iscentral&&(0,Pt.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded text-sm font-medium transition-colors text-left ".concat("pedidosCentral"===l?"bg-orange-100 text-orange-800 border-l-4 border-orange-800":"text-gray-700 hover:bg-gray-100"),onClick:function(){u("pedidosCentral"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-truck"}),"Recibir de Sucursal"]}),(0,Pt.jsx)("div",{className:"my-3 border-t border-gray-200"}),(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsx)("h3",{className:"px-3 text-xs font-semibold tracking-wide text-gray-500 uppercase",children:"Tasas"}),(0,Pt.jsxs)("button",{className:"flex items-center w-full px-3 py-2 text-sm font-medium text-left text-gray-700 transition-colors rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",onClick:O,"data-type":"1",disabled:w,children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-dollar-sign"}),w?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"w-3 h-3 mr-2 border-2 border-orange-600 rounded-full animate-spin border-t-transparent"}),"Actualizando USD..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:["USD ",s]})]}),(0,Pt.jsxs)("button",{className:"flex items-center w-full px-3 py-2 text-sm font-medium text-left text-gray-700 transition-colors rounded hover:bg-gray-100",onClick:O,"data-type":"2",children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-coins"}),"COP ",parseFloat(c).toFixed(2)]})]})]}),(0,Pt.jsx)("div",{className:"my-3 border-t border-gray-200"}),(0,Pt.jsxs)("div",{className:"space-y-1",children:[7!=t.tipo_usuario&&8!=t.tipo_usuario&&("admin"==t.usuario||"ao"==t.usuario)&&(0,Pt.jsxs)("button",{className:"flex items-center w-full px-3 py-2 text-sm font-medium text-left text-gray-700 transition-colors rounded hover:bg-gray-100",onClick:function(){u("configuracion"),S(!1)},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-cogs"}),"Configuracin"]}),(0,Pt.jsxs)("button",{className:"flex items-center w-full px-3 py-2 text-sm font-medium text-left text-red-600 transition-colors rounded hover:bg-red-50",onClick:function(){console.log("Botn logout clickeado"),r()},children:[(0,Pt.jsx)("i",{className:"w-4 mr-2 fa fa-sign-out-alt"}),"Cerrar Sesin"]})]})]})})]}),(0,Pt.jsx)("header",{className:"fixed top-0 left-0 right-0 z-40 w-full bg-white border-b border-orange-200",children:(0,Pt.jsx)("div",{className:"px-3 py-2",children:(0,Pt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pt.jsx)("button",{className:"sm:p-1.5 p-[10px] text-gray-600 hover:bg-gray-100 rounded",onClick:function(){return S(!0)},children:(0,Pt.jsx)("i",{className:"fa fa-bars"})}),(0,Pt.jsx)("div",{className:"hidden sm:block",children:(0,Pt.jsx)("span",{className:"text-sm font-bold text-gray-800",children:t.sucursal})})]}),(0,Pt.jsx)("div",{className:"flex-1 min-w-0",children:(0,Pt.jsx)(kt,{addNewPedido:b,addNewPedidoFront:y,pedidosFast:m,pedidosFrontPendientesList:x,onClickEditPedido:v,pedidoData:_})}),(0,Pt.jsx)("div",{className:"hidden w-px h-5 bg-gray-300 md:block"}),(0,Pt.jsxs)("div",{className:"items-center hidden gap-2 md:flex",children:[(0,Pt.jsxs)("button",{className:"px-2 py-1 !border-orange-200 rounded text-xs font-medium transition-colors ".concat("pedidos"===l?"bg-orange-100 text-orange-800 border border-orange-800":"bg-orange-50 hover:bg-orange-100 text-orange-700 border border-orange-200"),onClick:function(){return u("pedidos")},title:"Ver pedidos",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-calculator"}),(0,Pt.jsx)("span",{className:"hidden lg:inline",children:"Pedidos"})]}),(0,Pt.jsx)("button",{className:"px-2 py-1 text-xs !border-orange-200 font-medium text-orange-700 transition-colors border  rounded bg-orange-50 hover:bg-orange-100 disabled:opacity-50",onClick:O,"data-type":"1",disabled:w,children:w?(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("span",{className:"",children:"Cargando..."})}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-dollar-sign"}),(0,Pt.jsx)("span",{className:"hidden lg:inline",children:s}),(0,Pt.jsx)("span",{className:"lg:hidden",children:parseFloat(s).toFixed(0)})]})}),"elorza"==t.sucursal&&(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium text-orange-700 transition-colors border !border-orange-200 rounded bg-orange-50 hover:bg-orange-100",onClick:O,"data-type":"2",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-coins"}),(0,Pt.jsx)("span",{className:"hidden lg:inline",children:parseFloat(c).toFixed(2)}),(0,Pt.jsx)("span",{className:"lg:hidden",children:parseFloat(c).toFixed(0)})]})]})]})})})]})};function Vt(e){var t=e.x,r=e.y,n=e.setmodalmovilshow,a=(e.modalmovilshow,e.getProductos),i=e.productos,s=e.linkproductocentralsucursal,c=e.inputbuscarcentralforvincular,l=e.modalmovilRef,u=e.margin,d=void 0===u?42:u;return(0,o.useEffect)((function(){var e;(c&&c.current&&c.current.focus(),l)&&(l.current&&(null===(e=l.current)||void 0===e||e.scrollIntoView({block:"nearest",behavior:"smooth"})))}),[r]),(0,Pt.jsxs)("div",{className:"modalmovil",style:{top:r+d,left:t},ref:l,onMouseLeave:function(){return n(!1)},children:[(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar en Local...",ref:c,onChange:function(e){return a(e.target.value,!0)}}),(0,Pt.jsx)("div",{className:"input-group-prepend",children:(0,Pt.jsx)("span",{className:"input-group-text",children:"Productos Local"})})]}),(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{}),(0,Pt.jsx)("th",{children:"C. Alterno"}),(0,Pt.jsx)("th",{children:"C. Barras"}),(0,Pt.jsx)("th",{children:"Unidad"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{children:"Base"}),(0,Pt.jsx)("th",{children:"Venta"}),(0,Pt.jsx)("th",{children:"Categora/Proveedor"})]})}),(0,Pt.jsx)("tbody",{children:i.length?i.map((function(e){return(0,Pt.jsxs)("tr",{"data-id":e.id,className:"pointer align-middle",children:[(0,Pt.jsxs)("td",{children:[" ",(0,Pt.jsxs)("button",{className:"btn btn-outline-success",onClick:function(){return s(e.id)},children:[(0,Pt.jsx)("i",{className:"fa fa-link fa-2x"})," ",(0,Pt.jsx)("br",{})," #",e.id]})]}),(0,Pt.jsx)("td",{children:e.codigo_proveedor}),(0,Pt.jsx)("td",{children:e.codigo_barras}),(0,Pt.jsx)("td",{children:e.unidad}),(0,Pt.jsx)("td",{children:e.descripcion}),(0,Pt.jsx)("td",{children:e.precio_base}),(0,Pt.jsx)("td",{className:"text-success",children:e.precio}),(0,Pt.jsxs)("td",{children:[e.id_categoria,"/",e.id_proveedor]})]},e.id)})):null})]})]})}function zt(e){var t=e.modalmovilRef,r=e.idselectproductoinsucursalforvicular,n=e.guardarDeSucursalEnCentral,a=e.getSucursales,o=e.sucursalesCentral,i=e.setselectSucursalCentral,s=e.selectSucursalCentral,c=e.getInventarioSucursalFromCentral,l=e.setInventarioSucursalFromCentral,u=e.inventarioSucursalFromCentral,d=e.categorias,f=e.proveedoresList,h=e.changeInventarioFromSucursalCentral,p=(e.setCambiosInventarioSucursal,e.number),m=e.subviewpanelcentroacopio,g=e.setsubviewpanelcentroacopio,x=(e.fallaspanelcentroacopio,e.estadisticaspanelcentroacopio,e.gastospanelcentroacopio,e.cierrespanelcentroacopio,e.diadeventapanelcentroacopio,e.tasaventapanelcentroacopio),v=e.setchangetasasucursal,b=e.parametrosConsultaFromsucursalToCentral,y=(e.setparametrosConsultaFromsucursalToCentral,e.onchangeparametrosConsultaFromsucursalToCentral),_=e.getTareasCentral,j=e.tareasCentral,w=e.openVincularSucursalwithCentral,N=e.modalmovilx,E=e.modalmovily,C=e.modalmovilshow,S=e.setmodalmovilshow,O=e.getProductos,A=e.productos,P=e.linkproductocentralsucursal,D=e.inputbuscarcentralforvincular,I=e.puedoconsultarproductosinsucursalfromcentral,T=e.uniqueproductofastshowbyid,M=e.getUniqueProductoById,k=e.showdatafastproductobyid,R=e.setshowdatafastproductobyid,B=e.estadisticasinventarioSucursalFromCentral,L=e.autovincularSucursalCentral,F=e.datainventarioSucursalFromCentralcopy,U=(e.setdatainventarioSucursalFromCentralcopy,function(e){return!e||"delete"===e});return(0,Pt.jsxs)("div",{className:"container-fluid",children:[C?(0,Pt.jsx)(Vt,{modalmovilRef:t,x:N,y:E,setmodalmovilshow:S,modalmovilshow:C,getProductos:O,productos:A,linkproductocentralsucursal:P,inputbuscarcentralforvincular:D}):null,k?(0,Pt.jsxs)("div",{className:"modalmovil-sm",style:{top:E+15,left:N},onMouseLeave:function(){return R(!1)},onClick:function(){return R(!1)},children:[(0,Pt.jsx)("h5",{children:"Producto de Centro de acopio"}),(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"ID"}),(0,Pt.jsx)("th",{children:"C. Alterno"}),(0,Pt.jsx)("th",{children:"C. Barras"}),(0,Pt.jsx)("th",{children:"Unidad"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{children:"Base"}),(0,Pt.jsx)("th",{children:"Venta"}),(0,Pt.jsx)("th",{children:"Categora/Proveedor"})]})}),(0,Pt.jsx)("tbody",{children:(0,Pt.jsxs)("tr",{className:"pointer align-middle",children:[(0,Pt.jsx)("td",{children:T.id?T.id:null}),(0,Pt.jsx)("td",{children:T.codigo_proveedor?T.codigo_proveedor:null}),(0,Pt.jsx)("td",{children:T.codigo_barras?T.codigo_barras:null}),(0,Pt.jsx)("td",{children:T.unidad?T.unidad:null}),(0,Pt.jsx)("td",{children:T.descripcion?T.descripcion:null}),(0,Pt.jsx)("td",{children:T.precio_base?T.precio_base:null}),(0,Pt.jsx)("td",{className:"text-success",children:T.precio?T.precio:null}),(0,Pt.jsxs)("td",{children:[T.id_categoria?T.id_categoria:null,"/",T.id_proveedor?T.id_proveedor:null]})]})})]})]}):null,(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-1",children:[(0,Pt.jsxs)("h6",{children:["Cola de tareas"," ",(0,Pt.jsxs)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return _([0,1])},children:[" ",(0,Pt.jsx)("i",{className:"fa fa-search"})," "]})]}),(0,Pt.jsx)("table",{className:"table",children:(0,Pt.jsx)("tbody",{children:j.length?j.map((function(e,t){return e?(0,Pt.jsxs)("tr",{className:(1==e.estado?"bg-success-light":"bg-light")+" text-secondary card mt-2 pointer",children:[(0,Pt.jsx)("td",{children:e.id}),(0,Pt.jsx)("td",{children:e.sucursal.codigo}),(0,Pt.jsx)("td",{children:e.created_at}),(0,Pt.jsxs)("td",{children:[1==e.tipo?"MODIFICAR":null,2==e.tipo?"ELIMINAR DUPLICADOS":null]}),(0,Pt.jsxs)("td",{children:[e.antesproducto?(0,Pt.jsx)("table",{className:"table",children:(0,Pt.jsx)("tbody",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsxs)("td",{children:[(0,Pt.jsx)("b",{children:"CB:"})," ",e.prodantesproducto.codigo_barras," ",(0,Pt.jsx)("br",{}),(0,Pt.jsx)("b",{children:"CA:"})," ",e.prodantesproducto.codigo_alterno]}),(0,Pt.jsx)("td",{children:e.prodantesproducto.descripcion}),(0,Pt.jsx)("td",{children:e.prodantesproducto.cantidad})]})})}):null,e.id_producto_verde?e.id_producto_verde:null]}),(0,Pt.jsxs)("td",{children:[e.id_producto_rojo?e.id_producto_rojo:null,e.cambiarproducto?(0,Pt.jsx)("table",{className:"table",children:(0,Pt.jsx)("tbody",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsxs)("td",{children:[(0,Pt.jsx)("b",{children:"CB:"})," ",e.prodcambiarproducto.codigo_barras," ",(0,Pt.jsx)("br",{}),(0,Pt.jsx)("b",{children:"CA:"})," ",e.prodcambiarproducto.codigo_alterno]}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.descripcion}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.cantidad})]})})}):null]}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("button",{className:"btn btn-"+(0==qTareaPendienteEstado?"sinapsis":"success"),children:0==qTareaPendienteEstado?(0,Pt.jsx)("i",{className:"fa fa-clock-o"}):(0,Pt.jsx)("i",{className:"fa fa-check"})})})]},e.id):null})):null})})]}),(0,Pt.jsxs)("div",{className:"col-2",children:[(0,Pt.jsx)("button",{className:"btn btn-outline-success w-100 mb-1",onClick:a,children:"Buscar Sucursales"}),(0,Pt.jsx)("ul",{className:"list-group",children:o&&o.length?o.map((function(e){return(0,Pt.jsxs)("li",{onClick:function(){return i(e.codigo)},className:(e.codigo==s?"active":null)+" list-group-item pointer",children:[e.codigo," - ",e.nombre]},e.id)})):null})]}),(0,Pt.jsx)("div",{className:"col",children:null!==s?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("inventarioSucursalFromCentral")},children:"Inventario"}),(0,Pt.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("fallaspanelcentroacopio")},children:"Fallas"}),(0,Pt.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("estadisticaspanelcentroacopio")},children:"Estadsticas"}),(0,Pt.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("gastospanelcentroacopio")},children:"Gastos"}),(0,Pt.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("cierrespanelcentroacopio")},children:"Cierres"}),(0,Pt.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("diadeventapanelcentroacopio")},children:"Da de Venta"}),(0,Pt.jsx)("button",{className:"btn btn-outline-success mb-1",onClick:function(){return g("tasaventapanelcentroacopio")},children:"Tasa de Venta"})]}),"inventarioSucursalFromCentral"==m?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("h1",{children:"Inventario"}),(0,Pt.jsx)("div",{className:"input-group mb-3",children:I()?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return l("inventarioSucursalFromCentral")},children:"Recibir"}),(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",name:"qinventario",value:b.qinventario?b.qinventario:"",onChange:y}),(0,Pt.jsxs)("select",{className:"form-control",name:"numinventario",value:b.numinventario?b.numinventario:"",onChange:y,children:[(0,Pt.jsx)("option",{value:"25",children:"25"}),(0,Pt.jsx)("option",{value:"50",children:"50"}),(0,Pt.jsx)("option",{value:"100",children:"100"}),(0,Pt.jsx)("option",{value:"500",children:"500"})]}),(0,Pt.jsxs)("select",{className:"form-control",name:"novinculados",value:b.novinculados?b.novinculados:"",onChange:y,children:[(0,Pt.jsx)("option",{value:"todos",children:"Todos"}),(0,Pt.jsx)("option",{value:"novinculados",children:"No vinculados"}),(0,Pt.jsx)("option",{value:"sivinculados",children:"vinculados"}),(0,Pt.jsx)("option",{value:"pedido",children:"Pedido"})]}),(0,Pt.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return c("inventarioSucursalFromCentral")},children:"Consultar"})]}):(0,Pt.jsx)("button",{className:"btn bg-danger-light",onClick:function(){return c("inventarioSucursalFromCentralmodify")},children:"Guardar/Editar Cambios"})}),(0,Pt.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col",children:["Productos vinculados con central"," ",B?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"h5",children:B.vinculados?B.vinculados:null})," ","/"," ",(0,Pt.jsx)("span",{className:"h5",children:B.items_inventario?B.items_inventario:null})," ","consultados"," ",(0,Pt.jsx)("span",{className:"h5",children:B.items_inventario_recuperados?B.items_inventario_recuperados:null})]}):null]}),(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn bg-secondary-light ",children:"Consultado"}),(0,Pt.jsx)("button",{className:"btn bg-danger-light ",children:"Preparado"}),(0,Pt.jsx)("button",{className:"btn bg-warning-light ",children:"Cargado"}),(0,Pt.jsx)("button",{className:"btn bg-success-light ",children:"Procesado"})]})})]}),(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsxs)("th",{className:"cell05 pointer",children:[(0,Pt.jsx)("span",{children:"ID VINCULACIN"}),(0,Pt.jsx)("br",{}),(0,Pt.jsx)("span",{children:"CENTRAL"})," ",(0,Pt.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){return L()},children:"Auto vincular(codigoBarras)"})]}),(0,Pt.jsx)("th",{className:"cell1 pointer",children:(0,Pt.jsx)("span",{children:"C. Alterno"})}),(0,Pt.jsx)("th",{className:"cell1 pointer",children:(0,Pt.jsx)("span",{children:"C. Barras"})}),(0,Pt.jsx)("th",{className:"cell05 pointer",children:(0,Pt.jsx)("span",{children:"Unidad"})}),(0,Pt.jsx)("th",{className:"cell2 pointer",children:(0,Pt.jsx)("span",{children:"Descripcin"})}),(0,Pt.jsx)("th",{className:"cell05 pointer",children:(0,Pt.jsx)("span",{children:"Ct."})}),(0,Pt.jsx)("th",{className:"cell1 pointer",children:(0,Pt.jsx)("span",{children:"Base"})}),(0,Pt.jsx)("th",{className:"cell15 pointer",children:(0,Pt.jsx)("span",{children:"Venta "})}),(0,Pt.jsxs)("th",{className:"cell15 pointer",children:[(0,Pt.jsx)("span",{children:"Categora"}),(0,Pt.jsx)("br",{}),(0,Pt.jsx)("span",{children:"Preveedor"})]}),(0,Pt.jsx)("th",{className:"cell05 pointer",children:(0,Pt.jsx)("span",{children:"IVA"})}),(0,Pt.jsx)("th",{className:"cell1",children:(0,Pt.jsx)("button",{className:"btn btn-success",onClick:function(){return h(null,null,null,"add")},children:(0,Pt.jsx)("i",{className:"fa fa-plus"})})})]})}),(0,Pt.jsx)("tbody",{children:u?u.length?u.map((function(e,t){return(0,Pt.jsxs)("tr",{className:(0==e.estatus?"bg-secondary-light":1==e.estatus?"bg-danger-light":2==e.estatus?"bg-warning-light":3==e.estatus?"bg-success-light":"")+" pointer",onDoubleClick:function(){return h(null,t,e.id,"update")},children:[U(e.type)?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{className:"cell05",children:e.id_vinculacion?(0,Pt.jsxs)("button",{className:"btn btn-outline-success",onClick:function(r){return w(r,{id:e.id?e.id:null,index:t})},children:["#",e.id_vinculacion]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("button",{className:(r.index==t?"btn-warning":"btn-outline-danger")+" btn fs-10px",onClick:function(r){return w(r,{id:e.id?e.id:null,index:t})},children:"No vinculado"}),(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-sm fs-10px",onClick:function(){return n(t,e.id?e.id:null)},children:(0,Pt.jsx)("i",{className:"fa fa-save"})})]})}),(0,Pt.jsxs)("td",{className:"cell1",children:["#",e.id,"/",e.codigo_proveedor]}),(0,Pt.jsx)("td",{className:"cell1",children:e.codigo_barras}),(0,Pt.jsx)("td",{className:"cell05",children:e.unidad}),(0,Pt.jsx)("td",{className:"cell2",children:e.descripcion}),(0,Pt.jsx)("th",{className:"cell05",children:e.cantidad}),(0,Pt.jsx)("td",{className:"cell1",children:e.precio_base}),(0,Pt.jsx)("td",{className:"cell15 text-success",children:e.precio}),(0,Pt.jsxs)("td",{className:"cell15",children:[e.id_categoria," ",(0,Pt.jsx)("br",{})," ",e.id_proveedor]}),(0,Pt.jsx)("td",{className:"cell05",children:e.iva})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{className:"cell1",children:e.id_vinculacion?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("button",{className:"btn btn-outline-success",onClick:function(r){return w(r,{id:e.id?e.id:null,index:t})},children:["#",e.id_vinculacion]}),(0,Pt.jsx)("i",{className:"fa fa-eye text-success pointer m-3",onClick:function(t){return M(t,e.id_vinculacion)}})]}):(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("button",{className:"btn btn-outline-danger",onClick:function(r){return w(r,{id:e.id?e.id:null,index:t})},children:"No vinculado"})})}),(0,Pt.jsxs)("td",{className:"cell1",children:[F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].codigo_proveedor}):null,(0,Pt.jsx)("br",{}),(0,Pt.jsx)("input",{type:"text",disabled:U(e.type),className:"form-control form-control-sm",value:e.codigo_proveedor?e.codigo_proveedor:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","codigo_proveedor")},placeholder:"codigo_proveedor..."})]}),(0,Pt.jsxs)("td",{className:"cell1",children:[F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].codigo_barras}):null,(0,Pt.jsx)("br",{}),(0,Pt.jsx)("input",{type:"text",required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.codigo_barras?null:"invalid"),value:e.codigo_barras?e.codigo_barras:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","codigo_barras")},placeholder:"codigo_barras..."})]}),(0,Pt.jsxs)("td",{className:"cell05",children:[F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].unidad}):null,(0,Pt.jsx)("br",{}),(0,Pt.jsxs)("select",{disabled:U(e.type),className:"form-control form-control-sm "+(e.unidad?null:"invalid"),value:e.unidad?e.unidad:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","unidad")},children:[(0,Pt.jsx)("option",{value:"",children:"--Select--"}),(0,Pt.jsx)("option",{value:"UND",children:"UND"}),(0,Pt.jsx)("option",{value:"PAR",children:"PAR"}),(0,Pt.jsx)("option",{value:"JUEGO",children:"JUEGO"}),(0,Pt.jsx)("option",{value:"PQT",children:"PQT"}),(0,Pt.jsx)("option",{value:"MTR",children:"MTR"}),(0,Pt.jsx)("option",{value:"KG",children:"KG"}),(0,Pt.jsx)("option",{value:"GRS",children:"GRS"}),(0,Pt.jsx)("option",{value:"LTR",children:"LTR"}),(0,Pt.jsx)("option",{value:"ML",children:"ML"})]})]}),(0,Pt.jsxs)("td",{className:"cell2",children:[F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].descripcion}):null,(0,Pt.jsx)("br",{}),(0,Pt.jsx)("textarea",{type:"text",required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.descripcion?null:"invalid"),value:e.descripcion?e.descripcion:"",onChange:function(e){return h(e.target.value.replace("\n",""),t,e.id,"changeInput","descripcion")},placeholder:"descripcion..."})]}),(0,Pt.jsxs)("td",{className:"cell05",children:[F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].cantidad}):null,(0,Pt.jsx)("br",{}),(0,Pt.jsx)("input",{type:"text",required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.cantidad?null:"invalid"),value:e.cantidad?e.cantidad:"",onChange:function(e){return h(p(e.target.value),t,e.id,"changeInput","cantidad")},placeholder:"cantidad..."})]}),(0,Pt.jsxs)("td",{className:"cell1",children:[F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].precio_base}):null,(0,Pt.jsx)("br",{}),(0,Pt.jsx)("input",{type:"text",disabled:U(e.type),className:"form-control form-control-sm "+(e.precio_base?null:"invalid"),value:e.precio_base?e.precio_base:"",onChange:function(e){return h(p(e.target.value),t,e.id,"changeInput","precio_base")},placeholder:"Base..."})]}),(0,Pt.jsxs)("td",{className:"cell15",children:[F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].precio}):null,(0,Pt.jsx)("br",{}),(0,Pt.jsx)("div",{className:"input-group",children:(0,Pt.jsx)("input",{type:"text",required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.precio?null:"invalid"),value:e.precio?e.precio:"",onChange:function(e){return h(p(e.target.value),t,e.id,"changeInput","precio")},placeholder:"Venta..."})})]}),(0,Pt.jsxs)("td",{className:"cell15",children:[F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].id_categoria}):null," /",F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].id_proveedor}):null,(0,Pt.jsx)("br",{}),(0,Pt.jsxs)("select",{required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.id_categoria?null:"invalid"),value:e.id_categoria?e.id_categoria:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","id_categoria")},children:[(0,Pt.jsx)("option",{value:"",children:"--Select--"}),d.map((function(e){return(0,Pt.jsxs)("option",{value:e.id,children:[e.id,"-",e.descripcion]},e.id)}))]}),(0,Pt.jsx)("br",{}),(0,Pt.jsxs)("select",{required:!0,disabled:U(e.type),className:"form-control form-control-sm "+(e.id_proveedor?null:"invalid"),value:e.id_proveedor?e.id_proveedor:"",onChange:function(e){return h(e.target.value,t,e.id,"changeInput","id_proveedor")},children:[(0,Pt.jsx)("option",{value:"",children:"--Select--"}),f.map((function(e){return(0,Pt.jsxs)("option",{value:e.id,children:[e.id,"-",e.descripcion]},e.id)}))]})]}),(0,Pt.jsxs)("td",{className:"cell05",children:[F[t]?(0,Pt.jsx)("span",{className:"text-muted text-decoration-line-through",children:F[t].iva}):null,(0,Pt.jsx)("br",{}),(0,Pt.jsx)("input",{type:"text",disabled:U(e.type),className:"form-control form-control-sm",value:e.iva?e.iva:"",onChange:function(e){return h(p(e.target.value,2),t,e.id,"changeInput","iva")},placeholder:"iva..."})]})]}),(0,Pt.jsx)("td",{className:"cell1",children:(0,Pt.jsxs)("div",{className:"d-flex justify-content-between",children:[e.type?null:(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return h(null,t,e.id,"delMode")},children:(0,Pt.jsx)("i",{className:"fa fa-trash"})}),(0,Pt.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return h(null,t,e.id,"update")},children:(0,Pt.jsx)("i",{className:"fa fa-pencil"})})]}),"new"===e.type?(0,Pt.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return h(null,t,e.id,"delNew")},children:(0,Pt.jsx)("i",{className:"fa fa-times"})}):null,"update"===e.type?(0,Pt.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return h(null,t,e.id,"delModeUpdateDelete")},children:(0,Pt.jsx)("i",{className:"fa fa-times"})}):null,"delete"===e.type?(0,Pt.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return h(null,t,e.id,"delModeUpdateDelete")},children:(0,Pt.jsx)("i",{className:"fa fa-arrow-left"})}):null]})})]},t)})):(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:7,children:"Sin resultados"})}):null})]})]})]}):null,"cierrespanelcentroacopio"==m?(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsxs)("h1",{children:["Cierres"," ",(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("cierrespanelcentroacopio")},children:"Actualizar"})]})}):null,"gastospanelcentroacopio"==m?(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsxs)("h1",{children:["Gastos"," ",(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("gastospanelcentroacopio")},children:"Actualizar"})]})}):null,"estadisticaspanelcentroacopio"==m?(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsxs)("h1",{children:["Estadsticas"," ",(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("estadisticaspanelcentroacopio")},children:"Actualizar"})]})}):null,"fallaspanelcentroacopio"==m?(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsxs)("h1",{children:["Fallas"," ",(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("fallaspanelcentroacopio")},children:"Actualizar"})]})}):null,"diadeventapanelcentroacopio"==m?(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsxs)("h1",{children:["Da de Venta"," ",(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("diadeventapanelcentroacopio")},children:"Actualizar"})]})}):null,"tasaventapanelcentroacopio"==m?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("h1",{children:["Tasas de Venta"," ",(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:function(){return c("tasaventapanelcentroacopio")},children:"Actualizar"})]}),(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"ID"}),(0,Pt.jsx)("th",{children:"Tipo"}),(0,Pt.jsx)("th",{children:"Valor"})]})}),(0,Pt.jsx)("tbody",{children:x.length?x.map((function(e){return(0,Pt.jsxs)("tr",{className:"pointer",onClick:v,"data-type":e.tipo,children:[(0,Pt.jsx)("th",{children:e.id}),(0,Pt.jsx)("th",{children:1==e.tipo?"Bolivares":"Pesos Colombianos"}),(0,Pt.jsx)("th",{children:e.valor})]},e.id)})):null})]})]}):null]}):null})]})]})}function Kt(e){var t=e.pedidoData,r=e.showModalPedidoFast,n=e.setshowModalPedidoFast,a=e.onClickEditPedido;try{var o=t.id,i=t.created_at,s=t.cliente,c=t.items,l=t.total_des,u=t.subtotal,d=t.total,f=(t.clean_total,t.cop_clean,t.bs_clean,t.total_porciento),h=t.cop,p=t.bs,m=(t.editable,t.vuelto_entregado,t.estado,t.exento),g=t.gravable,x=t.ivas,v=t.monto_iva,b=t.pagos;return(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("section",{className:"modal-custom",children:[(0,Pt.jsx)("div",{className:"text-danger",onClick:function(){return n(!r)},children:(0,Pt.jsx)("span",{className:"closeModal",children:""})}),(0,Pt.jsxs)("div",{className:"modal-content",children:[(0,Pt.jsxs)("div",{className:" text-center p-1 d-flex justify-content-between",children:[(0,Pt.jsx)("span",{className:"text-muted m-2",children:i}),(0,Pt.jsxs)("button",{"data-id":o,onClick:a,className:"btn btn-lg btn-block btn-outline-sinapsis",children:["Pedido #",o]})]}),(0,Pt.jsx)("div",{className:"container-fluid",children:(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsxs)("table",{className:"table table-striped text-center",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-sinapsis cell2",children:"Cdigo"}),(0,Pt.jsx)("th",{className:"text-sinapsis cell3",children:"Producto"}),(0,Pt.jsx)("th",{className:"text-sinapsis cell1",children:"Cant."}),(0,Pt.jsx)("th",{className:"text-sinapsis cell1",children:"Precio"}),(0,Pt.jsx)("th",{className:"text-sinapsis cell2",children:"Total"})]})}),(0,Pt.jsxs)("tbody",{children:[c?c.map((function(e,t){return e.abono&&!e.producto?(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:"PAGO"}),(0,Pt.jsx)("td",{children:e.abono}),(0,Pt.jsxs)("td",{children:[e.cantidad," "]}),(0,Pt.jsx)("td",{children:e.monto}),(0,Pt.jsx)("th",{className:"font-weight-bold",children:e.total})]},e.id):(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{className:"align-middle",children:e.producto.codigo_barras}),(0,Pt.jsxs)("td",{className:"align-middle",children:[e.producto.descripcion," "]}),(0,Pt.jsx)("td",{className:"pointer clickme align-middle",children:e.cantidad.replace(".00","")}),e.producto.precio1?(0,Pt.jsx)("td",{className:"align-middle text-success pointer",children:e.producto.precio}):(0,Pt.jsx)("td",{className:"align-middle pointer",children:e.producto.precio}),(0,Pt.jsx)("th",{className:"font-weight-bold align-middle",children:e.total})]},e.id)})):null,(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("button",{className:"btn btn-outline-success fs-5",children:c?c.length:null})}),(0,Pt.jsxs)("th",{colSpan:"5",className:"p-2 align-middle",children:[s?s.nombre:null," ",(0,Pt.jsx)("b",{children:s?s.identificacion:null})]})]})]})]})}),(0,Pt.jsxs)("div",{className:"col-3",children:[(0,Pt.jsx)("table",{className:"table",children:(0,Pt.jsxs)("tbody",{children:[(0,Pt.jsxs)("tr",{className:"hover",children:[(0,Pt.jsx)("th",{className:"",children:"Sub-Total"}),(0,Pt.jsx)("td",{colSpan:"2",className:"text-right",children:u})]}),(0,Pt.jsxs)("tr",{className:"hover",children:[(0,Pt.jsxs)("th",{className:"pointer clickme",children:["Desc. ",f,"%"]}),(0,Pt.jsx)("td",{colSpan:"2",className:"text-right",children:l})]}),(0,Pt.jsxs)("tr",{className:"hover",children:[(0,Pt.jsx)("th",{className:"",children:"Monto Exento"}),(0,Pt.jsx)("td",{colSpan:"2",className:"text-right",children:m})]}),(0,Pt.jsxs)("tr",{className:"hover",children:[(0,Pt.jsx)("th",{className:"",children:"Monto Gravable"}),(0,Pt.jsx)("td",{colSpan:"2",className:"text-right",children:g})]}),(0,Pt.jsxs)("tr",{className:"hover",children:[(0,Pt.jsxs)("th",{className:"",children:["IVA ",(0,Pt.jsxs)("span",{children:["(",x,")"]})]}),(0,Pt.jsx)("td",{colSpan:"2",className:"text-right",children:v})]}),(0,Pt.jsxs)("tr",{className:"hover h4",children:[(0,Pt.jsx)("th",{className:"",children:"Total"}),(0,Pt.jsx)("td",{className:"text-left text-muted align-bottom"}),(0,Pt.jsx)("td",{className:"text-right text-success fw-bold fs-11",children:(0,Pt.jsx)("span",{"data-type":"dolar",className:"pointer",children:d})})]}),(0,Pt.jsxs)("tr",{className:"text-muted",children:[(0,Pt.jsx)("td",{className:"text-left text-muted"}),(0,Pt.jsxs)("th",{className:"text-right",colSpan:"2",children:[(0,Pt.jsxs)("span",{"data-type":"bs",className:"fs-2 pointer",children:[" Bs ",p]}),(0,Pt.jsx)("br",{}),(0,Pt.jsxs)("span",{"data-type":"cop",className:"fs-5 pointer",children:["COP ",h]})]})]})]})}),(0,Pt.jsx)("div",{className:"d-flex justify-content-center mt-2",children:b.map((function(e){return(0,Pt.jsxs)("span",{className:"h4",children:[0!=e.monto&&1==e.tipo?(0,Pt.jsxs)("span",{className:"btn btn-info btn-sm",children:["Trans. ",e.monto]}):null,0!=e.monto&&2==e.tipo?(0,Pt.jsxs)("span",{className:"btn btn-secondary btn-sm",children:["Deb. ",e.monto]}):null,0!=e.monto&&3==e.tipo?(0,Pt.jsxs)("span",{className:"btn btn-success btn-sm",children:["Efec. ",e.monto]}):null,0!=e.monto&&4==e.tipo?(0,Pt.jsxs)("span",{className:"btn btn-sinapsis btn-sm",children:["Cred. ",e.monto]}):null,0!=e.monto&&5==e.tipo?(0,Pt.jsxs)("span",{className:"btn btn-primary btn-sm",children:["Otr. ",e.monto]}):null,0!=e.monto&&6==e.tipo?(0,Pt.jsxs)("span",{className:"btn btn-danger btn-sm",children:["Vuel. ",e.monto]}):null]},e.id)}))})]})]})})]})]}),(0,Pt.jsx)("div",{className:"overlay",onClick:function(){return n(!r)}})]})}catch(e){return""}}function Gt(e){var t=e.togleeReferenciasElec,r=e.settogleeReferenciasElec,n=e.moneda,a=e.refrenciasElecData,i=e.onClickEditPedido,s=e.getReferenciasElec;return(0,o.useEffect)((function(){s()}),[t]),(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("section",{className:"modal-custom",children:[(0,Pt.jsx)("div",{className:"text-danger",onClick:function(){return r(!1)},children:(0,Pt.jsx)("span",{className:"closeModal",children:""})}),(0,Pt.jsx)("div",{className:"modal-content-sm modal-cantidad",children:(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"USUARIO"}),(0,Pt.jsx)("th",{children:"PEDIDO"}),(0,Pt.jsx)("th",{children:"TIPO"}),(0,Pt.jsx)("th",{children:"REF"}),(0,Pt.jsx)("th",{children:"BANCO"}),(0,Pt.jsxs)("td",{className:"text-success",children:["TOT. MONTO ",(0,Pt.jsx)("b",{children:n(a.total)})]}),(0,Pt.jsx)("th",{children:"HORA"})]})}),(0,Pt.jsx)("tbody",{children:a.refs?a.refs.map((function(e){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:e.vendedorUser}),(0,Pt.jsxs)("td",{children:[" ",(0,Pt.jsx)("button",{className:"btn btn-success",onClick:function(){return i(null,e.id_pedido)},children:e.id_pedido})]}),(0,Pt.jsxs)("td",{children:[1==e.tipo&&0!=e.monto?(0,Pt.jsx)("span",{className:"btn-sm btn-info btn",children:"Trans."}):null,2==e.tipo&&0!=e.monto?(0,Pt.jsx)("span",{className:"btn-sm btn-secondary btn",children:"Deb. "}):null,5==e.tipo&&0!=e.monto?(0,Pt.jsx)("span",{className:"btn-sm btn-secondary btn",children:"Biopago. "}):null]}),(0,Pt.jsx)("td",{children:e.descripcion}),(0,Pt.jsx)("td",{children:e.banco}),(0,Pt.jsx)("td",{children:n(e.monto)}),(0,Pt.jsx)("td",{children:e.created_at})]},e.id)})):null})]})})]}),(0,Pt.jsx)("div",{className:"overlay"})]})}function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(r),!0).forEach((function(t){Yt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=qt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Zt=function(e){var t,r,n=e.setView,a=e.getReferenciasElec,i=e.refrenciasElecData,s=e.togleeReferenciasElec,c=e.settogleeReferenciasElec,l=e.addNewPedidoFront,u=e.auth,d=e.pedidoData,f=e.getPedidoFast,h=e.showModalPedidoFast,p=e.setshowModalPedidoFast,m=e.orderbycolumpedidos,x=(e.setorderbycolumpedidos,e.orderbyorderpedidos),v=(e.setorderbyorderpedidos,e.moneda),b=e.setshowMisPedido,y=e.showMisPedido,_=e.tipobusquedapedido,j=e.setTipoBusqueda,w=e.busquedaPedido,N=e.fecha1pedido,E=e.fecha2pedido,C=e.onChangePedidos,S=e.pedidos,O=e.getPedidos,A=e.onClickEditPedido,P=e.onCLickDelPedido,D=e.tipoestadopedido,I=e.setTipoestadopedido,T=e.filterMetodoPago,M=e.filterMetodoPagoToggle,k=e.clickSetOrderColumnPedidos,R=e.toggleImprimirTicket;e.setmodalchangepedido,e.setseletIdChangePedidoUserHandle,e.modalchangepedido,e.modalchangepedidoy,e.modalchangepedidox,e.usuarioChangeUserPedido,e.usuariosData,(0,o.useEffect)((function(){O()}),[N,E,_,D,M,m,x,y]);var B=Xt((0,o.useState)({}),2),L=B[0],F=B[1],U=function(e,t){F((function(r){return $t($t({},r),{},Yt({},"".concat(e,"-").concat(t),!r["".concat(e,"-").concat(t)]))}))};return(0,g.v)("escape",(function(e){e.preventDefault(),n("pagar")}),{enableOnTags:["INPUT","SELECT"],filter:!1},[n]),(0,Pt.jsxs)("div",{className:"p-3",children:[h&&(0,Pt.jsx)(Kt,{pedidoData:d,showModalPedidoFast:h,setshowModalPedidoFast:p,onClickEditPedido:A}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 gap-3 mb-3 lg:grid-cols-12",children:[(0,Pt.jsx)("div",{className:"lg:col-span-4",children:(0,Pt.jsx)("div",{className:"bg-white border border-gray-200 rounded shadow-sm",children:(0,Pt.jsx)("div",{className:"p-2",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-4 gap-1",children:[(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat("todos"===D?"bg-gray-800 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),onClick:function(){return I("todos")},children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-list"}),"TODOS"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat(0===D?"bg-orange-500 text-white":"bg-orange-100 text-orange-700 hover:bg-orange-200"),onClick:function(){return I(0)},children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-clock"}),"PEND"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat(1===D?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"),onClick:function(){return I(1)},children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-check"}),"PROC"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat(2===D?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"),onClick:function(){return I(2)},children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-times"}),"ANUL"]})]})})})}),(0,Pt.jsx)("div",{className:"lg:col-span-8",children:(0,Pt.jsx)("div",{className:"bg-white border border-gray-200 rounded shadow-sm",children:(0,Pt.jsx)("div",{className:"p-2",children:(0,Pt.jsxs)("div",{className:"flex flex-col gap-2 lg:flex-row",children:[(0,Pt.jsxs)("div",{className:"flex rounded shadow-sm",children:[(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded-l border transition-colors ".concat("fact"===_?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),onClick:function(){return j("fact")},children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-search"}),"FACT"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium border-t border-b transition-colors ".concat("prod"===_?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),onClick:function(){return j("prod")},children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-cube"}),"PROD"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium border-t border-b transition-colors ".concat("cliente"===_?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),onClick:function(){return j("cliente")},children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-user"}),"CLI"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded-r border transition-colors ".concat("uuid"===_?"bg-orange-500 text-white border-orange-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),onClick:function(){return j("uuid")},children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-fingerprint"}),"UUID"]})]}),(0,Pt.jsxs)("form",{onSubmit:O,className:"flex flex-1 gap-2",children:[(0,Pt.jsxs)("div",{className:"relative flex-1",children:[(0,Pt.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-2 pointer-events-none",children:(0,Pt.jsx)("i",{className:"text-xs text-gray-400 fa fa-search"})}),(0,Pt.jsx)("input",{className:"w-full py-1 pr-2 text-xs border border-gray-300 rounded pl-7 focus:ring-1 focus:ring-orange-400 focus:border-orange-400",placeholder:"Buscar...",value:w,"data-type":"busquedaPedido",onChange:C,autoComplete:"off"})]}),(0,Pt.jsxs)("div",{className:"flex gap-1",children:[(0,Pt.jsx)("input",{type:"date",value:N,"data-type":"fecha1pedido",onChange:C,className:"px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-orange-400 focus:border-orange-400"}),(0,Pt.jsx)("input",{type:"date",value:E,"data-type":"fecha2pedido",onChange:C,className:"px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-orange-400 focus:border-orange-400"})]}),(0,Pt.jsx)("button",{type:"button",className:"px-2 py-1 text-xs text-orange-600 transition-colors border border-orange-300 rounded hover:bg-orange-50",onClick:function(){return O()},children:(0,Pt.jsx)("i",{className:"fa fa-sync-alt"})}),(0,Pt.jsx)("a",{href:"/exportarVentasCSV?fecha1=".concat(N,"&fecha2=").concat(E),className:"px-2 py-1 text-xs text-green-600 transition-colors border border-green-300 rounded hover:bg-green-50",title:"Descargar CSV de ventas",children:(0,Pt.jsx)("i",{className:"fa fa-download"})})]})]})})})})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 gap-3 mb-3 lg:grid-cols-2",children:[(0,Pt.jsx)("div",{className:"bg-white border border-gray-200 rounded shadow-sm",children:(0,Pt.jsx)("div",{className:"p-2",children:(0,Pt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pt.jsxs)("button",{className:"px-3 py-1 text-sm font-medium text-white transition-colors bg-orange-500 rounded shadow-sm hover:bg-orange-600","data-valor":"id",onClick:k,children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-shopping-cart"}),S.fact?S.fact.length:0]}),(0,Pt.jsxs)("div",{className:"flex rounded shadow-sm",children:[(0,Pt.jsxs)("button",{onClick:function(){return b(!0)},className:"px-2 py-1 text-xs font-medium rounded-l border transition-colors ".concat(y?"bg-green-500 text-white border-green-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-user"}),"Mis"]}),u(1)&&(0,Pt.jsxs)("button",{onClick:function(){return b(!1)},className:"px-2 py-1 text-xs font-medium border-t border-b transition-colors ".concat(y?"bg-white text-gray-700 border-gray-300 hover:bg-gray-50":"bg-green-500 text-white border-green-500"),children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-users"}),"Todos"]}),(0,Pt.jsx)("button",{className:"px-2 py-1 text-xs text-white transition-colors bg-green-500 rounded-r hover:bg-green-600",onClick:l,children:(0,Pt.jsx)("i",{className:"fa fa-plus"})})]})]})})}),(0,Pt.jsx)("div",{className:"bg-white border border-gray-200 rounded shadow-sm",children:(0,Pt.jsx)("div",{className:"p-2",children:(0,Pt.jsx)("div",{className:"flex justify-end",children:(0,Pt.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat("todos"===M?"bg-gray-800 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),"data-type":"todos",onClick:T,children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-list"}),"Todos"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat(1===M?"bg-blue-500 text-white":"bg-blue-100 text-blue-700 hover:bg-blue-200"),"data-type":"1",onClick:T,children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-exchange"}),"Trans"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat(2===M?"bg-gray-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),"data-type":"2",onClick:T,children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-credit-card"}),"Deb"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat(3===M?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"),"data-type":"3",onClick:T,children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-money"}),"Efec"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat(4===M?"bg-yellow-500 text-white":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"),"data-type":"4",onClick:T,children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-calendar"}),"Cred"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat(5===M?"bg-cyan-500 text-white":"bg-cyan-100 text-cyan-700 hover:bg-cyan-200"),"data-type":"5",onClick:T,children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-mobile"}),"Bio"]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium rounded transition-colors ".concat(6===M?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"),"data-type":"6",onClick:T,children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-ban"}),"Anul"]}),(0,Pt.jsx)("button",{className:"px-2 py-1 text-xs font-medium text-white transition-colors bg-green-500 rounded hover:bg-green-600",onClick:function(){return c(!0)},children:"REFs"})]})})})})]}),(0,Pt.jsx)("div",{className:"mt-3",children:"prod"===_?(0,Pt.jsx)("div",{className:"grid grid-cols-1 gap-3 lg:grid-cols-2 xl:grid-cols-3",children:null===(t=S.prod)||void 0===t?void 0:t.map((function(e){if(!e)return null;var t=e.items.filter((function(e){return e.cantidad>0})),r=e.items.filter((function(e){return e.cantidad<0})),n=t.reduce((function(e,t){return e+parseInt(t.cantidad)}),0),a=r.reduce((function(e,t){return e+Math.abs(parseInt(t.cantidad))}),0);return(0,Pt.jsx)("div",{className:"h-full",children:(0,Pt.jsxs)("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded shadow-sm",children:[(0,Pt.jsx)("div",{className:"p-3 text-white bg-orange-500 rounded-t",children:(0,Pt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pt.jsx)("h5",{className:"text-sm font-bold text-white truncate",children:e.descripcion}),(0,Pt.jsxs)("div",{className:"text-xs text-orange-100",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-barcode"}),e.codigo_proveedor," | ",e.codigo_barras]})]}),(0,Pt.jsx)("div",{className:"ml-2",children:(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs font-bold text-orange-500 bg-white rounded-full",children:e.cantidadtotal})})]})}),(0,Pt.jsxs)("div",{className:"flex-1 p-3",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[(0,Pt.jsxs)("div",{className:"p-2 text-xs text-center rounded bg-gray-50",children:[(0,Pt.jsx)("div",{className:"mb-1 text-gray-500",children:"Base"}),(0,Pt.jsxs)("div",{className:"font-bold text-orange-500",children:["$",e.precio_base]})]}),(0,Pt.jsxs)("div",{className:"p-2 text-xs text-center rounded bg-gray-50",children:[(0,Pt.jsx)("div",{className:"mb-1 text-gray-500",children:"Venta"}),(0,Pt.jsxs)("div",{className:"font-bold text-green-500",children:["$",e.precio]})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[n>0&&(0,Pt.jsxs)("div",{className:"p-2 text-xs text-center border border-green-200 rounded bg-green-50",children:[(0,Pt.jsx)("i",{className:"mr-1 text-green-500 fa fa-arrow-up"}),(0,Pt.jsx)("div",{className:"font-bold text-green-700",children:n}),(0,Pt.jsx)("div",{className:"text-green-600",children:"Ventas"})]}),a>0&&(0,Pt.jsxs)("div",{className:"p-2 text-xs text-center border border-red-200 rounded bg-red-50",children:[(0,Pt.jsx)("i",{className:"mr-1 text-red-500 fa fa-arrow-down"}),(0,Pt.jsx)("div",{className:"font-bold text-red-700",children:a}),(0,Pt.jsx)("div",{className:"text-red-600",children:"Devol."})]})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[t.length>0&&(0,Pt.jsxs)("div",{className:"border border-green-200 rounded",children:[(0,Pt.jsxs)("button",{className:"flex items-center justify-between w-full p-2 text-xs text-left transition-colors rounded-t bg-green-50 hover:bg-green-100",onClick:function(){return U(e.id,"ventas")},children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("i",{className:"text-green-600 fa fa-shopping-cart"}),(0,Pt.jsxs)("span",{className:"font-semibold text-green-700",children:["Ventas (",t.length,")"]})]}),(0,Pt.jsx)("i",{className:"fa transition-transform text-xs ".concat(L["".concat(e.id,"-ventas")]?"fa-chevron-up":"fa-chevron-down"," text-green-600")})]}),(0,Pt.jsx)("div",{className:"transition-all duration-300 ease-in-out ".concat(L["".concat(e.id,"-ventas")]?"max-h-96 opacity-100":"max-h-0 opacity-0"," overflow-hidden"),children:(0,Pt.jsx)("div",{className:"divide-y divide-gray-100",children:t.map((function(e){var t;return(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-2 transition-colors hover:bg-gray-50",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsxs)("span",{className:"px-2 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full",children:["+",e.cantidad]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-xs text-gray-600",children:e.created_at}),(0,Pt.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-user"}),null===(t=e.pedido)||void 0===t||null===(t=t.vendedor)||void 0===t?void 0:t.nombre]})]})]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs text-blue-600 transition-colors rounded bg-blue-50 hover:bg-blue-100","data-id":e.id_pedido,onClick:A,title:"Ver pedido",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-eye"}),"#",e.id_pedido]})]},e.id)}))})})]}),r.length>0&&(0,Pt.jsxs)("div",{className:"border border-red-200 rounded",children:[(0,Pt.jsxs)("button",{className:"flex items-center justify-between w-full p-2 text-xs text-left transition-colors rounded-t bg-red-50 hover:bg-red-100",onClick:function(){return U(e.id,"devoluciones")},children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("i",{className:"text-red-600 fa fa-undo"}),(0,Pt.jsxs)("span",{className:"font-semibold text-red-700",children:["Devol. (",r.length,")"]})]}),(0,Pt.jsx)("i",{className:"fa transition-transform text-xs ".concat(L["".concat(e.id,"-devoluciones")]?"fa-chevron-up":"fa-chevron-down"," text-red-600")})]}),(0,Pt.jsx)("div",{className:"transition-all duration-300 ease-in-out ".concat(L["".concat(e.id,"-devoluciones")]?"max-h-96 opacity-100":"max-h-0 opacity-0"," overflow-hidden"),children:(0,Pt.jsx)("div",{className:"divide-y divide-gray-100",children:r.map((function(e){var t;return(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-2 transition-colors hover:bg-gray-50",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs font-medium text-red-800 bg-red-100 rounded-full",children:e.cantidad}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-xs text-gray-600",children:e.created_at}),(0,Pt.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-user"}),null===(t=e.pedido)||void 0===t||null===(t=t.vendedor)||void 0===t?void 0:t.nombre]})]})]}),(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs text-red-600 transition-colors rounded bg-red-50 hover:bg-red-100","data-id":e.id_pedido,onClick:A,title:"Ver pedido",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-eye"}),"#",e.id_pedido]})]},e.id)}))})})]})]})]}),(0,Pt.jsx)("div",{className:"p-2 border-t border-gray-200 rounded-b bg-gray-50",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"text-xs text-gray-600",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-calculator"}),v(e.totalventa||0)]}),(0,Pt.jsxs)("div",{className:"flex space-x-1",children:[(0,Pt.jsx)("button",{className:"px-2 py-1 text-xs text-blue-600 transition-colors rounded bg-blue-50 hover:bg-blue-100",onClick:function(){return t=e.id,r="".concat(t,"-ventas"),n="".concat(t,"-devoluciones"),a=L[r],o=L[n],i=!a&&!o,void F((function(e){return $t($t({},e),{},Yt(Yt({},r,i),n,i))}));var t,r,n,a,o,i},title:"Expandir/Contraer todo",children:(0,Pt.jsx)("i",{className:"fa fa-expand-arrows-alt"})}),(0,Pt.jsx)("button",{className:"px-2 py-1 text-xs text-green-600 transition-colors rounded bg-green-50 hover:bg-green-100",onClick:function(){console.log("Nuevo pedido con producto:",e.id)},title:"Nuevo pedido con este producto",children:(0,Pt.jsx)("i",{className:"fa fa-plus"})})]})]})})]})},e.id)}))}):(0,Pt.jsx)("div",{className:"overflow-hidden bg-white border border-gray-200 rounded shadow-sm",children:(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsx)("table",{className:"w-full text-xs",children:(0,Pt.jsx)("tbody",{className:"divide-y divide-gray-200",children:null===(r=S.fact)||void 0===r?void 0:r.map((function(e){var t,r;return e&&(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors ".concat(1===e.estado?"bg-green-50":2===e.estado?"bg-red-50":"bg-yellow-50"),children:[(0,Pt.jsx)("td",{className:"w-24 p-2",children:(0,Pt.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,Pt.jsxs)("button",{className:"w-full px-2 py-1 text-xs font-medium text-white transition-colors bg-orange-500 rounded shadow-sm hover:bg-orange-600","data-id":e.id,onClick:A,children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-hashtag"}),e.id]}),(0,Pt.jsx)("span",{className:"w-full px-1 py-0.5 text-xs font-medium rounded text-center ".concat(1===e.estado?"bg-green-100 text-green-800":2===e.estado?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:1===e.estado?"Proc":2===e.estado?"Anul":"Pend"}),e.uuid&&(0,Pt.jsxs)("span",{className:"w-full px-1 py-0.5 text-center truncate rounded bg-purple-50 text-purple-700 border border-purple-200",style:{fontSize:"9px",letterSpacing:"-0.02em"},title:e.uuid,children:[(0,Pt.jsx)("i",{className:"mr-0.5 fa fa-fingerprint"}),e.uuid.length>12?e.uuid.slice(-12):e.uuid]})]})}),(0,Pt.jsx)("td",{className:"w-40 p-2",children:(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("i",{className:"mr-1 text-orange-500 fa fa-user-circle"}),(0,Pt.jsx)("span",{className:"text-xs font-medium text-gray-900 truncate",children:null===(t=e.vendedor)||void 0===t?void 0:t.nombre})]}),(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("i",{className:"mr-1 text-gray-400 fa fa-clock"}),(0,Pt.jsx)("span",{className:"text-xs text-gray-600",children:e.created_at})]})]})}),(0,Pt.jsx)("td",{className:"w-48 p-2",children:(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("i",{className:"mr-1 text-orange-500 fa fa-user"}),(0,Pt.jsx)("span",{className:"text-xs font-medium text-gray-900 truncate",children:e.cliente?e.cliente.nombre:"Cliente General"})]}),e.export&&(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("i",{className:"mr-1 text-green-500 fa fa-check-circle"}),(0,Pt.jsx)("span",{className:"text-xs font-medium text-green-600",children:"Exportado"})]})]})}),(0,Pt.jsx)("td",{className:"w-64 p-2",children:(0,Pt.jsx)("div",{className:"flex flex-wrap justify-center gap-1",children:null===(r=e.pagos)||void 0===r?void 0:r.map((function(e){return 0!==e.monto&&(0,Pt.jsxs)("span",{className:"px-1 py-0.5 rounded text-xs font-medium ".concat(1==e.tipo?"bg-blue-100 text-blue-800":2==e.tipo?"bg-gray-100 text-gray-800":3==e.tipo?"bg-green-100 text-green-800":4==e.tipo?"bg-yellow-100 text-yellow-800":5==e.tipo?"bg-cyan-100 text-cyan-800":"bg-red-100 text-red-800"),children:[(0,Pt.jsx)("i",{className:"fa mr-1 ".concat(1==e.tipo?"fa-exchange":2==e.tipo?"fa-credit-card":3==e.tipo?"fa-money":4==e.tipo?"fa-calendar":5==e.tipo?"fa-mobile":"fa-ban")}),1==e.tipo?(0,Pt.jsxs)(Pt.Fragment,{children:["T.",e.monto,void 0!==e.bs&&(0,Pt.jsxs)("span",{className:"ml-1 text-xs text-blue-800",children:["/Bs ",e.bs]})]}):2==e.tipo?(0,Pt.jsx)(Pt.Fragment,{children:e.monto_original&&"bs"===e.moneda?(0,Pt.jsxs)(Pt.Fragment,{children:["D.Bs ",parseFloat(e.monto_original).toFixed(2),(0,Pt.jsxs)("span",{className:"ml-1 text-[10px] text-gray-600",children:["($",parseFloat(e.monto).toFixed(2),")"]}),e.referencia&&(0,Pt.jsxs)("span",{className:"ml-1 text-[10px] text-gray-500",children:["#",e.referencia]})]}):(0,Pt.jsxs)(Pt.Fragment,{children:["D.$",parseFloat(e.monto).toFixed(2),e.referencia&&(0,Pt.jsxs)("span",{className:"ml-1 text-[10px] text-gray-500",children:["#",e.referencia]})]})}):3==e.tipo?(0,Pt.jsx)(Pt.Fragment,{children:"bs"===e.moneda?"E.Bs ".concat(parseFloat(e.monto_original||e.monto).toFixed(2)):"cop"===e.moneda?"E.COP ".concat(parseFloat(e.monto_original||e.monto).toFixed(0)):"E.$".concat(parseFloat(e.monto).toFixed(2))}):4==e.tipo?"C."+e.monto:5==e.tipo?"B."+e.monto:"V."+e.monto]},e.id)}))})}),(0,Pt.jsx)("td",{className:"w-32 p-2",children:(0,Pt.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[(0,Pt.jsx)("span",{className:"text-lg font-bold text-orange-500",children:v(e.totales)}),(0,Pt.jsxs)("span",{className:"px-2 py-0.5 bg-gray-800 text-white rounded-full text-xs font-medium",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-shopping-cart"}),e.items?e.items.length:0]})]})}),(0,Pt.jsx)("td",{className:"p-2 w-36",children:(0,Pt.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs font-medium text-white transition-colors bg-orange-500 rounded hover:bg-orange-600","data-id":e.id,onClick:A,title:"Editar pedido",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-edit"}),"Edit"]}),(0,Pt.jsx)("button",{className:"px-1 py-1 text-xs text-orange-600 transition-colors border border-orange-300 rounded hover:bg-orange-50","data-id":e.id,onClick:f,title:"Ver detalles",children:(0,Pt.jsx)("i",{className:"fa fa-eye"})}),(0,Pt.jsx)("button",{className:"px-1 py-1 text-xs text-green-600 transition-colors border border-green-300 rounded hover:bg-green-50",onClick:function(){return R(e.id)},title:"Imprimir ticket",children:(0,Pt.jsx)("i",{className:"fa fa-print"})}),u(1)&&(0,Pt.jsx)("button",{className:"px-1 py-1 text-xs text-red-600 transition-colors border border-red-300 rounded hover:bg-red-50","data-id":e.id,"data-type":"getPedidos",onClick:P,title:"Eliminar pedido",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]})})]},e.id)}))})})})})}),s&&(0,Pt.jsx)(Gt,{settogleeReferenciasElec:c,togleeReferenciasElec:s,moneda:v,refrenciasElecData:i,onClickEditPedido:A,getReferenciasElec:a})]})};const Jt=function(e){var t=e.qBuscarCliente,r=e.setqBuscarCliente,n=e.clientesCrud,a=e.setindexSelectCliente,o=e.indexSelectCliente,i=e.setClienteCrud,s=e.delCliente,c=e.clienteInpidentificacion,l=e.setclienteInpidentificacion,u=e.clienteInpnombre,d=e.setclienteInpnombre,f=e.clienteInpcorreo,h=e.setclienteInpcorreo,p=e.clienteInpdireccion,m=e.setclienteInpdireccion,g=e.clienteInptelefono,x=e.setclienteInptelefono,v=e.clienteInpestado,b=e.setclienteInpestado,y=e.clienteInpciudad,_=e.setclienteInpciudad,j=function(e){var t=e.currentTarget.attributes["data-index"].value;if(t==o)a(null);else if(a(t),n[t]){var r=n[t];l(r.identificacion?r.identificacion:""),d(r.nombre?r.nombre:""),h(r.correo?r.correo:""),m(r.direccion?r.direccion:""),x(r.telefono?r.telefono:""),b(r.estado?r.estado:""),_(r.ciudad?r.ciudad:"")}};return(0,Pt.jsxs)("div",{className:"container",children:[(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsxs)("h1",{children:["Administrar Clientes ",(0,Pt.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){l(""),d(""),h(""),m(""),x(""),b(""),_(""),a(null)},children:"Nuevo"})]})})}),(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsxs)("div",{className:"input-group ",children:[(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:t,onChange:function(e){return r(e.target.value)}}),(0,Pt.jsx)("div",{className:"input-group-prepend",children:(0,Pt.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-search"})})})]}),n.length?n.map((function(e,t){return(0,Pt.jsxs)("div",{onClick:j,"data-index":t,className:(o==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,Pt.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("small",{children:["ID.",e.id]})}),(0,Pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{children:e.telefono})}),(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{className:"h3",children:e.identificacion})})]})]}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("div",{className:"/personal/vermas",children:(0,Pt.jsx)("h5",{className:"card-title",children:(0,Pt.jsx)("b",{children:e.nombre})})}),(0,Pt.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,Pt.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,Pt.jsx)("i",{children:"Sin resultados!"})})]}),(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsxs)("form",{className:"container-fluid",onSubmit:i,children:[(0,Pt.jsx)("h3",{children:"Cliente"}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"C.I./RIF"}),(0,Pt.jsx)("input",{type:"text",value:c,onChange:function(e){return l(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Nombres y Apellidos"}),(0,Pt.jsx)("input",{type:"text",value:u,onChange:function(e){return d(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Telfono"}),(0,Pt.jsx)("input",{type:"text",value:g,onChange:function(e){return x(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Email"}),(0,Pt.jsx)("input",{type:"text",value:f,onChange:function(e){return h(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Direccin"}),(0,Pt.jsx)("input",{type:"text",value:p,onChange:function(e){return m(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Ciudad"}),(0,Pt.jsx)("input",{type:"text",value:y,onChange:function(e){return _(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Estado"}),(0,Pt.jsx)("input",{type:"text",value:v,onChange:function(e){return b(e.target.value)},className:"form-control"})]}),(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsx)("div",{className:"col text-center",children:null==o?(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,Pt.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:s,type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]})})})]})})]})]})};function er(e){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(e)}function tr(){tr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==er(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(er(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function rr(e){return function(e){if(Array.isArray(e))return ir(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||or(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||or(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){if(e){if("string"==typeof e)return ir(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ir(e,t):void 0}}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const sr=function(e){var t,r=e.limitdeudores,n=e.setlimitdeudores,a=e.orderbycolumdeudores,i=e.setorderbycolumdeudores,s=e.orderbyorderdeudores,c=e.setorderbyorderdeudores,l=e.onchangecaja,u=e.qDeudores,d=e.deudoresList,f=e.selectDeudor,h=e.setSelectDeudor,p=(e.tipo_pago_deudor,e.monto_pago_deudor),m=e.setPagoCredito,g=e.onClickEditPedido,x=e.detallesDeudor,v=e.onlyVueltos,b=e.setOnlyVueltos,y=e.sumPedidos,_=e.sumPedidosArr,j=e.setsumPedidosArr,w=e.printCreditos,N=e.moneda,E=e.getDeudores,C=e.getDeudor,S=ar((0,o.useState)(!1),2),O=S[0],A=S[1],P=ar((0,o.useState)(!1),2),D=P[0],I=P[1],T=ar((0,o.useState)(""),2),M=T[0],k=T[1],R=ar((0,o.useState)(new Set),2),B=R[0],L=R[1];(0,o.useEffect)((function(){null==f?E():C()}),[f]);var F=function(){var e,t=(e=tr().mark((function e(){var t,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=f){e.next=3;break}return alert("Debe seleccionar un cliente primero (no hay cliente seleccionado)"),e.abrupt("return");case 3:if(d&&0!==d.length){e.next=6;break}return alert("No hay lista de clientes disponible. Por favor, busque clientes primero."),e.abrupt("return");case 6:if(d[f]){e.next=9;break}return alert("Cliente en posicin ".concat(f," no encontrado en la lista. Total clientes: ").concat(d.length)),e.abrupt("return");case 9:if(t=d[f],!window.confirm("Est seguro de que desea actualizar todos los pedidos de crdito del cliente ".concat(t.nombre,"?"))){e.next=27;break}return I(!0),k("Actualizando crditos..."),e.prev=13,e.next=16,ke.A.updateCreditOrders({id_cliente:t.id});case 16:(r=e.sent).data.estado?(k(" ".concat(r.data.msj)),A(!0),L((function(e){return new Set([].concat(rr(e),[t.id]))})),"function"==typeof E&&E(),"function"==typeof C&&C()):k(" ".concat(r.data.msj)),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(13),console.error("Error updating credits:",e.t0),k(" Error al actualizar los crditos");case 24:return e.prev=24,I(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[13,20,24,27]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){nr(o,n,a,i,s,"next",e)}function s(e){nr(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,Pt.jsxs)("div",{className:"container",children:[(0,Pt.jsxs)("div",{className:"row align-items-center mb-3",children:[(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsx)("h3",{className:"mb-0",children:"Cuentas por cobrar"}),(0,Pt.jsx)("small",{className:"text-muted d-block",children:"Gestin de crditos y abonos por cliente"}),(0,Pt.jsx)("small",{className:"text-muted d-block",children:"Nota: los crditos estn sujetos a cambios de acuerdo a variaciones de precio del producto."})]}),(0,Pt.jsxs)("div",{className:"col text-right",children:[(0,Pt.jsxs)("button",{className:"btn btn-outline-secondary mr-2",title:"Imprimir resumen de crditos",onClick:w,children:[(0,Pt.jsx)("i",{className:"fa fa-print"})," Imprimir"]}),(0,Pt.jsxs)("button",{className:"btn btn-outline-success",onClick:function(){var e=window.prompt("Cantidad de resultados a mostrar",r);e&&n(e)},children:["Resultados: ",r]})]})]}),null===f?(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("form",{onSubmit:E,className:"mb-3",children:(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar cliente por nombre o identificacin...",value:u,name:"qDeudores",onChange:l})}),(0,Pt.jsxs)("table",{className:"table table-hoverable",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-center",children:"Cliente"}),(0,Pt.jsx)("th",{className:"text-center pointer hover",title:"Ordenar por fecha de vencimiento",onClick:function(){return"vence"==a?c("desc"==s?"asc":"desc"):i("vence")},children:"Vence"}),(0,Pt.jsx)("th",{className:"text-right pointer hover",title:"Ordenar por saldo pendiente",onClick:function(){return"saldo"==a?c("desc"==s?"asc":"desc"):i("saldo")},children:"Saldo"})]})}),(0,Pt.jsx)("tbody",{children:d.length?d.map((function(e,t){return e?(0,Pt.jsxs)("tr",{className:"text-center pointer",onClick:function(){b(0),h(t),j([]);var r=B.has(e.id);A(r)},children:[(0,Pt.jsxs)("td",{children:[(0,Pt.jsx)("div",{className:"font-weight-bold",children:e.nombre}),(0,Pt.jsxs)("small",{className:"text-muted",children:[e.identificacion,"  ID ",e.id]})]}),(0,Pt.jsxs)("td",{children:[e.vence," (",e.dias," das)"]}),(0,Pt.jsx)("td",{className:(e.saldo>0?"text-success":"text-danger")+" h2 text-right",children:(0,Pt.jsx)("button",{className:"btn "+(e.saldo<0?"btn-outline-danger":"btn-outline-success"),children:N(e.saldo)})})]},e.id):null})):null})]}),d.length?null:(0,Pt.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,Pt.jsx)("i",{children:"Sin resultados!"})})]}):(0,Pt.jsxs)("div",{className:"p-4",children:[(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Pt.jsxs)("button",{type:"button",className:"btn btn-link text-danger p-0",onClick:function(){h(null),b(0),A(!1),k("")},children:[(0,Pt.jsx)("i",{className:"fa fa-arrow-left"})," Volver a la lista de clientes"]}),d[f]&&(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("div",{className:"h5 mb-0",children:d[f].nombre}),(0,Pt.jsx)("small",{className:"text-muted",children:d[f].identificacion})]})]}),(0,Pt.jsx)("hr",{}),null!==f&&d&&d[f]&&(0,Pt.jsx)("div",{className:"mb-4 p-3 border rounded bg-light",children:(0,Pt.jsxs)("div",{className:"row align-items-center",children:[(0,Pt.jsxs)("div",{className:"col-md-8",children:[(0,Pt.jsxs)("h5",{className:"mb-2",children:[(0,Pt.jsx)("i",{className:"fa fa-refresh text-primary"}),"Actualizacin de Crditos"]}),(0,Pt.jsxs)("p",{className:"mb-1 text-muted",children:["Cliente: ",(0,Pt.jsx)("strong",{children:null===(t=d[f])||void 0===t?void 0:t.nombre})]}),M&&(0,Pt.jsx)("div",{className:"alert ".concat(M.includes("")?"alert-success":M.includes("")?"alert-danger":"alert-info"," py-2"),children:M})]}),(0,Pt.jsx)("div",{className:"col-md-4 text-right",children:(0,Pt.jsx)("button",{className:"btn ".concat(O?"btn-success":"btn-warning"," btn-lg"),onClick:F,disabled:D,children:D?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin"})," Actualizando..."]}):O?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-check"})," Crditos Actualizados"]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-refresh"})," Actualizar Crditos"]})})})]})}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("table",{className:"table table-striped",children:[(0,Pt.jsxs)("thead",{children:[(0,Pt.jsx)("tr",{className:"",children:x.pedido_total?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("th",{children:[d[f]?(0,Pt.jsxs)("div",{className:"",children:[(0,Pt.jsx)("span",{className:"",children:d[f].identificacion}),(0,Pt.jsx)("h1",{className:"",children:d[f].nombre})]}):null,(0,Pt.jsxs)("div",{className:"mb-2 d-flex align-items-center",children:[(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-primary mr-2",onClick:function(){if(x&&x.pedido){var e=x.pedido.map((function(e){return e.id}));j(e)}},children:"Seleccionar todos"}),(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-secondary mr-3",onClick:function(){j([])},children:"Limpiar seleccin"})]})]}),(0,Pt.jsxs)("th",{children:[(0,Pt.jsxs)("span",{className:"badge badge-info",children:[_.length," pedido(s) seleccionado(s)"]}),_.length?(0,Pt.jsxs)("div",{className:"mb-2 d-flex align-items-center flex-column align-items-start",children:[(0,Pt.jsx)("div",{className:"btn-group btn-group-sm mb-1",children:d[f]&&O&&(0,Pt.jsx)("a",{className:"btn btn-primary",target:"_blank",href:"/reporteCreditosCliente?id_cliente="+d[f].id+"&ids="+_.join(","),children:"Crditos seleccionados"})}),d[f]&&!O&&(0,Pt.jsxs)("small",{className:"text-sinapsis",children:[(0,Pt.jsx)("i",{className:"fa fa-lock"})," Actualice los crditos para habilitar el reporte de facturas"]})]}):null]}),v?null:(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("td",{className:"text-right",children:["Balance: ",(0,Pt.jsx)("h2",{className:x.pedido_total.diferencia>0?"text-success":"text-danger",children:x.pedido_total.diferencia})]}),(0,Pt.jsx)("td",{className:"text-right h3 text-danger",children:N(x.pedido_total[1])}),(0,Pt.jsx)("td",{className:"text-right h3 text-success",children:N(x.pedido_total[0])})]})]}):null}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"",style:{width:"10%"},children:"Acciones"}),(0,Pt.jsx)("th",{className:"text-right",style:{width:"15%"},children:"Fecha vence"}),(0,Pt.jsx)("th",{style:{width:"25%"},children:"Pedido"}),(0,Pt.jsx)("th",{style:{width:"25%"},children:"Formas de pago"}),(0,Pt.jsx)("th",{className:"text-right",style:{width:"15%"},children:"Crdito"}),(0,Pt.jsx)("th",{className:"text-right",style:{width:"10%"},children:"Abono"})]})]}),(0,Pt.jsxs)("tbody",{children:[!v&&(0,Pt.jsxs)("tr",{className:O?"":"table-secondary",children:[(0,Pt.jsx)("td",{colSpan:"2"}),(0,Pt.jsx)("td",{colSpan:"3",children:O?(0,Pt.jsx)("form",{onSubmit:m,className:"",children:(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Monto Abono (USD)"}),(0,Pt.jsx)("input",{type:"number",step:"0.01",name:"monto_pago_deudor",value:p,onChange:l,className:"form-control",placeholder:"0.00"}),(0,Pt.jsx)("small",{className:"text-muted",children:"El mtodo de pago se selecciona al procesar el pedido"})]})}):(0,Pt.jsxs)("div",{className:"alert alert-warning py-2 mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-lock"}),"Seccin bloqueada hasta actualizar crditos"]})})]}),x&&x.pedido?x.pedido.map((function(e){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:_.filter((function(t){return t==e.id})).length?(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-danger","data-id":e.id,"data-tipo":"del",onClick:y,children:"Quitar"}):(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-success","data-id":e.id,"data-tipo":"add",onClick:y,children:"Seleccionar"})}),(0,Pt.jsxs)("td",{className:"",children:[(0,Pt.jsx)("div",{className:"font-weight-bold",children:e.fecha_vence}),(0,Pt.jsxs)("small",{className:"text-muted",children:["Creado: ",e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"]})]}),(0,Pt.jsx)("td",{className:"align-middle",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsxs)("button",{className:"btn btn-secondary btn-sm w-75 mb-1","data-id":e.id,onClick:g,children:["Ver pedido #",e.id," ",(0,Pt.jsx)("i",{className:"fa fa-eye"})]}),(0,Pt.jsxs)("div",{className:"small text-muted",children:["Items: ",e.items?e.items.length:void 0!==e.items_count?e.items_count:0]})]})}),(0,Pt.jsxs)("td",{className:"align-middle",children:[e.pagos.map((function(t){return(0,Pt.jsxs)("div",{children:[1==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-info btn",children:["Trans. ",t.monto]}):null,2==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-secondary btn",children:["Deb. ",t.monto]}):null,3==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-success btn",children:["Efec. ",t.monto]}):null,5==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-info btn",children:["Biopago ",t.monto]}):null,6==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-danger btn","data-id":e.id,onClick:g,children:["Vuel. ",t.monto]}):null,4==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-warning btn",children:["Cred. ",t.monto]}):null]},t.id)})),e.entregado.map((function(e,t){return(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-warning btn",children:[e.descripcion," ",e.monto]})},e.id)}))]}),e.saldoDebe?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("th",{className:"text-danger h2 text-right align-middle",children:N(e.saldoDebe)}),(0,Pt.jsx)("td",{})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{}),(0,Pt.jsx)("th",{className:"text-success h2 text-right align-middle",children:N(e.saldoAbono)})]})]},e.id)})):null]})]})})]})]})};const cr=function(e){var t=e.onchangecaja,r=e.qDeudores,n=e.deudoresList,a=e.selectDeudor,o=e.setSelectDeudor,i=(e.tipo_pago_deudor,e.monto_pago_deudor),s=e.setPagoCredito,c=e.onClickEditPedido,l=e.detallesDeudor,u=e.onlyVueltos,d=e.setOnlyVueltos;return e.sumPedidos,e.sumPedidosArr,(0,Pt.jsxs)("div",{className:"container",children:[(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsx)("h3",{children:"Vueltos"})})}),null===a?(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:r,name:"qDeudores",onChange:t}),(0,Pt.jsxs)("table",{className:"table table-hoverable",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-center",children:"Nombres"}),(0,Pt.jsx)("th",{className:"text-right",children:"Vuelto"})]})}),(0,Pt.jsx)("tbody",{children:n.map((function(e,t){return e?(0,Pt.jsxs)("tr",{className:"text-center pointer",onClick:function(){d(1),o(t)},children:[(0,Pt.jsxs)("td",{children:[e.id," - ",e.nombre," - ",e.identificacion]}),(0,Pt.jsx)("td",{className:"text-right",children:(0,Pt.jsxs)("button",{className:"btn btn-outline-danger",children:["Vuelto ",e.totalVuelto]})})]},e.id):null}))})]}),n.length?null:(0,Pt.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,Pt.jsx)("i",{children:"Sin resultados!"})})]}):(0,Pt.jsxs)("div",{className:"p-4",children:[(0,Pt.jsx)("h3",{className:"text-center",children:(0,Pt.jsx)("i",{className:"fa fa-times text-danger pointer",onClick:function(){o(null),d(0)}})}),(0,Pt.jsx)("hr",{}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("table",{className:"table table-striped",children:[(0,Pt.jsxs)("thead",{children:[(0,Pt.jsx)("tr",{className:"",children:l.pedido_total?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("th",{className:"",colSpan:"2",children:n[a]?(0,Pt.jsxs)("div",{className:"",children:[(0,Pt.jsx)("span",{className:"",children:n[a].identificacion}),(0,Pt.jsx)("h1",{className:"",children:n[a].nombre})]}):null}),u?null:(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("td",{className:"text-right",children:["Balance: ",(0,Pt.jsx)("h2",{className:l.pedido_total.diferencia>0?"text-success":"text-danger",children:l.pedido_total.diferencia})]}),(0,Pt.jsx)("td",{className:"text-right h3 text-danger",children:l.pedido_total[1]}),(0,Pt.jsx)("td",{className:"text-right h3 text-success",children:l.pedido_total[0]})]})]}):null}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-right",children:"FECHA"}),(0,Pt.jsx)("th",{children:"PEDIDO"}),(0,Pt.jsx)("th",{children:"TIPO PAGO"}),(0,Pt.jsx)("th",{className:"text-right ",children:"CRDITO"}),(0,Pt.jsx)("th",{className:"text-right ",children:"ABONO"})]})]}),(0,Pt.jsxs)("tbody",{children:[u?null:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{colSpan:"2"}),(0,Pt.jsx)("td",{colSpan:"3",children:(0,Pt.jsx)("form",{onSubmit:s,className:"",children:(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Monto Abono (USD)"}),(0,Pt.jsx)("input",{type:"number",step:"0.01",name:"monto_pago_deudor",value:i,onChange:t,className:"form-control",placeholder:"0.00"}),(0,Pt.jsx)("small",{className:"text-muted",children:"El mtodo de pago se selecciona al procesar el pedido"})]})})})]}),l&&l.pedido?l.pedido.map((function(e){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{className:"d-flex justify-content-between"}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("button",{className:"btn btn-secondary btn-lg w-50","data-id":e.id,onClick:c,children:[e.id," ",(0,Pt.jsx)("i",{className:"fa fa-eye"})]})}),(0,Pt.jsxs)("td",{children:[e.pagos.map((function(t){return(0,Pt.jsxs)("div",{children:[1==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-info btn",children:["Trans. ",t.monto]}):null,2==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-secondary btn",children:["Deb. ",t.monto]}):null,3==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-success btn",children:["Efec. ",t.monto]}):null,6==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-danger btn","data-id":e.id,onClick:c,children:["Vuel. ",t.monto]}):null,4==t.tipo&&0!=t.monto?(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-warning btn",children:["Cred. ",t.monto]}):null]},t.id)})),e.entregado.map((function(e,t){return(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("span",{className:"w-50 btn-sm btn-warning btn",children:[e.descripcion," ",e.monto]})},e.id)}))]}),e.saldoDebe?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("th",{className:"text-danger h2 text-right",children:e.saldoDebe}),(0,Pt.jsx)("td",{})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{}),(0,Pt.jsx)("th",{className:"text-success h2 text-right",children:e.saldoAbono})]})]},e.id)})):null]})]})})]})]})},lr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ur(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const dr={date:ur({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ur({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ur({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},fr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function hr(e){return(t,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=r?.width?String(r.width):t;n=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=r?.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}const pr={ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:hr({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:hr({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:hr({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:hr({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:hr({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function mr(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(s,(e=>e.test(i))):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(s,(e=>e.test(i)));let l;l=e.valueCallback?e.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;return{value:l,rest:t.slice(i.length)}}}function gr(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;return{value:i,rest:t.slice(a.length)}}}const xr={ordinalNumber:gr({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:mr({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:mr({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:mr({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:mr({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mr({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},vr={code:"en-US",formatDistance:(e,t,r)=>{let n;const a=lr[e];return n="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:dr,formatRelative:(e,t,r,n)=>fr[e],localize:pr,match:xr,options:{weekStartsOn:0,firstWeekContainsDate:1}};let br={};function yr(){return br}Math.pow(10,8);const _r=6048e5,jr=Symbol.for("constructDateFrom");function wr(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&jr in e?e[jr](t):e instanceof Date?new e.constructor(t):new Date(t)}function Nr(e,t){return wr(t||e,e)}function Er(e){const t=Nr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Cr(e,t){const r=Nr(e,t?.in);return r.setHours(0,0,0,0),r}function Sr(e,t,r){const[n,a]=function(e,...t){const r=wr.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(r)}(r?.in,e,t),o=Cr(n),i=Cr(a),s=+o-Er(o),c=+i-Er(i);return Math.round((s-c)/864e5)}function Or(e,t){const r=Nr(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ar(e,t){const r=Nr(e,t?.in);return Sr(r,Or(r))+1}function Pr(e,t){const r=yr(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Nr(e,t?.in),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function Dr(e,t){return Pr(e,{...t,weekStartsOn:1})}function Ir(e,t){const r=Nr(e,t?.in),n=r.getFullYear(),a=wr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=Dr(a),i=wr(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const s=Dr(i);return r.getTime()>=o.getTime()?n+1:r.getTime()>=s.getTime()?n:n-1}function Tr(e,t){const r=Ir(e,t),n=wr(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Dr(n)}function Mr(e,t){const r=Nr(e,t?.in),n=+Dr(r)-+Tr(r);return Math.round(n/_r)+1}function kr(e,t){const r=Nr(e,t?.in),n=r.getFullYear(),a=yr(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=wr(t?.in||e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const s=Pr(i,t),c=wr(t?.in||e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const l=Pr(c,t);return+r>=+s?n+1:+r>=+l?n:n-1}function Rr(e,t){const r=yr(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=kr(e,t),o=wr(t?.in||e,0);o.setFullYear(a,0,n),o.setHours(0,0,0,0);return Pr(o,t)}function Br(e,t){const r=Nr(e,t?.in),n=+Pr(r,t)-+Rr(r,t);return Math.round(n/_r)+1}function Lr(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Fr={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Lr("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):Lr(r+1,2)},d:(e,t)=>Lr(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>Lr(e.getHours()%12||12,t.length),H:(e,t)=>Lr(e.getHours(),t.length),m:(e,t)=>Lr(e.getMinutes(),t.length),s:(e,t)=>Lr(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return Lr(Math.trunc(n*Math.pow(10,r-3)),t.length)}},Ur="midnight",Wr="noon",Vr="morning",zr="afternoon",Kr="evening",Gr="night",qr={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return Fr.y(e,t)},Y:function(e,t,r,n){const a=kr(e,n),o=a>0?a:1-a;if("YY"===t){return Lr(o%100,2)}return"Yo"===t?r.ordinalNumber(o,{unit:"year"}):Lr(o,t.length)},R:function(e,t){return Lr(Ir(e),t.length)},u:function(e,t){return Lr(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Lr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Lr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Fr.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Lr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Br(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):Lr(a,t.length)},I:function(e,t,r){const n=Mr(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):Lr(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):Fr.d(e,t)},D:function(e,t,r){const n=Ar(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):Lr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Lr(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Lr(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return Lr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(a=12===n?Wr:0===n?Ur:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(a=n>=17?Kr:n>=12?zr:n>=4?Vr:Gr,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return Fr.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):Fr.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):Lr(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):Lr(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Fr.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Fr.s(e,t)},S:function(e,t){return Fr.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return $r(n);case"XXXX":case"XX":return Yr(n);default:return Yr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return $r(n);case"xxxx":case"xx":return Yr(n);default:return Yr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Hr(n,":");default:return"GMT"+Yr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Hr(n,":");default:return"GMT"+Yr(n,":")}},t:function(e,t,r){return Lr(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return Lr(+e,t.length)}};function Hr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return 0===o?r+String(a):r+String(a)+t+Lr(o,2)}function $r(e,t){if(e%60==0){return(e>0?"-":"+")+Lr(Math.abs(e)/60,2)}return Yr(e,t)}function Yr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e);return r+Lr(Math.trunc(n/60),2)+t+Lr(n%60,2)}const Xr=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Qr=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Zr={p:Qr,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Xr(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",Xr(n,t)).replace("{{time}}",Qr(a,t))}},Jr=/^D+$/,en=/^Y+$/,tn=["D","DD","YY","YYYY"];function rn(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function nn(e){return!(!rn(e)&&"number"!=typeof e||isNaN(+Nr(e)))}const an=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,on=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sn=/^'([^]*?)'?$/,cn=/''/g,ln=/[a-zA-Z]/;function un(e,t,r){const n=yr(),a=r?.locale??n.locale??vr,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Nr(e,r?.in);if(!nn(s))throw new RangeError("Invalid time value");let c=t.match(on).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Zr[t])(e,a.formatLong)}return e})).join("").match(an).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:dn(e)};if(qr[t])return{isToken:!0,value:e};if(t.match(ln))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));a.localize.preprocessor&&(c=a.localize.preprocessor(s,c));const l={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map((n=>{if(!n.isToken)return n.value;const o=n.value;(!r?.useAdditionalWeekYearTokens&&function(e){return en.test(e)}(o)||!r?.useAdditionalDayOfYearTokens&&function(e){return Jr.test(e)}(o))&&function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(n),tn.includes(e))throw new RangeError(n)}(o,t,String(e));return(0,qr[o[0]])(s,o,a.localize,l)})).join("")}function dn(e){const t=e.match(sn);return t?t[1].replace(cn,"'"):e}const fn={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},hn={date:ur({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:ur({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:ur({formats:{full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},pn={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},mn={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},gn={ordinalNumber:(e,t)=>Number(e)+"",era:hr({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},defaultWidth:"wide"}),quarter:hr({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:hr({values:{narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},defaultWidth:"wide"}),day:hr({values:{narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},defaultWidth:"wide"}),dayPeriod:hr({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},defaultFormattingWidth:"wide"})},xn={ordinalNumber:gr({matchPattern:/^(\d+)()?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:mr({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},defaultParseWidth:"any"}),quarter:mr({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:mr({matchPatterns:{narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},defaultParseWidth:"any"}),day:mr({matchPatterns:{narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:mr({matchPatterns:{narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},defaultParseWidth:"any"})},vn={code:"es",formatDistance:(e,t,r)=>{let n;const a=fn[e];return n="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},formatLong:hn,formatRelative:(e,t,r,n)=>1!==t.getHours()?mn[e]:pn[e],localize:gn,match:xn,options:{weekStartsOn:1,firstWeekContainsDate:1}},bn=vn;function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function _n(e){return function(e){if(Array.isArray(e))return Sn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(){jn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==yn(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(yn(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function wn(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Nn(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){wn(o,n,a,i,s,"next",e)}function s(e){wn(o,n,a,i,s,"throw",e)}i(void 0)}))}}function En(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||Cn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(e,t){if(e){if("string"==typeof e)return Sn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sn(e,t):void 0}}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){Pn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=yn(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dn=200,In={1:"PENDIENTE",2:"PROCESADO",3:"EN REVISION",4:"REVISADO"},Tn={PENDIENTE:1,"EN REVISION":3,REVISADO:4,PROCESADO:2},Mn=(Object.values(In),[{id:1,nombre_sucursal:"Sucursal Principal (Automtica)",direccion_sucursal:"Calle Falsa 123"},{id:2,nombre_sucursal:"Sucursal Norte",direccion_sucursal:"Av. Norte 456"},{id:3,nombre_sucursal:"Sucursal Centro",direccion_sucursal:"Plaza Central 789"},{id:4,nombre_sucursal:"Almacn General",direccion_sucursal:"Bodega 001"}]),kn=[{id:101,sucursal_id:1,codigo_barras:"7501001",codigo_proveedor:"PROV001",descripcion:"Laptop Gamer Pro X",cantidad:15,precio:1200,precio_base:1e3},{id:102,sucursal_id:1,codigo_barras:"7501002",codigo_proveedor:"PROV002",descripcion:'Monitor Curvo 32"',cantidad:25,precio:450,precio_base:380},{id:103,sucursal_id:1,codigo_barras:"7501003",codigo_proveedor:"PROV001",descripcion:"Teclado Mecnico RGB",cantidad:50,precio:80,precio_base:60},{id:104,sucursal_id:1,codigo_barras:"7501004",codigo_proveedor:"PROV003",descripcion:"Mouse Inalmbrico Ergo",cantidad:30,precio:40,precio_base:30},{id:105,sucursal_id:1,codigo_barras:"7501005",codigo_proveedor:"PROV002",descripcion:"Webcam HD 1080p",cantidad:0,precio:60,precio_base:45},{id:106,sucursal_id:1,codigo_barras:"SCANTEST001",codigo_proveedor:"SCAN01",descripcion:"Producto Escner Rpido",cantidad:100,precio:10,precio_base:5}],Rn=(new Date(2024,4,10,10,30).toISOString(),new Date(2024,4,10,11,0).toISOString(),new Date(2024,4,10,10,30).toISOString(),new Date(2024,4,10,10,30).toISOString(),new Date(2024,4,10,10,30).toISOString(),new Date(2024,4,10,10,30).toISOString(),Mn.find((function(e){return 1===e.id})),Mn.find((function(e){return 2===e.id})),new Date(2024,4,15,14,0).toISOString(),new Date(2024,4,15,14,5).toISOString(),new Date(2024,4,15,14,0).toISOString(),new Date(2024,4,15,14,0).toISOString(),Mn.find((function(e){return 1===e.id})),Mn.find((function(e){return 3===e.id})),new Date(Date.now()-18e6).toISOString(),new Date(Date.now()-18e6).toISOString(),new Date(Date.now()-18e6).toISOString(),new Date(Date.now()-18e6).toISOString(),Mn.find((function(e){return 1===e.id})),Mn.find((function(e){return 4===e.id})),function(e){var t=e.estadoNum,r=In[t]||"DESCONOCIDO";return(0,Pt.jsx)("span",{className:"px-3 py-1 text-xs font-semibold rounded-full leading-tight ".concat({PENDIENTE:"bg-red-500 text-white","EN REVISION":"bg-yellow-400 text-black",REVISADO:"bg-sky-500 text-white",PROCESADO:"bg-green-500 text-white",DESCONOCIDO:"bg-gray-400 text-black"}[r]),children:r})}),Bn=function(e){var t=e.onProductSelect,r=e.sucursalIdOrigen,n=e.placeholder,a=void 0===n?"Buscar producto...":n,i=En((0,o.useState)(""),2),s=i[0],c=i[1],l=En((0,o.useState)([]),2),u=l[0],d=l[1],f=En((0,o.useState)(!1),2),h=f[0],p=f[1],m=En((0,o.useState)(!1),2),g=m[0],x=m[1],v=En((0,o.useState)(null),2),b=v[0],y=v[1],_=En((0,o.useState)(!1),2),j=_[0],w=_[1],N=En((0,o.useState)(""),2),E=N[0],C=N[1],S=(0,o.useRef)(null),O=(0,o.useRef)(null),A=(0,o.useRef)(null),P=(0,o.useCallback)(function(){var e=Nn(jn().mark((function e(t){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&""!==t.trim()){e.next=4;break}return d([]),x(!1),e.abrupt("return");case 4:return p(!0),e.prev=5,e.next=8,ke.A.getinventario({vendedor:null,num:25,itemCero:!1,qProductosMain:t,orderColumn:"descripcion",orderBy:"asc"});case 8:r=e.sent,console.log(r.data),d(r.data||[]),x(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error("Error buscando productos (mock):",e.t0),d([]);case 18:return e.prev=18,p(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,14,18,21]])})));return function(t){return e.apply(this,arguments)}}(),[r]);(0,o.useEffect)((function(){return A.current&&clearTimeout(A.current),""!==s.trim()?A.current=setTimeout((function(){return P(s)}),300):(d([]),x(!1)),function(){return clearTimeout(A.current)}}),[s,P]);var D=function(){var e,r=""===E.trim()?"1.00":E,n=parseFloat(r),a=parseFloat(b.cantidad);n>a?alert("La cantidad seleccionada (".concat(r,") excede el stock disponible (").concat(a,").")):(t(An(An({},b),{},{cantidadInicial:r})),c(""),y(null),C(""),w(!1),null===(e=S.current)||void 0===e||e.focus())};return(0,o.useEffect)((function(){var e;null===(e=S.current)||void 0===e||e.focus(),j&&setTimeout((function(){var e;null===(e=O.current)||void 0===e||e.focus()}),100)}),[j]),(0,Pt.jsxs)("div",{className:"relative w-full",children:[(0,Pt.jsx)("input",{ref:S,type:"text",className:"form-input w-full p-2 border border-gray-300 rounded-md shadow-sm",placeholder:a,value:s,onChange:function(e){return c(e.target.value)},onFocus:function(){return s&&u.length>0&&x(!0)},onBlur:function(){return setTimeout((function(){return x(!1)}),150)}}),h&&(0,Pt.jsx)("div",{className:"absolute mt-1 w-full p-2 text-sm text-gray-500 bg-white border rounded shadow-lg",children:"Buscando..."}),g&&(0,Pt.jsx)("ul",{className:"absolute z-20 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-72 overflow-y-auto",children:u.length>0?u.map((function(e){return(0,Pt.jsx)("li",{className:"px-3 py-2 hover:bg-indigo-50 cursor-pointer",onMouseDown:function(){return function(e){y(e),C(""),w(!0),x(!1)}(e)},children:(0,Pt.jsx)("div",{className:"flex justify-between items-center",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"font-medium",children:e.descripcion}),(0,Pt.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Pt.jsx)("b",{children:e.codigo_barras})," | ",e.codigo_proveedor]}),(0,Pt.jsxs)("div",{className:"text-sm text-gray-600",children:["Stock: ",e.cantidad]})]})})},e.id)})):!h&&s&&(0,Pt.jsx)("li",{className:"px-3 py-2 text-gray-500",children:"No se encontraron productos."})}),j&&b&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Pt.jsx)("div",{className:"relative top-20 mx-auto p-2 border shadow-lg rounded-md bg-white",children:(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Seleccionar Cantidad"}),(0,Pt.jsxs)("div",{className:"mt-2 px-7 py-3",children:[(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Producto:"}),(0,Pt.jsx)("p",{className:"font-medium",children:b.descripcion}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-500",children:["Stock disponible: ",b.cantidad]})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("label",{htmlFor:"cantidad",className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),(0,Pt.jsx)("input",{ref:O,type:"number",id:"cantidad",step:"0.01",min:"0.01",max:b.cantidad,value:E,onChange:function(e){var t=e.target.value;(""===t||/^\d*\.?\d{0,2}$/.test(t))&&C(t)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),D())},className:"form-input w-full p-4 text-2xl text-center border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:""})]})]}),(0,Pt.jsxs)("div",{className:"flex justify-end space-x-3 px-4 py-3",children:[(0,Pt.jsx)("button",{onClick:function(){w(!1),y(null),C("")},className:"px-4 py-2 bg-gray-200 text-gray-800 text-base font-medium rounded-md shadow-sm hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Cancelar"}),(0,Pt.jsx)("button",{onClick:D,className:"px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"Agregar"})]})]})})})]})},Ln=function(e){var t=e.item,r=e.onRemove,n=e.onQuantityChange,a=e.isEditable,o=e.index,i=e.totalItems;return(0,Pt.jsxs)("li",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center p-3 border-b border-gray-200 space-y-2 sm:space-y-0 relative",children:[(0,Pt.jsxs)("div",{className:"absolute top-2 right-2 bg-gray-100 text-gray-600 text-xs font-medium px-2 py-1 rounded",children:[o+1,"/",i]}),(0,Pt.jsxs)("div",{className:"flex-grow",children:[(0,Pt.jsx)("p",{className:"font-semibold text-gray-800",children:t.descripcion_real}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-500",children:[(0,Pt.jsx)("b",{children:t.barras_real})," | ",t.alterno_real]})]}),(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsx)("input",{type:"text",inputMode:"decimal",value:t.cantidad,onChange:function(e){var r=e.target.value;""!==r?/^\d*\.?\d{0,2}$/.test(r)&&n(t.id_producto_insucursal,r):n(t.id_producto_insucursal,"")},onBlur:function(e){var r=e.target.value;""===r||isNaN(parseFloat(r))||parseFloat(r)<=0?n(t.id_producto_insucursal,"1.00"):n(t.id_producto_insucursal,parseFloat(r).toFixed(2))},readOnly:!a,className:"form-input w-24 p-2 border border-gray-300 rounded-md text-center ".concat(a?"focus:ring-indigo-500 focus:border-indigo-500":"bg-gray-100"),"aria-label":"Cantidad para ".concat(t.descripcion_real)}),a&&(0,Pt.jsx)("button",{onClick:function(){return r(t.id_producto_insucursal)},className:"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-3 rounded-md text-sm transition",children:"Eliminar"})]})]})},Fn=function(e){var t=e.onSave,r=e.onCancel,n=e.sucursalActualId,a=e.transferenciaToEdit,i=void 0===a?null:a,s=e.sucursales,c=e.cargarTransferencias,l=!!i,u=n||1,d=En((0,o.useState)((null==i?void 0:i.id_destino)||""),2),f=d[0],h=d[1],p=En((0,o.useState)([]),2),m=p[0],g=p[1],x=En((0,o.useState)(""),2),v=x[0],b=x[1],y=En((0,o.useState)(!1),2),_=y[0],j=y[1],w=En((0,o.useState)(""),2),N=w[0],E=w[1],C=En((0,o.useState)((null==i?void 0:i.observaciones)||""),2),S=C[0],O=C[1],A=En((0,o.useState)(!1),2),P=A[0],D=A[1];(0,o.useEffect)((function(){if(i&&i.items){var e=i.items.map((function(e){kn.find((function(t){return t.id===e.id_producto_insucursal}));return{id:e.id,id_producto:e.producto.id,id_pedido:i.id,id_producto_insucursal:e.producto.id,cantidad:String(e.cantidad),base:String(e.producto.precio_base),venta:String(e.producto.precio),descuento:String(e.descuento||"0.00"),monto:String((parseFloat(e.cantidad)*parseFloat(e.producto.precio)).toFixed(2)),ct_real:parseFloat(e.cantidad),barras_real:e.producto.codigo_barras,alterno_real:e.producto.codigo_proveedor,descripcion_real:e.producto.descripcion,vinculo_real:e.id_producto_insucursal,created_at:e.created_at,updated_at:e.updated_at,cantidad_original_stock_inventario:(null==e?void 0:e.cantidad)||0,modificable:!0}}));console.log("Items mapeados para edicin:",e),g(e),O(i.observaciones||"")}}),[i]);var I=function(e){g((function(t){return t.filter((function(t){return t.id_producto_insucursal!==e}))}))},T=function(e,t){g((function(r){return r.map((function(r){if(r.id_producto_insucursal===e){if(""===t)return r;var n=parseFloat(t);parseFloat(r.cantidad_original_stock_inventario);if(isNaN(n)||n<=0)return r;var a=(n*parseFloat(r.venta)).toFixed(2);return An(An({},r),{},{cantidad:t,monto:String(a),ct_real:n})}return r}))}))},M=function(){var e=Nn(jn().mark((function e(r){var n,a,o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),b(""),E(""),f){e.next=6;break}return b("Debe seleccionar una sucursal de destino."),e.abrupt("return");case 6:if(0!==m.length){e.next=9;break}return b("Debe agregar al menos un producto."),e.abrupt("return");case 9:if(n=!0,m.forEach((function(e){var t=parseFloat(e.cantidad);parseFloat(e.cantidad_original_stock_inventario);(isNaN(t)||t<=0)&&(b("Cantidad invlida para ".concat(e.descripcion_real,".")),n=!1)})),n){e.next=13;break}return e.abrupt("return");case 13:return a={id_origen:u,id_destino:parseInt(f),observaciones:S.trim(),items:m.map((function(e){return{id:l?e.id:void 0,id_producto_insucursal:e.id_producto_insucursal,cantidad:e.cantidad,base:e.base,venta:e.venta,descripcion_real:e.descripcion_real,barras_real:e.barras_real}}))},l?(a.id=i.id,a.actualizando=!0):a.actualizando=!1,j(!0),e.prev=16,e.next=19,ke.A.settransferenciaDici(a);case 19:if(!(o=e.sent).data.estado){e.next=29;break}return E("Transferencia ".concat(l?"actualizada":"creada"," exitosamente.")),e.next=24,c();case 24:l||(h(""),g([]),O("")),t(o.data),setTimeout((function(){return E("")}),5e3),e.next=30;break;case 29:throw new Error(o.data.mensaje||"Error al procesar la transferencia");case 30:e.next=35;break;case 32:e.prev=32,e.t0=e.catch(16),b(e.t0.message||"Error al ".concat(l?"actualizar":"crear"," transferencia."));case 35:return e.prev=35,j(!1),e.finish(35);case 38:case"end":return e.stop()}}),e,null,[[16,32,35,38]])})));return function(t){return e.apply(this,arguments)}}();return(0,Pt.jsxs)("form",{onSubmit:M,className:"space-y-6 p-1 md:p-6 rounded-lg",children:[(0,Pt.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:l?"Editando Transferencia (Mock) #".concat(i.id):"Crear Nueva Transferencia (Mock)"}),v&&(0,Pt.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:(0,Pt.jsx)("p",{children:v})}),N&&(0,Pt.jsx)("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4",children:(0,Pt.jsx)("p",{children:N})}),(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{htmlFor:"id_destino",className:"block text-sm font-medium text-gray-700",children:"Sucursal Destino:"}),(0,Pt.jsxs)("select",{id:"id_destino",value:f,onChange:function(e){return h(e.target.value)},required:!0,className:"mt-1 block w-full p-2 border-gray-300 rounded-md shadow-sm",children:[(0,Pt.jsx)("option",{value:"",children:"-- Seleccione Destino --"}),s.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.codigo},e.id)}))]})]})}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsxs)("div",{className:"sticky top-0 z-10 bg-white pb-4 border-b border-gray-200",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Buscar y Agregar Productos:"}),(0,Pt.jsx)(Bn,{onProductSelect:function(e){if(m.find((function(t){return t.id_producto_insucursal===e.id})))alert("Este producto ya ha sido agregado.");else{var t={id:Dn++,id_producto:e.id,id_pedido:(null==i?void 0:i.id)||null,cantidad:e.cantidadInicial||"1.00",base:String(e.precio_base),venta:String(e.precio),descuento:"0.00",monto:String((parseFloat(e.cantidadInicial||"1.00")*parseFloat(e.precio)).toFixed(2)),ct_real:parseFloat(e.cantidadInicial||"1.00"),barras_real:e.codigo_barras,alterno_real:e.codigo_proveedor,descripcion_real:e.descripcion,vinculo_real:e.id,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),id_producto_insucursal:e.id,cantidad_original_stock_inventario:e.cantidad,modificable:!0};g((function(e){return[].concat(_n(e),[t])}))}},sucursalIdOrigen:u})]}),m.length>0&&(0,Pt.jsxs)("div",{className:"mt-6",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:["Productos en Transferencia (",m.length," items):"]}),(0,Pt.jsx)("ul",{className:"border rounded-md divide-y max-h-[calc(100vh-400px)] overflow-y-auto",children:m.map((function(e,t){return(0,Pt.jsx)(Ln,{item:e,onRemove:I,onQuantityChange:T,isEditable:!0,index:t,totalItems:m.length},e.id_producto_insucursal)}))})]})]}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("button",{type:"button",onClick:function(){return D(!P)},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,Pt.jsx)("i",{className:"fas fa-comment-alt mr-2 ".concat(P?"text-indigo-600":"text-gray-400")}),P?"Ocultar Observaciones":"Agregar Observaciones"]})}),P&&(0,Pt.jsxs)("div",{className:"mt-4 transition-all duration-200 ease-in-out",children:[(0,Pt.jsx)("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaciones"}),(0,Pt.jsx)("textarea",{id:"observaciones",value:S,onChange:function(e){return O(e.target.value)},rows:"3",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Ingrese observaciones adicionales sobre la transferencia..."})]}),(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-4",children:[(0,Pt.jsx)("button",{type:"button",onClick:r,disabled:_,className:"w-full sm:w-auto px-6 py-2.5 border rounded-md shadow-sm text-sm bg-white hover:bg-gray-50 transition",children:"Cancelar"}),(0,Pt.jsx)("button",{type:"submit",disabled:_||0===m.length,className:"w-full sm:w-auto inline-flex justify-center items-center px-6 py-2.5 border-transparent rounded-md shadow-sm text-sm text-white bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 transition",children:_?"Guardando...":l?"Actualizar Transferencia":"Crear Transferencia"})]})]})},Un=function(e){var t=e.transferencia,r=e.onBack;e.sucursales;if(!t)return(0,Pt.jsx)("p",{children:"Cargando detalles..."});var n=t.origen||Mn.find((function(e){return e.id===t.id_origen})),a=t.destino||Mn.find((function(e){return e.id===t.id_destino}));return(0,Pt.jsxs)("div",{className:"p-4 md:p-6 bg-white rounded-lg shadow-xl",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Pt.jsxs)("h2",{className:"text-2xl font-semibold text-gray-800",children:["Detalle de Transferencia #",t.id]}),(0,Pt.jsx)("button",{onClick:r,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-md transition",children:" Volver al Listado"})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 p-4 border rounded-md bg-gray-50",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-500",children:"ID Transferencia:"})," ",(0,Pt.jsx)("p",{className:"font-medium",children:t.idinsucursal||t.id})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-500",children:"Estado:"})," ",(0,Pt.jsx)(Rn,{estadoNum:t.estado})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-500",children:"Fecha Creacin:"})," ",(0,Pt.jsx)("p",{className:"font-medium",children:un(new Date(t.created_at),"dd/MM/yyyy HH:mm",{locale:bn})})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-500",children:"ltima Actualizacin:"})," ",(0,Pt.jsx)("p",{className:"font-medium",children:un(new Date(t.updated_at),"dd/MM/yyyy HH:mm",{locale:bn})})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-500",children:"Sucursal Origen:"})," ",(0,Pt.jsx)("p",{className:"font-medium",children:(null==n?void 0:n.nombre_sucursal)||"ID: ".concat(t.id_origen)})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-500",children:"Sucursal Destino:"})," ",(0,Pt.jsx)("p",{className:"font-medium",children:(null==a?void 0:a.nombre_sucursal)||"ID: ".concat(t.id_destino)})]}),t.observaciones&&(0,Pt.jsxs)("div",{className:"md:col-span-2",children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-500",children:"Observaciones:"}),(0,Pt.jsx)("p",{className:"font-medium whitespace-pre-wrap",children:t.observaciones})]})]}),(0,Pt.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-3",children:"Items Transferidos:"}),t.items&&t.items.length>0?(0,Pt.jsx)("ul",{className:"border rounded-md divide-y max-h-[50vh] overflow-y-auto",children:t.items.map((function(e,t){return(0,Pt.jsx)(Ln,{item:e,onRemove:function(){},onQuantityChange:function(){},isEditable:!1},e.id||t)}))}):(0,Pt.jsx)("p",{className:"text-gray-500",children:"No hay items en esta transferencia."}),(0,Pt.jsxs)("div",{className:"mt-6 pt-4 border-t text-right",children:[(0,Pt.jsxs)("p",{className:"text-sm text-gray-500",children:["Total Base: ",(0,Pt.jsxs)("span",{className:"font-medium",children:["$",parseFloat(t.base||0).toFixed(2)]})]}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-500",children:["Total Venta: ",(0,Pt.jsxs)("span",{className:"font-medium",children:["$",parseFloat(t.venta||0).toFixed(2)]})]})]})]})},Wn=function(e){e.sucursalActualId,e.onRequireRefresh;var t=e.onEdit,r=e.onViewDetails,n=e.sucursales,a=e.cargarTransferencias,o=e.transferencias,i=(e.setTransferencias,e.estaCargando),s=(e.setEstaCargando,e.error),c=(e.setError,e.filtros),l=e.setFiltros,u=(e.filtrosActivos,e.setFiltrosActivos),d=e.paginacion,f=(e.setPaginacion,e.mostrarFiltros),h=e.setMostrarFiltros,p=function(e){l((function(t){return An(An({},t),{},Pn({},e.target.name,e.target.value))}))};return i&&0===o.length?(0,Pt.jsx)("div",{className:"text-center p-10",children:"Cargando..."}):s?(0,Pt.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 my-4",children:(0,Pt.jsx)("p",{children:s})}):(0,Pt.jsxs)("div",{className:"rounded-lg",children:[(0,Pt.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 sm:px-6",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Transferencias"}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsxs)("button",{onClick:function(){return h(!f)},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,Pt.jsx)("i",{className:"fas fa-filter mr-2 ".concat(f?"text-indigo-600":"text-gray-400")}),"Filtros"]}),(0,Pt.jsx)("button",{onClick:function(){u(An({},c)),a()},className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:(0,Pt.jsx)("i",{className:"fas fa-search mr-2"})})]})]})}),(0,Pt.jsx)("div",{className:"border-b border-gray-200 transition-all duration-200 ".concat(f?"block":"hidden"),children:(0,Pt.jsx)("div",{className:"px-4 py-3 sm:px-6",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{htmlFor:"estatus_string_filter",className:"block text-xs font-medium text-gray-700",children:"ID"}),(0,Pt.jsx)("input",{name:"q",id:"q_filter",placeholder:"Buscar por ID",value:c.q,onChange:p,className:"mt-1 block w-full pl-3 pr-8 py-1.5 text-sm border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{htmlFor:"estatus_string_filter",className:"block text-xs font-medium text-gray-700",children:"Estado"}),(0,Pt.jsxs)("select",{name:"estatus_string",id:"estatus_string_filter",value:c.estatus_string,onChange:p,className:"mt-1 block w-full pl-3 pr-8 py-1.5 text-sm border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md",children:[(0,Pt.jsx)("option",{value:"",children:"Todos"}),(0,Pt.jsx)("option",{value:"0",children:"Pendiente"}),(0,Pt.jsx)("option",{value:"1",children:"Procesado"}),(0,Pt.jsx)("option",{value:"2",children:"Extrado"}),(0,Pt.jsx)("option",{value:"3",children:"En Revision"}),(0,Pt.jsx)("option",{value:"4",children:"Revisado"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{htmlFor:"id_destino_filter",className:"block text-xs font-medium text-gray-700",children:"Destino"}),(0,Pt.jsxs)("select",{name:"id_destino",id:"id_destino_filter",value:c.id_destino,onChange:p,className:"mt-1 block w-full pl-3 pr-8 py-1.5 text-sm border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md",children:[(0,Pt.jsx)("option",{value:"",children:"Todas"}),n.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.codigo},e.id)}))]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{htmlFor:"limit_filter",className:"block text-xs font-medium text-gray-700",children:"Resultados"}),(0,Pt.jsxs)("select",{name:"limit",id:"limit_filter",value:c.limit,onChange:p,className:"mt-1 block w-full pl-3 pr-8 py-1.5 text-sm border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 rounded-md",children:[(0,Pt.jsx)("option",{value:"10",children:"10"}),(0,Pt.jsx)("option",{value:"25",children:"25"}),(0,Pt.jsx)("option",{value:"50",children:"50"}),(0,Pt.jsx)("option",{value:"100",children:"100"})]})]})]})})}),(0,Pt.jsx)("div",{className:"p-0",children:i&&0===o.length?(0,Pt.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"}),(0,Pt.jsx)("span",{className:"ml-3 text-gray-600",children:"Cargando transferencias..."})]}):s?(0,Pt.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 m-4",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("div",{className:"flex-shrink-0",children:(0,Pt.jsx)("i",{className:"fas fa-exclamation-circle text-red-500"})}),(0,Pt.jsx)("div",{className:"ml-3",children:(0,Pt.jsx)("p",{className:"text-sm text-red-700",children:s})})]})}):0===o.length?(0,Pt.jsxs)("div",{className:"text-center py-12",children:[(0,Pt.jsx)("i",{className:"fas fa-box-open text-gray-400 text-4xl mb-3"}),(0,Pt.jsx)("p",{className:"text-gray-500",children:"No se encontraron transferencias"})]}):(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map((function(e){var n,a,o;return(0,Pt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",children:[(0,Pt.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Pt.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["#",e.id]}),(0,Pt.jsx)(Rn,{estadoNum:e.estado})]}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsx)("button",{onClick:function(){return r(e)},className:"text-indigo-600 hover:text-indigo-900 p-1 rounded-full hover:bg-indigo-50",title:"Ver detalles",children:(0,Pt.jsx)("i",{className:"fas fa-eye"})}),e.estado===Tn.PENDIENTE&&(0,Pt.jsx)("button",{onClick:function(){return t(e)},className:"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-50",title:"Editar",children:(0,Pt.jsx)("i",{className:"fas fa-edit"})})]})]})}),(0,Pt.jsx)("div",{className:"p-4",children:(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Pt.jsx)("i",{className:"far fa-clock w-5"}),(0,Pt.jsx)("span",{className:"ml-2",children:un(new Date(e.created_at),"dd/MM/yy HH:mm",{locale:bn})})]}),(0,Pt.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Pt.jsx)("i",{className:"fas fa-warehouse w-5"}),(0,Pt.jsx)("span",{className:"ml-2",children:(null===(n=e.origen)||void 0===n?void 0:n.nombre_sucursal)||"ID: ".concat(e.id_origen)})]}),(0,Pt.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Pt.jsx)("i",{className:"fas fa-truck w-5"}),(0,Pt.jsx)("span",{className:"ml-2",children:(null===(a=e.destino)||void 0===a?void 0:a.nombre_sucursal)||"ID: ".concat(e.id_destino)})]}),(0,Pt.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Pt.jsx)("i",{className:"fas fa-boxes w-5"}),(0,Pt.jsxs)("span",{className:"ml-2",children:[(null===(o=e.items)||void 0===o?void 0:o.length)||0," productos"]})]}),(0,Pt.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[(0,Pt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Pt.jsx)("span",{className:"text-gray-500",children:"Total Base:"}),(0,Pt.jsxs)("span",{className:"font-medium text-gray-900",children:["$",parseFloat(e.base||0).toFixed(2)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,Pt.jsx)("span",{className:"text-gray-500",children:"Total Venta:"}),(0,Pt.jsxs)("span",{className:"font-medium text-gray-900",children:["$",parseFloat(e.venta||0).toFixed(2)]})]})]})]})})]},e.id)}))})}),d.last_page>1&&(0,Pt.jsx)("div",{className:"px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0",children:[(0,Pt.jsxs)("div",{className:"text-sm text-gray-700",children:["Mostrando ",(0,Pt.jsx)("span",{className:"font-medium",children:d.from||0})," a ",(0,Pt.jsx)("span",{className:"font-medium",children:d.to||0})," de ",(0,Pt.jsx)("span",{className:"font-medium",children:d.total||0})," resultados"]}),(0,Pt.jsxs)("div",{className:"flex space-x-1",children:[(0,Pt.jsx)("button",{onClick:function(){return handlePageChange(1)},disabled:1===d.current_page||i,className:"relative inline-flex items-center px-2 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:(0,Pt.jsx)("i",{className:"fas fa-angle-double-left"})}),(0,Pt.jsx)("button",{onClick:function(){return handlePageChange(d.current_page-1)},disabled:1===d.current_page||i,className:"relative inline-flex items-center px-2 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:(0,Pt.jsx)("i",{className:"fas fa-angle-left"})}),(0,Pt.jsxs)("span",{className:"relative inline-flex items-center px-3 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white",children:["Pgina ",d.current_page," de ",d.last_page]}),(0,Pt.jsx)("button",{onClick:function(){return handlePageChange(d.current_page+1)},disabled:d.current_page===d.last_page||i,className:"relative inline-flex items-center px-2 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:(0,Pt.jsx)("i",{className:"fas fa-angle-right"})}),(0,Pt.jsx)("button",{onClick:function(){return handlePageChange(d.last_page)},disabled:d.current_page===d.last_page||i,className:"relative inline-flex items-center px-2 py-1.5 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:(0,Pt.jsx)("i",{className:"fas fa-angle-double-right"})})]})]})})]})};const Vn=function(e){var t=e.sucursalActualId,r=En((0,o.useState)("list"),2),n=r[0],a=r[1],i=En((0,o.useState)(null),2),s=i[0],c=i[1],l=En((0,o.useState)(0),2),u=l[0],d=l[1],f=En((0,o.useState)([]),2),h=f[0],p=f[1],m=En((0,o.useState)([]),2),g=m[0],x=m[1],v=En((0,o.useState)(!0),2),b=v[0],y=v[1],_=En((0,o.useState)(""),2),j=_[0],w=_[1],N=En((0,o.useState)({q:"",estatus_string:"",id_destino:"",limit:10}),2),E=N[0],C=N[1],S=En((0,o.useState)({q:"",estatus_string:"",id_destino:"",limit:10}),2),O=S[0],A=S[1],P=En((0,o.useState)({}),2),D=P[0],I=P[1],T=En((0,o.useState)(!1),2),M=T[0],k=T[1],R=(0,o.useCallback)(function(){var e=Nn(jn().mark((function e(t){var r;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.A.reqMipedidos(t);case 3:return r=e.sent,e.abrupt("return",{transferencias:r.data.data||[],paginacion:r.data});case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Error al cargar transferencias");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[]);(0,o.useEffect)((function(){var e=function(){var e=Nn(jn().mark((function e(){var t,r,n;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),w(""),e.prev=2,e.next=5,R(O);case 5:t=e.sent,r=t.transferencias,n=t.paginacion,x(r),I(n),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),w("No se pudieron cargar las transferencias."),x([]);case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,12,16,19]])})));return function(){return e.apply(this,arguments)}}();e()}),[R,O,u]),(0,o.useEffect)((function(){var e=function(){var e=Nn(jn().mark((function e(){var t;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.A.getSucursales();case 3:(t=e.sent).data.msj&&p(t.data.msj),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error cargando sucursales:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var B=function(){a("list"),c(null)},L=t||1;return(0,Pt.jsxs)("div",{className:"mx-auto px-2 py-4 sm:px-4 md:px-6",children:[(0,Pt.jsx)("header",{className:"mb-6 pb-4 border-b border-gray-200",children:(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[(0,Pt.jsx)("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-800",children:"Gestin de Transferencias"}),"list"===n&&(0,Pt.jsx)("button",{onClick:function(){c(null),a("form")},className:"mt-3 sm:mt-0 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition",children:"+ Nueva Transferencia"}),("form"===n||"detail"===n)&&(0,Pt.jsx)("button",{onClick:B,className:"mt-3 sm:mt-0 bg-gray-600 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition",children:" Volver al Listado"})]})}),(0,Pt.jsxs)("main",{children:["list"===n&&(0,Pt.jsx)(Wn,{sucursalActualId:L,onRequireRefresh:u,onEdit:function(e){c(e),a("form")},onViewDetails:function(e){c(e),a("detail")},sucursales:h,cargarTransferencias:R,transferencias:g,setTransferencias:x,estaCargando:b,setEstaCargando:y,error:j,setError:w,filtros:E,setFiltros:C,filtrosActivos:O,setFiltrosActivos:A,paginacion:D,setPaginacion:I,mostrarFiltros:M,setMostrarFiltros:k}),"form"===n&&(0,Pt.jsx)(Fn,{onSave:function(e){console.log("Transferencia guardada:",e),a("list"),c(null),d((function(e){return e+1}))},onCancel:B,sucursalActualId:L,transferenciaToEdit:s,sucursales:h,cargarTransferencias:R}),"detail"===n&&(0,Pt.jsx)(Un,{transferencia:s,onBack:B,sucursales:h})]})]})};function zn(e){return zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zn(e)}function Kn(){Kn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==zn(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(zn(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function Gn(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function $n(e){var t=e.pedidosCentral,r=e.indexPedidoCentral,n=e.setIndexPedidoCentral,a=e.qpedidoscentralq,i=e.setqpedidoscentralq,s=e.qpedidocentrallimit,c=e.setqpedidocentrallimit,l=e.qpedidocentralemisor,u=e.setqpedidocentralemisor,d=e.sucursalesCentral,f=e.getPedidosCentral,h=e.getSucursales,p=e.showdetailsPEdido,m=e.setshowdetailsPEdido,g=e.moneda,x=e.selectPedidosCentral,v=e.checkPedidosCentral,b=qn((0,o.useState)(null),2),y=b[0],_=b[1],j=qn((0,o.useState)(""),2),w=j[0],N=j[1],E=(0,o.useRef)(null),C=qn((0,o.useState)(!1),2),S=C[0],O=C[1],A=function(){var e,n=(e=Kn().mark((function e(n){var a,o,i,s,c,l;return Kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&null!==y){e.next=2;break}return e.abrupt("return");case 2:return a=t[r].items[y],N(" Validando ubicacin ".concat(n,"...")),e.prev=4,e.next=7,fetch("/warehouses/buscar?buscar=".concat(encodeURIComponent(n)));case 7:return o=e.sent,e.next=10,o.json();case 10:if((i=e.sent).ubicaciones&&0!==i.ubicaciones.length){e.next=15;break}return N(' Ubicacin "'.concat(n,'" no existe o no est activa')),setTimeout((function(){N(" Producto seleccionado: ".concat(a.producto.descripcion.substring(0,50),"... |  ESCANEA LA UBICACIN"))}),3e3),e.abrupt("return");case 15:if(s=i.ubicaciones.find((function(e){return e.codigo.toLowerCase()===n.toLowerCase()}))){e.next=20;break}return N(' No se encontr ubicacin exacta con cdigo "'.concat(n,'"')),setTimeout((function(){N(" Producto seleccionado: ".concat(a.producto.descripcion.substring(0,50),"... |  ESCANEA LA UBICACIN"))}),3e3),e.abrupt("return");case 20:l={currentTarget:{attributes:{"data-index":{value:y},"data-tipo":{value:"changewarehouse"}},value:(c=s).codigo,setAttribute:function(e,t){this.attributes[e]={value:t}}}},x(l),N(" Ubicacin ".concat(c.codigo," (").concat(c.nombre||"Sin nombre",") asignada a: ").concat(a.producto.descripcion.substring(0,40),"...")),_(null),O(!1),setTimeout((function(){N(""),E.current&&(E.current.focus(),E.current.select())}),2e3),e.next=34;break;case 29:e.prev=29,e.t0=e.catch(4),console.error("Error al validar ubicacin:",e.t0),N(" Error al validar ubicacin: ".concat(e.t0.message)),setTimeout((function(){N(" Producto seleccionado: ".concat(a.producto.descripcion.substring(0,50),"... |  ESCANEA LA UBICACIN"))}),3e3);case 34:case"end":return e.stop()}}),e,null,[[4,29]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Gn(o,n,a,i,s,"next",e)}function s(e){Gn(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:[(0,Pt.jsx)("div",{className:"mb-4 bg-white rounded-lg shadow p-4 border-l-4 border-blue-400",children:(0,Pt.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-700 flex items-center gap-2",children:[(0,Pt.jsxs)("span",{className:"text-blue-600",children:[(0,Pt.jsx)("i",{className:"fas fa-warehouse"})," TCR"]}),(0,Pt.jsx)("span",{className:"text-gray-500",children:"Recepcin de Mercanca"})]}),(0,Pt.jsx)("p",{className:"text-gray-400 mt-1 text-xs lg:text-sm",children:"Sistema inteligente de gestin y ubicacin"})]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-500 text-white rounded-lg shadow text-sm",children:[(0,Pt.jsx)("i",{className:"fas fa-barcode"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Sistema de Pistoleo"})]})]})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,Pt.jsx)("div",{className:"lg:col-span-4 xl:col-span-3",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Pt.jsxs)("div",{className:"bg-gray-50 p-4 border-b border-gray-200",children:[(0,Pt.jsxs)("h2",{className:"text-lg font-bold text-gray-700 flex items-center gap-2 mb-4",children:[(0,Pt.jsx)("i",{className:"fas fa-filter text-blue-500"}),"Filtros de Bsqueda"]}),(0,Pt.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f()},className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Pt.jsx)("div",{className:"col-span-2",children:(0,Pt.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition",placeholder:"N Transferencia...",value:a,onChange:function(e){return i(e.target.value)}})}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("select",{className:"w-full px-2 py-2 text-xs border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition",value:s,onChange:function(e){return c(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todo"}),(0,Pt.jsx)("option",{value:"5",children:"5"}),(0,Pt.jsx)("option",{value:"10",children:"10"}),(0,Pt.jsx)("option",{value:"20",children:"20"}),(0,Pt.jsx)("option",{value:"50",children:"50"})]})})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Pt.jsxs)("div",{className:"col-span-2",children:[(0,Pt.jsx)("select",{className:"w-full px-3 py-2 text-sm font-semibold text-green-700 bg-green-50 border border-green-300 rounded-lg cursor-not-allowed",value:"4",disabled:!0,children:(0,Pt.jsx)("option",{value:"4",children:" REVISADO"})}),(0,Pt.jsx)("p",{className:"text-xs text-gray-400 mt-1 text-center",children:"Solo pedidos revisados"})]}),(0,Pt.jsx)("div",{children:(0,Pt.jsx)("button",{type:"button",className:"w-full h-full px-2 py-2 bg-gray-50 hover:bg-gray-100 border border-gray-300 rounded-lg transition text-gray-500 hover:text-gray-700",onClick:h,title:"Actualizar sucursales",children:(0,Pt.jsx)("i",{className:"fas fa-sync-alt"})})})]}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-transparent transition",value:l,onChange:function(e){return u(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todas las Sucursales"}),d.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]})}),(0,Pt.jsxs)("button",{type:"submit",className:"w-full px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg shadow hover:shadow-lg transition transform hover:scale-[1.01] active:scale-[0.99]",children:[(0,Pt.jsx)("i",{className:"fas fa-search mr-2"}),"BUSCAR TRANSFERENCIAS"]})]})]}),(0,Pt.jsxs)("div",{className:"p-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Pt.jsxs)("h3",{className:"font-bold text-gray-700 flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-list text-blue-500"}),"Transferencias"]}),(0,Pt.jsx)("button",{className:"p-2 hover:bg-gray-50 rounded-lg transition",onClick:function(){return m(!p)},children:(0,Pt.jsx)("i",{className:"fas ".concat(p?"fa-chevron-up":"fa-chevron-down"," text-gray-500")})})]}),(0,Pt.jsx)("div",{className:"transition-all duration-300 overflow-hidden ".concat(p?"max-h-[70vh]":"max-h-0"),children:(0,Pt.jsx)("div",{className:"space-y-2 overflow-y-auto pr-1",style:{maxHeight:"70vh"},children:t.length?t.map((function(e,t){return e?(0,Pt.jsx)("div",{onClick:function(){return n(t)},"data-index":t,className:"group cursor-pointer rounded-lg border transition-all ".concat(r===t?"border-blue-400 bg-blue-50 shadow":"border-gray-200 hover:border-blue-300 bg-white hover:shadow"),children:(0,Pt.jsxs)("div",{className:"flex items-stretch",children:[(0,Pt.jsx)("div",{className:"flex items-center justify-center w-12 rounded-l-lg ".concat(1==e.estado?"bg-red-500":2==e.estado?"bg-green-500":3==e.estado?"bg-yellow-500":4==e.estado?"bg-blue-500":"bg-gray-300"),children:(0,Pt.jsx)("i",{className:"fas ".concat(1==e.estado?"fa-exclamation-circle":2==e.estado?"fa-check-circle":3==e.estado?"fa-search":4==e.estado?"fa-check-double":"fa-question-circle"," text-white text-lg")})}),(0,Pt.jsxs)("div",{className:"flex-1 p-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Pt.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-white text-xs font-bold rounded",children:["#",e.id]}),(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs font-bold rounded",style:{backgroundColor:e.origen.background,color:e.origen.color||"#fff"},children:e.origen.codigo}),(0,Pt.jsx)("span",{className:"px-2 py-1 text-[10px] font-bold rounded border ".concat(1==e.estado?"bg-red-100 text-red-700 border-red-200":3==e.estado?"bg-orange-100 text-orange-700 border-orange-200":4==e.estado?"bg-blue-100 text-blue-700 border-blue-200":"bg-gray-100 text-gray-600 border-gray-200"),children:1==e.estado?"PENDIENTE":3==e.estado?"EN REVISIN":4==e.estado?"REVISADO":"DESCONOCIDO"})]}),(0,Pt.jsxs)("span",{className:"text-xs text-gray-500 font-semibold",children:[(0,Pt.jsx)("i",{className:"fas fa-boxes mr-1"}),e.items.length]})]}),e.cxp&&(0,Pt.jsxs)("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:[(0,Pt.jsxs)("span",{className:"text-blue-600",children:["FACT ",e.cxp.numfact]}),(0,Pt.jsxs)("span",{className:"text-gray-500 ml-2",children:[e.cxp.proveedor.descripcion.substr(0,20),e.cxp.proveedor.descripcion.length>20?"...":""]})]}),(0,Pt.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,Pt.jsx)("i",{className:"far fa-clock mr-1"}),e.created_at]})]})]})},e.id):null})):(0,Pt.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[(0,Pt.jsx)("i",{className:"fas fa-inbox text-5xl mb-3"}),(0,Pt.jsx)("p",{className:"font-medium",children:"Sin resultados!"}),(0,Pt.jsx)("p",{className:"text-sm",children:"Intenta ajustar los filtros"})]})})})]})]})}),(0,Pt.jsx)("div",{className:"lg:col-span-8 xl:col-span-9",children:null!==r&&t&&t[r]?(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-blue-500",children:(0,Pt.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("p",{className:"text-sm text-gray-400 mb-2",children:[(0,Pt.jsx)("i",{className:"far fa-calendar mr-1"}),t[r].created_at]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,Pt.jsx)("span",{className:"text-2xl font-bold text-gray-700",children:"Pedido"}),(0,Pt.jsxs)("span",{className:"px-4 py-2 bg-blue-500 text-white font-bold text-xl rounded-lg shadow",children:["#",t[r].id]}),(0,Pt.jsxs)("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 font-semibold text-sm rounded-full border border-emerald-300",children:[(0,Pt.jsx)("i",{className:"fas fa-check-circle mr-1"}),"REVISADO"]})]})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-end gap-2 mb-2",children:[(0,Pt.jsx)("span",{className:"text-sm text-gray-400",children:"Base:"}),(0,Pt.jsx)("span",{className:"text-lg font-bold text-blue-600",children:g(t[r].base)})]}),(0,Pt.jsxs)("div",{className:"flex items-center justify-end gap-2 mb-2",children:[(0,Pt.jsx)("span",{className:"text-sm text-gray-400",children:"Venta:"}),(0,Pt.jsx)("span",{className:"text-2xl font-bold text-emerald-600",children:g(t[r].venta)})]}),(0,Pt.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,Pt.jsx)("i",{className:"fas fa-boxes mr-1"}),(0,Pt.jsx)("b",{children:t[r].items.length})," items"]})]})]})}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden border border-gray-200",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 border-b border-blue-700",children:(0,Pt.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-barcode text-2xl"}),"Sistema de Pistoleo - Asignacin de Ubicaciones"]})}),4===t[r].estado&&(0,Pt.jsx)("div",{className:"sticky top-0 z-50 shadow-lg border-b-4 -mx-6 px-6 py-4 mb-4 transition-all ".concat(S?"bg-gradient-to-r from-orange-100 to-orange-50 border-orange-500":"bg-white border-blue-500"),children:(0,Pt.jsx)("div",{className:"rounded-lg p-4 border-2 shadow-md transition-all ".concat(S?"bg-gradient-to-r from-orange-50 to-yellow-50 border-orange-400 animate-pulse":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-300"),children:(0,Pt.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Pt.jsx)("div",{className:"flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ".concat(S?"bg-orange-500":"bg-blue-500"),children:(0,Pt.jsx)("i",{className:"fas ".concat(S?"fa-map-marker-alt":"fa-barcode"," text-white text-xl")})}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center mb-2 gap-2 font-bold text-sm",children:[(0,Pt.jsx)("i",{className:"fas ".concat(S?"fa-map-marker-alt text-orange-700":"fa-barcode text-blue-600")}),(0,Pt.jsx)("span",{className:S?"text-orange-700":"text-blue-700",children:S?"Escanea Ubicacin":"Busca Producto"}),(0,Pt.jsxs)("span",{className:"ml-auto text-xs px-2 py-1 rounded ".concat(S?"bg-orange-500 text-white animate-bounce":"bg-blue-500 text-white"),children:[(0,Pt.jsx)("i",{className:"fas fa-thumbtack mr-1"}),S?"PASO 2/2":"SIEMPRE"]})]}),(0,Pt.jsx)("input",{ref:E,type:"text",placeholder:S?"Escanea ubicacin":"Cdigo de barras o proveedor",onKeyPress:function(e){if("Enter"===e.key||"blur"===e.type){var n=e.target.value.trim();if(!n)return;if(S&&null!==y)return A(n),void(e.target.value="");var a=t[r];if(!a)return;var o=a.items.findIndex((function(e){var t,r,a=null===(t=e.producto)||void 0===t||null===(t=t.codigo_barras)||void 0===t?void 0:t.toString().trim(),o=null===(r=e.producto)||void 0===r||null===(r=r.codigo_proveedor)||void 0===r?void 0:r.toString().trim();return a===n||o===n}));if(-1!==o){var i=a.items[o];if(i.warehouse_codigo)return N(" Producto ya tiene ubicacin: ".concat(i.warehouse_codigo)),e.target.value="",void setTimeout((function(){return N("")}),3e3);_(o),O(!0),N(" Producto seleccionado: ".concat(i.producto.descripcion.substring(0,50),"... |  ESCANEA LA UBICACIN")),e.target.value="",setTimeout((function(){var e=document.querySelector('[data-producto-card="'.concat(o,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)}else N(" Producto no encontrado en este pedido"),e.target.value="",setTimeout((function(){return N("")}),3e3)}},className:"w-full px-3 py-2 font-mono rounded border focus:ring-1 transition\n                                                            ".concat(S?"border-orange-400 focus:ring-orange-400 text-orange-900":"border-blue-400 focus:ring-blue-400","\n                                                        "),autoFocus:!0}),w&&(0,Pt.jsxs)("div",{className:"\n                                                            mt-2 px-2 py-1 rounded flex items-center gap-2 text-xs\n                                                            ".concat(w.startsWith("")||w.startsWith("")?"bg-emerald-100 text-emerald-800":w.startsWith("")?"bg-amber-100 text-amber-800":w.startsWith("")?"bg-blue-100 text-blue-800":w.startsWith("")?"bg-red-100 text-red-700":"bg-red-100 text-red-800","\n                                                        "),children:[(0,Pt.jsx)("i",{className:"fas ".concat(w.startsWith("")||w.startsWith("")?"fa-check-circle":w.startsWith("")?"fa-exclamation-triangle":w.startsWith("")?"fa-spinner fa-spin":w.startsWith("")?"fa-times-circle":"fa-exclamation-circle")}),(0,Pt.jsx)("span",{children:w})]})]})]})})}),(0,Pt.jsxs)("div",{className:"p-6 space-y-6",children:[4!==t[r].estado&&(0,Pt.jsx)("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-lg",children:(0,Pt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pt.jsx)("i",{className:"fas ".concat(1===t[r].estado?"fa-tasks":"fa-lock"," text-amber-600 text-2xl")}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-bold text-amber-800",children:1===t[r].estado?"Modo Revisin de Pedido":"Sistema de Pistoleo Deshabilitado"}),(0,Pt.jsx)("p",{className:"text-sm text-amber-700",children:1===t[r].estado?"Selecciona los productos para aprobarlos. El sistema de pistoleo estar disponible cuando el pedido est en estado REVISADO.":"El sistema de pistoleo solo est disponible para pedidos en estado REVISADO. Estado actual: ".concat(3==t[r].estado?"EN REVISIN":"DESCONOCIDO")})]})]})}),1===t[r].estado&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow space-y-3",children:[(0,Pt.jsxs)("button",{onClick:function(e){e.currentTarget.setAttribute("data-index","all"),e.currentTarget.setAttribute("data-tipo","selectall"),x(e)},"data-index":"all","data-tipo":"selectall",className:"w-full px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg shadow hover:shadow-lg transition transform hover:scale-[1.01] active:scale-[0.99] flex items-center justify-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-check-double"}),t[r].items.every((function(e){return!0===e.aprobado}))?"Deseleccionar Todos":"Seleccionar Todos"]}),t[r].items.length>0&&t[r].items.every((function(e){return!0===e.aprobado}))&&(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-emerald-700",children:[(0,Pt.jsx)("i",{className:"fas fa-check-circle text-xl"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Todos los productos han sido revisados"})]})}),(0,Pt.jsxs)("button",{onClick:v,className:"w-full px-4 py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold text-lg rounded-lg shadow-lg hover:shadow-xl transition transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-save text-xl"}),"Guardar Pedido Revisado"]})]})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-clipboard-list text-blue-500"}),"Lista de Productos",4===t[r].estado&&(0,Pt.jsx)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:"(Escanea la ubicacin directamente en cada producto)"})]}),(0,Pt.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:t[r].items.map((function(e,n){return(0,Pt.jsxs)("div",{"data-producto-card":n,className:"rounded-lg border p-4 transition-all ".concat(4===t[r].estado?e.warehouse_codigo?"border-emerald-300 bg-emerald-50 shadow":y===n?"border-blue-500 bg-gradient-to-r from-blue-100 to-blue-50 shadow-2xl ring-4 ring-blue-300 scale-[1.02] transform":"border-amber-300 bg-amber-50 hover:border-amber-400 hover:shadow-md":1===t[r].estado?!0===e.aprobado?"border-emerald-300 bg-emerald-50 shadow":!1===e.aprobado?"border-red-300 bg-red-50":"border-gray-300 bg-gray-50":"border-gray-300 bg-gray-50"),children:[4===t[r].estado&&y===n&&!e.warehouse_codigo&&(0,Pt.jsxs)("div",{className:"mb-3 -mt-2 -mx-2 px-4 py-2 bg-blue-600 text-white rounded-t-lg flex items-center gap-2 animate-pulse",children:[(0,Pt.jsx)("i",{className:"fas fa-arrow-down text-xl"}),(0,Pt.jsx)("span",{className:"font-bold text-sm uppercase",children:"Producto Seleccionado - Escanea la ubicacin abajo"}),(0,Pt.jsx)("i",{className:"fas fa-arrow-down text-xl"})]}),(0,Pt.jsxs)("div",{className:"flex items-start gap-4",children:[1===t[r].estado&&(0,Pt.jsx)("div",{className:"flex-shrink-0 pt-2",children:(0,Pt.jsx)("input",{type:"checkbox",checked:!0===e.aprobado,onChange:function(){},onClick:function(e){e.currentTarget.setAttribute("data-index",n),e.currentTarget.setAttribute("data-tipo","select"),x(e)},"data-index":n,"data-tipo":"select",className:"w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"})}),(0,Pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between gap-3 mb-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,Pt.jsxs)("span",{className:"flex-shrink-0 px-3 py-1 font-bold text-sm rounded-lg ".concat(4===t[r].estado?e.warehouse_codigo?"bg-emerald-500 text-white":"bg-amber-500 text-white":1===t[r].estado?!0===e.aprobado?"bg-emerald-500 text-white":!1===e.aprobado?"bg-red-500 text-white":"bg-gray-500 text-white":"bg-gray-500 text-white"),children:["#",n+1]}),(0,Pt.jsx)("h4",{className:"font-bold text-gray-700 text-base flex-1 min-w-0",children:e.producto.descripcion})]}),(0,Pt.jsxs)("button",{onClick:function(){var t=document.createElement("form");t.method="POST",t.action="/warehouse-inventory/imprimir-ticket-producto",t.target="_blank";var r=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),n=document.createElement("input");n.type="hidden",n.name="_token",n.value=r,t.appendChild(n);var a={codigo_barras:e.producto.codigo_barras||"",codigo_proveedor:e.producto.codigo_proveedor||"",descripcion:e.producto.descripcion||"",marca:e.producto.marca||""};Object.keys(a).forEach((function(e){var r=document.createElement("input");r.type="hidden",r.name=e,r.value=a[e],t.appendChild(r)})),document.body.appendChild(t),t.submit(),document.body.removeChild(t)},className:"flex-shrink-0 px-2 py-1.5 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white text-xs font-semibold rounded shadow hover:shadow-md transition transform hover:scale-105 active:scale-95 flex items-center justify-center gap-1",title:"Imprimir Ticket",children:[(0,Pt.jsx)("i",{className:"fas fa-print text-sm"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Ticket"})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-3",children:[(0,Pt.jsxs)("p",{className:"flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-barcode text-blue-500"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Cdigo Barras:"}),(0,Pt.jsx)("span",{className:"font-mono text-xs",children:e.producto.codigo_barras||"N/A"})]}),(0,Pt.jsxs)("p",{className:"flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-tag text-purple-500"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Cdigo Proveedor:"}),(0,Pt.jsx)("span",{className:"font-mono text-xs",children:e.producto.codigo_proveedor||"N/A"})]}),(0,Pt.jsxs)("p",{className:"flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-cubes text-blue-500"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Cantidad:"}),(0,Pt.jsx)("span",{className:"font-bold text-blue-600",children:e.cantidad})]})]}),4===t[r].estado&&e.warehouse_codigo&&(0,Pt.jsx)("div",{className:"mt-3 p-3 bg-emerald-100 rounded-lg border border-emerald-300",children:(0,Pt.jsxs)("p",{className:"text-emerald-700 font-bold flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-map-marker-alt"}),"UBICACIN: ",(0,Pt.jsx)("span",{className:"font-mono text-lg",children:e.warehouse_codigo})]})})]}),(0,Pt.jsx)("div",{className:"flex-shrink-0 text-center",children:4===t[r].estado?e.warehouse_codigo?(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("i",{className:"fas fa-check-circle text-4xl text-emerald-500 mb-2"}),(0,Pt.jsx)("div",{className:"px-2 py-1 bg-emerald-500 text-white font-bold text-xs rounded-full",children:"COMPLETADO"})]}):(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("i",{className:"fas fa-barcode text-4xl text-amber-500 mb-2 animate-pulse"}),(0,Pt.jsx)("div",{className:"px-2 py-1 bg-amber-500 text-white font-bold text-xs rounded-full",children:"PENDIENTE"})]}):1===t[r].estado?!0===e.aprobado?(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("i",{className:"fas fa-check-circle text-4xl text-emerald-500 mb-2"}),(0,Pt.jsx)("div",{className:"px-2 py-1 bg-emerald-500 text-white font-bold text-xs rounded-full",children:"APROBADO"})]}):!1===e.aprobado?(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("i",{className:"fas fa-times-circle text-4xl text-red-500 mb-2"}),(0,Pt.jsx)("div",{className:"px-2 py-1 bg-red-500 text-white font-bold text-xs rounded-full",children:"RECHAZADO"})]}):(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("i",{className:"fas fa-circle text-4xl text-gray-400 mb-2"}),(0,Pt.jsx)("div",{className:"px-2 py-1 bg-gray-500 text-white font-bold text-xs rounded-full",children:"SIN REVISAR"})]}):null})]})]},e.id)}))})]}),4===t[r].estado&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow space-y-4",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-chart-pie text-blue-500"}),"Progreso de Recepcin"]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,Pt.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4 border border-emerald-200",children:[(0,Pt.jsx)("div",{className:"text-4xl font-bold text-emerald-600 mb-2",children:t[r].items.filter((function(e){return e.warehouse_codigo})).length}),(0,Pt.jsxs)("div",{className:"text-xs font-semibold text-emerald-700 uppercase flex items-center gap-1",children:[(0,Pt.jsx)("i",{className:"fas fa-check-circle"}),"Con Ubicacin"]})]}),(0,Pt.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[(0,Pt.jsx)("div",{className:"text-4xl font-bold text-amber-600 mb-2",children:t[r].items.filter((function(e){return!e.warehouse_codigo})).length}),(0,Pt.jsxs)("div",{className:"text-xs font-semibold text-amber-700 uppercase flex items-center gap-1",children:[(0,Pt.jsx)("i",{className:"fas fa-clock"}),"Pendientes"]})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[(0,Pt.jsx)("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:t[r].items.length}),(0,Pt.jsxs)("div",{className:"text-xs font-semibold text-blue-700 uppercase flex items-center gap-1",children:[(0,Pt.jsx)("i",{className:"fas fa-boxes"}),"Total"]})]})]}),(0,Pt.jsx)("div",{className:"relative h-8 bg-gray-100 rounded-full overflow-hidden shadow-inner",children:(0,Pt.jsx)("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-emerald-400 to-emerald-500 transition-all duration-500 ease-out flex items-center justify-center",style:{width:"".concat(t[r].items.filter((function(e){return e.warehouse_codigo})).length/t[r].items.length*100,"%")},children:(0,Pt.jsxs)("span",{className:"text-white font-bold text-sm",children:[Math.round(t[r].items.filter((function(e){return e.warehouse_codigo})).length/t[r].items.length*100),"%"]})})}),t[r].items.length>0&&t[r].items.every((function(e){return e.warehouse_codigo}))&&(0,Pt.jsxs)("div",{className:"space-y-2 pt-4 border-t border-gray-200",children:[(0,Pt.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-emerald-700",children:[(0,Pt.jsx)("i",{className:"fas fa-check-circle text-xl"}),(0,Pt.jsx)("span",{className:"font-semibold",children:"Todos los productos tienen ubicacin asignada"})]}),(0,Pt.jsx)("p",{className:"text-sm text-emerald-600 mt-1 ml-7",children:"Los productos sern registrados en sus ubicaciones correspondientes"})]}),(0,Pt.jsxs)("button",{onClick:v,className:"w-full px-4 py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold text-lg rounded-lg shadow-lg hover:shadow-xl transition transform hover:scale-[1.02] active:scale-[0.98] flex items-center justify-center gap-2",children:[(0,Pt.jsx)("i",{className:"fas fa-save text-xl"}),"Guardar Recepcin con Ubicaciones"]})]})]})]})]})]}):(0,Pt.jsx)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:(0,Pt.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Pt.jsx)("i",{className:"fas fa-hand-pointer text-gray-300 text-8xl mb-6"}),(0,Pt.jsx)("h3",{className:"text-2xl font-bold text-gray-700 mb-3",children:"Seleccione una transferencia"}),(0,Pt.jsx)("p",{className:"text-gray-500",children:"Haz clic en una transferencia de la lista de la izquierda para comenzar la recepcin con el sistema de pistoleo."})]})})})]})]})}function Yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Qn(e){e.socketUrl,e.setSocketUrl,e.setInventarioFromSucursal,e.getInventarioFromSucursal;var t=e.getPedidosCentral,r=e.selectPedidosCentral,n=e.checkPedidosCentral,a=e.savingPedidoVerificado,i=void 0!==a&&a,s=e.pedidosCentral,c=e.setIndexPedidoCentral,l=e.indexPedidoCentral,u=e.moneda,d=e.showaddpedidocentral,f=(e.setshowaddpedidocentral,e.valheaderpedidocentral),h=e.setvalheaderpedidocentral,p=e.valbodypedidocentral,m=e.setvalbodypedidocentral,g=e.procesarImportPedidoCentral,x=(e.pathcentral,e.setpathcentral,e.mastermachines,e.getmastermachine,e.setinventarioModifiedCentralImport,e.inventarioModifiedCentralImport,e.saveChangeInvInSucurFromCentral,e.getTareasCentral),v=(e.settareasCentral,e.tareasCentral),b=e.runTareaCentral,y=e.modalmovilRef,_=e.modalmovilx,j=e.modalmovily,w=e.setmodalmovilshow,N=e.modalmovilshow,E=e.getProductos,C=e.productos,S=e.linkproductocentralsucursal,O=e.inputbuscarcentralforvincular,A=(e.openVincularSucursalwithCentral,e.idselectproductoinsucursalforvicular,e.removeVinculoCentral,e.sucursalesCentral),P=e.qpedidoscentralq,D=e.setqpedidoscentralq,I=e.qpedidocentrallimit,T=e.setqpedidocentrallimit,M=e.qpedidocentralestado,k=e.setqpedidocentralestado,R=e.qpedidocentralemisor,B=e.setqpedidocentralemisor,L=e.getSucursales,F=e.openBarcodeScan,U=e.buscarDatosFact,W=e.setbuscarDatosFact,V=Yn((0,o.useState)("pedidos"),2),z=V[0],K=V[1],G=Yn((0,o.useState)(!0),2),q=G[0],H=G[1],$=Yn((0,o.useState)(null),2),Y=$[0],X=$[1],Q=Yn((0,o.useState)(window.innerWidth<=768),2),Z=Q[0],J=Q[1],ee=Yn((0,o.useState)(null),2),te=ee[0],re=ee[1],ne=Yn((0,o.useState)(""),2),ae=ne[0],oe=ne[1],ie=(0,o.useRef)(null),se=(0,o.useRef)(null),ce=function(){var e;if(null!==Y&&null!==(e=s[l])&&void 0!==e&&e.items){var t=s[l].items[Y];!0!==(null==t?void 0:t.aprobado)&&r({currentTarget:{attributes:{"data-index":{value:String(Y)},"data-tipo":{value:"select"}}}}),re(null),X(null),setTimeout((function(){var e;return null===(e=se.current)||void 0===e?void 0:e.focus()}),50)}},le=function(e){var t,n;oe("");var a=String((null!=e?e:U)||"").trim();if(a&&null!==(t=s[l])&&void 0!==t&&t.items){var o=s[l].items,i=a.toLowerCase(),c=o.filter((function(e){var t,r,n=null!=(null===(t=e.producto)||void 0===t?void 0:t.codigo_barras)?String(e.producto.codigo_barras).trim():"",a=null!=(null===(r=e.producto)||void 0===r?void 0:r.codigo_proveedor)?String(e.producto.codigo_proveedor).trim():"";return n&&n.toLowerCase()===i||a&&a.toLowerCase()===i}));if(0!==c.length)if(c.length>1)oe("Varios productos coinciden con ese cdigo. Usa uno ms especfico (barras o proveedor nicos).");else{var u=o.indexOf(c[0]);r({currentTarget:{attributes:{"data-index":{value:String(u)},"data-tipo":{value:"select"}}}}),r({currentTarget:{attributes:{"data-index":{value:String(u)},"data-tipo":{value:"changect_real"}},value:String(null!==(n=o[u].cantidad)&&void 0!==n?n:"")}}),X(u),re(u),W(""),setTimeout((function(){var e;return null===(e=ie.current)||void 0===e?void 0:e.focus()}),50)}}};(0,o.useEffect)((function(){var e=function(){J(window.innerWidth<=768)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,o.useEffect)((function(){re(null),X(null)}),[l]);try{var ue;return(0,Pt.jsxs)(Pt.Fragment,{children:[N?(0,Pt.jsx)(Vt,{margin:100,modalmovilRef:y,x:_,y:j,setmodalmovilshow:w,modalmovilshow:N,getProductos:E,productos:C,linkproductocentralsucursal:S,inputbuscarcentralforvincular:O}):null,(0,Pt.jsxs)("nav",{className:"flex flex-wrap gap-2 mb-4",children:[(0,Pt.jsx)("button",{className:"px-4 py-2 rounded-lg text-sm font-semibold transition shadow-sm\n\t\t\t\t\t\t\t".concat("pedidos"===z?"bg-sinapsis text-white shadow border border-sinapsis":"bg-white text-gray-700 hover:bg-sinapsis border border-gray-300"),onClick:function(){t(),K("pedidos")},children:"Recibir Pedidos"}),(0,Pt.jsx)("button",{className:"px-4 py-2 rounded-lg text-sm font-semibold transition shadow-sm\n\t\t\t\t\t\t\t".concat("pedidos_send"===z?"bg-sinapsis text-white shadow border border-sinapsis":"bg-white text-gray-700 hover:bg-sinapsis border border-gray-300"),onClick:function(){K("pedidos_send")},children:"Enviar Pedidos"}),(0,Pt.jsx)("button",{className:"px-4 py-2 rounded-lg text-sm font-semibold transition shadow-sm\n\t\t\t\t\t\t\t".concat("tcr"===z?"bg-sinapsis text-white shadow border border-sinapsis":"bg-white text-gray-700 hover:bg-sinapsis border border-gray-300"),onClick:function(){K("tcr")},children:"TCR"}),(0,Pt.jsx)("button",{className:"px-4 py-2 rounded-lg text-sm font-semibold transition shadow-sm\n\t\t\t\t\t\t\t".concat("tareas"===z?"bg-sinapsis text-white shadow border border-sinapsis":"bg-white text-gray-700 hover:bg-sinapsis border border-gray-300"),onClick:function(){K("tareas")},children:"Tareas"})]}),"tareas"==z?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Pt.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:["Tareas",(0,Pt.jsx)("button",{className:"inline-flex items-center px-2 py-1 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded transition",onClick:function(){return x([0])},children:(0,Pt.jsx)("i",{className:"fa fa-search"})})]}),(0,Pt.jsx)("button",{className:"px-4 py-2 bg-sinapsis text-white rounded hover:bg-sinapsis-dark transition text-sm font-semibold",onClick:function(){return b()},children:"RESOLVER TODO"})]}),(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsx)("div",{children:v.length?v.map((function(e,t){return e?(0,Pt.jsx)("div",{className:"bg-light text-secondary card mt-2 pointer",children:(0,Pt.jsx)("div",{className:"card-body flex-row justify-content-between",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h4",{children:["Destino ",(0,Pt.jsx)("button",{className:"btn btn-secondary",children:e.sucursal.nombre})," "]}),(0,Pt.jsx)("small",{className:"text-muted fst-italic",children:"Accin"})," ",(0,Pt.jsx)("br",{}),(0,Pt.jsx)("small",{className:"text-muted fst-italic",children:(0,Pt.jsxs)("b",{children:[1==e.tipo?"MODIFICAR":null,2==e.tipo?"ELIMINAR DUPLICADOS":null]})}),(0,Pt.jsx)("br",{}),(0,Pt.jsx)("small",{className:"text-muted fst-italic",children:"FECHA"})," ",(0,Pt.jsx)("br",{}),(0,Pt.jsxs)("small",{className:"text-muted fst-italic",children:[(0,Pt.jsx)("b",{children:e.created_at})," "]}),(0,Pt.jsx)("br",{}),e.prodantesproducto?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("small",{className:"text-success fst-italic",children:"Hay respuesta por resolver"}),(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:"id"}),(0,Pt.jsx)("td",{children:"codigo_proveedor"}),(0,Pt.jsx)("td",{children:"codigo_barras"}),(0,Pt.jsx)("td",{children:"descripcion"}),(0,Pt.jsx)("td",{children:"cantidad"}),(0,Pt.jsx)("td",{children:"stockmax"}),(0,Pt.jsx)("td",{children:"stockmin"}),(0,Pt.jsx)("td",{children:"unidad"}),(0,Pt.jsx)("td",{children:"id_categoria"}),(0,Pt.jsx)("td",{children:"id_proveedor"}),(0,Pt.jsx)("td",{children:"precio"}),(0,Pt.jsx)("td",{children:"precio_base"}),(0,Pt.jsx)("td",{children:"iva"}),(0,Pt.jsx)("td",{children:"INV"})]})}),(0,Pt.jsxs)("tbody",{children:[e.prodantesproducto?(0,Pt.jsxs)("tr",{className:"bg-danger-light",children:[(0,Pt.jsx)("td",{children:e.prodantesproducto.id}),(0,Pt.jsx)("td",{children:e.prodantesproducto.codigo_proveedor}),(0,Pt.jsx)("td",{children:e.prodantesproducto.codigo_barras}),(0,Pt.jsx)("td",{children:e.prodantesproducto.descripcion}),(0,Pt.jsx)("td",{children:e.prodantesproducto.cantidad}),(0,Pt.jsx)("td",{children:e.prodantesproducto.stockmax}),(0,Pt.jsx)("td",{children:e.prodantesproducto.stockmin}),(0,Pt.jsx)("td",{children:e.prodantesproducto.unidad}),(0,Pt.jsx)("td",{children:e.prodantesproducto.id_categoria}),(0,Pt.jsx)("td",{children:e.prodantesproducto.id_proveedor}),(0,Pt.jsx)("td",{children:e.prodantesproducto.precio}),(0,Pt.jsx)("td",{children:e.prodantesproducto.precio_base}),(0,Pt.jsx)("td",{children:e.prodantesproducto.iva}),(0,Pt.jsx)("td",{children:e.prodantesproducto.push})]}):null,e.prodcambiarproducto?(0,Pt.jsxs)("tr",{className:"bg-success-light",children:[(0,Pt.jsx)("td",{children:e.prodcambiarproducto.id}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.codigo_proveedor}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.codigo_barras}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.descripcion}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.cantidad}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.stockmax}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.stockmin}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.unidad}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.id_categoria}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.id_proveedor}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.precio}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.precio_base}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.iva}),(0,Pt.jsx)("td",{children:e.prodcambiarproducto.push})]}):null]},e.id)]})]}):null]})})},e.id):null})):(0,Pt.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,Pt.jsx)("i",{children:"Sin resultados!"})})})})})]}):null,"pedidos"==z?(0,Pt.jsxs)("div",{className:"container-fluid mt-3",children:[" ",(0,Pt.jsx)("h1",{className:"mb-4 text-center text-md-start",children:"TRANSFERENCIAS"})," ",(0,Pt.jsxs)("div",{className:"row g-0",children:[(0,Pt.jsx)("div",{className:"overflow-hidden mb-3 mb-md-0 ".concat(q?"col-lg-3 col-md-4 col-12":"col-0 min-w-0"),style:q?{}:{padding:0,margin:0,maxWidth:0},children:(0,Pt.jsx)("div",{className:"card shadow-sm",children:(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t()},className:"space-y-1.5",children:[(0,Pt.jsxs)("div",{className:"flex gap-1.5 items-stretch",children:[(0,Pt.jsxs)("div",{className:"flex-1 min-w-0 flex rounded border border-gray-300 bg-white overflow-hidden focus-within:ring-1 focus-within:ring-sinapsis focus-within:border-sinapsis",children:[(0,Pt.jsx)("span",{className:"inline-flex items-center pl-2 pr-1.5 text-gray-400 text-xs shrink-0",children:(0,Pt.jsx)("i",{className:"fas fa-hashtag"})}),(0,Pt.jsx)("input",{type:"text",className:"flex-1 min-w-0 py-1 px-1.5 text-sm placeholder-gray-400 border-0 focus:ring-0 focus:outline-none",placeholder:"ID transferencia",value:P,onChange:function(e){return D(e.target.value)}})]}),(0,Pt.jsxs)("select",{className:"w-14 rounded border border-gray-300 bg-white py-1 px-1.5 text-xs focus:ring-1 focus:ring-sinapsis focus:border-sinapsis shrink-0",value:I,onChange:function(e){return T(e.target.value)},title:"Mx. resultados",children:[(0,Pt.jsx)("option",{value:"",children:""}),(0,Pt.jsx)("option",{value:"5",children:"5"}),(0,Pt.jsx)("option",{value:"10",children:"10"}),(0,Pt.jsx)("option",{value:"20",children:"20"}),(0,Pt.jsx)("option",{value:"50",children:"50"}),(0,Pt.jsx)("option",{value:"100",children:"100"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-1.5 items-center flex-wrap",children:[(0,Pt.jsxs)("select",{className:"flex-1 min-w-0 max-w-[7rem] rounded border border-gray-300 bg-white py-1 px-1.5 text-xs focus:ring-1 focus:ring-sinapsis focus:border-sinapsis",value:M,onChange:function(e){return k(e.target.value)},title:"Estado",children:[(0,Pt.jsx)("option",{value:"",children:"Estado"}),(0,Pt.jsx)("option",{value:"1",children:"Pend."}),(0,Pt.jsx)("option",{value:"3",children:"Revisin"}),(0,Pt.jsx)("option",{value:"4",children:"Revisado"})]}),(0,Pt.jsxs)("select",{className:"flex-1 min-w-0 rounded border border-gray-300 bg-white py-1 px-1.5 text-xs focus:ring-1 focus:ring-sinapsis focus:border-sinapsis",value:R,onChange:function(e){return B(e.target.value)},title:"Emisor",children:[(0,Pt.jsx)("option",{value:"",children:"Emisor"}),A.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]}),(0,Pt.jsx)("button",{type:"button",className:"py-1 px-2.5 rounded border border-gray-300 bg-gray-50 text-gray-500 hover:bg-gray-100 shrink-0 flex items-center justify-center text-xs",onClick:L,title:"Actualizar sucursales",children:(0,Pt.jsx)("i",{className:"fas fa-sync-alt"})}),(0,Pt.jsxs)("button",{type:"submit",className:"py-1 px-2.5 rounded bg-sinapsis text-white text-xs font-medium hover:bg-sinapsis/90 shrink-0 flex items-center gap-1",title:"Buscar transferencias",children:[(0,Pt.jsx)("i",{className:"fas fa-search"})," Buscar"]})]})]}),(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Pt.jsx)("h6",{className:"mb-0",children:"Lista de Transferencias"}),(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-secondary",title:q?"Recoger lista (ms espacio para aceptacin)":"Ver lista",onClick:function(){return H(!q)},children:(0,Pt.jsx)("i",{className:"fas ".concat(q?"fa-chevron-left":"fa-chevron-right")})})]}),(0,Pt.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:"60vh"},children:s.length?s.map((function(e,t){return e?(0,Pt.jsx)("div",{onClick:function(){c(t),H(!1)},"data-index":t,className:"card mb-2 pointer hover-shadow ".concat(l===t?"border-primary":""),children:(0,Pt.jsx)("div",{className:"card-body p-2",children:(0,Pt.jsxs)("div",{className:"row g-0 align-items-center",children:[(0,Pt.jsx)("div",{className:(1==e.estado?"bg-danger text-light":3==e.estado?"bg-warning text-dark":4==e.estado?"bg-info text-light":"")+" col-auto d-flex align-items-center justify-content-center p-3 rounded-start",style:{minHeight:"100%",fontSize:"1.2rem"},children:1==e.estado?(0,Pt.jsx)("i",{className:"fas fa-exclamation-circle"}):3==e.estado?(0,Pt.jsx)("i",{className:"fas fa-search"}):4==e.estado?(0,Pt.jsx)("i",{className:"fas fa-check-circle"}):(0,Pt.jsx)("i",{className:"fas fa-question-circle"})}),(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsxs)("div",{className:"ps-2",children:[(0,Pt.jsxs)("div",{className:(l===t?"fw-bold":"text-secondary")+" d-flex flex-column flex-sm-row justify-content-between align-items-start w-100 mb-1",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("span",{className:"badge bg-secondary me-2",children:["#",e.id]}),(0,Pt.jsx)("span",{className:"badge",style:{backgroundColor:e.origen.background,color:e.origen.color||"#fff"},children:e.origen.codigo})]}),(0,Pt.jsxs)("span",{className:"text-muted fst-italic small mt-1 mt-sm-0",children:["ITEMS: ",(0,Pt.jsx)("b",{children:e.items.length})]})]}),e.cxp&&(0,Pt.jsxs)("div",{className:"small fw-bold mb-1",children:[(0,Pt.jsx)("span",{className:"text-sinapsis me-2",children:e.cxp?"FACT "+e.cxp.numfact:null}),(0,Pt.jsxs)("span",{children:[e.cxp?e.cxp.proveedor.descripcion.substr(0,20):null,e.cxp&&e.cxp.proveedor.descripcion.length>20?"...":""]})]}),(0,Pt.jsx)("div",{className:"text-center text-sm-start w-100",children:(0,Pt.jsx)("small",{className:"text-muted fst-italic",children:e.created_at})})]})})]})})},e.id):null})):(0,Pt.jsx)("div",{className:"h5 text-center text-muted mt-4 p-3 border rounded",children:(0,Pt.jsx)("i",{children:"Sin resultados!"})})})]})})}),(0,Pt.jsxs)("div",{className:q?"col-lg-9 col-md-8 col-12":"col-12",children:[!q&&(0,Pt.jsx)("div",{className:"mb-3",children:(0,Pt.jsxs)("button",{type:"button",className:"btn btn-outline-primary",onClick:function(){return H(!0)},title:"Ver lista de transferencias",children:[(0,Pt.jsx)("i",{className:"fas fa-chevron-right me-2"})," Ver lista de transferencias"]})}),d?(0,Pt.jsxs)("div",{className:"card shadow-sm",children:[(0,Pt.jsx)("div",{className:"card-header",children:(0,Pt.jsx)("h3",{children:"Importar Pedido"})}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsxs)("div",{className:"form-group mb-3",children:[(0,Pt.jsx)("label",{htmlFor:"headerPedido",className:"form-label",children:"Cabecera del pedido"}),(0,Pt.jsx)("input",{id:"headerPedido",type:"text",className:"form-control",value:f,onChange:function(e){return h(e.target.value)},placeholder:"Cabecera del pedido"})]}),(0,Pt.jsxs)("div",{className:"form-group mb-3",children:[(0,Pt.jsx)("label",{htmlFor:"bodyPedido",className:"form-label",children:"Cuerpo del pedido"}),(0,Pt.jsx)("textarea",{id:"bodyPedido",className:"form-control",value:p,onChange:function(e){return m(e.target.value)},placeholder:"Cuerpo del pedido",rows:"10"})]}),(0,Pt.jsx)("div",{className:"d-grid",children:(0,Pt.jsxs)("button",{className:"btn btn-primary btn-lg",onClick:g,children:[(0,Pt.jsx)("i",{className:"fa fa-upload me-2"}),"Importar"]})})]})]}):(0,Pt.jsx)("div",{className:"card shadow-sm",children:(0,Pt.jsx)("div",{className:"card-body",children:null!==l&&s&&s[l]?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between align-items-start p-2 border rounded mb-3 bg-light",children:[(0,Pt.jsxs)("div",{className:"mb-2 mb-sm-0",children:[(0,Pt.jsx)("small",{className:"text-muted fst-italic d-block",children:s[l].created_at}),(0,Pt.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pt.jsx)("span",{className:"fs-4 fw-bold me-2",children:"ID:"}),(0,Pt.jsxs)("span",{className:"btn btn-secondary btn-sm",onClick:function(){return H(!q)},title:q?"Recoger lista (ms espacio)":"Ver lista de transferencias",children:[s[l].id," ",(0,Pt.jsx)("i",{className:"fas ".concat(q?"fa-chevron-left":"fa-chevron-right"," ms-1")})]})]})]}),(0,Pt.jsxs)("div",{className:"text-sm-end",children:[(0,Pt.jsxs)("div",{className:"mb-1",children:[(0,Pt.jsx)("span",{className:"h6 text-muted font-italic",children:"Base: "}),(0,Pt.jsx)("span",{className:"h6 text-dark",children:u(s[l].base)})]}),(0,Pt.jsxs)("div",{className:"mb-1",children:[(0,Pt.jsx)("span",{className:"h6 text-muted font-italic",children:"Venta: "}),(0,Pt.jsx)("span",{className:"h5 text-success fw-bold",children:u(s[l].venta)})]}),(0,Pt.jsxs)("span",{className:"h6 text-muted",children:["Items: ",(0,Pt.jsx)("b",{children:s[l].items.length})]})]})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-500 mb-1",children:"Buscar producto, validar existencia y setear cantidad recibida"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Escribe o escanea cdigo de barras o cdigo proveedor (bsqueda exacta). Si existe en la transferencia se marca recibido y el foco pasa al campo cantidad real."}),(0,Pt.jsxs)("div",{className:"flex rounded-lg border border-gray-300 bg-white shadow-sm overflow-hidden focus-within:ring-2 focus-within:ring-sinapsis focus-within:border-sinapsis",children:[(0,Pt.jsx)("span",{className:"inline-flex items-center px-3 text-gray-400 border-r border-gray-200 bg-gray-50",children:(0,Pt.jsx)("i",{className:"fas fa-search"})}),(0,Pt.jsx)("input",{ref:se,type:"text",className:"flex-1 w-full py-3 px-4 placeholder-gray-400 border-0 bg-transparent focus:ring-0 focus:outline-none",placeholder:"Escanea o escribe cdigo de barras / cdigo proveedor (coincidencia exacta)...",value:U,onChange:function(e){re(null),oe(""),W(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),le(e.target.value))},onPaste:function(e){return e.preventDefault()}}),(0,Pt.jsx)("span",{className:"inline-flex items-center px-3 text-gray-400 border-l border-gray-200 bg-gray-50 cursor-pointer hover:bg-gray-100",onClick:function(){return F("setbuscarDatosFact")},children:(0,Pt.jsx)("i",{className:"fas fa-barcode"})}),(0,Pt.jsxs)("button",{type:"button",className:"px-4 py-3 bg-sinapsis text-white font-medium hover:bg-sinapsis/90 transition-colors",onClick:function(){var e;return le(null===(e=se.current)||void 0===e?void 0:e.value)},title:"Validar cdigo y abrir cantidad recibida",children:[(0,Pt.jsx)("i",{className:"fas fa-check mr-1"})," Validar"]})]}),ae&&(0,Pt.jsxs)("p",{className:"small text-warning mt-2 mb-0",children:[(0,Pt.jsx)("i",{className:"fas fa-exclamation-triangle me-1"}),ae]})]}),Z&&s[l]&&(0,Pt.jsx)("div",{children:s[l].items.filter((function(e,t){var r,n;if(null!==te)return t===te;var a=String(U||"").trim();if(!a)return!0;var o=a.toLowerCase(),i=null!=(null===(r=e.producto)||void 0===r?void 0:r.codigo_barras)?String(e.producto.codigo_barras).trim().toLowerCase():"",s=null!=(null===(n=e.producto)||void 0===n?void 0:n.codigo_proveedor)?String(e.producto.codigo_proveedor).trim().toLowerCase():"";return i===o||s===o})).map((function(e,t){var n=s[l].items.findIndex((function(t){return t.id===e.id}));return(0,Pt.jsxs)("div",{className:"mb-3 border rounded p-3 ".concat(e.aprobado?"border-success border-2 bg-success bg-opacity-10":"bg-light"),children:[1!==e.super&&e.vinculo_sugerido&&(0,Pt.jsxs)("div",{className:"mb-2 p-2 border rounded bg-light-warning",children:[(0,Pt.jsx)("small",{className:"text-muted d-block mb-1",children:"Sugerido por Suc. Destino:"}),e.vinculo_real&&(0,Pt.jsxs)("button",{className:"btn btn-warning btn-sm fs-10px mb-1",children:[e.vinculo_real," ",(0,Pt.jsx)("i",{className:"fa fa-link"})]}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("small",{children:[(0,Pt.jsx)("strong",{children:"Desc:"})," ",e.vinculo_sugerido.descripcion]})}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("small",{children:[(0,Pt.jsx)("strong",{children:"Barras:"})," ",e.vinculo_sugerido.codigo_barras]})}),(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("small",{children:[(0,Pt.jsx)("strong",{children:"Proveedor:"})," ",e.vinculo_sugerido.codigo_proveedor]})})]}),(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Pt.jsx)("div",{children:void 0===e.aprobado?(0,Pt.jsxs)("button",{onClick:r,"data-index":n,"data-tipo":"select",className:"btn btn-outline-danger btn-sm me-2",children:[(0,Pt.jsx)("i",{className:"fa fa-times"})," ",t+1]}):e.aprobado?(0,Pt.jsxs)("button",{onClick:r,"data-index":n,"data-tipo":"select",className:"btn btn-success btn-sm me-2",children:[(0,Pt.jsx)("i",{className:"fa fa-check"})," ",t+1]}):(0,Pt.jsxs)("button",{onClick:r,"data-index":n,"data-tipo":"select",className:"btn btn-outline-secondary btn-sm me-2",children:[(0,Pt.jsx)("i",{className:"fa fa-ban"})," ",t+1]})}),(0,Pt.jsx)("i",{className:"fa fa-question-circle text-warning fa-lg pointer",onClick:function(){return X(Y!==n?n:null)}})]}),(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("strong",{children:"Barras:"})," ",e.producto.codigo_barras||(0,Pt.jsx)("small",{className:"text-muted",children:"N/A"})]}),Y===n&&(0,Pt.jsx)("input",{className:"form-control form-control-sm mb-2",type:"text",value:e.barras_real||"","data-index":n,"data-tipo":"changebarras_real",onChange:r,placeholder:"Corregir Barras..."}),(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("strong",{children:"Proveedor:"})," ",e.producto.codigo_proveedor||(0,Pt.jsx)("small",{className:"text-muted",children:"N/A"})]}),(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("strong",{children:"Descripcin:"})," ",e.producto.descripcion," ",(0,Pt.jsxs)("small",{className:"text-muted ms-1",children:["(",s[l].origen.codigo,")"]})]}),(0,Pt.jsxs)("div",{className:"row mb-2",children:[(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("strong",{children:"Base:"})," ",u(e.base)]}),(0,Pt.jsxs)("div",{className:"col-6 text-success",children:[(0,Pt.jsx)("strong",{children:"Venta:"})," ",u(e.venta)]})]}),Y===n&&(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-600 mb-1",children:"Cant. recibida"}),(0,Pt.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,Pt.jsx)("input",{ref:ie,type:"text",className:"flex-1 min-w-[6rem] py-2.5 px-3  border border-gray-300 rounded-lg focus:ring-2 focus:ring-sinapsis/40 focus:border-sinapsis focus:outline-none",value:String(null!=e.ct_real?e.ct_real:e.cantidad),"data-index":n,"data-tipo":"changect_real",onChange:r,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),ce())},placeholder:"Cantidad que lleg"}),(0,Pt.jsxs)("button",{type:"button",className:"py-2 px-3 rounded-lg bg-sinapsis text-white text-sm font-medium hover:bg-sinapsis/90 transition-colors",onClick:ce,title:"Validar y buscar siguiente",children:[(0,Pt.jsx)("i",{className:"fas fa-check mr-1"})," Validar"]})]})]}),(0,Pt.jsxs)("div",{className:"mb-2 text-end fw-bold",children:[(0,Pt.jsx)("strong",{children:"Monto:"})," ",u(e.monto)]}),1===e.super&&(0,Pt.jsxs)("div",{className:"text-center p-2 mt-2 rounded",style:{background:"linear-gradient(135deg, #FEF3C7, #FDE68A)",color:"#92400e",fontStyle:"italic"},children:[(0,Pt.jsx)("i",{className:"fa fa-globe"})," SUPER GLOBAL"]})]},e.id)}))}),!Z&&s[l]&&(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm table-bordered table-hover",style:{tableLayout:"fixed",minWidth:"755px"},children:[(0,Pt.jsx)("thead",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{style:{width:"110px"},children:"Barras"}),(0,Pt.jsx)("th",{style:{width:"110px"},children:"Alterno"}),(0,Pt.jsx)("th",{style:{width:"200px"},children:"Descripcin"}),(0,Pt.jsx)("th",{style:{width:"50px"},className:"text-center",children:"Cant."}),(0,Pt.jsx)("th",{style:{width:"120px"},className:"text-center",children:"Cant. recibida"}),(0,Pt.jsx)("th",{style:{width:"75px"},className:"text-end",children:"Base"}),(0,Pt.jsx)("th",{style:{width:"75px"},className:"text-end",children:"Venta"}),(0,Pt.jsx)("th",{style:{width:"85px"},className:"text-end",children:"Subtotal"})]})}),(0,Pt.jsx)("tbody",{children:s[l].items.filter((function(e,t){var r,n;if(null!==te)return t===te;var a=String(U||"").trim();if(!a)return!0;var o=a.toLowerCase(),i=null!=(null===(r=e.producto)||void 0===r?void 0:r.codigo_barras)?String(e.producto.codigo_barras).trim().toLowerCase():"",s=null!=(null===(n=e.producto)||void 0===n?void 0:n.codigo_proveedor)?String(e.producto.codigo_proveedor).trim().toLowerCase():"";return i===o||s===o})).map((function(e,t){var n=s[l].items.findIndex((function(t){return t.id===e.id}));return(0,Pt.jsx)(o.Fragment,{children:(0,Pt.jsxs)("tr",{style:1===e.super?{background:"linear-gradient(135deg, #FEF3C7, #FDE68A)",color:"#92400e",fontWeight:"bold"}:{},className:e.aprobado?"table-success":"",children:[(0,Pt.jsxs)("td",{className:"align-middle",children:[e.producto.codigo_barras||(0,Pt.jsx)("small",{className:"text-muted",children:"N/A"}),Y===n&&(0,Pt.jsx)("input",{type:"text",className:"form-control form-control-sm mt-1",value:e.barras_real||"","data-index":n,"data-tipo":"changebarras_real",onChange:r,placeholder:"Corregir Barras..."})]}),(0,Pt.jsx)("td",{className:"align-middle",children:e.producto.codigo_proveedor||(0,Pt.jsx)("small",{className:"text-muted",children:"N/A"})}),(0,Pt.jsxs)("td",{className:"align-middle",children:[e.producto.descripcion," ",(0,Pt.jsxs)("small",{className:"text-muted",children:["(",s[l].origen.codigo,")"]})]}),(0,Pt.jsx)("td",{className:"align-middle text-center",children:e.cantidad.toString().replace(/\.00/,"")}),(0,Pt.jsx)("td",{className:"align-middle text-center",children:Y===n?(0,Pt.jsxs)("div",{className:"d-flex align-items-center gap-1 justify-content-center",children:[(0,Pt.jsx)("input",{ref:ie,type:"text",className:"min-w-[5rem] w-24 py-2 px-3 text-center  border border-gray-300 rounded focus:ring-2 focus:ring-sinapsis/40 focus:border-sinapsis focus:outline-none",value:String(null!=e.ct_real?e.ct_real:e.cantidad),"data-index":n,"data-tipo":"changect_real",onChange:r,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),ce())},placeholder:"Recibida"}),(0,Pt.jsx)("button",{type:"button",className:"p-1.5 rounded bg-sinapsis text-white hover:bg-sinapsis/90 transition-colors",onClick:ce,title:"Validar y buscar siguiente",children:(0,Pt.jsx)("i",{className:"fas fa-check text-sm"})})]}):null!=e.ct_real?String(e.ct_real):""}),(0,Pt.jsx)("td",{className:"align-middle text-end",children:u(e.base)}),(0,Pt.jsx)("td",{className:"align-middle text-end text-success",children:u(e.venta)}),(0,Pt.jsx)("td",{className:"align-middle text-end fw-bold",children:u(e.monto)})]})},e.id)}))})]})}),(null===(ue=s[l])||void 0===ue||null===(ue=ue.items)||void 0===ue?void 0:ue.length)>0&&(0,Pt.jsxs)("div",{className:"card mt-4",children:[(0,Pt.jsx)("div",{className:"card-header py-2",children:(0,Pt.jsx)("h6",{className:"mb-0",children:"Reporte recepcin: Cant. factura vs Cant. lleg"})}),(0,Pt.jsx)("div",{className:"card-body p-0",children:(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm table-bordered mb-0",children:[(0,Pt.jsx)("thead",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Cdigo"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{className:"text-center",children:"Cant. factura"}),(0,Pt.jsx)("th",{className:"text-center",children:"Cant. lleg"}),(0,Pt.jsx)("th",{className:"text-center",children:"Diferencia"}),(0,Pt.jsx)("th",{className:"text-center",children:"Estado"})]})}),(0,Pt.jsx)("tbody",{children:s[l].items.map((function(e){var t,r,n,a=Number(e.cantidad)||0,o=null!=e.ct_real?Number(e.ct_real):a,i=o-a,s=0===i?"Cuadrado":i>0?"Sobra":"Falta",c=0===i?"success":i>0?"sinapsis":"danger";return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("small",{children:(null===(t=e.producto)||void 0===t?void 0:t.codigo_barras)||(null===(r=e.producto)||void 0===r?void 0:r.codigo_proveedor)||""})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("small",{children:(null===(n=e.producto)||void 0===n?void 0:n.descripcion)||""})}),(0,Pt.jsx)("td",{className:"text-center",children:a}),(0,Pt.jsx)("td",{className:"text-center",children:null!=e.ct_real?o:""}),(0,Pt.jsx)("td",{className:"text-center",children:null!=e.ct_real?(i>=0?"+":"")+i:""}),(0,Pt.jsx)("td",{className:"text-center",children:null!=e.ct_real?(0,Pt.jsx)("span",{className:"badge bg-".concat(c),children:s}):""})]},e.id)}))})]})})})]}),s[l]&&!s[l].items.filter((function(e){return void 0===e.aprobado})).length&&(0,Pt.jsx)("div",{className:"d-grid mt-3",children:(0,Pt.jsx)("button",{type:"button",className:"btn btn-success btn-lg",onClick:n,disabled:i,children:i?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Guardando..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-save me-2"}),"Guardar Pedido Verificado"]})})})]}):(0,Pt.jsxs)("div",{className:"text-center p-5 border rounded bg-light",children:[(0,Pt.jsx)("i",{className:"fas fa-hand-pointer fa-3x text-muted mb-3"}),(0,Pt.jsx)("h5",{children:"Seleccione una transferencia"}),(0,Pt.jsx)("p",{className:"text-muted",children:"Haz clic en una transferencia de la lista de la izquierda para ver sus detalles aqu."})]})})})]})]})]}):null,"pedidos_send"==z?(0,Pt.jsx)(Vn,{}):null,"tcr"==z?(0,Pt.jsx)($n,{pedidosCentral:s,indexPedidoCentral:l,setIndexPedidoCentral:c,qpedidoscentralq:P,setqpedidoscentralq:D,qpedidocentrallimit:I,setqpedidocentrallimit:T,qpedidocentralemisor:R,setqpedidocentralemisor:B,sucursalesCentral:A,getPedidosCentral:t,getSucursales:L,showdetailsPEdido:q,setshowdetailsPEdido:H,moneda:u,selectPedidosCentral:r,checkPedidosCentral:n}):null]})}catch(e){return alert("Error en PedidosCentral.js"+e),""}}function Zn(e){var t=e.cierres,r=e.fechaGetCierre,n=e.setfechaGetCierre,a=e.getCierres,o=e.verCierreReq,i=e.fechaGetCierre2,s=e.setfechaGetCierre2,c=e.tipoUsuarioCierre,l=e.settipoUsuarioCierre;return(0,Pt.jsxs)("div",{className:"container-fluid p-0",children:[(0,Pt.jsxs)("div",{className:"input-group mb-3",children:[(0,Pt.jsx)("input",{type:"date",className:"form-control",value:r,onChange:function(e){return n(e.target.value)}}),(0,Pt.jsx)("input",{type:"date",className:"form-control",value:i,onChange:function(e){return s(e.target.value)}}),(0,Pt.jsxs)("select",{className:"form-control",value:c,onChange:function(e){return l(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todos"}),(0,Pt.jsx)("option",{value:"1",children:"Administrador"}),(0,Pt.jsx)("option",{value:"0",children:"Cajero"})]}),(0,Pt.jsx)("div",{className:"inputr-group-append",children:(0,Pt.jsx)("button",{className:"btn",onClick:a,children:(0,Pt.jsx)("i",{className:"fa fa-search"})})})]}),(0,Pt.jsx)("table",{className:"table table-sm",children:(0,Pt.jsxs)("thead",{children:[(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Cajero"}),(0,Pt.jsx)("th",{children:"Num. Ventas"}),(0,Pt.jsx)("th",{children:"Dbito"}),(0,Pt.jsx)("th",{children:"Efectivo"}),(0,Pt.jsx)("th",{children:"Transferencia"}),(0,Pt.jsx)("th",{children:"Dejar $"}),(0,Pt.jsx)("th",{children:"Dejar COP"}),(0,Pt.jsx)("th",{children:"Dejar BS."}),(0,Pt.jsx)("th",{children:"Guardado $"}),(0,Pt.jsx)("th",{children:"Guardado COP"}),(0,Pt.jsx)("th",{children:"Guardado BS"}),(0,Pt.jsx)("th",{children:"Actual $"}),(0,Pt.jsx)("th",{children:"Actual COP"}),(0,Pt.jsx)("th",{children:"Actual BS"}),(0,Pt.jsx)("th",{children:"Actual Biopago BS"}),(0,Pt.jsx)("th",{children:"Actual Punto BS"}),(0,Pt.jsx)("th",{children:"Tasa"}),(0,Pt.jsx)("th",{children:"Fecha"})]}),t&&t.cierres&&t.cierres.length?t.cierres.map((function(e){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:e.usuario.usuario}),(0,Pt.jsx)("td",{children:e.numventas}),(0,Pt.jsx)("td",{children:e.debito}),(0,Pt.jsx)("td",{children:e.efectivo}),(0,Pt.jsx)("td",{children:e.transferencia}),(0,Pt.jsx)("td",{children:e.dejar_dolar}),(0,Pt.jsx)("td",{children:e.dejar_peso}),(0,Pt.jsx)("td",{children:e.dejar_bss}),(0,Pt.jsx)("td",{children:e.efectivo_guardado}),(0,Pt.jsx)("td",{children:e.efectivo_guardado_cop}),(0,Pt.jsx)("td",{children:e.efectivo_guardado_bs}),(0,Pt.jsx)("td",{children:e.efectivo_actual}),(0,Pt.jsx)("td",{children:e.efectivo_actual_cop}),(0,Pt.jsx)("td",{children:e.efectivo_actual_bs}),(0,Pt.jsx)("td",{children:e.caja_biopago}),(0,Pt.jsx)("td",{children:e.puntodeventa_actual_bs}),(0,Pt.jsx)("td",{children:e.tasa}),(0,Pt.jsx)("th",{children:e.fecha}),(0,Pt.jsxs)("td",{children:[(0,Pt.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return o(e.fecha,"ver",e.id_usuario)},type:"button",children:"Ver"}),(0,Pt.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return o(e.fecha,"enviar",e.id_usuario)},type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-send"})})]})]},e.id)})):null,(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{}),(0,Pt.jsx)("th",{children:t.numventas}),(0,Pt.jsx)("th",{children:t.debito}),(0,Pt.jsx)("th",{children:t.efectivo}),(0,Pt.jsx)("th",{children:t.transferencia}),(0,Pt.jsx)("th",{children:t.dejar_dolar}),(0,Pt.jsx)("th",{children:t.dejar_peso}),(0,Pt.jsx)("th",{children:t.dejar_bss}),(0,Pt.jsx)("th",{children:t.efectivo_guardado}),(0,Pt.jsx)("th",{children:t.efectivo_guardado_cop}),(0,Pt.jsx)("th",{children:t.efectivo_guardado_bs}),(0,Pt.jsx)("th",{children:t.efectivo_actual}),(0,Pt.jsx)("th",{children:t.efectivo_actual_cop}),(0,Pt.jsx)("th",{children:t.efectivo_actual_bs}),(0,Pt.jsx)("th",{children:t.caja_biopago}),(0,Pt.jsx)("th",{children:t.puntodeventa_actual_bs})]})]})}),(0,Pt.jsxs)("h1",{children:["Total ",(0,Pt.jsx)("b",{children:r})," - ",(0,Pt.jsx)("b",{children:i})]}),t&&t.numventas?(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"bg-success text-right",children:"Inversin"}),(0,Pt.jsx)("th",{className:"bg-success text-right",children:"Venta"}),(0,Pt.jsx)("th",{className:"bg-success text-right",children:"Ganancia Estimada"}),(0,Pt.jsx)("th",{className:"bg-success text-right",children:"Porcentaje promedio"})]})}),(0,Pt.jsx)("tbody",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{className:"fw-bold text-right",children:t.precio_base}),(0,Pt.jsx)("td",{className:"fw-bold text-right",children:t.precio}),(0,Pt.jsx)("td",{className:"fw-bold  text-success text-right",children:t.ganancia}),(0,Pt.jsxs)("td",{className:"fw-bold text-right",children:[t.porcentaje,"%"]})]})})]}):null]})}function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ea(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ea(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ta=function(e){var t=e.lotesPinpad,r=e.bancos,n=e.onChangeBanco,a=e.totalizarcierre,i=e.bloqueado,s=Jn((0,o.useState)(null),2),c=s[0],l=s[1],u=function(){l(null)};return t&&0!==t.length?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"row mb-2",children:[(0,Pt.jsx)("div",{className:"col-2 text-success text-right",children:"Lotes Pinpad"}),(0,Pt.jsxs)("div",{className:"col align-middle text-center",children:[(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"TERMINAL"}),(0,Pt.jsx)("th",{children:"MONTO BS"}),(0,Pt.jsx)("th",{children:"MONTO USD"}),(0,Pt.jsx)("th",{children:"CANT."}),(0,Pt.jsx)("th",{children:"BANCO"}),(0,Pt.jsx)("th",{children:"DETALLE"})]})}),(0,Pt.jsx)("tbody",{children:t.map((function(e,t){return(0,Pt.jsxs)("tr",{className:e.banco?"":"table-warning",children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:e.terminal,disabled:!0})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:e.monto_bs.toFixed(2),disabled:!0})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:e.monto_usd.toFixed(2),disabled:!0})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:e.cantidad_transacciones,disabled:!0})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("select",{className:"form-control ".concat(e.banco?"":"border-danger"),value:e.banco||"",onChange:function(e){return n(t,e.target.value)},disabled:a||i,children:r&&r.filter((function(e){return"0134"!==e.value})).map((function(e,t){return(0,Pt.jsx)("option",{value:e.value,children:e.text},t)}))})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("button",{type:"button",className:"btn btn-sm btn-info",onClick:function(){return function(e){l(e)}(e)},children:(0,Pt.jsx)("i",{className:"fa fa-eye"})})})]},t)}))})]}),t.some((function(e){return!e.banco}))&&(0,Pt.jsxs)("div",{className:"alert alert-warning mt-2",role:"alert",children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-triangle"})," Debe seleccionar un banco para todos los lotes Pinpad antes de guardar el cierre."]})]})]}),c&&(0,Pt.jsx)("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.5)"},children:(0,Pt.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Pt.jsxs)("div",{className:"modal-content",children:[(0,Pt.jsxs)("div",{className:"modal-header",children:[(0,Pt.jsxs)("h5",{className:"modal-title",children:["Detalle de Transacciones - Terminal ",c.terminal]}),(0,Pt.jsx)("button",{type:"button",className:"btn-close",onClick:u})]}),(0,Pt.jsx)("div",{className:"modal-body",style:{maxHeight:"500px",overflowY:"auto"},children:c.transacciones.map((function(e,t){return(0,Pt.jsxs)("div",{className:"mb-2 p-2 border-bottom",children:[(0,Pt.jsxs)("strong",{children:["Transaccin ",t+1]}),(0,Pt.jsx)("br",{}),(0,Pt.jsxs)("small",{children:["Pedido: #",e.id_pedido]}),(0,Pt.jsx)("br",{}),"Monto Bs: ",(0,Pt.jsx)("strong",{children:e.monto_original.toFixed(2)}),(0,Pt.jsx)("br",{}),"Monto USD: ",(0,Pt.jsxs)("strong",{children:["$",e.monto.toFixed(2)]}),(0,Pt.jsx)("br",{}),"Referencia: ",(0,Pt.jsx)("strong",{children:e.referencia}),(0,Pt.jsx)("br",{}),"Estado: ",(0,Pt.jsx)("span",{className:"badge bg-success",children:e.estado}),(0,Pt.jsx)("br",{}),"Lote POS: ",e.lote||"N/A"]},t)}))}),(0,Pt.jsx)("div",{className:"modal-footer",children:(0,Pt.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:u,children:"Cerrar"})})]})})})]}):null};function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function na(){na=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ra(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ra(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function aa(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function oa(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){aa(o,n,a,i,s,"next",e)}function s(e){aa(o,n,a,i,s,"throw",e)}i(void 0)}))}}function ia(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sa(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ca=function(e){return null==e?"0.00":parseFloat(e).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})};const la=function(e){var t=e.fechaCierre,r=e.onClose,n=(e.dolar,e.peso,e.esModal),a=void 0===n||n,i=ia((0,o.useState)(!1),2),c=i[0],l=i[1],u=ia((0,o.useState)(null),2),d=u[0],f=u[1],h=ia((0,o.useState)(null),2),p=h[0],m=h[1],g=ia((0,o.useState)([]),2),x=g[0],v=g[1],b=ia((0,o.useState)(null),2),y=b[0],_=b[1],j=ia((0,o.useState)(0),2),w=j[0],N=j[1],E=ia((0,o.useState)(!1),2),C=E[0],S=E[1],O=ia((0,o.useState)(!1),2),A=O[0],P=O[1],D=ia((0,o.useState)(null),2),I=D[0],T=D[1];(0,o.useEffect)((function(){M()}),[]);var M=function(){var e=oa(na().mark((function e(){var t,r,n,a;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),_(null),e.prev=2,e.next=5,ke.A.getTotalizarCierre({totalizarcierre:!0});case 5:(t=e.sent).data&&t.data.estado&&t.data.cierre_consolidado?(f(t.data.cierre_consolidado),m(t.data.datos_consolidados),v(t.data.cierres_individuales||[]),N(t.data.numero_usuarios||0),S(t.data.cierre_admin_guardado||!1),t.data.fecha&&T(t.data.fecha)):(n=(null===(r=t.data)||void 0===r?void 0:r.msj)||"El servidor no devolvi los datos esperados",_(n)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),a="Error al conectar con el servidor: "+(e.t0.message||e.t0),_(a);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),k=function(e){var t=e.msj||"Error al guardar el cierre",r=document.createElement("div");r.style.cssText="\n\t\t\tposition: fixed;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\tbackground: white;\n\t\t\tborder: 3px solid #dc3545;\n\t\t\tborder-radius: 8px;\n\t\t\tpadding: 20px;\n\t\t\tmax-width: 600px;\n\t\t\tmax-height: 80vh;\n\t\t\toverflow-y: auto;\n\t\t\tz-index: 10000;\n\t\t\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);\n\t\t\tfont-family: monospace;\n\t\t\tfont-size: 13px;\n\t\t\tline-height: 1.6;\n\t\t\twhite-space: pre-wrap;\n\t\t";var n=document.createElement("div");n.style.cssText="font-weight: bold; font-size: 16px; color: #dc3545; margin-bottom: 15px; text-align: center;",n.textContent=" FALTANTE EN CIERRE",r.appendChild(n);var a=document.createElement("div");a.textContent=t,r.appendChild(a);var o=document.createElement("button");o.textContent="Cerrar",o.style.cssText="\n\t\t\tmargin-top: 15px;\n\t\t\tpadding: 10px 20px;\n\t\t\tbackground: #dc3545;\n\t\t\tcolor: white;\n\t\t\tborder: none;\n\t\t\tborder-radius: 4px;\n\t\t\tcursor: pointer;\n\t\t\twidth: 100%;\n\t\t\tfont-size: 14px;\n\t\t\tfont-weight: bold;\n\t\t",o.onclick=function(){document.body.removeChild(r),document.body.removeChild(i)},r.appendChild(o);var i=document.createElement("div");i.style.cssText="\n\t\t\tposition: fixed;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\t\tz-index: 9999;\n\t\t",i.onclick=function(){document.body.removeChild(r),document.body.removeChild(i)},document.body.appendChild(i),document.body.appendChild(r)},R=function(){var e=oa(na().mark((function e(){var t,r,n,a,o;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&p){e.next=3;break}return alert("No hay datos de cierre para guardar"),e.abrupt("return");case 3:if(!confirm("Est seguro que desea guardar el cierre consolidado de administrador?")){e.next=19;break}return P(!0),e.prev=5,t={totalizarcierre:!0,caja_usd:p.efectivo_real.usd||0,caja_cop:p.efectivo_real.cop||0,caja_bs:p.efectivo_real.bs||0,dejar_usd:p.dejar_caja.usd||0,dejar_cop:p.dejar_caja.cop||0,dejar_bs:p.dejar_caja.bs||0,cuadre_detallado:d.cuadre_detallado,dataPuntosAdicionales:[],lotesPinpad:[]},e.next=9,ke.A.guardarCierre(t);case 9:if((r=e.sent).data&&r.data.estado){window.notificar&&window.notificar(" Cierre de administrador guardado exitosamente",!1),S(!0);try{B()}catch(e){console.error("Error al abrir modal de envo:",e),window.notificar&&window.notificar("Error al abrir modal de envo",!1)}}else void 0!==(null===(n=r.data)||void 0===n?void 0:n.total_diferencia)||void 0!==(null===(a=r.data)||void 0===a?void 0:a.descuadre_general)?k(r.data):alert((null===(o=r.data)||void 0===o?void 0:o.msj)||"Error al guardar el cierre");e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),alert("Error al guardar el cierre: "+(e.t0.message||e.t0));case 16:return e.prev=16,P(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=oa(na().mark((function e(){var r,n,a,o,i,c,l,u;return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=I||t||""){e.next=4;break}return window.notificar&&window.notificar("No hay fecha de cierre disponible para enviar",!1),e.abrupt("return");case 4:return e.prev=4,e.next=7,s().get(ke.A.getHost()+"sync/status");case 7:return n=e.sent,a={},n.data&&Object.keys(n.data).forEach((function(e){var t=n.data[e];a[e]={pendientes:t.pendientes||0,total:t.total||0,sincronizados:t.sincronizados||0}})),window.SyncModal&&(window.SyncModal.open(a),window.SyncModal.addLog("Obtenido estado de sincronizacin"),window.SyncModal.addLog("Iniciando envo de cierre...")),e.next=13,ke.A.sendCierre({type:"enviar",fecha:r,totalizarcierre:!0});case 13:(o=e.sent).data&&o.data.estado?(i=o.data.registros_totales||0,c=o.data.tiempo_sync||"0s",o.data.tablas||{},window.SyncModal&&(window.SyncModal.addLog("Registros procesados: ".concat(i)),window.SyncModal.addLog("Tiempo total: ".concat(c)),window.SyncModal.complete(!0,"Sincronizacin completada: ".concat(i," registros en ").concat(c),o.data)),window.notificar&&window.notificar(" Sincronizacin completada: ".concat(i," registros"),!1),ke.A.ejecutarPostSync({fecha:r}).catch((function(e){console.log("Post-sync en background:",(null==e?void 0:e.message)||"completado")}))):(l="Proceso completado","string"==typeof o.data?l=o.data:o.data&&o.data.mensaje?l=o.data.mensaje:Array.isArray(o.data)&&(l=o.data.join("\n")),window.SyncModal&&(o.data&&o.data.error?window.SyncModal.complete(!1,l):window.SyncModal.complete(!0,l,o.data)),window.notificar&&window.notificar(l,!1)),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(4),u="Error: "+(e.t0.message||"Error desconocido"),window.SyncModal&&!window.SyncModal.state.isOpen&&window.SyncModal.open(),window.SyncModal&&(window.SyncModal.addLog(u,"error"),window.SyncModal.complete(!1,u)),window.notificar&&window.notificar(u,!1);case 23:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=oa(na().mark((function e(){return na().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(" ADVERTENCIA \n\nEst seguro que desea REVERSAR el cierre de administrador?\n\nEsta accin eliminar TODOS los cierres del da (cajeros y administrador).\n\nPresione OK para continuar.")){e.next=2;break}return e.abrupt("return");case 2:if(confirm(" SEGUNDA CONFIRMACIN \n\nEsta es una accin IRREVERSIBLE.\n\nSe eliminarn:\n- Cierre de administrador\n- Todos los cierres de cajeros\n- Registros de movimientos de caja del da\n\nEst COMPLETAMENTE SEGURO?")){e.next=4;break}return e.abrupt("return");case 4:if(confirm(" LTIMA CONFIRMACIN \n\nEsta es su ltima oportunidad para cancelar.\n\nAl presionar OK, se ejecutar el reverso de TODOS los cierres del da.\n\nCONFIRMA que desea proceder con el REVERSO?")){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,ke.A.reversarCierre({});case 9:e.sent,alert(" Cierre reversado exitosamente.\n\nTodos los cierres del da han sido eliminados."),M(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),alert(" Error al reversar el cierre: "+(e.t0.message||e.t0));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}();if(c)return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsx)("div",{className:"bg-white rounded-lg p-8",children:(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Pt.jsx)("span",{className:"text-gray-700",children:"Cargando cierre consolidado..."})]})})});if(y){return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md",children:[(0,Pt.jsx)("div",{className:"text-red-600 mb-4",children:(0,Pt.jsx)("i",{className:"fa fa-exclamation-circle text-4xl"})}),(0,Pt.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Error"}),(0,Pt.jsx)("p",{className:"text-gray-700 mb-4",children:y}),(0,Pt.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,Pt.jsx)("button",{onClick:function(){_(null),r&&r()},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Cerrar"}),(0,Pt.jsxs)("button",{onClick:function(){_(null),M()},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:[(0,Pt.jsx)("i",{className:"fa fa-refresh mr-2"}),"Reintentar"]})]})]})})}if(!d||!d.cuadre_detallado){if(!c&&!y){var F=function(e){e&&(e.preventDefault(),e.stopPropagation()),r&&r()};return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:F,children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-md",onClick:function(e){return e.stopPropagation()},children:[(0,Pt.jsx)("div",{className:"text-gray-600 mb-4",children:(0,Pt.jsx)("i",{className:"fa fa-info-circle text-4xl"})}),(0,Pt.jsx)("h3",{className:"text-xl font-bold mb-2",children:"No hay datos disponibles"}),(0,Pt.jsx)("p",{className:"text-gray-700 mb-4",children:"No se encontraron datos de cierre para mostrar."}),(0,Pt.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,Pt.jsx)("button",{onClick:F,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded",children:"Cerrar"}),(0,Pt.jsxs)("button",{onClick:M,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:[(0,Pt.jsx)("i",{className:"fa fa-refresh mr-2"}),"Recargar"]})]})]})})}return null}d.cuadre_detallado;var U=function(e){return"cuadrado"===e?{text:"text-success",badge:"badge bg-success fs-6 px-2 py-1 fw-bold"}:"sobra"===e?{text:"text-orange-700",badge:"inline-block bg-orange-600 text-white text-sm px-2 py-1 rounded font-bold"}:{text:"text-danger",badge:"badge bg-danger fs-6 px-2 py-1 fw-bold"}},W=function(e,t){return e?(0,Pt.jsxs)("div",{className:"bg-white",children:[(0,Pt.jsx)("div",{className:"mb-3",children:(0,Pt.jsxs)("h3",{className:"text-xl font-bold text-gray-800 border-b-2 border-gray-300 pb-2",children:[(0,Pt.jsx)("i",{className:"fa fa-calculator text-blue-600 mr-2"}),t]})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-6 gap-2 p-2 bg-gray-100 font-bold text-sm border-b-2",children:[(0,Pt.jsx)("div",{className:"text-left",children:"Tipo"}),(0,Pt.jsx)("div",{className:"text-right",children:"Saldo Inicial"}),(0,Pt.jsx)("div",{className:"text-right",children:"Real"}),(0,Pt.jsx)("div",{className:"text-right",children:"Digital"}),(0,Pt.jsx)("div",{className:"text-right",children:"Diferencia"}),(0,Pt.jsx)("div",{className:"text-center",children:"Estado"})]}),(0,Pt.jsx)("div",{className:"mt-3 mb-2",children:(0,Pt.jsx)("h6",{className:"text-blue-600 font-bold text-sm",children:"EFECTIVO"})}),e.efectivo_usd&&(0,Pt.jsxs)("div",{className:"grid grid-cols-6 gap-2 p-2 border-b text-sm",children:[(0,Pt.jsx)("div",{className:"text-left font-semibold ".concat(U(e.efectivo_usd.estado).text),children:"Dlares (USD)"}),(0,Pt.jsxs)("div",{className:"text-right",children:["$",ca(e.efectivo_usd.inicial)]}),(0,Pt.jsxs)("div",{className:"text-right",children:["$",ca(e.efectivo_usd.real)]}),(0,Pt.jsxs)("div",{className:"text-right",children:["$",ca(e.efectivo_usd.digital)]}),(0,Pt.jsxs)("div",{className:"text-right font-bold ".concat(U(e.efectivo_usd.estado).text),children:["$",ca(e.efectivo_usd.diferencia)]}),(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("span",{className:U(e.efectivo_usd.estado).badge,children:e.efectivo_usd.mensaje})})]}),e.efectivo_bs&&(0,Pt.jsxs)("div",{className:"grid grid-cols-6 gap-2 p-2 border-b text-sm",children:[(0,Pt.jsx)("div",{className:"text-left font-semibold ".concat(U(e.efectivo_bs.estado).text),children:"Bolvares (Bs)"}),(0,Pt.jsxs)("div",{className:"text-right",children:["Bs ",ca(e.efectivo_bs.inicial)]}),(0,Pt.jsxs)("div",{className:"text-right",children:["Bs ",ca(e.efectivo_bs.real)]}),(0,Pt.jsxs)("div",{className:"text-right",children:["Bs ",ca(e.efectivo_bs.digital)]}),(0,Pt.jsxs)("div",{className:"text-right font-bold ".concat(U(e.efectivo_bs.estado).text),children:["Bs ",ca(e.efectivo_bs.diferencia)]}),(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("span",{className:U(e.efectivo_bs.estado).badge,children:e.efectivo_bs.mensaje})})]}),e.efectivo_cop&&(e.efectivo_cop.real>0||e.efectivo_cop.digital>0)&&(0,Pt.jsxs)("div",{className:"grid grid-cols-6 gap-2 p-2 border-b text-sm",children:[(0,Pt.jsx)("div",{className:"text-left font-semibold ".concat(U(e.efectivo_cop.estado).text),children:"Pesos (COP)"}),(0,Pt.jsxs)("div",{className:"text-right",children:["COP ",ca(e.efectivo_cop.inicial)]}),(0,Pt.jsxs)("div",{className:"text-right",children:["COP ",ca(e.efectivo_cop.real)]}),(0,Pt.jsxs)("div",{className:"text-right",children:["COP ",ca(e.efectivo_cop.digital)]}),(0,Pt.jsxs)("div",{className:"text-right font-bold ".concat(U(e.efectivo_cop.estado).text),children:["COP ",ca(e.efectivo_cop.diferencia)]}),(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("span",{className:U(e.efectivo_cop.estado).badge,children:e.efectivo_cop.mensaje})})]}),(0,Pt.jsx)("div",{className:"mt-3 mb-2",children:(0,Pt.jsx)("h6",{className:"text-blue-600 font-bold text-sm",children:"DBITO"})}),e.debito_pinpad&&(0,Pt.jsxs)("div",{className:"grid grid-cols-6 gap-2 p-2 border-b text-sm",children:[(0,Pt.jsx)("div",{className:"text-left font-semibold ".concat(U(e.debito_pinpad.estado).text),children:"Pinpad"}),(0,Pt.jsx)("div",{className:"text-right",children:"-"}),(0,Pt.jsxs)("div",{className:"text-right",children:["Bs ",ca(e.debito_pinpad.real)]}),(0,Pt.jsxs)("div",{className:"text-right",children:["Bs ",ca(e.debito_pinpad.digital)]}),(0,Pt.jsxs)("div",{className:"text-right font-bold ".concat(U(e.debito_pinpad.estado).text),children:["Bs ",ca(e.debito_pinpad.diferencia)]}),(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("span",{className:U(e.debito_pinpad.estado).badge,children:e.debito_pinpad.mensaje})})]}),e.debito_otros&&(0,Pt.jsxs)("div",{className:"grid grid-cols-6 gap-2 p-2 border-b text-sm",children:[(0,Pt.jsx)("div",{className:"text-left font-semibold ".concat(U(e.debito_otros.estado).text),children:"Otros Puntos"}),(0,Pt.jsx)("div",{className:"text-right",children:"-"}),(0,Pt.jsxs)("div",{className:"text-right",children:["Bs ",ca(e.debito_otros.real)]}),(0,Pt.jsxs)("div",{className:"text-right",children:["Bs ",ca(e.debito_otros.digital)]}),(0,Pt.jsxs)("div",{className:"text-right font-bold ".concat(U(e.debito_otros.estado).text),children:["Bs ",ca(e.debito_otros.diferencia)]}),(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("span",{className:U(e.debito_otros.estado).badge,children:e.debito_otros.mensaje})})]}),e.transferencia&&(e.transferencia.real>0||e.transferencia.digital>0)&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"mt-3 mb-2",children:(0,Pt.jsx)("h6",{className:"text-blue-600 font-bold text-sm",children:"TRANSFERENCIA"})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-6 gap-2 p-2 border-b text-sm",children:[(0,Pt.jsx)("div",{className:"text-left font-semibold ".concat(U(e.transferencia.estado).text),children:"Transferencia"}),(0,Pt.jsx)("div",{className:"text-right",children:"-"}),(0,Pt.jsxs)("div",{className:"text-right",children:["$",ca(e.transferencia.real)]}),(0,Pt.jsxs)("div",{className:"text-right",children:["$",ca(e.transferencia.digital)]}),(0,Pt.jsxs)("div",{className:"text-right font-bold ".concat(U(e.transferencia.estado).text),children:["$",ca(e.transferencia.diferencia)]}),(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("span",{className:U(e.transferencia.estado).badge,children:e.transferencia.mensaje})})]})]})]}):null},V=(0,Pt.jsxs)("div",{className:"p-6 overflow-y-auto",style:a?{maxHeight:"calc(90vh - 160px)"}:{},children:[(0,Pt.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg shadow-lg p-4 mb-6 border-2 border-blue-300",children:[(0,Pt.jsx)("div",{className:"mb-3",children:(0,Pt.jsxs)("h3",{className:"text-2xl font-bold text-blue-800 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-chart-line text-blue-600 mr-2"}),"CUADRE CONSOLIDADO - TOTAL DE ",w," CAJA(S)"]})}),W(null==d?void 0:d.cuadre_detallado,""),p&&(0,Pt.jsxs)("div",{className:"mt-4 p-4 bg-white rounded-lg border-2 border-blue-400",children:[(0,Pt.jsxs)("h5",{className:"text-blue-700 font-bold text-lg mb-3",children:[(0,Pt.jsx)("i",{className:"fa fa-calculator text-blue-600 mr-2"}),"Datos Introducidos Total"]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Pt.jsxs)("div",{className:"bg-blue-50 border border-blue-300 rounded-lg p-3",children:[(0,Pt.jsxs)("h6",{className:"text-blue-700 font-bold text-sm mb-2",children:[(0,Pt.jsx)("i",{className:"fa fa-money-bill-wave mr-1"}),"Efectivo Real Contado"]}),(0,Pt.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"USD:"}),(0,Pt.jsxs)("span",{className:"font-bold text-gray-800",children:["$",ca(p.efectivo_real.usd)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Bs:"}),(0,Pt.jsxs)("span",{className:"font-bold text-gray-800",children:["Bs ",ca(p.efectivo_real.bs)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"COP:"}),(0,Pt.jsxs)("span",{className:"font-bold text-gray-800",children:["$ ",ca(p.efectivo_real.cop)]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-orange-50 border border-orange-300 rounded-lg p-3",children:[(0,Pt.jsxs)("h6",{className:"text-orange-800 font-bold text-sm mb-2",children:[(0,Pt.jsx)("i",{className:"fa fa-archive mr-1"}),"Dejar en Caja"]}),(0,Pt.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"USD:"}),(0,Pt.jsxs)("span",{className:"font-bold text-gray-800",children:["$",ca(p.dejar_caja.usd)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Bs:"}),(0,Pt.jsxs)("span",{className:"font-bold text-gray-800",children:["Bs ",ca(p.dejar_caja.bs)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"COP:"}),(0,Pt.jsxs)("span",{className:"font-bold text-gray-800",children:["$ ",ca(p.dejar_caja.cop)]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-green-50 border border-green-300 rounded-lg p-3",children:[(0,Pt.jsxs)("h6",{className:"text-green-700 font-bold text-sm mb-2",children:[(0,Pt.jsx)("i",{className:"fa fa-piggy-bank mr-1"}),"Efectivo Guardado"]}),(0,Pt.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"USD:"}),(0,Pt.jsxs)("span",{className:"font-bold text-gray-800",children:["$",ca(p.efectivo_guardado.usd)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Bs:"}),(0,Pt.jsxs)("span",{className:"font-bold text-gray-800",children:["Bs ",ca(p.efectivo_guardado.bs)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"COP:"}),(0,Pt.jsxs)("span",{className:"font-bold text-gray-800",children:["$ ",ca(p.efectivo_guardado.cop)]})]})]})]})]})]}),(0,Pt.jsx)("div",{className:"mt-4 flex justify-end gap-3",children:C?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("button",{onClick:L,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-semibold transition flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fa fa-undo"}),"Reversar Cierre"]}),(0,Pt.jsxs)("button",{onClick:function(){var e=I||"";if(e){var t="".concat(ke.A.getHost(),"verCierre?type=ver&fecha=").concat(e);window.open(t,"_blank")}else{var r=prompt("Ingrese la fecha del cierre a ver (formato: YYYY-MM-DD):");if(!r)return;var n="".concat(ke.A.getHost(),"verCierre?type=ver&fecha=").concat(r);window.open(n,"_blank")}},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold transition flex items-center gap-2",children:[(0,Pt.jsx)("i",{className:"fa fa-eye"}),"Ver Cierre"]})]}):(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("button",{onClick:R,disabled:A,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-semibold transition disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:A?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin"}),"Guardando..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-save"}),"Guardar Cierre Administrador"]})})})})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("h3",{className:"text-xl font-bold text-gray-800 border-b-2 border-gray-300 pb-2 mb-4",children:[(0,Pt.jsx)("i",{className:"fa fa-users text-gray-600 mr-2"}),"Detalle por Caja Individual"]}),x.map((function(e,t){var r,n;return(0,Pt.jsxs)("div",{className:"border border-gray-300 rounded-lg shadow-md overflow-hidden",children:[(0,Pt.jsx)("div",{className:"bg-gradient-to-r from-gray-700 to-gray-800 px-4 py-3",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Pt.jsx)("i",{className:"fa fa-user-circle text-blue-400 text-2xl"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"text-lg font-bold text-white",children:e.nombre_usuario}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-300",children:["Usuario: ",e.usuario," | Caja #",e.id_usuario]})]})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("p",{className:"text-xs text-gray-300",children:"Efectivo a Guardar"}),(0,Pt.jsxs)("p",{className:"text-lg font-bold text-green-400",children:["$",ca((null===(r=e.datos_usuario)||void 0===r?void 0:r.efectivo_guardado.usd)||0)]})]})]})}),(0,Pt.jsxs)("div",{className:"p-4 bg-gray-50",children:[W(null===(n=e.cierre)||void 0===n?void 0:n.cuadre_detallado,""),e.datos_usuario&&(0,Pt.jsxs)("div",{className:"mt-3 p-3 bg-white rounded-lg border border-gray-300",children:[(0,Pt.jsxs)("h6",{className:"text-gray-700 font-bold text-sm mb-2",children:[(0,Pt.jsx)("i",{className:"fa fa-keyboard text-blue-600 mr-1"}),"Datos Introducidos"]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,Pt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[(0,Pt.jsx)("p",{className:"text-blue-700 font-semibold mb-1",children:"Efectivo Real"}),(0,Pt.jsxs)("div",{className:"space-y-0.5",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"USD:"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["$",ca(e.datos_usuario.efectivo_real.usd)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Bs:"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["Bs ",ca(e.datos_usuario.efectivo_real.bs)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"COP:"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["$ ",ca(e.datos_usuario.efectivo_real.cop)]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded p-2",children:[(0,Pt.jsx)("p",{className:"text-orange-800 font-semibold mb-1",children:"Dejar en Caja"}),(0,Pt.jsxs)("div",{className:"space-y-0.5",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"USD:"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["$",ca(e.datos_usuario.dejar_caja.usd)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Bs:"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["Bs ",ca(e.datos_usuario.dejar_caja.bs)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"COP:"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["$ ",ca(e.datos_usuario.dejar_caja.cop)]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded p-2",children:[(0,Pt.jsx)("p",{className:"text-green-700 font-semibold mb-1",children:"Efectivo Guardado"}),(0,Pt.jsxs)("div",{className:"space-y-0.5",children:[(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"USD:"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["$",ca(e.datos_usuario.efectivo_guardado.usd)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Bs:"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["Bs ",ca(e.datos_usuario.efectivo_guardado.bs)]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"COP:"}),(0,Pt.jsxs)("span",{className:"font-bold",children:["$ ",ca(e.datos_usuario.efectivo_guardado.cop)]})]})]})]})]})]})]})]},t)}))]})]});return a?(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl w-full my-8",style:{maxWidth:"95vw",maxHeight:"90vh"},children:[(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg flex justify-between items-center",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"text-2xl font-bold",children:"Totalizar Cierre de Da"}),(0,Pt.jsxs)("p",{className:"text-blue-100 text-sm",children:[w," Caja(s)"]})]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("p",{className:"text-blue-100 text-sm font-semibold",children:"Fecha de clculo:"}),(0,Pt.jsx)("p",{className:"text-white text-base font-bold",children:I||"Cargando..."})]}),(0,Pt.jsx)("button",{onClick:r,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition",children:(0,Pt.jsx)("i",{className:"fa fa-times text-xl"})})]})]}),V,(0,Pt.jsxs)("div",{className:"bg-gray-50 px-6 py-4 rounded-b-lg flex justify-end gap-3 border-t",children:[(0,Pt.jsxs)("button",{onClick:r,className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-semibold transition",children:[(0,Pt.jsx)("i",{className:"fa fa-times mr-2"}),"Cerrar"]}),(0,Pt.jsxs)("button",{onClick:function(){return window.print()},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition",children:[(0,Pt.jsx)("i",{className:"fa fa-print mr-2"}),"Imprimir"]})]})]})}):(0,Pt.jsxs)("div",{className:"w-full",children:[(0,Pt.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-lg mb-4 flex justify-between items-center",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"text-2xl font-bold",children:"Totalizar Cierre de Da"}),(0,Pt.jsxs)("p",{className:"text-blue-100 text-sm",children:[w," Caja(s)"]})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("p",{className:"text-blue-100 text-sm font-semibold",children:"Fecha de clculo:"}),(0,Pt.jsx)("p",{className:"text-white text-base font-bold",children:I||"Cargando..."})]})]}),V,(0,Pt.jsx)("div",{className:"mt-4 flex justify-end",children:(0,Pt.jsxs)("button",{onClick:function(){return window.print()},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-semibold transition",children:[(0,Pt.jsx)("i",{className:"fa fa-print mr-2"}),"Imprimir"]})})]})};function ua(e){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}function da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?da(Object(r),!0).forEach((function(t){ha(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ha(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ua(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ua(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pa(e){return function(e){if(Array.isArray(e))return ya(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ba(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(){ma=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==ua(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(ua(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function ga(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function xa(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ga(o,n,a,i,s,"next",e)}function s(e){ga(o,n,a,i,s,"throw",e)}i(void 0)}))}}function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||ba(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(e,t){if(e){if("string"==typeof e)return ya(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ya(e,t):void 0}}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _a=function(e){return null==e?"0.00":parseFloat(e).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})};function ja(e){var t=e.cierre,r=e.tipo,n=e.moneda,a=e.onRefrescarCierre,i=va((0,o.useState)(null),2),s=i[0],c=i[1],l=va((0,o.useState)(null),2),u=l[0],d=l[1],f=va((0,o.useState)(!1),2),h=f[0],p=f[1],m=va((0,o.useState)(1===r),2),g=m[0],x=m[1],v=va((0,o.useState)({}),2),b=v[0],y=v[1],_=va((0,o.useState)({}),2),j=_[0],w=_[1],N=va((0,o.useState)(null),2),E=N[0],C=N[1],S=va((0,o.useState)({}),2),O=S[0],A=S[1],P=function(e){w((function(t){return fa(fa({},t),{},ha({},e,!t[e]))}))},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return parseFloat(e||0).toLocaleString("es-VE",{minimumFractionDigits:t,maximumFractionDigits:t})},I=(0,o.useMemo)((function(){if(2===r&&"PINPAD"===n)return t.lotes_pinpad&&Array.isArray(t.lotes_pinpad)&&t.lotes_pinpad.length>0?t.lotes_pinpad.flatMap((function(e){return e.transacciones||[]})).sort((function(e,t){return new Date(e.created_at||0)-new Date(t.created_at||0)})):[];if(!t.pagos_por_moneda)return[];var e=t.pagos_por_moneda.find((function(e){return e.tipo==r}));if(2===r&&"OTROS"===n){var a=new Set;return t.lotes_pinpad&&t.lotes_pinpad.forEach((function(e){(e.transacciones||[]).forEach((function(e){return a.add(e.id)}))})),e&&e.monedas?e.monedas.flatMap((function(e){return(e.pagos||[]).filter((function(e){return!a.has(e.id)}))})).sort((function(e,t){return new Date(e.created_at||0)-new Date(t.created_at||0)})):[]}if(!e)return[];if(n){var o=e.monedas.find((function(e){return e.moneda&&n&&e.moneda.toLowerCase()===n.toLowerCase()}));return o?(o.pagos||[]).sort((function(e,t){return new Date(e.created_at||0)-new Date(t.created_at||0)})):[]}return e.monedas.flatMap((function(e){return e.pagos||[]})).sort((function(e,t){return new Date(e.created_at||0)-new Date(t.created_at||0)}))}),[t,r,n]),T=(0,o.useMemo)((function(){if(1!==r)return null;if(t.transferencias_agrupadas)return t.transferencias_agrupadas;if(0===I.length)return null;var e={};return I.forEach((function(t){var r=t.categoria||"Sin Categora",n=t.banco||"Sin Banco";e[r]||(e[r]={}),e[r][n]||(e[r][n]={transacciones:[],monto_total:0,cantidad:0}),e[r][n].transacciones.push(t),e[r][n].monto_total+=parseFloat(t.monto_referencia||t.monto||0),e[r][n].cantidad++})),e}),[I,r,t.transferencias_agrupadas]),M=function(){var e=xa(ma().mark((function e(t){var r,n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&null!=t){e.next=3;break}return alert("Error: No se pudo obtener el ID del pedido"),e.abrupt("return");case 3:return c(t),p(!0),e.prev=5,e.next=8,ke.A.getPedido({id:t});case 8:r=e.sent,(n=Array.isArray(null==r?void 0:r.data)?r.data[0]:null==r?void 0:r.data)&&(n.id||n.items)&&d(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("Error al cargar pedido:",e.t0);case 16:return e.prev=16,p(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){c(null),d(null)},R=function(){var e=xa(ma().mark((function e(t,r){var n,o,i,s,c,l;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),null!=r&&r.id){e.next=4;break}return e.abrupt("return");case 4:return C(r.id),e.prev=5,e.next=8,ke.A.queryTransaccionPosYActualizarPago({id:r.id});case 8:i=e.sent,null!==(n=i.data)&&void 0!==n&&n.success&&null!==(o=i.data)&&void 0!==o&&o.pago?(A((function(e){return fa(fa({},e),{},ha({},r.id,i.data.pago))})),null==a||a(),alert("Transaccin aprobada. Pago actualizado con datos de Instapago.")):alert((null===(s=i.data)||void 0===s?void 0:s.message)||"No se encontr transaccin aprobada en Instapago con esa referencia y monto."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),l=(null===(c=e.t0.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.message)||e.t0.message||"Error al verificar con Instapago",alert(l);case 16:return e.prev=16,C(null),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,12,16,19]])})));return function(t,r){return e.apply(this,arguments)}}();if(0===I.length)return(0,Pt.jsx)("div",{className:"alert alert-info",children:"No hay pagos registrados para este tipo."});var B=I.length,L=I.filter((function(e){return j[e.id]})).length,F="USD"===n||!n,U="BS"===n,W="COP"===n,V="PINPAD"===n||"OTROS"===n,z=1===r;return(0,Pt.jsxs)("div",{className:"overflow-hidden rounded-lg shadow-sm",children:[(0,Pt.jsxs)("div",{className:"p-3 bg-gradient-to-r from-blue-100 to-indigo-100 border-bottom d-flex justify-content-between align-items-center",children:[(0,Pt.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,Pt.jsxs)("div",{className:"badge bg-primary text-white px-3 py-2",style:{fontSize:"14px"},children:[(0,Pt.jsx)("i",{className:"fa fa-list-ol me-2"}),"Total: ",(0,Pt.jsx)("strong",{children:B})]}),(0,Pt.jsxs)("div",{className:"badge ".concat(L===B&&B>0?"bg-success":"bg-info"," text-white px-3 py-2"),style:{fontSize:"14px"},children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle me-2"}),"Verificados: ",(0,Pt.jsxs)("strong",{children:[L,"/",B]})]})]}),B>0&&(0,Pt.jsxs)("div",{className:"text-end",children:[(0,Pt.jsx)("small",{className:"text-muted d-block",children:"Progreso de verificacin"}),(0,Pt.jsx)("div",{className:"progress",style:{width:"200px",height:"20px"},children:(0,Pt.jsxs)("div",{className:"progress-bar ".concat(L===B?"bg-success":"bg-primary"),role:"progressbar",style:{width:"".concat(L/B*100,"%")},"aria-valuenow":L,"aria-valuemin":"0","aria-valuemax":B,children:[Math.round(L/B*100),"%"]})})]})]}),z&&T&&(0,Pt.jsxs)("div",{className:"p-3 bg-light border-bottom d-flex justify-content-between align-items-center",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("h6",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-filter text-primary me-2"}),"Vista: ",(0,Pt.jsx)("span",{className:"text-primary fw-bold",children:g?"Agrupada por Banco":"Detallada"})]})}),(0,Pt.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return x(!g)},children:[(0,Pt.jsx)("i",{className:"fa fa-".concat(g?"list":"layer-group"," me-2")}),g?"Ver Detalles":"Agrupar"]})]}),z&&g&&T?(0,Pt.jsx)("div",{className:"p-4",children:Object.entries(T).map((function(e){var t=va(e,2),r=t[0],n=t[1];return(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsxs)("h5",{className:"text-white bg-primary fw-bold p-2 rounded mb-3",children:[(0,Pt.jsx)("i",{className:"fa fa-folder-open me-2"}),r]}),(0,Pt.jsx)("div",{className:"row g-3",children:Object.entries(n).map((function(e){var t=va(e,2),n=t[0],a=t[1],o="".concat(r,"-").concat(n),i=b[o];return(0,Pt.jsx)("div",{className:"col-md-6",children:(0,Pt.jsxs)("div",{className:"card shadow-sm border-0 h-100",children:[(0,Pt.jsx)("div",{className:"card-header bg-dark text-white",children:(0,Pt.jsxs)("h6",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-university me-2"}),n]})}),(0,Pt.jsxs)("div",{className:"card-body bg-light",children:[(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-dark mb-1 small fw-bold",children:"Cantidad de transacciones"}),(0,Pt.jsxs)("h4",{className:"mb-0 fw-bold text-dark",children:[(0,Pt.jsx)("i",{className:"fa fa-receipt me-2"}),a.cantidad]})]}),(0,Pt.jsxs)("div",{className:"text-end",children:[(0,Pt.jsx)("p",{className:"text-dark mb-1 small fw-bold",children:"Monto Total"}),(0,Pt.jsx)("h4",{className:"mb-0 fw-bold text-success",children:D(a.monto_total)})]})]}),(0,Pt.jsxs)("button",{className:"btn btn-sm btn-primary w-100 fw-bold",type:"button",onClick:function(){return e=o,void y((function(t){return fa(fa({},t),{},ha({},e,!t[e]))}));var e},children:[(0,Pt.jsx)("i",{className:"fa fa-".concat(i?"eye-slash":"eye"," me-2")}),i?"Ocultar":"Ver"," Transacciones"]}),i&&(0,Pt.jsx)("div",{className:"mt-3",children:(0,Pt.jsx)("div",{className:"table-responsive",style:{maxHeight:"300px",overflowY:"auto"},children:(0,Pt.jsxs)("table",{className:"table table-sm table-hover table-bordered mb-0",children:[(0,Pt.jsx)("thead",{className:"table-dark sticky-top",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"small text-center",children:"#"}),(0,Pt.jsx)("th",{className:"small text-center",children:"Verificar"}),(0,Pt.jsx)("th",{className:"small",children:"ID"}),(0,Pt.jsx)("th",{className:"small",children:"Pedido"}),(0,Pt.jsx)("th",{className:"small text-end",children:"Monto"}),(0,Pt.jsx)("th",{className:"small",children:"Referencia"}),(0,Pt.jsx)("th",{className:"small",children:"Fecha"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white",children:a.transacciones.sort((function(e,t){return new Date(e.created_at||e.fecha||0)-new Date(t.created_at||t.fecha||0)})).map((function(e,t){return(0,Pt.jsxs)("tr",{className:j[e.id]?"table-success":"",children:[(0,Pt.jsx)("td",{className:"small text-center fw-bold",children:t+1}),(0,Pt.jsx)("td",{className:"small text-center",children:(0,Pt.jsx)("input",{type:"checkbox",className:"form-check-input",style:{width:"16px",height:"16px",cursor:"pointer"},checked:j[e.id]||!1,onChange:function(){return P(e.id)},title:"Marcar como verificado"})}),(0,Pt.jsx)("td",{className:"small fw-bold",children:e.id}),(0,Pt.jsx)("td",{className:"small",children:(0,Pt.jsxs)("span",{className:"badge bg-info",children:["#",e.id_pedido]})}),(0,Pt.jsx)("td",{className:"small text-end fw-bold text-success",children:D(e.monto)}),(0,Pt.jsx)("td",{className:"small text-truncate",style:{maxWidth:"150px"},title:e.descripcion,children:e.descripcion||"N/A"}),(0,Pt.jsx)("td",{className:"small text-muted",children:e.created_at?new Date(e.created_at).toLocaleString("es-VE",{dateStyle:"short",timeStyle:"short"}):"N/A"})]},t)}))}),(0,Pt.jsx)("tfoot",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{colSpan:"4",className:"text-end fw-bold small",children:"Subtotal:"}),(0,Pt.jsx)("td",{className:"text-end fw-bold text-success small",children:D(a.monto_total)}),(0,Pt.jsx)("td",{colSpan:"2"})]})})]})})})]})]})},n)}))})]},r)}))}):(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pt.jsx)("thead",{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"#"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Verificar"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"ID"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Pedido"}),(U||V)&&(0,Pt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Monto Bs"}),(U||V)&&(0,Pt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Ref. USD"}),W&&(0,Pt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Monto COP"}),F&&!V&&(0,Pt.jsx)("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Monto USD"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Referencia"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Fecha"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Acciones"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map((function(e,t){return(0,Pt.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors duration-150 ".concat(j[e.id]?"bg-green-50":""),children:[(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-bold text-center text-gray-700",children:t+1}),(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:(0,Pt.jsx)("input",{type:"checkbox",className:"form-check-input",style:{width:"18px",height:"18px",cursor:"pointer"},checked:j[e.id]||!1,onChange:function(){return P(e.id)},title:"Marcar como verificado"})}),(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:(0,Pt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.id})}),(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:(0,Pt.jsxs)("span",{className:"font-semibold text-indigo-600",children:["#",e.id_pedido]})}),(U||V)&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:(0,Pt.jsxs)("span",{className:"text-green-600",children:["Bs ",e.monto_original?parseFloat(e.monto_original).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}):"0,00"]})}),(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right font-medium text-gray-700",children:(0,Pt.jsxs)("span",{className:"text-blue-700",children:["$",e.monto?parseFloat(e.monto).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}):"0,00"]})})]}),W&&(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:(0,Pt.jsxs)("span",{className:"text-orange-700",children:["COP ",e.monto_original?parseFloat(e.monto_original).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}):"0,00"]})}),F&&!V&&(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:(0,Pt.jsxs)("span",{className:"text-blue-700",children:["$",e.monto?parseFloat(e.monto).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}):"0,00"]})}),(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:e.referencia||(0,Pt.jsx)("span",{className:"text-gray-400 italic",children:"N/A"})}),(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:e.created_at?new Date(e.created_at).toLocaleString("es-VE",{dateStyle:"short",timeStyle:"short"}):(0,Pt.jsx)("span",{className:"text-gray-400 italic",children:"N/A"})}),(0,Pt.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center text-sm",children:(0,Pt.jsxs)("div",{className:"d-flex flex-wrap gap-1 justify-content-center align-items-center",children:[e.id_pedido?(0,Pt.jsxs)("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-150",onClick:function(){return M(e.id_pedido)},children:[(0,Pt.jsx)("i",{className:"fa fa-file-text mr-1"})," Ver"]}):null,"OTROS"===n&&(0,Pt.jsx)("button",{type:"button",className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-amber-600 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 transition-colors duration-150",onClick:function(t){return R(t,O[e.id]||e)},disabled:E===e.id,title:"Verificar con Instapago si la transaccin est aprobada y actualizar el pago",children:E===e.id?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin mr-1"})," Verificando..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle mr-1"})," Verificar Instapago"]})}),!e.id_pedido&&"OTROS"!==n&&(0,Pt.jsx)("span",{className:"text-gray-400 text-xs italic",children:"N/A"})]})})]},t)}))}),(0,Pt.jsx)("tfoot",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 border-t-2 border-indigo-200",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{colSpan:4,className:"px-4 py-4 text-right text-sm font-bold text-gray-800 uppercase",children:"Total:"}),(U||V)&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("td",{className:"px-4 py-4 text-right text-lg font-extrabold text-emerald-900",children:["Bs ",I.reduce((function(e,t){return e+(parseFloat(t.monto_original)||0)}),0).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Pt.jsxs)("td",{className:"px-4 py-4 text-right text-lg font-bold text-blue-900",children:["$",I.reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),W&&(0,Pt.jsxs)("td",{className:"px-4 py-4 text-right text-lg font-extrabold text-orange-900",children:["COP ",I.reduce((function(e,t){return e+(parseFloat(t.monto_original)||0)}),0).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),F&&!V&&(0,Pt.jsxs)("td",{className:"px-4 py-4 text-right text-lg font-extrabold text-blue-900",children:["$",I.reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Pt.jsx)("td",{colSpan:3})]})})]})}),s&&(0,Pt.jsx)("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.7)",zIndex:1060},children:(0,Pt.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Pt.jsxs)("div",{className:"modal-content",children:[(0,Pt.jsxs)("div",{className:"modal-header",children:[(0,Pt.jsxs)("h5",{className:"modal-title",children:["Detalles del Pedido #",s]}),(0,Pt.jsx)("button",{type:"button",className:"btn-close",onClick:k})]}),(0,Pt.jsx)("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:h?(0,Pt.jsxs)("div",{className:"text-center py-4",children:[(0,Pt.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Pt.jsx)("span",{className:"visually-hidden",children:"Cargando..."})}),(0,Pt.jsx)("p",{className:"mt-2 text-muted",children:"Cargando detalles del pedido..."})]}):u&&u.items?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"mb-3 p-3 bg-light rounded",children:(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsxs)("p",{className:"mb-1",children:[(0,Pt.jsx)("strong",{children:"Pedido:"})," #",u.id]}),(0,Pt.jsxs)("p",{className:"mb-1",children:[(0,Pt.jsx)("strong",{children:"Fecha:"})," ",u.created_at]}),u.cliente&&(0,Pt.jsxs)("p",{className:"mb-1",children:[(0,Pt.jsx)("strong",{children:"Cliente:"})," ",u.cliente.nombre]})]}),(0,Pt.jsxs)("div",{className:"col-md-6 text-end",children:[(0,Pt.jsxs)("p",{className:"mb-1",children:[(0,Pt.jsx)("strong",{children:"Total Ref:"})," ",(0,Pt.jsxs)("span",{className:"text-success fs-5",children:["$",D(u.total)]})]}),(0,Pt.jsxs)("p",{className:"mb-1",children:[(0,Pt.jsx)("strong",{children:"Total Bs:"})," ",(0,Pt.jsxs)("span",{className:"text-primary fs-5",children:["Bs ",D(u.bs)]})]}),u.total_porciento>0&&(0,Pt.jsxs)("p",{className:"mb-1",children:[(0,Pt.jsx)("strong",{children:"Descuento:"})," ",(0,Pt.jsxs)("span",{className:"text-warning",children:[u.total_porciento,"%"]})]})]})]})}),(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm table-hover",children:[(0,Pt.jsx)("thead",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-start",children:"Producto"}),(0,Pt.jsx)("th",{className:"text-center",style:{width:"80px"},children:"Cant."}),(0,Pt.jsx)("th",{className:"text-end",style:{width:"100px"},children:"Precio"}),(0,Pt.jsx)("th",{className:"text-end",style:{width:"80px"},children:"Desc."}),(0,Pt.jsx)("th",{className:"text-end",style:{width:"120px"},children:"Total"})]})}),(0,Pt.jsx)("tbody",{children:u.items.map((function(e,t){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{className:"text-start",children:e.producto?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"text-muted small font-monospace",children:e.producto.codigo_barras}),(0,Pt.jsx)("div",{className:"fw-medium",children:e.producto.descripcion}),1===e.condicion&&(0,Pt.jsx)("span",{className:"badge bg-warning text-dark",children:"Garanta"}),(2===e.condicion||0===e.condicion)&&e.cantidad<0&&(0,Pt.jsx)("span",{className:"badge bg-info",children:"Cambio"})]}):(0,Pt.jsxs)("span",{className:"text-muted",children:["MOV - ",e.abono]})}),(0,Pt.jsx)("td",{className:"text-center",children:e.cantidad<0?(0,Pt.jsxs)("span",{className:"badge bg-success",children:[(0,Pt.jsx)("i",{className:"fa fa-arrow-down"})," ",Math.abs(e.cantidad)]}):(0,Pt.jsx)("span",{children:Number(e.cantidad)%1==0?Number(e.cantidad):Number(e.cantidad).toFixed(2)})}),(0,Pt.jsx)("td",{className:"text-end",children:e.producto?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{children:["$",D(e.producto.precio,4)]}),e.cantidad<0&&e.tasa&&(0,Pt.jsxs)("div",{className:"text-warning small",children:["@",D(e.tasa,4)]})]}):(0,Pt.jsxs)("span",{children:["$",D(e.monto)]})}),(0,Pt.jsx)("td",{className:"text-end",children:e.descuento&&parseFloat(e.descuento)>0?(0,Pt.jsxs)("span",{className:"badge bg-warning text-dark",children:[(0,Pt.jsx)("i",{className:"fa fa-tag"})," ",e.descuento,"%"]}):(0,Pt.jsx)("span",{className:"text-muted",children:"-"})}),(0,Pt.jsxs)("td",{className:"text-end fw-bold",children:["$",D(e.total)]})]},t)}))}),(0,Pt.jsx)("tfoot",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{colSpan:"4",className:"text-end fw-bold",children:"Total:"}),(0,Pt.jsxs)("td",{className:"text-end fw-bold text-success fs-5",children:["$",D(u.total)]})]})})]})}),u.pagos&&u.pagos.length>0&&(0,Pt.jsxs)("div",{className:"mt-4",children:[(0,Pt.jsxs)("h6",{className:"mb-3 fw-bold text-primary",children:[(0,Pt.jsx)("i",{className:"fa fa-credit-card me-2"}),"Mtodos de Pago"]}),(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm table-bordered table-hover",children:[(0,Pt.jsx)("thead",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-start",children:"Mtodo"}),(0,Pt.jsx)("th",{className:"text-center",children:"Moneda"}),(0,Pt.jsx)("th",{className:"text-end",children:"Monto Original"}),(0,Pt.jsx)("th",{className:"text-end",children:"Monto (USD)"}),(0,Pt.jsx)("th",{className:"text-center",children:"Referencia"})]})}),(0,Pt.jsx)("tbody",{children:u.pagos.map((function(e){var t=function(e){switch(String(e)){case"1":return{nombre:"Transferencia",icon:"fa-exchange-alt",color:"primary"};case"2":return{nombre:"Dbito",icon:"fa-credit-card",color:"warning"};case"3":return{nombre:"Efectivo",icon:"fa-money-bill",color:"success"};case"4":return{nombre:"Crdito",icon:"fa-calendar-alt",color:"info"};case"5":return{nombre:"Biopago",icon:"fa-mobile-alt",color:"purple"};case"6":return{nombre:"Vuelto",icon:"fa-undo",color:"danger"};default:return{nombre:"Otro",icon:"fa-question",color:"secondary"}}}(e.tipo),r="bs"===e.moneda?"Bs":"cop"===e.moneda?"COP":"usd"===e.moneda?"USD":e.moneda||"USD";return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsxs)("td",{className:"text-start",children:[(0,Pt.jsx)("i",{className:"fa ".concat(t.icon," text-").concat(t.color," me-2")}),(0,Pt.jsx)("span",{className:"fw-medium",children:t.nombre})]}),(0,Pt.jsx)("td",{className:"text-center",children:(0,Pt.jsx)("span",{className:"badge bg-secondary",children:r})}),(0,Pt.jsx)("td",{className:"text-end",children:e.monto_original?(0,Pt.jsx)("span",{className:"fw-semibold",children:"Bs"===r?"Bs ".concat(_a(e.monto_original)):"COP"===r?"COP ".concat(parseFloat(e.monto_original).toLocaleString("es-VE",{minimumFractionDigits:0,maximumFractionDigits:0})):"$".concat(_a(e.monto_original))}):(0,Pt.jsx)("span",{className:"text-muted",children:"-"})}),(0,Pt.jsx)("td",{className:"text-end",children:(0,Pt.jsxs)("span",{className:"fw-bold text-primary",children:["$",_a(e.monto||0)]})}),(0,Pt.jsx)("td",{className:"text-center",children:e.referencia?(0,Pt.jsx)("span",{className:"badge bg-light text-dark font-monospace",children:e.referencia}):(0,Pt.jsx)("span",{className:"text-muted",children:"-"})})]},e.id)}))}),(0,Pt.jsx)("tfoot",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{colSpan:"3",className:"text-end fw-bold",children:"Total Pagado:"}),(0,Pt.jsxs)("td",{className:"text-end fw-bold text-success fs-6",children:["$",_a(u.pagos.reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0))]}),(0,Pt.jsx)("td",{})]})})]})})]})]}):(0,Pt.jsxs)("div",{className:"alert alert-warning",children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-triangle"})," No se pudieron cargar los detalles del pedido."]})}),(0,Pt.jsx)("div",{className:"modal-footer",children:(0,Pt.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:k,children:"Cerrar"})})]})})})]})}const wa=function(e){var t=e.dataPuntosAdicionales,r=e.setdataPuntosAdicionales,n=e.addTuplasPuntosAdicionales,a=e.tipoUsuarioCierre,i=e.settipoUsuarioCierre,s=e.moneda,c=e.caja_usd,l=e.caja_cop,u=e.caja_bs,d=e.caja_punto,f=(e.setcaja_biopago,e.caja_biopago,e.notaCierre),h=e.dejar_usd,p=e.dejar_cop,m=e.dejar_bs,g=(e.setDejar_usd,e.setDejar_cop,e.setDejar_bs,e.onchangecaja),x=e.cierre,v=e.cerrar_dia,b=(e.total_caja_neto,e.total_punto,e.total_biopago,e.fechaCierre),y=(e.setFechaCierre,e.viewCierre),_=e.setViewCierre,j=e.toggleDetallesCierre,w=e.setToggleDetallesCierre,N=e.guardar_cierre,E=(e.sendCuentasporCobrar,e.total_dejar_caja_neto,e.guardar_usd,e.setguardar_usd),C=(e.guardar_cop,e.setguardar_cop),S=(e.guardar_bs,e.setguardar_bs),O=e.number,A=(e.billete1,e.billete5,e.billete10,e.billete20,e.billete50,e.billete100,e.setbillete1,e.setbillete5,e.setbillete10,e.setbillete20,e.setbillete50,e.setbillete100,e.setCaja_usd,e.setCaja_cop,e.setCaja_bs,e.setCaja_punto),P=e.veryenviarcierrefun,D=e.dolar,I=e.peso,T=e.cierres,M=e.fechaGetCierre,k=e.setfechaGetCierre,R=e.fechaGetCierre2,B=e.setfechaGetCierre2,L=e.getCierres,F=e.verCierreReq,U=e.auth,W=e.user,V=e.totalizarcierre,z=e.setTotalizarcierre,K=e.tipo_accionCierre,G=(e.settipo_accionCierre,e.getTotalizarCierre),q=e.cierrenumreportez,H=e.setcierrenumreportez,$=e.cierreventaexcento,Y=e.setcierreventaexcento,X=e.cierreventagravadas,Q=e.setcierreventagravadas,Z=e.cierreivaventa,J=e.setcierreivaventa,ee=e.cierretotalventa,te=e.setcierretotalventa,re=e.cierreultimafactura,ne=e.setcierreultimafactura,ae=(e.cierreefecadiccajafbs,e.setcierreefecadiccajafbs,e.cierreefecadiccajafcop,e.setcierreefecadiccajafcop,e.cierreefecadiccajafdolar,e.setcierreefecadiccajafdolar,e.cierreefecadiccajafeuro,e.setcierreefecadiccajafeuro,e.fun_setguardar,e.setCajaFuerteEntradaCierreDolar,e.CajaFuerteEntradaCierreDolar),oe=(e.setCajaFuerteEntradaCierreCop,e.CajaFuerteEntradaCierreCop),ie=(e.setCajaFuerteEntradaCierreBs,e.CajaFuerteEntradaCierreBs),se=(e.setCajaChicaEntradaCierreDolar,e.CajaChicaEntradaCierreDolar,e.setCajaChicaEntradaCierreCop,e.CajaChicaEntradaCierreCop,e.setCajaChicaEntradaCierreBs,e.CajaChicaEntradaCierreBs,e.setcajaFuerteFun,e.serialbiopago,e.setserialbiopago,e.lotespuntototalizar,e.biopagostotalizar,e.lotesPinpad),ce=e.setLotesPinpad,le=e.reversarCierre,ue=e.bancos;(0,o.useEffect)((function(){x&&void 0!==x.efectivo_guardado_usd&&E(x.efectivo_guardado_usd),x&&void 0!==x.efectivo_guardado_cop&&C(x.efectivo_guardado_cop),x&&void 0!==x.efectivo_guardado_bs&&S(x.efectivo_guardado_bs)}),[x]);var de=va((0,o.useState)(!1),2),fe=de[0],he=de[1],pe=va((0,o.useState)(!1),2),me=pe[0],ge=pe[1],xe=va((0,o.useState)(!1),2),ve=xe[0],be=xe[1],ye=va((0,o.useState)(!1),2),_e=ye[0],je=ye[1],we=va((0,o.useState)(!1),2),Ne=we[0],Ee=we[1],Ce=va((0,o.useState)(""),2),Se=Ce[0],Oe=Ce[1],Ae=W&&1===W.nivel;(0,o.useEffect)((function(){Ae&&z(!0)}),[W,Ae]),(0,o.useEffect)((function(){Ae&&x&&x.fecha&&he(!0)}),[x,null==x?void 0:x.fecha,Ae]),(0,o.useEffect)((function(){Pe()}),[b,K,null==x?void 0:x.fecha]);var Pe=function(){var e=xa(ma().mark((function e(){var t,r;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.A.getStatusCierre();case 3:if(!(t=e.sent).data||!t.data.tipo_accionCierre){e.next=27;break}if("editar"!==t.data.tipo_accionCierre){e.next=23;break}return be(!0),e.prev=8,e.next=11,ke.A.getCierres({fechaGetCierre:b,fechaGetCierre2:b,tipoUsuarioCierre:1});case 11:(r=e.sent).data&&r.data.cierres&&r.data.cierres.length>0?(je(!0),Ee(!0),Oe("No se puede recalcular. Existe un cierre de administrador. Debe reversarlo primero.")):(je(!1),Ee(!0),Oe("Ya existe un cierre guardado. No puede recalcular sin eliminarlo primero.")),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(8),console.error("Error verificando cierre admin:",e.t0),je(!1),Ee(!0),Oe("Ya existe un cierre guardado. No puede recalcular sin eliminarlo primero.");case 21:e.next=27;break;case 23:be(!1),je(!1),Ee(!1),Oe("");case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(0),console.error("Error verificando estado del cierre:",e.t1),Ee(!1);case 33:case"end":return e.stop()}}),e,null,[[0,29],[8,15]])})));return function(){return e.apply(this,arguments)}}(),De=function(e){var t=e.target.name,r=e.target.value;"dejar_usd"!==t&&"dejar_bs"!==t&&"dejar_cop"!==t||(r=function(e,t){var r=parseFloat(t)||0;if("dejar_usd"===e){var n=parseFloat(c)||0;if(r>n)return alert("No puedes dejar $".concat(r.toFixed(2)," USD en caja. Solo hay $").concat(n.toFixed(2)," USD disponible.")),n.toFixed(2)}else if("dejar_bs"===e){var a=parseFloat(u)||0;if(r>a)return alert("No puedes dejar ".concat(r.toFixed(2)," Bs en caja. Solo hay ").concat(a.toFixed(2)," Bs disponible.")),a.toFixed(2)}else if("dejar_cop"===e){var o=parseFloat(l)||0;if(r>o)return alert("No puedes dejar ".concat(r.toFixed(0)," COP en caja. Solo hay ").concat(o.toFixed(0)," COP disponible.")),o.toFixed(0)}return t}(t,r),e.target.value=r),g(e)};(0,o.useEffect)((function(){var e=t.reduce((function(e,t){return e+(parseFloat(t.monto)||0)}),0),r=(se||[]).reduce((function(e,t){return e+(parseFloat(t.monto_bs)||0)}),0);A((e+r).toFixed(2))}),[t,se]),(parseFloat(ae)+parseFloat(oe/I)+parseFloat(ie/D)).toFixed(2);var Ie=0,Te=function(e,n,a){var o=(0,Me.cloneDeep)(t);o=o.map((function(t,r){return r==n&&(t[e]=a,"monto"==e&&(Ie+="NaN"!=a&&a?parseFloat(a):"")),r!=n&&"monto"==e&&(Ie+=parseFloat(t.monto)),t})),"monto"==e&&A(Ie),r(o)},Re=va((0,o.useState)({isOpen:!1,tipo:null,moneda:null,titulo:""}),2),Be=Re[0],Le=Re[1],Fe=function(e,t,r){Le({isOpen:!0,tipo:e,moneda:t,titulo:r})},Ue=function(){Le({isOpen:!1,tipo:null,moneda:null,titulo:""})},We=function(e){return Ne?(e&&e.preventDefault&&e.preventDefault(),alert(Se),!1):v(e)},Ve=function(){var e=xa(ma().mark((function e(){var t,r,n;return ma().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Est seguro que desea eliminar su cierre? Deber recalcularlo nuevamente.")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ke.A.eliminarCierreUsuario({});case 5:if(!(t=e.sent).data||!t.data.estado){e.next=13;break}return alert(t.data.msj),e.next=10,Pe();case 10:window.location.reload(),e.next=14;break;case 13:alert((null===(r=t.data)||void 0===r?void 0:r.msj)||"Error al eliminar el cierre");case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),console.error("Error eliminando cierre:",e.t0),alert((null===(n=e.t0.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.msj)||"Error al eliminar el cierre");case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();return Ae?(0,Pt.jsx)("div",{className:"container-fluid",children:(0,Pt.jsx)(la,{fechaCierre:b,onClose:function(){},dolar:(null==s?void 0:s.bs)||0,peso:(null==s?void 0:s.cop)||0,esModal:!1})}):(0,Pt.jsxs)("div",{className:"container-fluid",children:[(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsxs)("div",{className:"container-fluid",children:[(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsxs)("div",{className:"btn-group mb-1",children:[(0,Pt.jsx)("button",{className:("cuadre"==y?"btn-":"btn-outline-")+"sinapsis btn",onClick:function(){return _("cuadre")},children:"Cuadre"}),U(1)?(0,Pt.jsx)("button",{className:("historico"==y?"btn-":"btn-outline-")+"sinapsis btn",onClick:function(){return _("historico")},children:"Histrico"}):null]}),(0,Pt.jsx)("br",{})]})}),(0,Pt.jsx)("br",{}),"cuadre"==y?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsx)("button",{className:"btn btn-sinapsis",onClick:We,disabled:Ne,title:Ne?Se:"Calcular cierre",children:(0,Pt.jsx)("i",{className:"fa fa-cogs"})}),(0,Pt.jsx)("input",{type:"date",disabled:!0,value:b,className:"form-control",onChange:null})]}),Ne&&(0,Pt.jsxs)("div",{className:"alert alert-warning mt-2",role:"alert",children:[(0,Pt.jsxs)("strong",{children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-triangle"})," Atencin:"]})," ",Se,ve&&!_e&&(0,Pt.jsx)("div",{className:"mt-2",children:(0,Pt.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:Ve,children:[(0,Pt.jsx)("i",{className:"fa fa-trash"})," Eliminar Cierre"]})})]}),x.fecha?(0,Pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Pt.jsxs)("div",{className:"btn-group mt-2 mb-2 w-30",children:[!Ne&&(me?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("button",{className:"btn-sm btn btn-success",type:"button",onClick:function(){ge(!1),N()},children:[(0,Pt.jsx)("i",{className:"fa fa-check"})," S, guardar"]}),(0,Pt.jsxs)("button",{className:"btn-sm btn btn-outline-secondary",type:"button",onClick:function(){return ge(!1)},children:[(0,Pt.jsx)("i",{className:"fa fa-times"})," Cancelar"]})]}):"guardar"==K?(0,Pt.jsx)("button",{className:"btn-sm btn btn-outline-success",onClick:function(){return ge(!0)},type:"button",children:"Guardar"}):(0,Pt.jsx)("button",{className:"btn-sm btn btn-sinapsis",onClick:function(){return ge(!0)},type:"button",children:"Editar"})),(0,Pt.jsx)("button",{className:"btn-sm btn btn-sinapsis",onClick:P,type:"button","data-type":"ver",children:"Ver"}),(0,Pt.jsx)("button",{className:"btn btn-sm",onClick:function(){return w(!j)},children:"Ver detalles"}),Ae&&x.fecha&&(0,Pt.jsxs)("button",{className:"btn btn-sm btn-primary ml-2",onClick:function(){return he(!0)},children:[(0,Pt.jsx)("i",{className:"fa fa-users mr-1"})," Ver Totalizado"]})]}),(0,Pt.jsxs)("div",{className:"d-flex flex-column",children:[(0,Pt.jsxs)("div",{className:"btn-group mt-2 mb-2",children:[U(1)?(0,Pt.jsx)("button",{className:"btn "+(V?"btn-success":"")+" btn-lg",onClick:function(){return G()},children:"Totalizar"}):null,V?(0,Pt.jsx)("button",{className:"btn btn-warning",onClick:P,type:"button","data-type":"enviar",children:"Enviar y Sincronizar"}):null]}),(0,Pt.jsx)("span",{children:V?"Totalizando ":"Cajero "})]})]}):null,x.fecha?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("form",{onSubmit:We,children:[(0,Pt.jsx)("button",{hidden:!0}),(0,Pt.jsxs)("div",{className:"container-fluid p-0",children:[j?(0,Pt.jsx)("table",{className:"table",children:(0,Pt.jsx)("tbody",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsxs)("td",{children:[(0,Pt.jsx)("span",{className:"fw-bold",children:"Entregado:"})," ",x.entregado]}),(0,Pt.jsxs)("td",{children:[(0,Pt.jsx)("span",{className:"fw-bold",children:"Pendiente:"})," ",x.pendiente]}),(0,Pt.jsxs)("td",{children:[(0,Pt.jsx)("span",{className:"fw-bold",children:"Caja inicial:"})," ",x.caja_inicial]})]})})}):null,(0,Pt.jsxs)("div",{className:"p-3 card shadow-card mb-2 mt-2",children:[(0,Pt.jsx)("div",{className:"row mb-2 border-bottom",children:(0,Pt.jsx)("div",{className:"col h3 text-center",children:"Cunto hay en caja?"})}),(0,Pt.jsx)("div",{className:"row mb-3 mt-3",children:(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsx)("h5",{className:"text-primary font-weight-bold border-bottom pb-2",children:"EFECTIVO"})})}),(0,Pt.jsxs)("div",{className:"row mb-2",children:[(0,Pt.jsx)("div",{className:"col-2"}),(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsx)("label",{className:"font-weight-bold",children:"Dlares ($)"}),(0,Pt.jsx)("input",{type:"text",placeholder:"$",name:"caja_usd",value:c,onChange:g,className:"form-control",disabled:Ne})]}),(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsx)("label",{className:"font-weight-bold",children:"Bolvares (Bs.)"}),(0,Pt.jsx)("input",{type:"text",placeholder:"Bs.",name:"caja_bs",value:u,onChange:g,className:"form-control",disabled:Ne})]}),(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsx)("label",{className:"font-weight-bold",children:"Pesos (COP)"}),(0,Pt.jsx)("input",{type:"text",placeholder:"COP",name:"caja_cop",value:l,onChange:g,className:"form-control",disabled:Ne})]})]}),(0,Pt.jsx)("div",{className:"row mb-3 mt-4",children:(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsx)("h5",{className:"text-primary font-weight-bold border-bottom pb-2",children:"DBITO"})})}),(0,Pt.jsx)(ta,{lotesPinpad:se,bancos:ue,onChangeBanco:function(e,t){var r=pa(se);r[e]=fa(fa({},r[e]),{},{banco:t}),ce(r)},totalizarcierre:V,bloqueado:Ne}),(0,Pt.jsxs)("div",{className:"row mb-2",children:[(0,Pt.jsx)("div",{className:"col-2 text-success text-right",children:"Lotes Otros Puntos de Venta"}),(0,Pt.jsx)("div",{className:"col align-middle text-center",children:(0,Pt.jsxs)("table",{className:"table table-bordered",style:{tableLayout:"fixed"},children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{style:{width:"20%"},children:"CATEGORA"}),(0,Pt.jsx)("th",{style:{width:"20%"},children:"MONTO"}),(0,Pt.jsx)("th",{style:{width:"25%"},children:"LOTE"}),(0,Pt.jsx)("th",{style:{width:"25%"},children:"BANCO"}),(0,Pt.jsx)("th",{style:{width:"10%"},children:(0,Pt.jsx)("button",{className:"btn btn-success btn-sm",type:"button",onClick:function(){return n("add",null)},disabled:V||Ne,children:(0,Pt.jsx)("i",{className:"fa fa-plus"})})})]})}),(0,Pt.jsx)("tbody",{children:t.map((function(e,t){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("select",{className:"form-control form-control-sm",disabled:V||Ne,value:e.categoria,onChange:function(e){return Te("categoria",t,e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"-"}),(0,Pt.jsx)("option",{value:"DEBITO",children:"DEBITO"}),(0,Pt.jsx)("option",{value:"CREDITO",children:"CREDITO"})]})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control form-control-sm",disabled:V||Ne,value:e.monto,placeholder:"monto",onChange:function(e){return Te("monto",t,O(e.target.value))}})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control form-control-sm",disabled:V||Ne,value:e.descripcion,placeholder:"numlote",onChange:function(e){return Te("descripcion",t,e.target.value)}})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("select",{className:"form-control form-control-sm",disabled:V||Ne,value:e.banco,onChange:function(e){return Te("banco",t,e.target.value)},children:ue.filter((function(e){return"0134"!=e.value})).map((function(e,t){return(0,Pt.jsx)("option",{value:e.value,children:e.text},t)}))})}),(0,Pt.jsx)("td",{className:"text-center",children:!(V||Ne)&&(0,Pt.jsx)("i",{className:"fa fa-times text-danger",style:{cursor:"pointer"},onClick:function(){return n("delete",t)}})})]},t)}))})]})})]}),(0,Pt.jsxs)("div",{className:"row mb-2",children:[(0,Pt.jsx)("div",{className:"col-2 text-success text-right",children:"Total Punto de Venta en Bs"}),(0,Pt.jsx)("div",{className:"col align-middle text-center",children:(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Punto de venta Bs.",name:"caja_punto",value:d,onChange:g,disabled:!0})})]})]}),(0,Pt.jsxs)("div",{className:"p-3 card shadow-card mb-2",children:[(0,Pt.jsx)("div",{className:"row p-2 border-bottom",children:(0,Pt.jsx)("div",{className:"col h3 text-center",children:"Cunto dejars en caja?"})}),(0,Pt.jsxs)("div",{className:"row p-2",children:[(0,Pt.jsx)("div",{className:"col-2"}),(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsx)("label",{className:"font-weight-bold",children:"Dlares ($)"}),(0,Pt.jsx)("input",{type:"text",placeholder:"$",name:"dejar_usd",value:h,onChange:De,className:"form-control",disabled:Ne})]}),(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsx)("label",{className:"font-weight-bold",children:"Bolvares (Bs.)"}),(0,Pt.jsx)("input",{type:"text",placeholder:"Bs.",name:"dejar_bs",value:m,onChange:De,className:"form-control",disabled:Ne})]}),(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsx)("label",{className:"font-weight-bold",children:"Pesos (COP)"}),(0,Pt.jsx)("input",{type:"text",placeholder:"COP",name:"dejar_cop",value:p,onChange:De,className:"form-control",disabled:Ne})]})]})]}),(0,Pt.jsxs)("div",{className:"p-3 card shadow-card mb-2",children:[(0,Pt.jsx)("div",{className:"row p-2 border-bottom",children:(0,Pt.jsx)("div",{className:"col h3 text-center",children:"Cuadre Final"})}),(0,Pt.jsxs)("div",{className:"row p-2 bg-light",children:[(0,Pt.jsx)("div",{className:"col-2 text-left font-weight-bold",children:"Tipo"}),(0,Pt.jsx)("div",{className:"col text-right font-weight-bold",children:"Saldo Inicial"}),(0,Pt.jsx)("div",{className:"col text-right font-weight-bold",children:"Real"}),(0,Pt.jsx)("div",{className:"col text-right font-weight-bold",children:"Digital"}),(0,Pt.jsx)("div",{className:"col text-right font-weight-bold",children:"Diferencia"}),(0,Pt.jsx)("div",{className:"col-2 text-center font-weight-bold",children:"Estado"})]}),x.cuadre_detallado&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"row p-2 mt-3",children:(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsx)("h5",{className:"text-primary font-weight-bold",children:"EFECTIVO"})})}),x.cuadre_detallado.efectivo_usd&&(0,Pt.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,Pt.jsx)("div",{className:"col-2 text-right h6",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.efectivo_usd.estado?"text-success":"text-danger",children:"Dlares (USD)"})}),(0,Pt.jsxs)("div",{className:"col text-right",children:["$",_a(x.cuadre_detallado.efectivo_usd.inicial)]}),(0,Pt.jsxs)("div",{className:"col text-right",children:["$",_a(x.cuadre_detallado.efectivo_usd.real)]}),(0,Pt.jsxs)("div",{className:"col text-right position-relative",children:["$",_a(x.cuadre_detallado.efectivo_usd.digital),x.cuadre_detallado.efectivo_usd.digital>0&&(0,Pt.jsx)("button",{type:"button",className:"btn btn-sm btn-info position-absolute",style:{right:"-40px",top:"50%",transform:"translateY(-50%)"},onClick:function(){return Fe(3,"USD","Efectivo en Dlares")},children:(0,Pt.jsx)("i",{className:"fa fa-eye"})})]}),(0,Pt.jsx)("div",{className:"col text-right",children:(0,Pt.jsxs)("span",{className:"cuadrado"===x.cuadre_detallado.efectivo_usd.estado?"text-success fw-bold":"sobra"===x.cuadre_detallado.efectivo_usd.estado?"text-sinapsis fw-bold":"text-danger fw-bold",children:["$",_a(x.cuadre_detallado.efectivo_usd.diferencia)]})}),(0,Pt.jsx)("div",{className:"col-2 text-center",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.efectivo_usd.estado?"badge bg-success fs-5 px-3 py-2 fw-bold":"sobra"===x.cuadre_detallado.efectivo_usd.estado?"badge bg-sinapsis fs-5 px-3 py-2 fw-bold":"badge bg-danger fs-5 px-3 py-2 fw-bold",children:x.cuadre_detallado.efectivo_usd.mensaje})})]}),x.cuadre_detallado.efectivo_bs&&(0,Pt.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,Pt.jsx)("div",{className:"col-2 text-right h6",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.efectivo_bs.estado?"text-success":"text-danger",children:"Bolvares (Bs)"})}),(0,Pt.jsxs)("div",{className:"col text-right",children:["Bs ",_a(x.cuadre_detallado.efectivo_bs.inicial)]}),(0,Pt.jsxs)("div",{className:"col text-right",children:["Bs ",_a(x.cuadre_detallado.efectivo_bs.real)]}),(0,Pt.jsxs)("div",{className:"col text-right position-relative",children:["Bs ",_a(x.cuadre_detallado.efectivo_bs.digital),x.cuadre_detallado.efectivo_bs.digital>0&&(0,Pt.jsx)("button",{type:"button",className:"btn btn-sm btn-info position-absolute",style:{right:"-40px",top:"50%",transform:"translateY(-50%)"},onClick:function(){return Fe(3,"BS","Efectivo en Bolvares")},children:(0,Pt.jsx)("i",{className:"fa fa-eye"})})]}),(0,Pt.jsx)("div",{className:"col text-right",children:(0,Pt.jsxs)("span",{className:"cuadrado"===x.cuadre_detallado.efectivo_bs.estado?"text-success fw-bold":"sobra"===x.cuadre_detallado.efectivo_bs.estado?"text-sinapsis fw-bold":"text-danger fw-bold",children:["Bs ",_a(x.cuadre_detallado.efectivo_bs.diferencia)]})}),(0,Pt.jsx)("div",{className:"col-2 text-center",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.efectivo_bs.estado?"badge bg-success fs-5 px-3 py-2 fw-bold":"sobra"===x.cuadre_detallado.efectivo_bs.estado?"badge bg-sinapsis fs-5 px-3 py-2 fw-bold":"badge bg-danger fs-5 px-3 py-2 fw-bold",children:x.cuadre_detallado.efectivo_bs.mensaje})})]}),x.cuadre_detallado.efectivo_cop&&(x.cuadre_detallado.efectivo_cop.real>0||x.cuadre_detallado.efectivo_cop.digital>0)&&(0,Pt.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,Pt.jsx)("div",{className:"col-2 text-right h6",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.efectivo_cop.estado?"text-success":"text-danger",children:"Pesos (COP)"})}),(0,Pt.jsxs)("div",{className:"col text-right",children:["COP ",_a(x.cuadre_detallado.efectivo_cop.inicial)]}),(0,Pt.jsxs)("div",{className:"col text-right",children:["COP ",_a(x.cuadre_detallado.efectivo_cop.real)]}),(0,Pt.jsxs)("div",{className:"col text-right position-relative",children:["COP ",_a(x.cuadre_detallado.efectivo_cop.digital),x.cuadre_detallado.efectivo_cop.digital>0&&(0,Pt.jsx)("button",{type:"button",className:"btn btn-sm btn-info position-absolute",style:{right:"-40px",top:"50%",transform:"translateY(-50%)"},onClick:function(){return Fe(3,"COP","Efectivo en Pesos")},children:(0,Pt.jsx)("i",{className:"fa fa-eye"})})]}),(0,Pt.jsx)("div",{className:"col text-right",children:(0,Pt.jsxs)("span",{className:"cuadrado"===x.cuadre_detallado.efectivo_cop.estado?"text-success fw-bold":"sobra"===x.cuadre_detallado.efectivo_cop.estado?"text-sinapsis fw-bold":"text-danger fw-bold",children:["COP ",_a(x.cuadre_detallado.efectivo_cop.diferencia)]})}),(0,Pt.jsx)("div",{className:"col-2 text-center",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.efectivo_cop.estado?"badge bg-success fs-5 px-3 py-2 fw-bold":"sobra"===x.cuadre_detallado.efectivo_cop.estado?"badge bg-sinapsis fs-5 px-3 py-2 fw-bold":"badge bg-danger fs-5 px-3 py-2 fw-bold",children:x.cuadre_detallado.efectivo_cop.mensaje})})]}),(0,Pt.jsx)("div",{className:"row p-2 mt-3",children:(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsx)("h5",{className:"text-primary font-weight-bold",children:"DBITO"})})}),x.cuadre_detallado.debito_pinpad&&(0,Pt.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,Pt.jsx)("div",{className:"col-2 text-right h6",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.debito_pinpad.estado?"text-success":"text-danger",children:"Pinpad"})}),(0,Pt.jsx)("div",{className:"col text-right",children:"-"}),(0,Pt.jsxs)("div",{className:"col text-right",children:["Bs ",_a(x.cuadre_detallado.debito_pinpad.real)]}),(0,Pt.jsxs)("div",{className:"col text-right position-relative",children:["Bs ",_a(x.cuadre_detallado.debito_pinpad.digital),x.cuadre_detallado.debito_pinpad.digital>0&&(0,Pt.jsx)("button",{type:"button",className:"btn btn-sm btn-info position-absolute",style:{right:"-40px",top:"50%",transform:"translateY(-50%)"},onClick:function(){return Fe(2,"PINPAD","Dbito Pinpad")},children:(0,Pt.jsx)("i",{className:"fa fa-eye"})})]}),(0,Pt.jsx)("div",{className:"col text-right",children:(0,Pt.jsxs)("span",{className:"cuadrado"===x.cuadre_detallado.debito_pinpad.estado?"text-success fw-bold":"sobra"===x.cuadre_detallado.debito_pinpad.estado?"text-sinapsis fw-bold":"text-danger fw-bold",children:["Bs ",_a(x.cuadre_detallado.debito_pinpad.diferencia)]})}),(0,Pt.jsx)("div",{className:"col-2 text-center",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.debito_pinpad.estado?"badge bg-success fs-5 px-3 py-2 fw-bold":"sobra"===x.cuadre_detallado.debito_pinpad.estado?"badge bg-sinapsis fs-5 px-3 py-2 fw-bold":"badge bg-danger fs-5 px-3 py-2 fw-bold",children:x.cuadre_detallado.debito_pinpad.mensaje})})]}),x.cuadre_detallado.debito_otros&&(0,Pt.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,Pt.jsx)("div",{className:"col-2 text-right h6",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.debito_otros.estado?"text-success":"text-danger",children:"Otros Puntos"})}),(0,Pt.jsx)("div",{className:"col text-right",children:"-"}),(0,Pt.jsxs)("div",{className:"col text-right",children:["Bs ",_a(x.cuadre_detallado.debito_otros.real)]}),(0,Pt.jsxs)("div",{className:"col text-right position-relative",children:["Bs ",_a(x.cuadre_detallado.debito_otros.digital),x.cuadre_detallado.debito_otros.digital>0&&(0,Pt.jsx)("button",{type:"button",className:"btn btn-sm btn-info position-absolute",style:{right:"-40px",top:"50%",transform:"translateY(-50%)"},onClick:function(){return Fe(2,"OTROS","Dbito Otros Puntos")},children:(0,Pt.jsx)("i",{className:"fa fa-eye"})})]}),(0,Pt.jsx)("div",{className:"col text-right",children:(0,Pt.jsxs)("span",{className:"cuadrado"===x.cuadre_detallado.debito_otros.estado?"text-success fw-bold":"sobra"===x.cuadre_detallado.debito_otros.estado?"text-sinapsis fw-bold":"text-danger fw-bold",children:["Bs ",_a(x.cuadre_detallado.debito_otros.diferencia)]})}),(0,Pt.jsx)("div",{className:"col-2 text-center",children:(0,Pt.jsx)("span",{className:"cuadrado"===x.cuadre_detallado.debito_otros.estado?"badge bg-success fs-5 px-3 py-2 fw-bold":"sobra"===x.cuadre_detallado.debito_otros.estado?"badge bg-sinapsis fs-5 px-3 py-2 fw-bold":"badge bg-danger fs-5 px-3 py-2 fw-bold",children:x.cuadre_detallado.debito_otros.mensaje})})]}),(0,Pt.jsx)("div",{className:"row p-2 mt-3",children:(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsx)("h5",{className:"text-primary font-weight-bold",children:"TRANSFERENCIA"})})}),x.cuadre_detallado.transferencia&&(0,Pt.jsxs)("div",{className:"row p-2 border-bottom",children:[(0,Pt.jsx)("div",{className:"col-2 text-right h6",children:(0,Pt.jsx)("span",{className:"text-success",children:"Transferencia"})}),(0,Pt.jsx)("div",{className:"col text-right",children:"-"}),(0,Pt.jsxs)("div",{className:"col text-right",children:["$",_a(x.cuadre_detallado.transferencia.real)]}),(0,Pt.jsxs)("div",{className:"col text-right position-relative",children:["$",_a(x.cuadre_detallado.transferencia.digital),x.cuadre_detallado.transferencia.digital>0&&(0,Pt.jsx)("button",{type:"button",className:"btn btn-sm btn-info position-absolute",style:{right:"-40px",top:"50%",transform:"translateY(-50%)"},onClick:function(){return Fe(1,null,"Transferencia")},children:(0,Pt.jsx)("i",{className:"fa fa-eye"})})]}),(0,Pt.jsx)("div",{className:"col text-right",children:(0,Pt.jsxs)("span",{className:"text-success fw-bold",children:["$",_a(x.cuadre_detallado.transferencia.diferencia)]})}),(0,Pt.jsx)("div",{className:"col-2 text-center",children:(0,Pt.jsx)("span",{className:"badge bg-success fs-5 px-3 py-2 fw-bold",children:x.cuadre_detallado.transferencia.mensaje})})]})]}),(0,Pt.jsxs)("div",{className:"row p-2 mt-3",children:[(0,Pt.jsx)("div",{className:"col-2 text-success text-right h5",children:"Nota"}),(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsx)("textarea",{name:"notaCierre",placeholder:"Novedades...",value:f||"",onChange:g,cols:"40",rows:"2",disabled:Ne})})]})]}),(0,Pt.jsxs)("div",{className:"p-3 card shadow-card mb-2",children:[(0,Pt.jsx)("div",{className:"row mb-3",children:(0,Pt.jsx)("div",{className:"col-12",children:(0,Pt.jsxs)("h5",{className:"text-success text-center font-weight-bold mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-money-bill-wave me-2"}),"EFECTIVO GUARDADO EN CAJA FUERTE"]})})}),(0,Pt.jsxs)("div",{className:"row g-3 text-center",children:[(0,Pt.jsx)("div",{className:"col-md-4",children:(0,Pt.jsx)("div",{className:"card border-success shadow-sm h-100",children:(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("h6",{className:"text-muted mb-2 fw-bold",children:"USD (Dlares)"}),(0,Pt.jsxs)("h2",{className:"text-success fw-bold mb-0",children:["$",parseFloat(x.efectivo_guardado_usd||0).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})}),(0,Pt.jsx)("div",{className:"col-md-4",children:(0,Pt.jsx)("div",{className:"card border-primary shadow-sm h-100",children:(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("h6",{className:"text-muted mb-2 fw-bold",children:"Bs (Bolvares)"}),(0,Pt.jsx)("h2",{className:"text-primary fw-bold mb-0",children:parseFloat(x.efectivo_guardado_bs||0).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})})]})})}),(0,Pt.jsx)("div",{className:"col-md-4",children:(0,Pt.jsx)("div",{className:"card border-danger shadow-sm h-100",children:(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("h6",{className:"text-muted mb-2 fw-bold",children:"COP (Pesos)"}),(0,Pt.jsx)("h2",{className:"text-danger fw-bold mb-0",children:parseFloat(x.efectivo_guardado_cop||0).toLocaleString("es-VE",{minimumFractionDigits:0,maximumFractionDigits:0})})]})})})]})]}),(0,Pt.jsx)("div",{className:"p-3 card shadow-card mb-2",children:(0,Pt.jsx)("table",{className:"table",children:(0,Pt.jsxs)("tbody",{children:[(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"# de Reporte Z"}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:q,onChange:function(e){return H(e.target.value)},disabled:Ne})})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Venta Exento"}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:$,onChange:function(e){return Y(O(e.target.value))},disabled:Ne})})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Ventas Gravadas (16%)"}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:X,onChange:function(e){return Q(O(e.target.value))},disabled:Ne})})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"IVA Ventas"}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:Z,onChange:function(e){return J(O(e.target.value))},disabled:Ne})})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Total Ventas"}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:ee,onChange:function(e){return te(O(e.target.value))},disabled:Ne})})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"ltima Factura"}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control",value:re,onChange:function(e){return ne(e.target.value)},disabled:Ne})})]}),(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:2})})]})})})]})]}),(0,Pt.jsx)("div",{className:"mt-2",children:U(1)&&V?(0,Pt.jsx)("button",{type:"button",className:"btn-danger btn-lg",onClick:function(){return le()},children:"Reversar Cierre"}):null})]}):(0,Pt.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:Ne?(0,Pt.jsxs)("div",{className:"alert alert-warning text-center",role:"alert",style:{maxWidth:"600px"},children:[(0,Pt.jsxs)("h4",{children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-triangle"})," Cierre Bloqueado"]}),(0,Pt.jsx)("p",{children:Se}),ve&&!_e&&(0,Pt.jsxs)("button",{className:"btn btn-danger mt-2",onClick:Ve,children:[(0,Pt.jsx)("i",{className:"fa fa-trash"})," Eliminar Cierre"]})]}):(0,Pt.jsx)("button",{className:"btn btn-xl btn-success",onClick:We,children:"Cerremos el da!"})})]}):null,"historico"==y?(0,Pt.jsx)(Zn,{cierres:T,fechaGetCierre:M,setfechaGetCierre:k,fechaGetCierre2:R,setfechaGetCierre2:B,getCierres:L,verCierreReq:F,tipoUsuarioCierre:a,settipoUsuarioCierre:i}):null]})})}),Be.isOpen&&(0,Pt.jsx)("div",{className:"modal fade show",style:{display:"block",background:"rgba(0,0,0,0.5)"},children:(0,Pt.jsx)("div",{className:"modal-dialog modal-xl",children:(0,Pt.jsxs)("div",{className:"modal-content",children:[(0,Pt.jsxs)("div",{className:"modal-header",children:[(0,Pt.jsxs)("h5",{className:"modal-title",children:["Detalles de Pagos - ",Be.titulo]}),(0,Pt.jsx)("button",{type:"button",className:"btn-close",onClick:Ue})]}),(0,Pt.jsx)("div",{className:"modal-body",style:{maxHeight:"600px",overflowY:"auto"},children:(0,Pt.jsx)(ja,{cierre:x,tipo:Be.tipo,moneda:Be.moneda,onRefrescarCierre:b?function(){return F(b,"ver")}:void 0})}),(0,Pt.jsx)("div",{className:"modal-footer",children:(0,Pt.jsx)("button",{type:"button",className:"btn",onClick:Ue,children:"Cerrar"})})]})})}),fe&&Ae&&(0,Pt.jsx)(la,{fechaCierre:b,onClose:function(){return he(!1)},dolar:D,peso:I})]})};var Na=r(6942),Ea=r.n(Na),Ca=r(8221),Sa=r.n(Ca),Oa=r(7350),Aa=r.n(Oa),Pa=function(e,t){return Pa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Pa(e,t)};function Da(e,t){function r(){this.constructor=e}Pa(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Ia(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}var Ta=function(e,t,r,n){switch(t){case"debounce":return Sa()(e,r,n);case"throttle":return Aa()(e,r,n);default:return e}},Ma=function(e){return"function"==typeof e},ka=function(){return"undefined"==typeof window},Ra=function(e){return e instanceof Element||e instanceof HTMLDocument},Ba=function(e,t,r){return function(n){var a=n.width,o=n.height;e((function(e){return e.width===a&&e.height===o||e.width===a&&!r||e.height===o&&!t?e:{width:a,height:o}}))}},La=function(e){function t(t){var r=e.call(this,t)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var e=r.props,t=e.targetRef,n=e.observerOptions;if(!ka()){t&&t.current&&(r.targetRef.current=t.current);var a=r.getElement();a&&(r.observableElement&&r.observableElement===a||(r.observableElement=a,r.resizeObserver.observe(a,n)))}},r.getElement=function(){var e=r.props,t=e.querySelector,n=e.targetDomEl;if(ka())return null;if(t)return document.querySelector(t);if(n&&Ra(n))return n;if(r.targetRef&&Ra(r.targetRef.current))return r.targetRef.current;var o=(0,a.findDOMNode)(r);if(!o)return null;switch(r.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return o;default:return o.parentElement}},r.createResizeHandler=function(e){var t=r.props,n=t.handleWidth,a=void 0===n||n,o=t.handleHeight,i=void 0===o||o,s=t.onResize;if(a||i){var c=Ba((function(e){return r.setState(e,(function(){return null==s?void 0:s(r.state.width,r.state.height)}))}),a,i);e.forEach((function(e){var t=e&&e.contentRect||{},n=t.width,a=t.height;!r.skipOnMount&&!ka()&&c({width:n,height:a}),r.skipOnMount=!1}))}},r.getRenderType=function(){var e=r.props,t=e.render,n=e.children;return Ma(t)?"renderProp":Ma(n)?"childFunction":(0,o.isValidElement)(n)?"child":Array.isArray(n)?"childArray":"parent"};var n=t.skipOnMount,i=t.refreshMode,s=t.refreshRate,c=void 0===s?1e3:s,l=t.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=n,r.targetRef=(0,o.createRef)(),r.observableElement=null,ka()||(r.resizeHandler=Ta(r.createResizeHandler,i,c,l),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return Da(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){ka()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e=this.props,t=e.render,r=e.children,n=e.nodeType,a=void 0===n?"div":n,i=this.state,s={width:i.width,height:i.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return null==t?void 0:t(s);case"childFunction":var c=r;return null==c?void 0:c(s);case"child":var l=r;if(l.type&&"string"==typeof l.type){var u=Ia(s,["targetRef"]);return(0,o.cloneElement)(l,u)}return(0,o.cloneElement)(l,s);case"childArray":return r.map((function(e){return!!e&&(0,o.cloneElement)(e,s)}));default:return o.createElement(a,null)}},t}(o.PureComponent);ka()?o.useEffect:o.useLayoutEffect;var Fa=r(8156),Ua=r.n(Fa),Wa=r(6449),Va=r.n(Wa),za=r(1741),Ka=r.n(za),Ga=r(8023),qa=r.n(Ga),Ha=r(5015),$a=r.n(Ha),Ya=function(e){return 0===e?0:e>0?1:-1},Xa=function(e){return $a()(e)&&e.indexOf("%")===e.length-1},Qa=function(e){return qa()(e)&&!Ka()(e)},Za=function(e){return Qa(e)||$a()(e)},Ja=0,eo=function(e){var t=++Ja;return"".concat(e||"").concat(t)},to=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Qa(e)&&!$a()(e))return n;if(Xa(e)){var o=e.indexOf("%");r=t*parseFloat(e.slice(0,o))/100}else r=+e;return Ka()(r)&&(r=n),a&&r>t&&(r=t),r},ro=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},no=function(e,t){return Qa(e)&&Qa(t)?function(r){return e+r*(t-e)}:function(){return t}};function ao(e,t,r){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):Ua()(e,t))===r})):null}var oo=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a]};function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(this,arguments)}function so(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return co(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return co(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lo=(0,o.forwardRef)((function(e,t){var r=e.aspect,n=e.width,a=void 0===n?"100%":n,i=e.height,s=void 0===i?"100%":i,c=e.minWidth,l=void 0===c?0:c,u=e.minHeight,d=e.maxHeight,f=e.children,h=e.debounce,p=void 0===h?0:h,m=e.id,g=e.className,x=e.onResize,v=so((0,o.useState)({containerWidth:-1,containerHeight:-1}),2),b=v[0],y=v[1],_=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,(function(){return _}),[_]);var j=(0,o.useCallback)((function(){return _.current?{containerWidth:_.current.clientWidth,containerHeight:_.current.clientHeight}:null}),[]),w=(0,o.useCallback)((function(){var e=j();if(e){var t=e.containerWidth,r=e.containerHeight;x&&x(t,r),y((function(e){var n=e.containerWidth,a=e.containerHeight;return t!==n||r!==a?{containerWidth:t,containerHeight:r}:e}))}}),[j]),N=(0,o.useMemo)((function(){var e=b.containerWidth,t=b.containerHeight;if(e<0||t<0)return null;oo(Xa(a)||Xa(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",a,s),oo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=Xa(a)?e:a,i=Xa(s)?t:s;return r&&r>0&&(n?i=n/r:i&&(n=i*r),d&&i>d&&(i=d)),oo(n>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,i,a,s,l,u,r),(0,o.cloneElement)(f,{width:n,height:i})}),[r,f,s,d,u,l,b,a]);(0,o.useEffect)((function(){var e=j();e&&y(e)}),[j]);var E={width:a,height:s,minWidth:l,minHeight:u,maxHeight:d};return o.createElement(La,{handleWidth:!0,handleHeight:!0,onResize:w,targetRef:_,refreshMode:p>0?"debounce":void 0,refreshRate:p},o.createElement("div",io({},null!=m?{id:"".concat(m)}:{},{className:Ea()("recharts-responsive-container",g),style:E,ref:_}),N))})),uo=r(9747),fo=r.n(uo),ho=r(7309),po=r.n(ho),mo=r(1882),go=r.n(mo),xo=r(3031),vo=r.n(xo),bo=r(3181),yo=r.n(bo),_o=r(9843),jo=r.n(_o),wo=r(3812),No=r.n(wo),Eo={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return Eo[e]},set:function(e,t){if("string"==typeof e)Eo[e]=t;else{var r=Object.keys(e);r&&r.length&&r.forEach((function(t){Eo[t]=e[t]}))}}};function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}function So(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?So(Object(r),!0).forEach((function(t){Ao(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):So(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ao(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Co(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Co(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Po(e){return function(e){if(Array.isArray(e))return Do(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Do(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Do(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Io={widthCache:{},cacheCount:0},To={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mo=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],ko="recharts_measurement_span";var Ro=function(e){return Object.keys(e).reduce((function(t,r){return"".concat(t).concat((n=r,n.split("").reduce((function(e,t){return t===t.toUpperCase()?[].concat(Po(e),["-",t.toLowerCase()]):[].concat(Po(e),[t])}),[]).join("")),":").concat(function(e,t){return Mo.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}(r,e[r]),";");var n}),"")},Bo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||Eo.isSsr)return{width:0,height:0};var r="".concat(e),n=Ro(t),a="".concat(r,"-").concat(n);if(Io.widthCache[a])return Io.widthCache[a];try{var o=document.getElementById(ko);o||((o=document.createElement("span")).setAttribute("id",ko),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Oo(Oo({},To),t);Object.keys(i).map((function(e){return o.style[e]=i[e],e})),o.textContent=r;var s=o.getBoundingClientRect(),c={width:s.width,height:s.height};return Io.widthCache[a]=c,++Io.cacheCount>2e3&&(Io.cacheCount=0,Io.widthCache={}),c}catch(e){return{width:0,height:0}}};function Lo(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],a=0;a<e.length;a+=t){if(void 0!==r&&!0!==r(e[a]))return;n.push(e[a])}return n}function Fo(e){return Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fo(e)}function Uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(r),!0).forEach((function(t){Vo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Fo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zo(e,t){var r,n,a=e.ticks,o=e.tickFormatter,i=e.viewBox,s=e.orientation,c=e.minTickGap,l=e.unit,u=e.fontSize,d=e.letterSpacing,f=i.x,h=i.y,p=i.width,m=i.height,g="top"===s||"bottom"===s?"width":"height",x=(a||[]).slice(),v=l&&"width"===g?Bo(l,{fontSize:u,letterSpacing:d})[g]:0,b=x.length,y=b>=2?Ya(x[1].coordinate-x[0].coordinate):1;if(1===y?(r="width"===g?f:h,n="width"===g?f+p:h+m):(r="width"===g?f+p:h+m,n="width"===g?f:h),t){var _=a[b-1],j=go()(o)?o(_.value,b-1):_.value,w=Bo(j,{fontSize:u,letterSpacing:d})[g]+v,N=y*(_.coordinate+y*w/2-n);x[b-1]=_=Wo(Wo({},_),{},{tickCoord:N>0?_.coordinate-N*y:_.coordinate}),y*(_.tickCoord-y*w/2-r)>=0&&y*(_.tickCoord+y*w/2-n)<=0&&(n=_.tickCoord-y*(w/2+c),x[b-1]=Wo(Wo({},_),{},{isShow:!0}))}for(var E=t?b-1:b,C=0;C<E;C++){var S=x[C],O=go()(o)?o(S.value,C):S.value,A=Bo(O,{fontSize:u,letterSpacing:d})[g]+v;if(0===C){var P=y*(S.coordinate-y*A/2-r);x[C]=S=Wo(Wo({},S),{},{tickCoord:P<0?S.coordinate-P*y:S.coordinate})}else x[C]=S=Wo(Wo({},S),{},{tickCoord:S.coordinate});y*(S.tickCoord-y*A/2-r)>=0&&y*(S.tickCoord+y*A/2-n)<=0&&(r=S.tickCoord+y*(A/2+c),x[C]=Wo(Wo({},S),{},{isShow:!0}))}return x}function Ko(e,t,r){var n=e.tick,a=e.ticks,o=e.viewBox,i=e.minTickGap,s=e.orientation,c=e.interval,l=e.tickFormatter,u=e.unit;if(!a||!a.length||!n)return[];if(Qa(c)||Eo.isSsr)return function(e,t){return Lo(e,t+1)}(a,"number"==typeof c&&Qa(c)?c:0);var d=[];return"equidistantPreserveStart"===c?function(e){for(var t=1,r=Lo(e,t,(function(e){return e.isShow}));t<=e.length;){if(void 0!==r)return r;r=Lo(e,++t,(function(e){return e.isShow}))}return e.slice(0,1)}(d=zo({ticks:a,tickFormatter:l,viewBox:o,orientation:s,minTickGap:i,unit:u,fontSize:t,letterSpacing:r})):(d="preserveStart"===c||"preserveStartEnd"===c?zo({ticks:a,tickFormatter:l,viewBox:o,orientation:s,minTickGap:i,unit:u,fontSize:t,letterSpacing:r},"preserveStartEnd"===c):function(e){var t,r,n=e.ticks,a=e.tickFormatter,o=e.viewBox,i=e.orientation,s=e.minTickGap,c=e.unit,l=e.fontSize,u=e.letterSpacing,d=o.x,f=o.y,h=o.width,p=o.height,m="top"===i||"bottom"===i?"width":"height",g=c&&"width"===m?Bo(c,{fontSize:l,letterSpacing:u})[m]:0,x=(n||[]).slice(),v=x.length,b=v>=2?Ya(x[1].coordinate-x[0].coordinate):1;1===b?(t="width"===m?d:f,r="width"===m?d+h:f+p):(t="width"===m?d+h:f+p,r="width"===m?d:f);for(var y=v-1;y>=0;y--){var _=x[y],j=go()(a)?a(_.value,v-y-1):_.value,w=Bo(j,{fontSize:l,letterSpacing:u})[m]+g;if(y===v-1){var N=b*(_.coordinate+b*w/2-r);x[y]=_=Wo(Wo({},_),{},{tickCoord:N>0?_.coordinate-N*b:_.coordinate})}else x[y]=_=Wo(Wo({},_),{},{tickCoord:_.coordinate});b*(_.tickCoord-b*w/2-t)>=0&&b*(_.tickCoord+b*w/2-r)<=0&&(r=_.tickCoord-b*(w/2+s),x[y]=Wo(Wo({},_),{},{isShow:!0}))}return x}({ticks:a,tickFormatter:l,viewBox:o,orientation:s,minTickGap:i,unit:u,fontSize:t,letterSpacing:r}),d.filter((function(e){return e.isShow})))}var Go=r(3805),qo=r.n(Go),Ho=r(4363);function $o(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}var Xo=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Qo=["points","pathLength"],Zo={svg:["viewBox","children"],polygon:Qo,polyline:Qo},Jo=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ei=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,o.isValidElement)(e)&&(r=e.props),!qo()(r))return null;var n={};return Object.keys(r).forEach((function(e){Jo.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})})),n},ti=function(e,t,r){if(!qo()(e)||"object"!==Yo(e))return null;var n=null;return Object.keys(e).forEach((function(a){var o=e[a];Jo.includes(a)&&"function"==typeof o&&(n||(n={}),n[a]=function(e,t,r){return function(n){return e(t,r,n),null}}(o,t,r))})),n},ri=["children"],ni=["children"];function ai(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var oi={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ii=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},si=null,ci=null,li=function e(t){if(t===si&&Va()(ci))return ci;var r=[];return o.Children.forEach(t,(function(t){jo()(t)||((0,Ho.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),ci=r,si=t,r};function ui(e,t){var r=[],n=[];return n=Va()(t)?t.map((function(e){return ii(e)})):[ii(t)],li(e).forEach((function(e){var t=Ua()(e,"type.displayName")||Ua()(e,"type.name");-1!==n.indexOf(t)&&r.push(e)})),r}function di(e,t){var r=ui(e,t);return r&&r[0]}var fi=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!Qa(r)||r<=0||!Qa(n)||n<=0)},hi=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pi=function(e){return e&&e.type&&$a()(e.type)&&hi.indexOf(e.type)>=0},mi=function(e,t,r){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if((0,o.isValidElement)(e)&&(n=e.props),!qo()(n))return null;var a={};return Object.keys(n).forEach((function(e){var o;(function(e,t,r,n){var a,o=null!==(a=null==Zo?void 0:Zo[n])&&void 0!==a?a:[];return!go()(e)&&(n&&o.includes(t)||Xo.includes(t))||r&&Jo.includes(t)})(null===(o=n)||void 0===o?void 0:o[e],e,t,r)&&(a[e]=n[e])})),a},gi=function e(t,r){if(t===r)return!0;var n=o.Children.count(t);if(n!==o.Children.count(r))return!1;if(0===n)return!0;if(1===n)return xi(Va()(t)?t[0]:t,Va()(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Va()(i)||Va()(s)){if(!e(i,s))return!1}else if(!xi(i,s))return!1}return!0},xi=function(e,t){if(jo()(e)&&jo()(t))return!0;if(!jo()(e)&&!jo()(t)){var r=e.props||{},n=r.children,a=ai(r,ri),o=t.props||{},i=o.children,s=ai(o,ni);return n&&i?$o(a,s)&&gi(n,i):!n&&!i&&$o(a,s)}return!1},vi=function(e,t){var r=[],n={};return li(e).forEach((function(e,a){if(pi(e))r.push(e);else if(e){var o=ii(e.type),i=t[o]||{},s=i.handler,c=i.once;if(s&&(!c||!n[o])){var l=s(e,o,a);r.push(l),n[o]=!0}}})),r},bi=["children","width","height","viewBox","className","style"];function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function _i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ji(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,c=_i(e,bi),l=a||{width:r,height:n,x:0,y:0},u=Ea()("recharts-surface",i);return o.createElement("svg",yi({},mi(c,!0,"svg"),{className:u,width:r,height:n,style:s,viewBox:"".concat(l.x," ").concat(l.y," ").concat(l.width," ").concat(l.height)}),o.createElement("title",null,e.title),o.createElement("desc",null,e.desc),t)}var wi=["children","className"];function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function Ei(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ci=o.forwardRef((function(e,t){var r=e.children,n=e.className,a=Ei(e,wi),i=Ea()("recharts-layer",n);return o.createElement("g",Ni({className:i},mi(a,!0),{ref:t}),r)})),Si=r(14),Oi=r.n(Si),Ai=r(5556),Pi=r.n(Ai),Di=Object.getOwnPropertyNames,Ii=Object.getOwnPropertySymbols,Ti=Object.prototype.hasOwnProperty;function Mi(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function ki(e){return function(t,r,n){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n);var a=n.cache,o=a.get(t),i=a.get(r);if(o&&i)return o===r&&i===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function Ri(e){return Di(e).concat(Ii(e))}var Bi=Object.hasOwn||function(e,t){return Ti.call(e,t)};function Li(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var Fi=Object.getOwnPropertyDescriptor,Ui=Object.keys;function Wi(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Vi(e,t){return Li(e.getTime(),t.getTime())}function zi(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ki(e,t){return e===t}function Gi(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,o,i=new Array(n),s=e.entries(),c=0;(a=s.next())&&!a.done;){for(var l=t.entries(),u=!1,d=0;(o=l.next())&&!o.done;)if(i[d])d++;else{var f=a.value,h=o.value;if(r.equals(f[0],h[0],c,d,e,t,r)&&r.equals(f[1],h[1],f[0],h[0],e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1;c++}return!0}var qi=Li;function Hi(e,t,r){var n=Ui(e),a=n.length;if(Ui(t).length!==a)return!1;for(;a-- >0;)if(!es(e,t,r,n[a]))return!1;return!0}function $i(e,t,r){var n,a,o,i=Ri(e),s=i.length;if(Ri(t).length!==s)return!1;for(;s-- >0;){if(!es(e,t,r,n=i[s]))return!1;if(a=Fi(e,n),o=Fi(t,n),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable))return!1}return!0}function Yi(e,t){return Li(e.valueOf(),t.valueOf())}function Xi(e,t){return e.source===t.source&&e.flags===t.flags}function Qi(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a,o,i=new Array(n),s=e.values();(a=s.next())&&!a.done;){for(var c=t.values(),l=!1,u=0;(o=c.next())&&!o.done;){if(!i[u]&&r.equals(a.value,o.value,a.value,o.value,e,t,r)){l=i[u]=!0;break}u++}if(!l)return!1}return!0}function Zi(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Ji(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function es(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||Bi(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var ts=Array.isArray,rs="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,ns=Object.assign,as=Object.prototype.toString.call.bind(Object.prototype.toString);var os=is();is({strict:!0}),is({circular:!0}),is({circular:!0,strict:!0}),is({createInternalComparator:function(){return Li}}),is({strict:!0,createInternalComparator:function(){return Li}}),is({circular:!0,createInternalComparator:function(){return Li}}),is({circular:!0,createInternalComparator:function(){return Li},strict:!0});function is(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,a=e.createInternalComparator,o=e.createState,i=e.strict,s=void 0!==i&&i,c=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?$i:Wi,areDatesEqual:Vi,areErrorsEqual:zi,areFunctionsEqual:Ki,areMapsEqual:n?Mi(Gi,$i):Gi,areNumbersEqual:qi,areObjectsEqual:n?$i:Hi,arePrimitiveWrappersEqual:Yi,areRegExpsEqual:Xi,areSetsEqual:n?Mi(Qi,$i):Qi,areTypedArraysEqual:n?$i:Zi,areUrlsEqual:Ji};if(r&&(a=ns({},a,r(a))),t){var o=ki(a.areArraysEqual),i=ki(a.areMapsEqual),s=ki(a.areObjectsEqual),c=ki(a.areSetsEqual);a=ns({},a,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:c})}return a}(e),l=function(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,o=e.areMapsEqual,i=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,l=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,h,p){if(e===h)return!0;if(null==e||null==h)return!1;var m=typeof e;if(m!==typeof h)return!1;if("object"!==m)return"number"===m?i(e,h,p):"function"===m&&a(e,h,p);var g=e.constructor;if(g!==h.constructor)return!1;if(g===Object)return s(e,h,p);if(ts(e))return t(e,h,p);if(null!=rs&&rs(e))return d(e,h,p);if(g===Date)return r(e,h,p);if(g===RegExp)return l(e,h,p);if(g===Map)return o(e,h,p);if(g===Set)return u(e,h,p);var x=as(e);return"[object Date]"===x?r(e,h,p):"[object RegExp]"===x?l(e,h,p):"[object Map]"===x?o(e,h,p):"[object Set]"===x?u(e,h,p):"[object Object]"===x?"function"!=typeof e.then&&"function"!=typeof h.then&&s(e,h,p):"[object URL]"===x?f(e,h,p):"[object Error]"===x?n(e,h,p):"[object Arguments]"===x?s(e,h,p):("[object Boolean]"===x||"[object Number]"===x||"[object String]"===x)&&c(e,h,p)}}(c),u=a?a(l):(t=l,function(e,r,n,a,o,i,s){return t(e,r,s)});return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,o=e.strict;if(n)return function(e,i){var s=n(),c=s.cache,l=void 0===c?t?new WeakMap:void 0:c,u=s.meta;return r(e,i,{cache:l,equals:a,meta:u,strict:o})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var i={cache:void 0,equals:a,meta:void 0,strict:o};return function(e,t){return r(e,t,i)}}({circular:n,comparator:l,createState:o,equals:u,strict:s})}function ss(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame((function n(a){r<0&&(r=a),a-r>t?(e(a),r=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)}))}function cs(e){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cs(e)}function ls(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return us(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return us(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function us(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ds(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var a=ls(n),o=a[0],i=a.slice(1);return"number"==typeof o?void ss(r.bind(null,i),o):(r(o),void ss(r.bind(null,i)))}"object"===cs(n)&&e(n),"function"==typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function fs(e){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(e)}function hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(r),!0).forEach((function(t){ms(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ms(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gs=["Webkit","Moz","O","ms"],xs=["-webkit-","-moz-","-o-","-ms-"],vs=["transform","transformOrigin","transition"],bs=function(e){return e},ys=function(e,t){return Object.keys(t).reduce((function(r,n){return ps(ps({},r),{},ms({},n,e(n,t[n])))}),{})},_s=function(e){return Object.keys(e).reduce((function(e,t){return ps(ps({},e),function(e,t){if(-1===vs.indexOf(e))return ms({},e,Number.isNaN(t)?0:t);var r="transition"===e,n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),a=t;return gs.reduce((function(e,o,i){return r&&(a=t.replace(/(transform|transform-origin)/gim,"".concat(xs[i],"$1"))),ps(ps({},e),{},ms({},o+n,a))}),{})}(t,e[t]))}),e)},js=function(e,t,r){return e.map((function(e){return"".concat((n=e,n.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(r);var n})).join(",")};function ws(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||Es(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e){return function(e){if(Array.isArray(e))return Cs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Es(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Es(e,t){if(e){if("string"==typeof e)return Cs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cs(e,t):void 0}}function Cs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ss=1e-4,Os=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},As=function(e,t){return e.map((function(e,r){return e*Math.pow(t,r)})).reduce((function(e,t){return e+t}))},Ps=function(e,t){return function(r){var n=Os(e,t);return As(n,r)}},Ds=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],o=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,a=0,o=1,i=1;break;case"ease":n=.25,a=.1,o=.25,i=1;break;case"ease-in":n=.42,a=0,o=1,i=1;break;case"ease-out":n=.42,a=0,o=.58,i=1;break;case"ease-in-out":n=0,a=0,o=.58,i=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var c=ws(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);n=c[0],a=c[1],o=c[2],i=c[3]}}[n,o,a,i].every((function(e){return"number"==typeof e&&e>=0&&e<=1}));var l,u,d=Ps(n,o),f=Ps(a,i),h=(l=n,u=o,function(e){var t=Os(l,u),r=[].concat(Ns(t.map((function(e,t){return e*t})).slice(1)),[0]);return As(r,e)}),p=function(e){return e>1?1:e<0?0:e},m=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var a=d(r)-t,o=h(r);if(Math.abs(a-t)<Ss||o<Ss)return f(r);r=p(r-a/o)}return f(r)};return m.isStepper=!1,m},Is=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"==typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ds(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,a=void 0===n?8:n,o=e.dt,i=void 0===o?17:o,s=function(e,t,n){var o=n+(-(e-t)*r-n*a)*i/1e3,s=n*i/1e3+e;return Math.abs(s-t)<Ss&&Math.abs(o)<Ss?[t,0]:[s,o]};return s.isStepper=!0,s.dt=i,s}();default:if("cubic-bezier"===n.split("(")[0])return Ds(n)}return"function"==typeof n?n:null};function Ts(e){return Ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(e)}function Ms(e){return function(e){if(Array.isArray(e))return Us(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(r),!0).forEach((function(t){Bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ts(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ts(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ts(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ls(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||Fs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fs(e,t){if(e){if("string"==typeof e)return Us(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Us(e,t):void 0}}function Us(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ws=function(e,t,r){return e+(t-e)*r},Vs=function(e){return e.from!==e.to},zs=function e(t,r,n){var a=ys((function(e,r){if(Vs(r)){var n=Ls(t(r.from,r.to,r.velocity),2),a=n[0],o=n[1];return Rs(Rs({},r),{},{from:a,velocity:o})}return r}),r);return n<1?ys((function(e,t){return Vs(t)?Rs(Rs({},t),{},{velocity:Ws(t.velocity,a[e].velocity,n),from:Ws(t.from,a[e].from,n)}):t}),r):e(t,a,n-1)};const Ks=function(e,t,r,n,a){var o,i,s,c,l=(o=e,i=t,[Object.keys(o),Object.keys(i)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=l.reduce((function(r,n){return Rs(Rs({},r),{},Bs({},n,[e[n],t[n]]))}),{}),d=l.reduce((function(r,n){return Rs(Rs({},r),{},Bs({},n,{from:e[n],velocity:0,to:t[n]}))}),{}),f=-1,h=function(){return null};return h=r.isStepper?function(n){s||(s=n);var o=(n-s)/r.dt;d=zs(r,d,o),a(Rs(Rs(Rs({},e),t),ys((function(e,t){return t.from}),d))),s=n,Object.values(d).filter(Vs).length&&(f=requestAnimationFrame(h))}:function(o){c||(c=o);var i=(o-c)/n,s=ys((function(e,t){return Ws.apply(void 0,Ms(t).concat([r(i)]))}),u);if(a(Rs(Rs(Rs({},e),t),s)),i<1)f=requestAnimationFrame(h);else{var l=ys((function(e,t){return Ws.apply(void 0,Ms(t).concat([r(1)]))}),u);a(Rs(Rs(Rs({},e),t),l))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}};function Gs(e){return Gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gs(e)}var qs=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hs(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $s(e){return function(e){if(Array.isArray(e))return Ys(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ys(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ys(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(r),!0).forEach((function(t){Zs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zs(e,t,r){return(t=ec(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Js(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ec(n.key),n)}}function ec(e){var t=function(e,t){if("object"!==Gs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Gs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gs(t)?t:String(t)}function tc(e,t){return tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tc(e,t)}function rc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oc(e);if(t){var a=oc(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return nc(this,r)}}function nc(e,t){if(t&&("object"===Gs(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ac(e)}function ac(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oc(e)}var ic=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tc(e,t)}(i,e);var t,r,n,a=rc(i);function i(e,t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(r=a.call(this,e,t)).props,o=n.isActive,s=n.attributeName,c=n.from,l=n.to,u=n.steps,d=n.children,f=n.duration;if(r.handleStyleChange=r.handleStyleChange.bind(ac(r)),r.changeStyle=r.changeStyle.bind(ac(r)),!o||f<=0)return r.state={style:{}},"function"==typeof d&&(r.state={style:l}),nc(r);if(u&&u.length)r.state={style:u[0].style};else if(c){if("function"==typeof d)return r.state={style:c},nc(r);r.state={style:s?Zs({},s,c):c}}else r.state={style:{}};return r}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,a=t.attributeName,o=t.shouldReAnimate,i=t.to,s=t.from,c=this.state.style;if(n)if(r){if(!(os(e.to,i)&&e.canBegin&&e.isActive)){var l=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=l||o?s:e.to;if(this.state&&c){var d={style:a?Zs({},a,u):u};(a&&[a]!==u||!a&&c!==u)&&this.setState(d)}this.runAnimation(Qs(Qs({},this.props),{},{from:u,begin:0}))}}else{var f={style:a?Zs({},a,i):i};this.state&&c&&(a&&c[a]!==i||!a&&c!==i)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,a=e.duration,o=e.easing,i=e.begin,s=e.onAnimationEnd,c=e.onAnimationStart,l=Ks(r,n,Is(o),a,this.changeStyle);this.manager.start([c,i,function(){t.stopJSAnimation=l()},a,s])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,a=e.onAnimationStart,o=r[0],i=o.style,s=o.duration,c=void 0===s?0:s;return this.manager.start([a].concat($s(r.reduce((function(e,n,a){if(0===a)return e;var o=n.duration,i=n.easing,s=void 0===i?"ease":i,c=n.style,l=n.properties,u=n.onAnimationEnd,d=a>0?r[a-1]:n,f=l||Object.keys(c);if("function"==typeof s||"spring"===s)return[].concat($s(e),[t.runJSAnimation.bind(t,{from:d.style,to:c,duration:o,easing:s}),o]);var h=js(f,o,s),p=Qs(Qs(Qs({},d.style),c),{},{transition:h});return[].concat($s(e),[p,o,u]).filter(bs)}),[i,Math.max(c,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=ds());var t=e.begin,r=e.duration,n=e.attributeName,a=e.to,o=e.easing,i=e.onAnimationStart,s=e.onAnimationEnd,c=e.steps,l=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof l&&"spring"!==o)if(c.length>1)this.runStepAnimation(e);else{var d=n?Zs({},n,a):a,f=js(Object.keys(d),r,o);u.start([i,t,Qs(Qs({},d),{},{transition:f}),r,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),n=(e.attributeName,e.easing,e.isActive),a=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Hs(e,qs)),i=o.Children.count(t),s=_s(this.state.style);if("function"==typeof t)return t(s);if(!n||0===i||r<=0)return t;var c=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,i=t.className;return(0,o.cloneElement)(e,Qs(Qs({},a),{},{style:Qs(Qs({},n),s),className:i}))};return 1===i?c(o.Children.only(t)):o.createElement("div",null,o.Children.map(t,(function(e){return c(e)})))}}])&&Js(t.prototype,r),n&&Js(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);ic.displayName="Animate",ic.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},ic.propTypes={from:Pi().oneOfType([Pi().object,Pi().string]),to:Pi().oneOfType([Pi().object,Pi().string]),attributeName:Pi().string,duration:Pi().number,begin:Pi().number,easing:Pi().oneOfType([Pi().string,Pi().func]),steps:Pi().arrayOf(Pi().shape({duration:Pi().number.isRequired,style:Pi().object.isRequired,easing:Pi().oneOfType([Pi().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pi().func]),properties:Pi().arrayOf("string"),onAnimationEnd:Pi().func})),children:Pi().oneOfType([Pi().node,Pi().func]),isActive:Pi().bool,canBegin:Pi().bool,onAnimationEnd:Pi().func,shouldReAnimate:Pi().bool,onAnimationStart:Pi().func,onAnimationReStart:Pi().func};const sc=ic;var cc=r(9790),lc=["children","appearOptions","enterOptions","leaveOptions"];function uc(e){return uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(e)}function dc(){return dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dc.apply(this,arguments)}function fc(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(r),!0).forEach((function(t){yc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_c(n.key),n)}}function gc(e,t){return gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gc(e,t)}function xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=bc(e);if(t){var a=bc(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vc(e)}(this,r)}}function vc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bc(e){return bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bc(e)}function yc(e,t,r){return(t=_c(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _c(e){var t=function(e,t){if("object"!==uc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==uc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===uc(t)?t:String(t)}void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"==typeof e&&isFinite(e)});var jc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,r=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(r)?r:0},wc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gc(e,t)}(i,e);var t,r,n,a=xc(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),yc(vc(e=a.call(this)),"handleEnter",(function(t,r){var n=e.props,a=n.appearOptions,o=n.enterOptions;e.handleStyleActive(r?a:o)})),yc(vc(e),"handleExit",(function(){var t=e.props.leaveOptions;e.handleStyleActive(t)})),e.state={isActive:!1},e}return t=i,(r=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(pc(pc({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,r=e.enterOptions,n=e.leaveOptions;return jc(t)+jc(r)+jc(n)}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=(t.appearOptions,t.enterOptions,t.leaveOptions,fc(t,lc));return o.createElement(cc.Transition,dc({},n,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return o.createElement(sc,e.state,o.Children.only(r))}))}}])&&mc(t.prototype,r),n&&mc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);wc.propTypes={appearOptions:Pi().object,enterOptions:Pi().object,leaveOptions:Pi().object,children:Pi().element};const Nc=wc;function Ec(e){var t=e.component,r=e.children,n=e.appear,a=e.enter,i=e.leave;return o.createElement(cc.TransitionGroup,{component:t},o.Children.map(r,(function(e,t){return o.createElement(Nc,{appearOptions:n,enterOptions:a,leaveOptions:i,key:"child-".concat(t)},e)})))}Ec.propTypes={appear:Pi().object,enter:Pi().object,leave:Pi().object,children:Pi().oneOfType([Pi().array,Pi().element]),component:Pi().any},Ec.defaultProps={component:"span"};const Cc=sc;function Sc(e){return Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(e)}function Oc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ac(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ac(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(r),!0).forEach((function(t){Rc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ic(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Bc(n.key),n)}}function Tc(e,t){return Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tc(e,t)}function Mc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=kc(e);if(t){var a=kc(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Sc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function kc(e){return kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kc(e)}function Rc(e,t,r){return(t=Bc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bc(e){var t=function(e,t){if("object"!==Sc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Sc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Sc(t)?t:String(t)}function Lc(e){return Va()(e)&&Za(e[0])&&Za(e[1])?e.join(" ~ "):e}var Fc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tc(e,t)}(i,e);var t,r,n,a=Mc(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"renderContent",value:function(){var e=this.props,t=e.payload,r=e.separator,n=e.formatter,a=e.itemStyle,i=e.itemSorter;if(t&&t.length){var s=(i?vo()(t,i):t).map((function(e,i){if("none"===e.type)return null;var s=Dc({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},a),c=e.formatter||n||Lc,l=e.value,u=e.name;if(c&&null!=l&&null!=u){var d=c(l,u,e,i,t);if(Array.isArray(d)){var f=Oc(d,2);l=f[0],u=f[1]}else l=d}return o.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(i),style:s},Za(u)?o.createElement("span",{className:"recharts-tooltip-item-name"},u):null,Za(u)?o.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,o.createElement("span",{className:"recharts-tooltip-item-value"},l),o.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return o.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},s)}return null}},{key:"render",value:function(){var e=this.props,t=e.wrapperClassName,r=e.contentStyle,n=e.labelClassName,a=e.labelStyle,i=e.label,s=e.labelFormatter,c=e.payload,l=Dc({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),u=Dc({margin:0},a),d=!jo()(i),f=d?i:"",h=Ea()("recharts-default-tooltip",t),p=Ea()("recharts-tooltip-label",n);return d&&s&&null!=c&&(f=s(i,c)),o.createElement("div",{className:h,style:l},o.createElement("p",{className:p,style:u},o.isValidElement(f)?f:"".concat(f)),this.renderContent())}}],r&&Ic(t.prototype,r),n&&Ic(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function Uc(e){return Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(e)}function Wc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wc(Object(r),!0).forEach((function(t){$c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yc(n.key),n)}}function Kc(e,t){return Kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kc(e,t)}function Gc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Hc(e);if(t){var a=Hc(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Uc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qc(e)}(this,r)}}function qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hc(e){return Hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hc(e)}function $c(e,t,r){return(t=Yc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yc(e){var t=function(e,t){if("object"!==Uc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Uc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Uc(t)?t:String(t)}Rc(Fc,"displayName","DefaultTooltipContent"),Rc(Fc,"defaultProps",{separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}});var Xc="recharts-tooltip-wrapper";function Qc(e){return e.dataKey}var Zc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kc(e,t)}(i,e);var t,r,n,a=Gc(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return $c(qc(e=a.call.apply(a,[this].concat(r))),"state",{boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$c(qc(e),"getTranslate",(function(t){var r=t.key,n=t.tooltipDimension,a=t.viewBoxDimension,o=e.props,i=o.allowEscapeViewBox,s=o.reverseDirection,c=o.coordinate,l=o.offset,u=o.position,d=o.viewBox;if(u&&Qa(u[r]))return u[r];var f=c[r]-n-l,h=c[r]+l;return i[r]?s[r]?f:h:s[r]?f<d[r]?Math.max(h,d[r]):Math.max(f,d[r]):h+n>d[r]+a?Math.max(f,d[r]):Math.max(h,d[r])})),e}return t=i,(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,r=e.boxHeight;if(e.dismissed?(this.wrapperNode.blur(),this.props.coordinate.x===this.state.dismissedAtCoordinate.x&&this.props.coordinate.y===this.state.dismissedAtCoordinate.y||this.setState({dismissed:!1})):this.wrapperNode.focus({preventScroll:!0}),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-t)>1||Math.abs(n.height-r)>1)&&this.setState({boxWidth:n.width,boxHeight:n.height})}else-1===t&&-1===r||this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var e,t,r,n=this,a=this.props,i=a.payload,s=a.isAnimationActive,c=a.animationDuration,l=a.animationEasing,u=a.filterNull,d=function(e,t){return!0===e?Oi()(t,Qc):go()(e)?Oi()(t,e):t}(a.payloadUniqBy,u&&i&&i.length?i.filter((function(e){return!jo()(e.value)})):i),f=d&&d.length,h=this.props,p=h.content,m=h.viewBox,g=h.coordinate,x=h.position,v=h.active,b=h.wrapperStyle,y=Vc({pointerEvents:"none",visibility:!this.state.dismissed&&v&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);if(x&&Qa(x.x)&&Qa(x.y))t=x.x,r=x.y;else{var _=this.state,j=_.boxWidth,w=_.boxHeight;j>0&&w>0&&g?(t=this.getTranslate({key:"x",tooltipDimension:j,viewBoxDimension:m.width}),r=this.getTranslate({key:"y",tooltipDimension:w,viewBoxDimension:m.height})):y.visibility="hidden"}y=Vc(Vc({},_s({transform:this.props.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")})),y),s&&v&&(y=Vc(Vc({},_s({transition:"transform ".concat(c,"ms ").concat(l)})),y));var N=Ea()(Xc,($c(e={},"".concat(Xc,"-right"),Qa(t)&&g&&Qa(g.x)&&t>=g.x),$c(e,"".concat(Xc,"-left"),Qa(t)&&g&&Qa(g.x)&&t<g.x),$c(e,"".concat(Xc,"-bottom"),Qa(r)&&g&&Qa(g.y)&&r>=g.y),$c(e,"".concat(Xc,"-top"),Qa(r)&&g&&Qa(g.y)&&r<g.y),e));return o.createElement("div",{tabIndex:-1,role:"dialog",onKeyDown:function(e){"Escape"===e.key&&n.setState({dismissed:!0,dismissedAtCoordinate:Vc(Vc({},n.state.dismissedAtCoordinate),{},{x:n.props.coordinate.x,y:n.props.coordinate.y})})},className:N,style:y,ref:function(e){n.wrapperNode=e}},function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?o.createElement(e,t):o.createElement(Fc,t)}(p,Vc(Vc({},this.props),{},{payload:d})))}}])&&zc(t.prototype,r),n&&zc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);$c(Zc,"displayName","Tooltip"),$c(Zc,"defaultProps",{active:!1,allowEscapeViewBox:{x:!1,y:!1},reverseDirection:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!Eo.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1});var Jc=r(5808),el=r.n(Jc);Math.abs,Math.atan2;const tl=Math.cos,rl=(Math.max,Math.min,Math.sin),nl=Math.sqrt,al=Math.PI,ol=2*al;const il={draw(e,t){const r=nl(t/al);e.moveTo(r,0),e.arc(0,0,r,0,ol)}},sl={draw(e,t){const r=nl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},cl=nl(1/3),ll=2*cl,ul={draw(e,t){const r=nl(t/ll),n=r*cl;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},dl={draw(e,t){const r=nl(t),n=-r/2;e.rect(n,n,r,r)}},fl=rl(al/10)/rl(7*al/10),hl=rl(ol/10)*fl,pl=-tl(ol/10)*fl,ml={draw(e,t){const r=nl(.8908130915292852*t),n=hl*r,a=pl*r;e.moveTo(0,-r),e.lineTo(n,a);for(let t=1;t<5;++t){const o=ol*t/5,i=tl(o),s=rl(o);e.lineTo(s*r,-i*r),e.lineTo(i*n-s*a,s*n+i*a)}e.closePath()}},gl=nl(3),xl={draw(e,t){const r=-nl(t/(3*gl));e.moveTo(0,2*r),e.lineTo(-gl*r,-r),e.lineTo(gl*r,-r),e.closePath()}},vl=-.5,bl=nl(3)/2,yl=1/nl(12),_l=3*(yl/2+1),jl={draw(e,t){const r=nl(t/_l),n=r/2,a=r*yl,o=n,i=r*yl+r,s=-o,c=i;e.moveTo(n,a),e.lineTo(o,i),e.lineTo(s,c),e.lineTo(vl*n-bl*a,bl*n+vl*a),e.lineTo(vl*o-bl*i,bl*o+vl*i),e.lineTo(vl*s-bl*c,bl*s+vl*c),e.lineTo(vl*n+bl*a,vl*a-bl*n),e.lineTo(vl*o+bl*i,vl*i-bl*o),e.lineTo(vl*s+bl*c,vl*c-bl*s),e.closePath()}};function wl(e){return function(){return e}}const Nl=Math.PI,El=2*Nl,Cl=1e-6,Sl=El-Cl;function Ol(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Al{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Ol:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ol;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,a,o){this._append`C${+e},${+t},${+r},${+n},${this._x1=+a},${this._y1=+o}`}arcTo(e,t,r,n,a){if(e=+e,t=+t,r=+r,n=+n,(a=+a)<0)throw new Error(`negative radius: ${a}`);let o=this._x1,i=this._y1,s=r-e,c=n-t,l=o-e,u=i-t,d=l*l+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>Cl)if(Math.abs(u*s-c*l)>Cl&&a){let f=r-o,h=n-i,p=s*s+c*c,m=f*f+h*h,g=Math.sqrt(p),x=Math.sqrt(d),v=a*Math.tan((Nl-Math.acos((p+d-m)/(2*g*x)))/2),b=v/x,y=v/g;Math.abs(b-1)>Cl&&this._append`L${e+b*l},${t+b*u}`,this._append`A${a},${a},0,0,${+(u*f>l*h)},${this._x1=e+y*s},${this._y1=t+y*c}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,a,o){if(e=+e,t=+t,o=!!o,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=r*Math.cos(n),s=r*Math.sin(n),c=e+i,l=t+s,u=1^o,d=o?n-a:a-n;null===this._x1?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Cl||Math.abs(this._y1-l)>Cl)&&this._append`L${c},${l}`,r&&(d<0&&(d=d%El+El),d>Sl?this._append`A${r},${r},0,1,${u},${e-i},${t-s}A${r},${r},0,1,${u},${this._x1=c},${this._y1=l}`:d>Cl&&this._append`A${r},${r},0,${+(d>=Nl)},${u},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function Pl(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new Al(t)}nl(3),nl(3);function Dl(e){return Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(e)}function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Il.apply(this,arguments)}function Tl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ll(n.key),n)}}function Ml(e,t){return Ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ml(e,t)}function kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Rl(e);if(t){var a=Rl(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Rl(e){return Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rl(e)}function Bl(e,t,r){return(t=Ll(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ll(e){var t=function(e,t){if("object"!==Dl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Dl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dl(t)?t:String(t)}var Fl={symbolCircle:il,symbolCross:sl,symbolDiamond:ul,symbolSquare:dl,symbolStar:ml,symbolTriangle:xl,symbolWye:jl},Ul=Math.PI/180,Wl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ml(e,t)}(i,e);var t,r,n,a=kl(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"getPath",value:function(){var e=this.props,t=e.size,r=e.sizeType,n=e.type,a=function(e){var t="symbol".concat(el()(e));return Fl[t]||il}(n),o=function(e,t){let r=null,n=Pl(a);function a(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return e="function"==typeof e?e:wl(e||il),t="function"==typeof t?t:wl(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:wl(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:wl(+e),a):t},a.context=function(e){return arguments.length?(r=null==e?null:e,a):r},a}().type(a).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Ul;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(t,r,n));return o()}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.cx,n=e.cy,a=e.size,i=mi(this.props,!0);return r===+r&&n===+n&&a===+a?o.createElement("path",Il({},i,{className:Ea()("recharts-symbols",t),transform:"translate(".concat(r,", ").concat(n,")"),d:this.getPath()})):null}}],r&&Tl(t.prototype,r),n&&Tl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function Vl(e){return Vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function Kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gl(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xl(n.key),n)}}function ql(e,t){return ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ql(e,t)}function Hl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$l(e);if(t){var a=$l(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Vl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function $l(e){return $l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$l(e)}function Yl(e,t,r){return(t=Xl(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xl(e){var t=function(e,t){if("object"!==Vl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Vl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vl(t)?t:String(t)}Bl(Wl,"defaultProps",{type:"circle",size:64,sizeType:"area"}),Bl(Wl,"registerSymbol",(function(e,t){Fl["symbol".concat(el()(e))]=t}));var Ql=32,Zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ql(e,t)}(i,e);var t,r,n,a=Hl(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=Ql/6,a=Ql/3,i=e.inactive?t:e.color;if("plainline"===e.type)return o.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Ql,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return o.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(r,"h").concat(a,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*a,",").concat(r,"\n            H").concat(Ql,"M").concat(2*a,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(a,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return o.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(Ql,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(o.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(r),!0).forEach((function(t){Yl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return delete s.legendIcon,o.cloneElement(e.legendIcon,s)}return o.createElement(Wl,{fill:i,cx:r,cy:r,size:Ql,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,a=t.layout,i=t.formatter,s=t.inactiveColor,c={x:0,y:0,width:Ql,height:Ql},l={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(t,r){var a,d=t.formatter||i,f=Ea()((Yl(a={"recharts-legend-item":!0},"legend-item-".concat(r),!0),Yl(a,"inactive",t.inactive),a));if("none"===t.type)return null;var h=t.inactive?s:t.color;return o.createElement("li",zl({className:f,style:l,key:"legend-item-".concat(r)},ti(e.props,t,r)),o.createElement(ji,{width:n,height:n,viewBox:c,style:u},e.renderIcon(t)),o.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},d?d(t.value,t,r):t.value))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],r&&Gl(t.prototype,r),n&&Gl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function Jl(e){return Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(e)}Yl(Zl,"displayName","Legend"),Yl(Zl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eu=["ref"];function tu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ru(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(r),!0).forEach((function(t){cu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lu(n.key),n)}}function au(e,t){return au=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},au(e,t)}function ou(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=su(e);if(t){var a=su(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Jl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return iu(e)}(this,r)}}function iu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},su(e)}function cu(e,t,r){return(t=lu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lu(e){var t=function(e,t){if("object"!==Jl(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Jl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Jl(t)?t:String(t)}function uu(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function du(e){return e.value}function fu(e,t){return!0===e?Oi()(t,du):go()(e)?Oi()(t,e):t}var hu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&au(e,t)}(i,e);var t,r,n,a=ou(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return cu(iu(e=a.call.apply(a,[this].concat(r))),"state",{boxWidth:-1,boxHeight:-1}),e}return t=i,n=[{key:"getWithHeight",value:function(e,t){var r=e.props.layout;return"vertical"===r&&Qa(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var e=this.state,t=e.boxWidth,r=e.boxHeight;return t>=0&&r>=0?{width:t,height:r}:null}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,a=n.layout,o=n.align,i=n.verticalAlign,s=n.margin,c=n.chartWidth,l=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===a?{left:((c||0)-(this.getBBoxSnapshot()||{width:0}).width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===i?{top:((l||0)-(this.getBBoxSnapshot()||{height:0}).height)/2}:"bottom"===i?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),ru(ru({},t),r)}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,r=e.boxHeight,n=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-t)>1||Math.abs(a.height-r)>1)&&this.setState({boxWidth:a.width,boxHeight:a.height},(function(){n&&n(a)}))}else-1===t&&-1===r||this.setState({boxWidth:-1,boxHeight:-1},(function(){n&&n(null)}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,a=t.height,i=t.wrapperStyle,s=t.payloadUniqBy,c=t.payload,l=ru(ru({position:"absolute",width:n||"auto",height:a||"auto"},this.getDefaultPosition(i)),i);return o.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(o.isValidElement(e))return o.cloneElement(e,t);if(go()(e))return o.createElement(e,t);t.ref;var r=uu(t,eu);return o.createElement(Zl,r)}(r,ru(ru({},this.props),{},{payload:fu(s,c)})))}}])&&nu(t.prototype,r),n&&nu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function pu(){}function mu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function gu(e){this._context=e}function xu(e){this._context=e}function vu(e){this._context=e}function bu(e){this._context=e}function yu(e){this._context=e}function _u(e){return new yu(e)}function ju(e){return e<0?-1:1}function wu(e,t,r){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),s=(o*a+i*n)/(n+a);return(ju(o)+ju(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(s))||0}function Nu(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Eu(e,t,r){var n=e._x0,a=e._y0,o=e._x1,i=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,a+s*t,o-s,i-s*r,o,i)}function Cu(e){this._context=e}function Su(e){this._context=new Ou(e)}function Ou(e){this._context=e}function Au(e){this._context=e}function Pu(e){var t,r,n=e.length-1,a=new Array(n),o=new Array(n),i=new Array(n);for(a[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,o[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/o[t-1],o[t]-=r,i[t]-=r*i[t-1];for(a[n-1]=i[n-1]/o[n-1],t=n-2;t>=0;--t)a[t]=(i[t]-a[t+1])/o[t];for(o[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function Du(e,t){this._context=e,this._t=t}cu(hu,"displayName","Legend"),cu(hu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"}),gu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},xu.prototype={areaStart:pu,areaEnd:pu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},vu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:mu(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},bu.prototype={areaStart:pu,areaEnd:pu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},yu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},Cu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Eu(this,this._t0,Nu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Eu(this,Nu(this,r=wu(this,e,t)),r);break;default:Eu(this,this._t0,r=wu(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(Su.prototype=Object.create(Cu.prototype)).point=function(e,t){Cu.prototype.point.call(this,t,e)},Ou.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,o){this._context.bezierCurveTo(t,e,n,r,o,a)}},Au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=Pu(e),a=Pu(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};Array.prototype.slice;function Iu(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Tu(e){return e[0]}function Mu(e){return e[1]}function ku(e,t){var r=wl(!0),n=null,a=_u,o=null,i=Pl(s);function s(s){var c,l,u,d=(s=Iu(s)).length,f=!1;for(null==n&&(o=a(u=i())),c=0;c<=d;++c)!(c<d&&r(l=s[c],c,s))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(l,c,s),+t(l,c,s));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?Tu:wl(e),t="function"==typeof t?t:void 0===t?Mu:wl(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:wl(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:wl(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:wl(!!e),s):r},s.curve=function(e){return arguments.length?(a=e,null!=n&&(o=a(n)),s):a},s.context=function(e){return arguments.length?(null==e?n=o=null:o=a(n=e),s):n},s}function Ru(e,t,r){var n=null,a=wl(!0),o=null,i=_u,s=null,c=Pl(l);function l(l){var u,d,f,h,p,m=(l=Iu(l)).length,g=!1,x=new Array(m),v=new Array(m);for(null==o&&(s=i(p=c())),u=0;u<=m;++u){if(!(u<m&&a(h=l[u],u,l))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(x[f],v[f]);s.lineEnd(),s.areaEnd()}g&&(x[u]=+e(h,u,l),v[u]=+t(h,u,l),s.point(n?+n(h,u,l):x[u],r?+r(h,u,l):v[u]))}if(p)return s=null,p+""||null}function u(){return ku().defined(a).curve(i).context(o)}return e="function"==typeof e?e:void 0===e?Tu:wl(+e),t="function"==typeof t?t:wl(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?Mu:wl(+r),l.x=function(t){return arguments.length?(e="function"==typeof t?t:wl(+t),n=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:wl(+t),l):e},l.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:wl(+e),l):n},l.y=function(e){return arguments.length?(t="function"==typeof e?e:wl(+e),r=null,l):t},l.y0=function(e){return arguments.length?(t="function"==typeof e?e:wl(+e),l):t},l.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:wl(+e),l):r},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(r)},l.lineX1=function(){return u().x(n).y(t)},l.defined=function(e){return arguments.length?(a="function"==typeof e?e:wl(!!e),l):a},l.curve=function(e){return arguments.length?(i=e,null!=o&&(s=i(o)),l):i},l.context=function(e){return arguments.length?(null==e?o=s=null:s=i(o=e),l):o},l}function Bu(e){return Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(e)}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lu.apply(this,arguments)}function Fu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(r),!0).forEach((function(t){Gu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wu(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qu(n.key),n)}}function Vu(e,t){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vu(e,t)}function zu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ku(e);if(t){var a=Ku(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Bu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Ku(e){return Ku=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ku(e)}function Gu(e,t,r){return(t=qu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qu(e){var t=function(e,t){if("object"!==Bu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Bu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bu(t)?t:String(t)}var Hu={curveBasisClosed:function(e){return new xu(e)},curveBasisOpen:function(e){return new vu(e)},curveBasis:function(e){return new gu(e)},curveLinearClosed:function(e){return new bu(e)},curveLinear:_u,curveMonotoneX:function(e){return new Cu(e)},curveMonotoneY:function(e){return new Su(e)},curveNatural:function(e){return new Au(e)},curveStep:function(e){return new Du(e,.5)},curveStepAfter:function(e){return new Du(e,1)},curveStepBefore:function(e){return new Du(e,0)}},$u=function(e){return e.x===+e.x&&e.y===+e.y},Yu=function(e){return e.x},Xu=function(e){return e.y},Qu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vu(e,t)}(i,e);var t,r,n,a=zu(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"getPath",value:function(){var e,t=this.props,r=t.type,n=t.points,a=t.baseLine,o=t.layout,i=t.connectNulls,s=function(e,t){if(go()(e))return e;var r="curve".concat(el()(e));return"curveMonotone"===r&&t?Hu["".concat(r).concat("vertical"===t?"Y":"X")]:Hu[r]||_u}(r,o),c=i?n.filter((function(e){return $u(e)})):n;if(Va()(a)){var l=i?a.filter((function(e){return $u(e)})):a,u=c.map((function(e,t){return Uu(Uu({},e),{},{base:l[t]})}));return(e="vertical"===o?Ru().y(Xu).x1(Yu).x0((function(e){return e.base.x})):Ru().x(Yu).y1(Xu).y0((function(e){return e.base.y}))).defined($u).curve(s),e(u)}return(e="vertical"===o&&Qa(a)?Ru().y(Xu).x1(Yu).x0(a):Qa(a)?Ru().x(Yu).y1(Xu).y0(a):ku().x(Yu).y(Xu)).defined($u).curve(s),e(c)}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.points,n=e.path,a=e.pathRef;if(!(r&&r.length||n))return null;var i=r&&r.length?this.getPath():n;return o.createElement("path",Lu({},mi(this.props),ei(this.props),{className:Ea()("recharts-curve",t),d:i,ref:a}))}}],r&&Wu(t.prototype,r),n&&Wu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function Zu(e){return Zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(e)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(this,arguments)}function ed(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ad(n.key),n)}}function td(e,t){return td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},td(e,t)}function rd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nd(e);if(t){var a=nd(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Zu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function nd(e){return nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nd(e)}function ad(e){var t=function(e,t){if("object"!==Zu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zu(t)?t:String(t)}Gu(Qu,"defaultProps",{type:"linear",points:[],connectNulls:!1});var od=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&td(e,t)}(i,e);var t,r,n,a=rd(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,n=[{key:"getPath",value:function(e,t,r,n,a,o){return"M".concat(e,",").concat(a,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r)}}],(r=[{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,s=e.top,c=e.left,l=e.className;return Qa(t)&&Qa(r)&&Qa(n)&&Qa(a)&&Qa(s)&&Qa(c)?o.createElement("path",Ju({},mi(this.props,!0),{className:Ea()("recharts-cross",l),d:i.getPath(t,r,n,a,s,c)})):null}}])&&ed(t.prototype,r),n&&ed(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);!function(e,t,r){(t=ad(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(od,"defaultProps",{x:0,y:0,top:0,left:0,width:0,height:0});var id=r(2404),sd=r.n(id),cd=r(4506),ld=r.n(cd),ud=r(1684),dd=r.n(ud),fd=r(7307),hd=r.n(fd);function pd(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function md(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}class gd extends Map{constructor(e,t=yd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,r]of e)this.set(t,r)}get(e){return super.get(xd(this,e))}has(e){return super.has(xd(this,e))}set(e,t){return super.set(vd(this,e),t)}delete(e){return super.delete(bd(this,e))}}Set;function xd({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function vd({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function bd({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yd(e){return null!==e&&"object"==typeof e?e.valueOf():e}const _d=Symbol("implicit");function jd(){var e=new gd,t=[],r=[],n=_d;function a(a){let o=e.get(a);if(void 0===o){if(n!==_d)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return a.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new gd;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(n=e,a):n},a.copy=function(){return jd(t,r).unknown(n)},pd.apply(a,arguments),a}function wd(){var e,t,r=jd().unknown(void 0),n=r.domain,a=r.range,o=0,i=1,s=!1,c=0,l=0,u=.5;function d(){var r=n().length,d=i<o,f=d?i:o,h=d?o:i;e=(h-f)/Math.max(1,r-c+2*l),s&&(e=Math.floor(e)),f+=(h-f-e*(r-c))*u,t=e*(1-c),s&&(f=Math.round(f),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=0|Math.max(0,Math.ceil((t-e)/r)),o=new Array(a);++n<a;)o[n]=e+n*r;return o}(r).map((function(t){return f+e*t}));return a(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([o,i]=e,o=+o,i=+i,d()):[o,i]},r.rangeRound=function(e){return[o,i]=e,o=+o,i=+i,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(c=Math.min(1,l=+e),d()):c},r.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),d()):c},r.paddingOuter=function(e){return arguments.length?(l=+e,d()):l},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return wd(n(),[o,i]).round(s).paddingInner(c).paddingOuter(l).align(u)},pd.apply(d(),arguments)}function Nd(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Nd(t())},e}function Ed(){return Nd(wd.apply(null,arguments).paddingInner(1))}const Cd=Math.sqrt(50),Sd=Math.sqrt(10),Od=Math.sqrt(2);function Ad(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),i=o>=Cd?10:o>=Sd?5:o>=Od?2:1;let s,c,l;return a<0?(l=Math.pow(10,-a)/i,s=Math.round(e*l),c=Math.round(t*l),s/l<e&&++s,c/l>t&&--c,l=-l):(l=Math.pow(10,a)*i,s=Math.round(e/l),c=Math.round(t/l),s*l<e&&++s,c*l>t&&--c),c<s&&.5<=r&&r<2?Ad(e,t,2*r):[s,c,l]}function Pd(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[a,o,i]=n?Ad(t,e,r):Ad(e,t,r);if(!(o>=a))return[];const s=o-a+1,c=new Array(s);if(n)if(i<0)for(let e=0;e<s;++e)c[e]=(o-e)/-i;else for(let e=0;e<s;++e)c[e]=(o-e)*i;else if(i<0)for(let e=0;e<s;++e)c[e]=(a+e)/-i;else for(let e=0;e<s;++e)c[e]=(a+e)*i;return c}function Dd(e,t,r){return Ad(e=+e,t=+t,r=+r)[2]}function Id(e,t,r){r=+r;const n=(t=+t)<(e=+e),a=n?Dd(t,e,r):Dd(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Td(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Md(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kd(e){let t,r,n;function a(e,n,a=0,o=e.length){if(a<o){if(0!==t(n,n))return o;do{const t=a+o>>>1;r(e[t],n)<0?a=t+1:o=t}while(a<o)}return a}return 2!==e.length?(t=Td,r=(t,r)=>Td(e(t),r),n=(t,r)=>e(t)-r):(t=e===Td||e===Md?e:Rd,r=e,n=e),{left:a,center:function(e,t,r=0,o=e.length){const i=a(e,t,r,o-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n,a=0,o=e.length){if(a<o){if(0!==t(n,n))return o;do{const t=a+o>>>1;r(e[t],n)<=0?a=t+1:o=t}while(a<o)}return a}}}function Rd(){return 0}function Bd(e){return null===e?NaN:+e}const Ld=kd(Td),Fd=Ld.right,Ud=(Ld.left,kd(Bd).center,Fd);function Wd(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Vd(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zd(){}var Kd=.7,Gd=1/Kd,qd="\\s*([+-]?\\d+)\\s*",Hd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yd=/^#([0-9a-f]{3,8})$/,Xd=new RegExp(`^rgb\\(${qd},${qd},${qd}\\)$`),Qd=new RegExp(`^rgb\\(${$d},${$d},${$d}\\)$`),Zd=new RegExp(`^rgba\\(${qd},${qd},${qd},${Hd}\\)$`),Jd=new RegExp(`^rgba\\(${$d},${$d},${$d},${Hd}\\)$`),ef=new RegExp(`^hsl\\(${Hd},${$d},${$d}\\)$`),tf=new RegExp(`^hsla\\(${Hd},${$d},${$d},${Hd}\\)$`),rf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nf(){return this.rgb().formatHex()}function af(){return this.rgb().formatRgb()}function of(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Yd.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?sf(t):3===r?new uf(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?cf(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?cf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Xd.exec(e))?new uf(t[1],t[2],t[3],1):(t=Qd.exec(e))?new uf(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Zd.exec(e))?cf(t[1],t[2],t[3],t[4]):(t=Jd.exec(e))?cf(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ef.exec(e))?gf(t[1],t[2]/100,t[3]/100,1):(t=tf.exec(e))?gf(t[1],t[2]/100,t[3]/100,t[4]):rf.hasOwnProperty(e)?sf(rf[e]):"transparent"===e?new uf(NaN,NaN,NaN,0):null}function sf(e){return new uf(e>>16&255,e>>8&255,255&e,1)}function cf(e,t,r,n){return n<=0&&(e=t=r=NaN),new uf(e,t,r,n)}function lf(e,t,r,n){return 1===arguments.length?((a=e)instanceof zd||(a=of(a)),a?new uf((a=a.rgb()).r,a.g,a.b,a.opacity):new uf):new uf(e,t,r,null==n?1:n);var a}function uf(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function df(){return`#${mf(this.r)}${mf(this.g)}${mf(this.b)}`}function ff(){const e=hf(this.opacity);return`${1===e?"rgb(":"rgba("}${pf(this.r)}, ${pf(this.g)}, ${pf(this.b)}${1===e?")":`, ${e})`}`}function hf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mf(e){return((e=pf(e))<16?"0":"")+e.toString(16)}function gf(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new vf(e,t,r,n)}function xf(e){if(e instanceof vf)return new vf(e.h,e.s,e.l,e.opacity);if(e instanceof zd||(e=of(e)),!e)return new vf;if(e instanceof vf)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,c=(o+a)/2;return s?(i=t===o?(r-n)/s+6*(r<n):r===o?(n-t)/s+2:(t-r)/s+4,s/=c<.5?o+a:2-o-a,i*=60):s=c>0&&c<1?0:i,new vf(i,s,c,e.opacity)}function vf(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function bf(e){return(e=(e||0)%360)<0?e+360:e}function yf(e){return Math.max(0,Math.min(1,e||0))}function _f(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function jf(e,t,r,n,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*r+(1+3*e+3*o-3*i)*n+i*a)/6}Wd(zd,of,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nf,formatHex:nf,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return xf(this).formatHsl()},formatRgb:af,toString:af}),Wd(uf,lf,Vd(zd,{brighter(e){return e=null==e?Gd:Math.pow(Gd,e),new uf(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Kd:Math.pow(Kd,e),new uf(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new uf(pf(this.r),pf(this.g),pf(this.b),hf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:df,formatHex:df,formatHex8:function(){return`#${mf(this.r)}${mf(this.g)}${mf(this.b)}${mf(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ff,toString:ff})),Wd(vf,(function(e,t,r,n){return 1===arguments.length?xf(e):new vf(e,t,r,null==n?1:n)}),Vd(zd,{brighter(e){return e=null==e?Gd:Math.pow(Gd,e),new vf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Kd:Math.pow(Kd,e),new vf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new uf(_f(e>=240?e-240:e+120,a,n),_f(e,a,n),_f(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new vf(bf(this.h),yf(this.s),yf(this.l),hf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hf(this.opacity);return`${1===e?"hsl(":"hsla("}${bf(this.h)}, ${100*yf(this.s)}%, ${100*yf(this.l)}%${1===e?")":`, ${e})`}`}}));const wf=e=>()=>e;function Nf(e,t){return function(r){return e+r*t}}function Ef(e){return 1==(e=+e)?Cf:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):wf(isNaN(t)?r:t)}}function Cf(e,t){var r=t-e;return r?Nf(e,r):wf(isNaN(e)?t:e)}const Sf=function e(t){var r=Ef(t);function n(e,t){var n=r((e=lf(e)).r,(t=lf(t)).r),a=r(e.g,t.g),o=r(e.b,t.b),i=Cf(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=o(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function Of(e){return function(t){var r,n,a=t.length,o=new Array(a),i=new Array(a),s=new Array(a);for(r=0;r<a;++r)n=lf(t[r]),o[r]=n.r||0,i[r]=n.g||0,s[r]=n.b||0;return o=e(o),i=e(i),s=e(s),n.opacity=1,function(e){return n.r=o(e),n.g=i(e),n.b=s(e),n+""}}}Of((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],o=e[n+1],i=n>0?e[n-1]:2*a-o,s=n<t-1?e[n+2]:2*o-a;return jf((r-n/t)*t,i,a,o,s)}})),Of((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),a=e[(n+t-1)%t],o=e[n%t],i=e[(n+1)%t],s=e[(n+2)%t];return jf((r-n/t)*t,a,o,i,s)}}));function Af(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,o=new Array(a),i=new Array(n);for(r=0;r<a;++r)o[r]=Bf(e[r],t[r]);for(;r<n;++r)i[r]=t[r];return function(e){for(r=0;r<a;++r)i[r]=o[r](e);return i}}function Pf(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Df(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function If(e,t){var r,n={},a={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=Bf(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var Tf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mf=new RegExp(Tf.source,"g");function kf(e,t){var r,n,a,o=Tf.lastIndex=Mf.lastIndex=0,i=-1,s=[],c=[];for(e+="",t+="";(r=Tf.exec(e))&&(n=Mf.exec(t));)(a=n.index)>o&&(a=t.slice(o,a),s[i]?s[i]+=a:s[++i]=a),(r=r[0])===(n=n[0])?s[i]?s[i]+=n:s[++i]=n:(s[++i]=null,c.push({i,x:Df(r,n)})),o=Mf.lastIndex;return o<t.length&&(a=t.slice(o),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var r,n=0;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join("")})}function Rf(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(o){for(r=0;r<n;++r)a[r]=e[r]*(1-o)+t[r]*o;return a}}function Bf(e,t){var r,n,a=typeof t;return null==t||"boolean"===a?wf(t):("number"===a?Df:"string"===a?(r=of(t))?(t=r,Sf):kf:t instanceof of?Sf:t instanceof Date?Pf:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?Af:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?If:Df:Rf))(e,t)}function Lf(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ff(e){return+e}var Uf=[0,1];function Wf(e){return e}function Vf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function zf(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=Vf(a,n),o=r(i,o)):(n=Vf(n,a),o=r(o,i)),function(e){return o(n(e))}}function Kf(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Vf(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(t){var r=Ud(e,t,1,n)-1;return o[r](a[r](t))}}function Gf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qf(){var e,t,r,n,a,o,i=Uf,s=Uf,c=Bf,l=Wf;function u(){var e=Math.min(i.length,s.length);return l!==Wf&&(l=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(i[0],i[e-1])),n=e>2?Kf:zf,a=o=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(i.map(e),s,c)))(e(l(t)))}return d.invert=function(r){return l(t((o||(o=n(s,i.map(e),Df)))(r)))},d.domain=function(e){return arguments.length?(i=Array.from(e,Ff),u()):i.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),c=Lf,u()},d.clamp=function(e){return arguments.length?(l=!!e||Wf,u()):l!==Wf},d.interpolate=function(e){return arguments.length?(c=e,u()):c},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function Hf(){return qf()(Wf,Wf)}var $f,Yf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xf(e){if(!(t=Yf.exec(e)))throw new Error("invalid format: "+e);var t;return new Qf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Qf(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Zf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Jf(e){return(e=Zf(Math.abs(e)))?e[1]:NaN}function eh(e,t){var r=Zf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}Xf.prototype=Qf.prototype,Qf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const th={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eh(100*e,t),r:eh,s:function(e,t){var r=Zf(e,t);if(!r)return e+"";var n=r[0],a=r[1],o=a-($f=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Zf(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rh(e){return e}var nh,ah,oh,ih=Array.prototype.map,sh=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ch(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?rh:(t=ih.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var a=e.length,o=[],i=0,s=t[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),o.push(e.substring(a-=s,a+s)),!((c+=s+1)>n));)s=t[i=(i+1)%t.length];return o.reverse().join(r)}),a=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?rh:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ih.call(e.numerals,String)),c=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Xf(e)).fill,r=e.align,d=e.sign,f=e.symbol,h=e.zero,p=e.width,m=e.comma,g=e.precision,x=e.trim,v=e.type;"n"===v?(m=!0,v="g"):th[v]||(void 0===g&&(g=12),x=!0,v="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var b="$"===f?a:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",y="$"===f?o:/[%p]/.test(v)?c:"",_=th[v],j=/[defgprs%]/.test(v);function w(e){var a,o,c,f=b,w=y;if("c"===v)w=_(e)+w,e="";else{var N=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:_(Math.abs(e),g),x&&(e=function(e){e:for(var t,r=e.length,n=1,a=-1;n<r;++n)switch(e[n]){case".":a=t=n;break;case"0":0===a&&(a=n),t=n;break;default:if(!+e[n])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),N&&0==+e&&"+"!==d&&(N=!1),f=(N?"("===d?d:l:"-"===d||"("===d?"":d)+f,w=("s"===v?sh[8+$f/3]:"")+w+(N&&"("===d?")":""),j)for(a=-1,o=e.length;++a<o;)if(48>(c=e.charCodeAt(a))||c>57){w=(46===c?i+e.slice(a+1):e.slice(a))+w,e=e.slice(0,a);break}}m&&!h&&(e=n(e,1/0));var E=f.length+e.length+w.length,C=E<p?new Array(p-E+1).join(t):"";switch(m&&h&&(e=n(C+e,C.length?p-w.length:1/0),C=""),r){case"<":e=f+e+w+C;break;case"=":e=f+C+e+w;break;case"^":e=C.slice(0,E=C.length>>1)+f+e+w+C.slice(E);break;default:e=C+f+e+w}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),w.toString=function(){return e+""},w}return{format:d,formatPrefix:function(e,t){var r=d(((e=Xf(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Jf(t)/3))),a=Math.pow(10,-n),o=sh[8+n/3];return function(e){return r(a*e)+o}}}}function lh(e,t,r,n){var a,o=Id(e,t,r);switch((n=Xf(null==n?",f":n)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jf(t)/3)))-Jf(Math.abs(e)))}(o,i))||(n.precision=a),oh(n,i);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jf(t)-Jf(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=a-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(a=function(e){return Math.max(0,-Jf(Math.abs(e)))}(o))||(n.precision=a-2*("%"===n.type))}return ah(n)}function uh(e){var t=e.domain;return e.ticks=function(e){var r=t();return Pd(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return lh(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,a,o=t(),i=0,s=o.length-1,c=o[i],l=o[s],u=10;for(l<c&&(a=c,c=l,l=a,a=i,i=s,s=a);u-- >0;){if((a=Dd(c,l,r))===n)return o[i]=c,o[s]=l,t(o);if(a>0)c=Math.floor(c/a)*a,l=Math.ceil(l/a)*a;else{if(!(a<0))break;c=Math.ceil(c*a)/a,l=Math.floor(l*a)/a}n=a}return e},e}function dh(){var e=Hf();return e.copy=function(){return Gf(e,dh())},pd.apply(e,arguments),uh(e)}function fh(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Ff),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return fh(e).unknown(t)},e=arguments.length?Array.from(e,Ff):[0,1],uh(r)}function hh(e,t){var r,n=0,a=(e=e.slice()).length-1,o=e[n],i=e[a];return i<o&&(r=n,n=a,a=r,r=o,o=i,i=r),e[n]=t.floor(o),e[a]=t.ceil(i),e}function ph(e){return Math.log(e)}function mh(e){return Math.exp(e)}function gh(e){return-Math.log(-e)}function xh(e){return-Math.exp(-e)}function vh(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bh(e){return(t,r)=>-e(-t,r)}function yh(e){const t=e(ph,mh),r=t.domain;let n,a,o=10;function i(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),a=function(e){return 10===e?vh:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),r()[0]<0?(n=bh(n),a=bh(a),e(gh,xh)):e(ph,mh),t}return t.base=function(e){return arguments.length?(o=+e,i()):o},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],s=t[t.length-1];const c=s<i;c&&([i,s]=[s,i]);let l,u,d=n(i),f=n(s);const h=null==e?10:+e;let p=[];if(!(o%1)&&f-d<h){if(d=Math.floor(d),f=Math.ceil(f),i>0){for(;d<=f;++d)for(l=1;l<o;++l)if(u=d<0?l/a(-d):l*a(d),!(u<i)){if(u>s)break;p.push(u)}}else for(;d<=f;++d)for(l=o-1;l>=1;--l)if(u=d>0?l/a(-d):l*a(d),!(u<i)){if(u>s)break;p.push(u)}2*p.length<h&&(p=Pd(i,s,h))}else p=Pd(d,f,Math.min(f-d,h)).map(a);return c?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===o?"s":","),"function"!=typeof r&&(o%1||null!=(r=Xf(r)).precision||(r.trim=!0),r=ah(r)),e===1/0)return r;const i=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/a(Math.round(n(e)));return t*o<o-.5&&(t*=o),t<=i?r(e):""}},t.nice=()=>r(hh(r(),{floor:e=>a(Math.floor(n(e))),ceil:e=>a(Math.ceil(n(e)))})),t}function _h(){const e=yh(qf()).domain([1,10]);return e.copy=()=>Gf(e,_h()).base(e.base()),pd.apply(e,arguments),e}function jh(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wh(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Nh(e){var t=1,r=e(jh(t),wh(t));return r.constant=function(r){return arguments.length?e(jh(t=+r),wh(t)):t},uh(r)}function Eh(){var e=Nh(qf());return e.copy=function(){return Gf(e,Eh()).constant(e.constant())},pd.apply(e,arguments)}function Ch(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Sh(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Oh(e){return e<0?-e*e:e*e}function Ah(e){var t=e(Wf,Wf),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Wf,Wf):.5===r?e(Sh,Oh):e(Ch(r),Ch(1/r)):r},uh(t)}function Ph(){var e=Ah(qf());return e.copy=function(){return Gf(e,Ph()).exponent(e.exponent())},pd.apply(e,arguments),e}function Dh(){return Ph.apply(null,arguments).exponent(.5)}function Ih(e){return Math.sign(e)*e*e}function Th(){var e,t=Hf(),r=[0,1],n=!1;function a(r){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(a)?e:n?Math.round(a):a}return a.invert=function(e){return t.invert(Ih(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((r=Array.from(e,Ff)).map(Ih)),a):r.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(n=!!e,a):n},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Th(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},pd.apply(a,arguments),uh(a)}function Mh(e,t){let r;if(void 0===t)for(const t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function kh(e,t){let r;if(void 0===t)for(const t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let n=-1;for(let a of e)null!=(a=t(a,++n,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function Rh(e=Td){if(e===Td)return Bh;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function Bh(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Lh(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=void 0===a?Bh:Rh(a);n>r;){if(n-r>600){const o=n-r+1,i=t-r+1,s=Math.log(o),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(o-c)/o)*(i-o/2<0?-1:1);Lh(e,t,Math.max(r,Math.floor(t-i*c/o+l)),Math.min(n,Math.floor(t+(o-i)*c/o+l)),a)}const o=e[t];let i=r,s=n;for(Fh(e,r,t),a(e[n],o)>0&&Fh(e,r,n);i<s;){for(Fh(e,i,s),++i,--s;a(e[i],o)<0;)++i;for(;a(e[s],o)>0;)--s}0===a(e[r],o)?Fh(e,r,s):(++s,Fh(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Fh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Uh(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return kh(e);if(t>=1)return Mh(e);var n,a=(n-1)*t,o=Math.floor(a),i=Mh(Lh(e,o).subarray(0,o+1));return i+(kh(e.subarray(o+1))-i)*(a-o)}}function Wh(e,t,r=Bd){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),i=+r(e[o],o,e);return i+(+r(e[o+1],o+1,e)-i)*(a-o)}}function Vh(){var e,t=[],r=[],n=[];function a(){var e=0,a=Math.max(1,r.length);for(n=new Array(a-1);++e<a;)n[e-1]=Wh(t,e/a);return o}function o(t){return null==t||isNaN(t=+t)?e:r[Ud(n,t)]}return o.invertExtent=function(e){var a=r.indexOf(e);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Td),a()},o.range=function(e){return arguments.length?(r=Array.from(e),a()):r.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return n.slice()},o.copy=function(){return Vh().domain(t).range(r).unknown(e)},pd.apply(o,arguments)}function zh(){var e,t=0,r=1,n=1,a=[.5],o=[0,1];function i(t){return null!=t&&t<=t?o[Ud(a,t,0,n)]:e}function s(){var e=-1;for(a=new Array(n);++e<n;)a[e]=((e+1)*r-(e-n)*t)/(n+1);return i}return i.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,s()):[t,r]},i.range=function(e){return arguments.length?(n=(o=Array.from(e)).length-1,s()):o.slice()},i.invertExtent=function(e){var i=o.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=n?[a[n-1],r]:[a[i-1],a[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return zh().domain([t,r]).range(o).unknown(e)},pd.apply(uh(i),arguments)}function Kh(){var e,t=[.5],r=[0,1],n=1;function a(a){return null!=a&&a<=a?r[Ud(t,a,0,n)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Kh().domain(t).range(r).unknown(e)},pd.apply(a,arguments)}nh=ch({thousands:",",grouping:[3],currency:["$",""]}),ah=nh.format,oh=nh.formatPrefix;const Gh=1e3,qh=6e4,Hh=36e5,$h=864e5,Yh=6048e5,Xh=2592e6,Qh=31536e6,Zh=new Date,Jh=new Date;function ep(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,o)=>{const i=[];if(r=a.ceil(r),o=null==o?1:Math.floor(o),!(r<n&&o>0))return i;let s;do{i.push(s=new Date(+r)),t(r,o),e(r)}while(s<r&&r<n);return i},a.filter=r=>ep((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(a.count=(t,n)=>(Zh.setTime(+t),Jh.setTime(+n),e(Zh),e(Jh),Math.floor(r(Zh,Jh))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e==0:t=>a.count(0,t)%e==0):a:null)),a}const tp=ep((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));tp.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ep((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):tp:null);tp.range;const rp=ep((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Gh)}),((e,t)=>(t-e)/Gh),(e=>e.getUTCSeconds())),np=(rp.range,ep((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gh)}),((e,t)=>{e.setTime(+e+t*qh)}),((e,t)=>(t-e)/qh),(e=>e.getMinutes()))),ap=(np.range,ep((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*qh)}),((e,t)=>(t-e)/qh),(e=>e.getUTCMinutes()))),op=(ap.range,ep((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gh-e.getMinutes()*qh)}),((e,t)=>{e.setTime(+e+t*Hh)}),((e,t)=>(t-e)/Hh),(e=>e.getHours()))),ip=(op.range,ep((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Hh)}),((e,t)=>(t-e)/Hh),(e=>e.getUTCHours()))),sp=(ip.range,ep((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qh)/$h),(e=>e.getDate()-1))),cp=(sp.range,ep((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/$h),(e=>e.getUTCDate()-1))),lp=(cp.range,ep((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/$h),(e=>Math.floor(e/$h))));lp.range;function up(e){return ep((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*qh)/Yh))}const dp=up(0),fp=up(1),hp=up(2),pp=up(3),mp=up(4),gp=up(5),xp=up(6);dp.range,fp.range,hp.range,pp.range,mp.range,gp.range,xp.range;function vp(e){return ep((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Yh))}const bp=vp(0),yp=vp(1),_p=vp(2),jp=vp(3),wp=vp(4),Np=vp(5),Ep=vp(6),Cp=(bp.range,yp.range,_p.range,jp.range,wp.range,Np.range,Ep.range,ep((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Sp=(Cp.range,ep((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Op=(Sp.range,ep((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Op.every=e=>isFinite(e=Math.floor(e))&&e>0?ep((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null;Op.range;const Ap=ep((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));Ap.every=e=>isFinite(e=Math.floor(e))&&e>0?ep((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null;Ap.range;function Pp(e,t,r,n,a,o){const i=[[rp,1,Gh],[rp,5,5e3],[rp,15,15e3],[rp,30,3e4],[o,1,qh],[o,5,3e5],[o,15,9e5],[o,30,18e5],[a,1,Hh],[a,3,108e5],[a,6,216e5],[a,12,432e5],[n,1,$h],[n,2,1728e5],[r,1,Yh],[t,1,Xh],[t,3,7776e6],[e,1,Qh]];function s(t,r,n){const a=Math.abs(r-t)/n,o=kd((([,,e])=>e)).right(i,a);if(o===i.length)return e.every(Id(t/Qh,r/Qh,n));if(0===o)return tp.every(Math.max(Id(t,r,n),1));const[s,c]=i[a/i[o-1][2]<i[o][2]/a?o-1:o];return s.every(c)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"==typeof r.range?r:s(e,t,r),o=a?a.range(e,+t+1):[];return n?o.reverse():o},s]}const[Dp,Ip]=Pp(Ap,Sp,bp,lp,ip,ap),[Tp,Mp]=Pp(Op,Cp,dp,sp,op,np);function kp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var Lp,Fp,Up,Wp={"-":"",_:" ",0:"0"},Vp=/^\s*\d+/,zp=/^%/,Kp=/[\\^$*+?|[\]().{}]/g;function Gp(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function qp(e){return e.replace(Kp,"\\$&")}function Hp(e){return new RegExp("^(?:"+e.map(qp).join("|")+")","i")}function $p(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Yp(e,t,r){var n=Vp.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Xp(e,t,r){var n=Vp.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Qp(e,t,r){var n=Vp.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Zp(e,t,r){var n=Vp.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Jp(e,t,r){var n=Vp.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function em(e,t,r){var n=Vp.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function tm(e,t,r){var n=Vp.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function rm(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function nm(e,t,r){var n=Vp.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function am(e,t,r){var n=Vp.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function om(e,t,r){var n=Vp.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function im(e,t,r){var n=Vp.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function sm(e,t,r){var n=Vp.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function cm(e,t,r){var n=Vp.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lm(e,t,r){var n=Vp.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function um(e,t,r){var n=Vp.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dm(e,t,r){var n=Vp.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fm(e,t,r){var n=zp.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hm(e,t,r){var n=Vp.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pm(e,t,r){var n=Vp.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mm(e,t){return Gp(e.getDate(),t,2)}function gm(e,t){return Gp(e.getHours(),t,2)}function xm(e,t){return Gp(e.getHours()%12||12,t,2)}function vm(e,t){return Gp(1+sp.count(Op(e),e),t,3)}function bm(e,t){return Gp(e.getMilliseconds(),t,3)}function ym(e,t){return bm(e,t)+"000"}function _m(e,t){return Gp(e.getMonth()+1,t,2)}function jm(e,t){return Gp(e.getMinutes(),t,2)}function wm(e,t){return Gp(e.getSeconds(),t,2)}function Nm(e){var t=e.getDay();return 0===t?7:t}function Em(e,t){return Gp(dp.count(Op(e)-1,e),t,2)}function Cm(e){var t=e.getDay();return t>=4||0===t?mp(e):mp.ceil(e)}function Sm(e,t){return e=Cm(e),Gp(mp.count(Op(e),e)+(4===Op(e).getDay()),t,2)}function Om(e){return e.getDay()}function Am(e,t){return Gp(fp.count(Op(e)-1,e),t,2)}function Pm(e,t){return Gp(e.getFullYear()%100,t,2)}function Dm(e,t){return Gp((e=Cm(e)).getFullYear()%100,t,2)}function Im(e,t){return Gp(e.getFullYear()%1e4,t,4)}function Tm(e,t){var r=e.getDay();return Gp((e=r>=4||0===r?mp(e):mp.ceil(e)).getFullYear()%1e4,t,4)}function Mm(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Gp(t/60|0,"0",2)+Gp(t%60,"0",2)}function km(e,t){return Gp(e.getUTCDate(),t,2)}function Rm(e,t){return Gp(e.getUTCHours(),t,2)}function Bm(e,t){return Gp(e.getUTCHours()%12||12,t,2)}function Lm(e,t){return Gp(1+cp.count(Ap(e),e),t,3)}function Fm(e,t){return Gp(e.getUTCMilliseconds(),t,3)}function Um(e,t){return Fm(e,t)+"000"}function Wm(e,t){return Gp(e.getUTCMonth()+1,t,2)}function Vm(e,t){return Gp(e.getUTCMinutes(),t,2)}function zm(e,t){return Gp(e.getUTCSeconds(),t,2)}function Km(e){var t=e.getUTCDay();return 0===t?7:t}function Gm(e,t){return Gp(bp.count(Ap(e)-1,e),t,2)}function qm(e){var t=e.getUTCDay();return t>=4||0===t?wp(e):wp.ceil(e)}function Hm(e,t){return e=qm(e),Gp(wp.count(Ap(e),e)+(4===Ap(e).getUTCDay()),t,2)}function $m(e){return e.getUTCDay()}function Ym(e,t){return Gp(yp.count(Ap(e)-1,e),t,2)}function Xm(e,t){return Gp(e.getUTCFullYear()%100,t,2)}function Qm(e,t){return Gp((e=qm(e)).getUTCFullYear()%100,t,2)}function Zm(e,t){return Gp(e.getUTCFullYear()%1e4,t,4)}function Jm(e,t){var r=e.getUTCDay();return Gp((e=r>=4||0===r?wp(e):wp.ceil(e)).getUTCFullYear()%1e4,t,4)}function eg(){return"+0000"}function tg(){return"%"}function rg(e){return+e}function ng(e){return Math.floor(+e/1e3)}function ag(e){return new Date(e)}function og(e){return e instanceof Date?+e:+new Date(+e)}function ig(e,t,r,n,a,o,i,s,c,l){var u=Hf(),d=u.invert,f=u.domain,h=l(".%L"),p=l(":%S"),m=l("%I:%M"),g=l("%I %p"),x=l("%a %d"),v=l("%b %d"),b=l("%B"),y=l("%Y");function _(e){return(c(e)<e?h:s(e)<e?p:i(e)<e?m:o(e)<e?g:n(e)<e?a(e)<e?x:v:r(e)<e?b:y)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,og)):f().map(ag)},u.ticks=function(t){var r=f();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?_:l(t)},u.nice=function(e){var r=f();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?f(hh(r,e)):u},u.copy=function(){return Gf(u,ig(e,t,r,n,a,o,i,s,c,l))},u}function sg(){return pd.apply(ig(Tp,Mp,Op,Cp,dp,sp,op,np,rp,Fp).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cg(){return pd.apply(ig(Dp,Ip,Ap,Sp,bp,cp,ip,ap,rp,Up).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lg(){var e,t,r,n,a,o=0,i=1,s=Wf,c=!1;function l(t){return null==t||isNaN(t=+t)?a:s(0===r?.5:(t=(n(t)-e)*r,c?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),l):[s(0),s(1)]}}return l.domain=function(a){return arguments.length?([o,i]=a,e=n(o=+o),t=n(i=+i),r=e===t?0:1/(t-e),l):[o,i]},l.clamp=function(e){return arguments.length?(c=!!e,l):c},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.range=u(Bf),l.rangeRound=u(Lf),l.unknown=function(e){return arguments.length?(a=e,l):a},function(a){return n=a,e=a(o),t=a(i),r=e===t?0:1/(t-e),l}}function ug(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function dg(){var e=uh(lg()(Wf));return e.copy=function(){return ug(e,dg())},md.apply(e,arguments)}function fg(){var e=yh(lg()).domain([1,10]);return e.copy=function(){return ug(e,fg()).base(e.base())},md.apply(e,arguments)}function hg(){var e=Nh(lg());return e.copy=function(){return ug(e,hg()).constant(e.constant())},md.apply(e,arguments)}function pg(){var e=Ah(lg());return e.copy=function(){return ug(e,pg()).exponent(e.exponent())},md.apply(e,arguments)}function mg(){return pg.apply(null,arguments).exponent(.5)}function gg(){var e=[],t=Wf;function r(r){if(null!=r&&!isNaN(r=+r))return t((Ud(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(Td),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map(((r,n)=>t(n/(e.length-1))))},r.quantiles=function(t){return Array.from({length:t+1},((r,n)=>Uh(e,n/t)))},r.copy=function(){return gg(t).domain(e)},md.apply(r,arguments)}function xg(){var e,t,r,n,a,o,i,s=0,c=.5,l=1,u=1,d=Wf,f=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+o(e))-t)*(u*e<u*t?n:a),d(f?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,a;return arguments.length?([r,n,a]=t,d=function(e,t){void 0===t&&(t=e,e=Bf);for(var r=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(a,a=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return o[t](e-t)}}(e,[r,n,a]),h):[d(0),d(.5),d(1)]}}return h.domain=function(i){return arguments.length?([s,c,l]=i,e=o(s=+s),t=o(c=+c),r=o(l=+l),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h):[s,c,l]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=p(Bf),h.rangeRound=p(Lf),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return o=i,e=i(s),t=i(c),r=i(l),n=e===t?0:.5/(t-e),a=t===r?0:.5/(r-t),u=t<e?-1:1,h}}function vg(){var e=uh(xg()(Wf));return e.copy=function(){return ug(e,vg())},md.apply(e,arguments)}function bg(){var e=yh(xg()).domain([.1,1,10]);return e.copy=function(){return ug(e,bg()).base(e.base())},md.apply(e,arguments)}function yg(){var e=Nh(xg());return e.copy=function(){return ug(e,yg()).constant(e.constant())},md.apply(e,arguments)}function _g(){var e=Ah(xg());return e.copy=function(){return ug(e,_g()).exponent(e.exponent())},md.apply(e,arguments)}function jg(){return _g.apply(null,arguments).exponent(.5)}function wg(e,t){if((a=e.length)>1)for(var r,n,a,o=1,i=e[t[0]],s=i.length;o<a;++o)for(n=i,i=e[t[o]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function Ng(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Eg(e,t){return e[t]}function Cg(e){const t=[];return t.key=e,t}!function(e){Lp=function(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=Hp(a),u=$p(a),d=Hp(o),f=$p(o),h=Hp(i),p=$p(i),m=Hp(s),g=$p(s),x=Hp(c),v=$p(c),b={a:function(e){return i[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:mm,e:mm,f:ym,g:Dm,G:Tm,H:gm,I:xm,j:vm,L:bm,m:_m,M:jm,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:rg,s:ng,S:wm,u:Nm,U:Em,V:Sm,w:Om,W:Am,x:null,X:null,y:Pm,Y:Im,Z:Mm,"%":tg},y={a:function(e){return i[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:km,e:km,f:Um,g:Qm,G:Jm,H:Rm,I:Bm,j:Lm,L:Fm,m:Wm,M:Vm,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:rg,s:ng,S:zm,u:Km,U:Gm,V:Hm,w:$m,W:Ym,x:null,X:null,y:Xm,Y:Zm,Z:eg,"%":tg},_={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=x.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return N(e,t,r,n)},d:om,e:om,f:dm,g:tm,G:em,H:sm,I:sm,j:im,L:um,m:am,M:cm,p:function(e,t,r){var n=l.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:nm,Q:hm,s:pm,S:lm,u:Xp,U:Qp,V:Zp,w:Yp,W:Jp,x:function(e,t,n){return N(e,r,t,n)},X:function(e,t,r){return N(e,n,t,r)},y:tm,Y:em,Z:rm,"%":fm};function j(e,t){return function(r){var n,a,o,i=[],s=-1,c=0,l=e.length;for(r instanceof Date||(r=new Date(+r));++s<l;)37===e.charCodeAt(s)&&(i.push(e.slice(c,s)),null!=(a=Wp[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(o=t[n])&&(n=o(r,a)),i.push(n),c=s+1);return i.push(e.slice(c,s)),i.join("")}}function w(e,t){return function(r){var n,a,o=Bp(1900,void 0,1);if(N(o,e,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(a=(n=Rp(Bp(o.y,0,1))).getUTCDay(),n=a>4||0===a?yp.ceil(n):yp(n),n=cp.offset(n,7*(o.V-1)),o.y=n.getUTCFullYear(),o.m=n.getUTCMonth(),o.d=n.getUTCDate()+(o.w+6)%7):(a=(n=kp(Bp(o.y,0,1))).getDay(),n=a>4||0===a?fp.ceil(n):fp(n),n=sp.offset(n,7*(o.V-1)),o.y=n.getFullYear(),o.m=n.getMonth(),o.d=n.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?Rp(Bp(o.y,0,1)).getUTCDay():kp(Bp(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Rp(o)):kp(o)}}function N(e,t,r,n){for(var a,o,i=0,s=t.length,c=r.length;i<s;){if(n>=c)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(o=_[a in Wp?t.charAt(i++):a])||(n=o(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return b.x=j(r,b),b.X=j(n,b),b.c=j(t,b),y.x=j(r,y),y.X=j(n,y),y.c=j(t,y),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=w(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=w(e+="",!0);return t.toString=function(){return e},t}}}(e),Fp=Lp.format,Lp.parse,Up=Lp.utcFormat,Lp.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Sg=r(8351),Og=r.n(Sg);function Ag(e){return function(e){if(Array.isArray(e))return Pg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pg(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Dg=function(e){return e},Ig={"@@functional/placeholder":!0},Tg=function(e){return e===Ig},Mg=function(e){return function t(){return 0===arguments.length||1===arguments.length&&Tg(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},kg=function e(t,r){return 1===t?r:Mg((function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var i=a.filter((function(e){return e!==Ig})).length;return i>=t?r.apply(void 0,a):e(t-i,Mg((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=a.map((function(e){return Tg(e)?t.shift():e}));return r.apply(void 0,Ag(o).concat(t))})))}))},Rg=function(e){return kg(e.length,e)},Bg=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Lg=Rg((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),Fg=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return Dg;var n=t.reverse(),a=n[0],o=n.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),a.apply(void 0,arguments))}},Ug=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Wg=function(e){var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t&&a.every((function(e,r){return e===t[r]}))?r:(t=a,r=e.apply(void 0,a))}};var Vg=Rg((function(e,t,r){var n=+e;return n+r*(+t-n)})),zg=Rg((function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)})),Kg=Rg((function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))}));const Gg={rangeStep:function(e,t,r){for(var n=new(Og())(e),a=0,o=[];n.lt(t)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o},getDigitCount:function(e){return 0===e?1:Math.floor(new(Og())(e).abs().log(10).toNumber())+1},interpolateNumber:Vg,uninterpolateNumber:zg,uninterpolateTruncation:Kg};function qg(e){return function(e){if(Array.isArray(e))return Yg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||$g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||$g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $g(e,t){if(e){if("string"==typeof e)return Yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yg(e,t):void 0}}function Yg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xg(e){var t=Hg(e,2),r=t[0],n=t[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function Qg(e,t,r){if(e.lte(0))return new(Og())(0);var n=Gg.getDigitCount(e.toNumber()),a=new(Og())(10).pow(n),o=e.div(a),i=1!==n?.05:.1,s=new(Og())(Math.ceil(o.div(i).toNumber())).add(r).mul(i).mul(a);return t?s:new(Og())(Math.ceil(s))}function Zg(e,t,r){var n=1,a=new(Og())(e);if(!a.isint()&&r){var o=Math.abs(e);o<1?(n=new(Og())(10).pow(Gg.getDigitCount(e)-1),a=new(Og())(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new(Og())(Math.floor(e)))}else 0===e?a=new(Og())(Math.floor((t-1)/2)):r||(a=new(Og())(Math.floor(e)));var i=Math.floor((t-1)/2);return Fg(Lg((function(e){return a.add(new(Og())(e-i).mul(n)).toNumber()})),Bg)(0,t)}function Jg(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(Og())(0),tickMin:new(Og())(0),tickMax:new(Og())(0)};var o,i=Qg(new(Og())(t).sub(e).div(r-1),n,a);o=e<=0&&t>=0?new(Og())(0):(o=new(Og())(e).add(t).div(2)).sub(new(Og())(o).mod(i));var s=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new(Og())(t).sub(o).div(i).toNumber()),l=s+c+1;return l>r?Jg(e,t,r,n,a+1):(l<r&&(c=t>0?c+(r-l):c,s=t>0?s:s+(r-l)),{step:i,tickMin:o.sub(new(Og())(s).mul(i)),tickMax:o.add(new(Og())(c).mul(i))})}var ex=Wg((function(e){var t=Hg(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),s=Hg(Xg([r,n]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0){var u=l===1/0?[c].concat(qg(Bg(0,a-1).map((function(){return 1/0})))):[].concat(qg(Bg(0,a-1).map((function(){return-1/0}))),[l]);return r>n?Ug(u):u}if(c===l)return Zg(c,a,o);var d=Jg(c,l,i,o),f=d.step,h=d.tickMin,p=d.tickMax,m=Gg.rangeStep(h,p.add(new(Og())(.1).mul(f)),f);return r>n?Ug(m):m})),tx=(Wg((function(e){var t=Hg(e,2),r=t[0],n=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),s=Hg(Xg([r,n]),2),c=s[0],l=s[1];if(c===-1/0||l===1/0)return[r,n];if(c===l)return Zg(c,a,o);var u=Qg(new(Og())(l).sub(c).div(i-1),o,0),d=Fg(Lg((function(e){return new(Og())(c).add(new(Og())(e).mul(u)).toNumber()})),Bg)(0,i).filter((function(e){return e>=c&&e<=l}));return r>n?Ug(d):d})),Wg((function(e,t){var r=Hg(e,2),n=r[0],a=r[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Hg(Xg([n,a]),2),s=i[0],c=i[1];if(s===-1/0||c===1/0)return[n,a];if(s===c)return[s];var l=Math.max(t,2),u=Qg(new(Og())(c).sub(s).div(l-1),o,0),d=[].concat(qg(Gg.rangeStep(new(Og())(s),new(Og())(c).sub(new(Og())(.99).mul(u)),u)),[c]);return n>a?Ug(d):d}))),rx=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(this,arguments)}function ax(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ox(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ox(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ox(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ix(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sx(e){var t=e.offset,r=e.layout,n=e.width,a=e.dataKey,i=e.data,s=e.dataPointFormatter,c=e.xAxis,l=e.yAxis,u=ix(e,rx),d=mi(u),f=i.map((function(e,i){var u=s(e,a),f=u.x,h=u.y,p=u.value,m=u.errorVal;if(!m)return null;var g,x,v=[];if(Array.isArray(m)){var b=ax(m,2);g=b[0],x=b[1]}else g=x=m;if("vertical"===r){var y=c.scale,_=h+t,j=_+n,w=_-n,N=y(p-g),E=y(p+x);v.push({x1:E,y1:j,x2:E,y2:w}),v.push({x1:N,y1:_,x2:E,y2:_}),v.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===r){var C=l.scale,S=f+t,O=S-n,A=S+n,P=C(p-g),D=C(p+x);v.push({x1:O,y1:D,x2:A,y2:D}),v.push({x1:S,y1:P,x2:S,y2:D}),v.push({x1:O,y1:P,x2:A,y2:P})}return o.createElement(Ci,nx({className:"recharts-errorBar",key:"bar-".concat(i)},d),v.map((function(e,t){return o.createElement("line",nx({},e,{key:"line-".concat(t)}))})))}));return o.createElement(Ci,{className:"recharts-errorBars"},f)}function cx(e){return cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(e)}function lx(e){return function(e){if(Array.isArray(e))return ux(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ux(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ux(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ux(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dx(Object(r),!0).forEach((function(t){hx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==cx(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==cx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cx(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function px(e,t,r){return jo()(e)||jo()(t)?r:Za(t)?Ua()(e,t,r):go()(t)?t(e):r}function mx(e,t,r,n){var a=hd()(e,(function(e){return px(e,t)}));if("number"===r){var o=a.filter((function(e){return Qa(e)||parseFloat(e)}));return o.length?[dd()(o),ld()(o)]:[1/0,-1/0]}return(n?a.filter((function(e){return!jo()(e)})):a).map((function(e){return Za(e)||e instanceof Date?e:""}))}sx.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},sx.displayName="ErrorBar";var gx=function(e){var t,r=e.type.displayName,n=e.props,a=n.stroke,o=n.fill;switch(r){case"Line":t=a;break;case"Area":case"Radar":t=a&&"none"!==a?a:o;break;default:t=o}return t},xx=function(e){var t,r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,o=e.legendContent,i=di(r,hu);return i?(t=i.props&&i.props.payload?i.props&&i.props.payload:"children"===o?(n||[]).reduce((function(e,t){var r=t.item,n=t.props,a=n.sectors||n.data||[];return e.concat(a.map((function(e){return{type:i.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,r=t.props,n=r.dataKey,a=r.name,o=r.legendType;return{inactive:r.hide,dataKey:n,type:i.props.iconType||o||"square",color:gx(t),value:a||n,payload:t.props}})),fx(fx(fx({},i.props),hu.getWithHeight(i,a)),{},{payload:t,item:i})):null},vx=function(e,t,r,n,a){var o=ui(t.props.children,sx).filter((function(e){return function(e,t,r){return!!jo()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,a,e.props.direction)}));if(o&&o.length){var i=o.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var n=px(t,r,0),a=Va()(n)?[dd()(n),ld()(n)]:[n,n],o=i.reduce((function(e,r){var n=px(t,r,0),o=a[0]-Math.abs(Va()(n)?n[0]:n),i=a[1]+Math.abs(Va()(n)?n[1]:n);return[Math.min(o,e[0]),Math.max(i,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},bx=function(e,t,r,n,a){var o=t.map((function(t){var o=t.props.dataKey;return"number"===r&&o&&vx(e,t,o,n)||mx(e,o,r,a)}));if("number"===r)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var i={};return o.reduce((function(e,t){for(var r=0,n=t.length;r<n;r++)i[t[r]]||(i[t[r]]=!0,e.push(t[r]));return e}),[])},yx=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},_x=function(e,t,r){var n,a,o=e.map((function(e){return e.coordinate===t&&(n=!0),e.coordinate===r&&(a=!0),e.coordinate}));return n||o.push(t),a||o.push(r),o},jx=function(e,t,r){if(!e)return null;var n=e.scale,a=e.duplicateDomain,o=e.type,i=e.range,s="scaleBand"===e.realScaleType?n.bandwidth()/2:2,c=(t||r)&&"category"===o&&n.bandwidth?n.bandwidth()/s:0;return c="angleAxis"===e.axisType&&(null==i?void 0:i.length)>=2?2*Ya(i[0]-i[1])*c:c,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=a?a.indexOf(e):e;return{coordinate:n(t)+c,value:e,offset:c}})).filter((function(e){return!Ka()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:n(e)+c,value:e,index:t,offset:c}})):n.ticks&&!r?n.ticks(e.tickCount).map((function(e){return{coordinate:n(e)+c,value:e,offset:c}})):n.domain().map((function(e,t){return{coordinate:n(e)+c,value:a?a[e]:e,index:t,offset:c}}))},wx=function(e,t,r){var n;return go()(r)?n=r:go()(t)&&(n=t),go()(e)||n?function(t,r,a,o){go()(e)&&e(t,r,a,o),go()(n)&&n(t,r,a,o)}:null},Nx=function(e,t,r){var a=e.scale,o=e.type,i=e.layout,s=e.axisType;if("auto"===a)return"radial"===i&&"radiusAxis"===s?{scale:wd(),realScaleType:"band"}:"radial"===i&&"angleAxis"===s?{scale:dh(),realScaleType:"linear"}:"category"===o&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:Ed(),realScaleType:"point"}:"category"===o?{scale:wd(),realScaleType:"band"}:{scale:dh(),realScaleType:"linear"};if($a()(a)){var c="scale".concat(el()(a));return{scale:(n[c]||Ed)(),realScaleType:n[c]?c:"point"}}return go()(a)?{scale:a}:{scale:Ed(),realScaleType:"point"}},Ex=1e-4,Cx=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-Ex,o=Math.max(n[0],n[1])+Ex,i=e(t[0]),s=e(t[r-1]);(i<a||i>o||s<a||s>o)&&e.domain([t[0],t[r-1]])}},Sx={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0,i=0;i<t;++i){var s=Ka()(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,a,o=0,i=e[0].length;o<i;++o){for(a=r=0;r<n;++r)a+=e[r][o][1]||0;if(a)for(r=0;r<n;++r)e[r][o][1]/=a}wg(e,t)}},none:wg,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,a=e[t[0]],o=a.length;n<o;++n){for(var i=0,s=0;i<r;++i)s+=e[i][n][1]||0;a[n][1]+=a[n][0]=-s/2}wg(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,a,o=0,i=1;i<n;++i){for(var s=0,c=0,l=0;s<a;++s){for(var u=e[t[s]],d=u[i][1]||0,f=(d-(u[i-1][1]||0))/2,h=0;h<s;++h){var p=e[t[h]];f+=(p[i][1]||0)-(p[i-1][1]||0)}c+=d,l+=f*d}r[i-1][1]+=r[i-1][0]=o,c&&(o-=l/c)}r[i-1][1]+=r[i-1][0]=o,wg(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,o=0;o<t;++o){var i=Ka()(e[o][r][1])?e[o][r][0]:e[o][r][1];i>=0?(e[o][r][0]=a,e[o][r][1]=a+i,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}}},Ox=function(e,t,r){var n=t.map((function(e){return e.props.dataKey})),a=function(){var e=wl([]),t=Ng,r=wg,n=Eg;function a(a){var o,i,s=Array.from(e.apply(this,arguments),Cg),c=s.length,l=-1;for(const e of a)for(o=0,++l;o<c;++o)(s[o][l]=[0,+n(e,s[o].key,l,a)]).data=e;for(o=0,i=Iu(t(s));o<c;++o)s[i[o]].index=o;return r(s,i),s}return a.keys=function(t){return arguments.length?(e="function"==typeof t?t:wl(Array.from(t)),a):e},a.value=function(e){return arguments.length?(n="function"==typeof e?e:wl(+e),a):n},a.order=function(e){return arguments.length?(t=null==e?Ng:"function"==typeof e?e:wl(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(r=null==e?wg:e,a):r},a}().keys(n).value((function(e,t){return+px(e,t,0)})).order(Ng).offset(Sx[r]);return a(e)},Ax=function(e,t){var r=t.realScaleType,n=t.type,a=t.tickCount,o=t.originalDomain,i=t.allowDecimals,s=r||t.scale;if("auto"!==s&&"linear"!==s)return null;if(a&&"number"===n&&o&&("auto"===o[0]||"auto"===o[1])){var c=e.domain();if(!c.length)return null;var l=ex(c,a,i);return e.domain([dd()(l),ld()(l)]),{niceTicks:l}}if(a&&"number"===n){var u=e.domain();return{niceTicks:tx(u,a,i)}}return null},Px=function(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,o=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!jo()(a[t.dataKey])){var s=ao(r,"value",a[t.dataKey]);if(s)return s.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var c=px(a,jo()(i)?t.dataKey:i);return jo()(c)?null:t.scale(c)},Dx=function(e){var t=e.axis,r=e.ticks,n=e.offset,a=e.bandSize,o=e.entry,i=e.index;if("category"===t.type)return r[i]?r[i].coordinate+n:null;var s=px(o,t.dataKey,t.domain[i]);return jo()(s)?null:t.scale(s)-a/2+n},Ix=function(e,t,r){return Object.keys(e).reduce((function(n,a){var o=e[a].stackedData.reduce((function(e,n){var a=n.slice(t,r+1).reduce((function(e,t){return[dd()(t.concat([e[0]]).filter(Qa)),ld()(t.concat([e[1]]).filter(Qa))]}),[1/0,-1/0]);return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]}),[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},Tx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kx=function(e,t,r){if(go()(e))return e(t,r);if(!Va()(e))return t;var n=[];if(Qa(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(Tx.test(e[0])){var a=+Tx.exec(e[0])[1];n[0]=t[0]-a}else go()(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(Qa(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(Mx.test(e[1])){var o=+Mx.exec(e[1])[1];n[1]=t[1]+o}else go()(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},Rx=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=vo()(t,(function(e){return e.coordinate})),o=1/0,i=1,s=a.length;i<s;i++){var c=a[i],l=a[i-1];o=Math.min((c.coordinate||0)-(l.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Bx=function(e,t,r){return e&&e.length?sd()(e,Ua()(r,"type.defaultProps.domain"))?t:e:t},Lx=function(e,t){var r=e.props,n=r.dataKey,a=r.name,o=r.unit,i=r.formatter,s=r.tooltipType,c=r.chartType;return fx(fx({},mi(e)),{},{dataKey:n,unit:o,formatter:i,name:a||n,color:gx(e),value:px(t,n),type:s,payload:t,chartType:c})};function Fx(e){return Fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(e)}function Ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ux(Object(r),!0).forEach((function(t){Vx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ux(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fx(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Fx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fx(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gx=Math.PI/180,qx=function(e){return 180*e/Math.PI},Hx=function(e,t,r,n){return{x:e+Math.cos(-Gx*n)*r,y:t+Math.sin(-Gx*n)*r}},$x=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Yx=function(e,t){var r=e.x,n=e.y,a=t.cx,o=t.cy,i=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(n-o,2))}({x:r,y:n},{x:a,y:o});if(i<=0)return{radius:i};var s=(r-a)/i,c=Math.acos(s);return n>o&&(c=2*Math.PI-c),{radius:i,angle:qx(c),angleInRadian:c}},Xx=function(e,t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),o=Math.floor(n/360);return e+360*Math.min(a,o)},Qx=function(e,t){var r=e.x,n=e.y,a=Yx({x:r,y:n},t),o=a.radius,i=a.angle,s=t.innerRadius,c=t.outerRadius;if(o<s||o>c)return!1;if(0===o)return!0;var l,u=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),a=Math.floor(r/360),o=Math.min(n,a);return{startAngle:t-360*o,endAngle:r-360*o}}(t),d=u.startAngle,f=u.endAngle,h=i;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;l=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;l=h>=f&&h<=d}return l?Wx(Wx({},t),{},{radius:o,angle:Xx(h,t)}):null};function Zx(e){return Zx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(e)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(this,arguments)}function ev(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,av(n.key),n)}}function tv(e,t){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tv(e,t)}function rv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nv(e);if(t){var a=nv(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Zx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nv(e)}function av(e){var t=function(e,t){if("object"!==Zx(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Zx(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Zx(t)?t:String(t)}var ov=function(e){var t=e.cx,r=e.cy,n=e.radius,a=e.angle,o=e.sign,i=e.isExternal,s=e.cornerRadius,c=e.cornerIsExternal,l=s*(i?1:-1)+n,u=Math.asin(s/l)/Gx,d=c?a:a+o*u,f=c?a-o*u:a;return{center:Hx(t,r,l,d),circleTangency:Hx(t,r,n,d),lineTangency:Hx(t,r,l*Math.cos(u*Gx),f),theta:u}},iv=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.startAngle,i=function(e,t){return Ya(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+i,c=Hx(t,r,a,o),l=Hx(t,r,a,s),u="M ".concat(c.x,",").concat(c.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(o>s),",\n    ").concat(l.x,",").concat(l.y,"\n  ");if(n>0){var d=Hx(t,r,n,o),f=Hx(t,r,n,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(o<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(r," Z");return u},sv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tv(e,t)}(i,e);var t,r,n,a=rv(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"render",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,i=e.cornerRadius,s=e.forceCornerRadius,c=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,d=e.className;if(a<n||l===u)return null;var f,h=Ea()("recharts-sector",d),p=a-n,m=to(i,p,0,!0);return f=m>0&&Math.abs(l-u)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,c=e.startAngle,l=e.endAngle,u=Ya(l-c),d=ov({cx:t,cy:r,radius:a,angle:c,sign:u,cornerRadius:o,cornerIsExternal:s}),f=d.circleTangency,h=d.lineTangency,p=d.theta,m=ov({cx:t,cy:r,radius:a,angle:l,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,x=m.lineTangency,v=m.theta,b=s?Math.abs(c-l):Math.abs(c-l)-p-v;if(b<0)return i?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):iv({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:l});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,"\n  ");if(n>0){var _=ov({cx:t,cy:r,radius:n,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),j=_.circleTangency,w=_.lineTangency,N=_.theta,E=ov({cx:t,cy:r,radius:n,angle:l,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),C=E.circleTangency,S=E.lineTangency,O=E.theta,A=s?Math.abs(c-l):Math.abs(c-l)-N-O;if(A<0&&0===o)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+="L".concat(S.x,",").concat(S.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(w.x,",").concat(w.y,"Z")}else y+="L".concat(t,",").concat(r,"Z");return y}({cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:l,endAngle:u}):iv({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:u}),o.createElement("path",Jx({},mi(this.props,!0),{className:h,d:f,role:"img"}))}}],r&&ev(t.prototype,r),n&&ev(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function cv(e){return cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(e)}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(this,arguments)}function uv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==cv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==cv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===cv(o)?o:String(o)),n)}var a,o}function dv(e,t){return dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},dv(e,t)}function fv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=hv(e);if(t){var a=hv(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===cv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hv(e)}!function(e,t,r){(t=av(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(sv,"defaultProps",{cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1});var pv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dv(e,t)}(i,e);var t,r,n,a=fv(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.r,a=e.className,i=Ea()("recharts-dot",a);return t===+t&&r===+r&&n===+n?o.createElement("circle",lv({},mi(this.props),ei(this.props),{className:i,cx:t,cy:r,r:n})):null}}])&&uv(t.prototype,r),n&&uv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function mv(e){return mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(e)}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(this,arguments)}function xv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wv(n.key),n)}}function vv(e,t){return vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vv(e,t)}function bv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_v(e);if(t){var a=_v(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===mv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yv(e)}(this,r)}}function yv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _v(e){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_v(e)}function jv(e,t,r){return(t=wv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wv(e){var t=function(e,t){if("object"!==mv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==mv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mv(t)?t:String(t)}var Nv=function(e,t,r,n,a){var o,i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,c=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=a[d]>i?i:a[d];o="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+c*u[0],",").concat(t)),o+="L ".concat(e+r-c*u[1],",").concat(t),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,",\n        ").concat(e+r,",").concat(t+s*u[1])),o+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,",\n        ").concat(e+r-c*u[2],",").concat(t+n)),o+="L ".concat(e+c*u[3],",").concat(t+n),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,",\n        ").concat(e,",").concat(t+n-s*u[3])),o+="Z"}else if(i>0&&a===+a&&a>0){var f=Math.min(i,a);o="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(l,",").concat(e+c*f,",").concat(t,"\n            L ").concat(e+r-c*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*f,"\n            L ").concat(e+r,",").concat(t+n-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(l,",").concat(e+r-c*f,",").concat(t+n,"\n            L ").concat(e+c*f,",").concat(t+n,"\n            A ").concat(f,",").concat(f,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*f," Z")}else o="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return o},Ev=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,a=t.x,o=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var c=Math.min(a,a+i),l=Math.max(a,a+i),u=Math.min(o,o+s),d=Math.max(o,o+s);return r>=c&&r<=l&&n>=u&&n<=d}return!1},Cv=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vv(e,t)}(i,e);var t,r,n,a=bv(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return jv(yv(e=a.call.apply(a,[this].concat(r))),"state",{totalLength:-1}),e}return t=i,(r=[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var e=this.node.getTotalLength();e&&this.setState({totalLength:e})}catch(e){}}},{key:"render",value:function(){var e=this,t=this.props,r=t.x,n=t.y,a=t.width,i=t.height,s=t.radius,c=t.className,l=this.state.totalLength,u=this.props,d=u.animationEasing,f=u.animationDuration,h=u.animationBegin,p=u.isAnimationActive,m=u.isUpdateAnimationActive;if(r!==+r||n!==+n||a!==+a||i!==+i||0===a||0===i)return null;var g=Ea()("recharts-rectangle",c);return m?o.createElement(Cc,{canBegin:l>0,from:{width:a,height:i,x:r,y:n},to:{width:a,height:i,x:r,y:n},duration:f,animationEasing:d,isActive:m},(function(t){var r=t.width,n=t.height,a=t.x,i=t.y;return o.createElement(Cc,{canBegin:l>0,from:"0px ".concat(-1===l?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:f,isActive:p,easing:d},o.createElement("path",gv({},mi(e.props,!0),{className:g,d:Nv(a,i,r,n,s),ref:function(t){e.node=t}})))})):o.createElement("path",gv({},mi(this.props,!0),{className:g,d:Nv(r,n,a,i,s)}))}}])&&xv(t.prototype,r),n&&xv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);jv(Cv,"defaultProps",{x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"});var Sv=r(5870),Ov=r.n(Sv),Av=["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"];function Pv(e){return Pv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(e)}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(this,arguments)}function Iv(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zv(n.key),n)}}function Mv(e,t){return Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mv(e,t)}function kv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Bv(e);if(t){var a=Bv(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Pv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rv(e)}(this,r)}}function Rv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bv(e){return Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bv(e)}function Lv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uv(Object(r),!0).forEach((function(t){Vv(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vv(e,t,r){return(t=zv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zv(e){var t=function(e,t){if("object"!==Pv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Pv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pv(t)?t:String(t)}var Kv=/[ \f\n\r\t\v\u2028\u2029]+/,Gv=function(e){try{var t=[];return jo()(e.children)||(t=e.breakAll?e.children.toString().split(""):e.children.toString().split(Kv)),{wordsWithComputedWidth:t.map((function(t){return{word:t,width:Bo(t,e.style).width}})),spaceWidth:e.breakAll?0:Bo("",e.style).width}}catch(e){return null}},qv=function(e){return[{words:jo()(e)?[]:e.toString().split(Kv)}]},Hv=function(e,t){if((e.width||e.scaleToFit)&&!Eo.isSsr&&t){var r=Gv(e);return r?function(e,t,r,n,a){var o=Qa(e.maxLines),i=e.children,s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,i=t.width,s=e[e.length-1];if(s&&(null==n||a||s.width+i+r<n))s.words.push(o),s.width+=i+r;else{var c={words:[o],width:i};e.push(c)}return e}),[])},c=s(t);if(!o)return c;for(var l,u=function(t){var r=i.slice(0,t),a=Gv(Wv(Wv({},e),{},{children:r+""})).wordsWithComputedWidth,o=s(a),c=o.length>e.maxLines||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>n;return[c,o]},d=0,f=i.length-1,h=0;d<=f&&h<=i.length-1;){var p=Math.floor((d+f)/2),m=Lv(u(p-1),2),g=m[0],x=m[1],v=Lv(u(p),1)[0];if(g||v||(d=p+1),g&&v&&(f=p-1),!g&&v){l=x;break}h++}return l||c}(e,r.wordsWithComputedWidth,r.spaceWidth,e.width,e.scaleToFit):qv(e.children)}return qv(e.children)},$v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mv(e,t)}(i,e);var t,r,n,a=kv(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Vv(Rv(e=a.call.apply(a,[this].concat(r))),"state",{}),e}return t=i,r=[{key:"render",value:function(){var e=this.props,t=e.dx,r=e.dy,n=e.textAnchor,a=e.verticalAnchor,s=e.scaleToFit,c=e.angle,l=e.lineHeight,u=e.capHeight,d=e.className,f=e.breakAll,h=Iv(e,Av),p=this.state.wordsByLines;if(!Za(h.x)||!Za(h.y))return null;var m,g=h.x+(Qa(t)?t:0),x=h.y+(Qa(r)?r:0);switch(a){case"start":m=Ov()("calc(".concat(u,")"));break;case"middle":m=Ov()("calc(".concat((p.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:m=Ov()("calc(".concat(p.length-1," * -").concat(l,")"))}var v=[];if(s){var b=p[0].width,y=this.props.width;v.push("scale(".concat((Qa(y)?y/b:1)/b,")"))}return c&&v.push("rotate(".concat(c,", ").concat(g,", ").concat(x,")")),v.length&&(h.transform=v.join(" ")),o.createElement("text",Dv({},mi(h,!0),{x:g,y:x,className:Ea()("recharts-text",d),textAnchor:n,fill:h.fill.includes("url")?i.defaultProps.fill:h.fill}),p.map((function(e,t){return o.createElement("tspan",{x:g,dy:0===t?m:l,key:t},e.words.join(f?"":" "))})))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.width!==t.prevWidth||e.scaleToFit!==t.prevScaleToFit||e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll){var r=e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll;return{prevWidth:e.width,prevScaleToFit:e.scaleToFit,prevChildren:e.children,prevStyle:e.style,wordsByLines:Hv(e,r)}}return null}}],r&&Tv(t.prototype,r),n&&Tv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);function Yv(e){return Yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(e)}function Xv(e){return function(e){if(Array.isArray(e))return Qv(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Qv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zv(Object(r),!0).forEach((function(t){eb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zv(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function eb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Yv(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Yv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Yv(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(this,arguments)}Vv($v,"defaultProps",{x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",fill:"#808080"});var rb=function(e,t,r){var n,a,i=e.position,s=e.viewBox,c=e.offset,l=e.className,u=s,d=u.cx,f=u.cy,h=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,x=u.clockWise,v=(h+p)/2,b=function(e,t){return Ya(t-e)*Math.min(Math.abs(t-e),360)}(m,g),y=b>=0?1:-1;"insideStart"===i?(n=m+y*c,a=x):"insideEnd"===i?(n=g-y*c,a=!x):"end"===i&&(n=g+y*c,a=x),a=b<=0?a:!a;var _=Hx(d,f,v,n),j=Hx(d,f,v,n+359*(a?1:-1)),w="M".concat(_.x,",").concat(_.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),N=jo()(e.id)?eo("recharts-radial-line-"):e.id;return o.createElement("text",tb({},r,{dominantBaseline:"central",className:Ea()("recharts-radial-bar-label",l)}),o.createElement("defs",null,o.createElement("path",{id:N,d:w})),o.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function nb(e){var t,r=e.viewBox,n=e.position,a=e.value,i=e.children,s=e.content,c=e.className,l=void 0===c?"":c,u=e.textBreakAll;if(!r||jo()(a)&&jo()(i)&&!(0,o.isValidElement)(s)&&!go()(s))return null;if((0,o.isValidElement)(s))return(0,o.cloneElement)(s,e);if(go()(s)){if(t=(0,o.createElement)(s,e),(0,o.isValidElement)(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=jo()(e.children)?t:e.children;return go()(r)?r(n):n}(e);var d=function(e){return"cx"in e&&Qa(e.cx)}(r),f=mi(e,!0);if(d&&("insideStart"===n||"insideEnd"===n||"end"===n))return rb(e,t,f);var h=d?function(e){var t=e.viewBox,r=e.offset,n=e.position,a=t,o=a.cx,i=a.cy,s=a.innerRadius,c=a.outerRadius,l=(a.startAngle+a.endAngle)/2;if("outside"===n){var u=Hx(o,i,c+r,l),d=u.x;return{x:d,y:u.y,textAnchor:d>=o?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:o,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=Hx(o,i,(s+c)/2,l);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(e):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,a=e.position,o=t,i=o.x,s=o.y,c=o.width,l=o.height,u=l>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",p=c>=0?1:-1,m=p*n,g=p>0?"end":"start",x=p>0?"start":"end";if("top"===a)return Jv(Jv({},{x:i+c/2,y:s-u*n,textAnchor:"middle",verticalAnchor:f}),r?{height:Math.max(s-r.y,0),width:c}:{});if("bottom"===a)return Jv(Jv({},{x:i+c/2,y:s+l+d,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(s+l),0),width:c}:{});if("left"===a){var v={x:i-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"};return Jv(Jv({},v),r?{width:Math.max(v.x-r.x,0),height:l}:{})}if("right"===a){var b={x:i+c+m,y:s+l/2,textAnchor:x,verticalAnchor:"middle"};return Jv(Jv({},b),r?{width:Math.max(r.x+r.width-b.x,0),height:l}:{})}var y=r?{width:c,height:l}:{};return"insideLeft"===a?Jv({x:i+m,y:s+l/2,textAnchor:x,verticalAnchor:"middle"},y):"insideRight"===a?Jv({x:i+c-m,y:s+l/2,textAnchor:g,verticalAnchor:"middle"},y):"insideTop"===a?Jv({x:i+c/2,y:s+d,textAnchor:"middle",verticalAnchor:h},y):"insideBottom"===a?Jv({x:i+c/2,y:s+l-d,textAnchor:"middle",verticalAnchor:f},y):"insideTopLeft"===a?Jv({x:i+m,y:s+d,textAnchor:x,verticalAnchor:h},y):"insideTopRight"===a?Jv({x:i+c-m,y:s+d,textAnchor:g,verticalAnchor:h},y):"insideBottomLeft"===a?Jv({x:i+m,y:s+l-d,textAnchor:x,verticalAnchor:f},y):"insideBottomRight"===a?Jv({x:i+c-m,y:s+l-d,textAnchor:g,verticalAnchor:f},y):qo()(a)&&(Qa(a.x)||Xa(a.x))&&(Qa(a.y)||Xa(a.y))?Jv({x:i+to(a.x,c),y:s+to(a.y,l),textAnchor:"end",verticalAnchor:"end"},y):Jv({x:i+c/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},y)}(e);return o.createElement($v,tb({className:Ea()("recharts-label",l)},f,h,{breakAll:u}),t)}nb.displayName="Label",nb.defaultProps={offset:5};var ab=function(e){var t=e.cx,r=e.cy,n=e.angle,a=e.startAngle,o=e.endAngle,i=e.r,s=e.radius,c=e.innerRadius,l=e.outerRadius,u=e.x,d=e.y,f=e.top,h=e.left,p=e.width,m=e.height,g=e.clockWise,x=e.labelViewBox;if(x)return x;if(Qa(p)&&Qa(m)){if(Qa(u)&&Qa(d))return{x:u,y:d,width:p,height:m};if(Qa(f)&&Qa(h))return{x:f,y:h,width:p,height:m}}return Qa(u)&&Qa(d)?{x:u,y:d,width:0,height:0}:Qa(t)&&Qa(r)?{cx:t,cy:r,startAngle:a||n||0,endAngle:o||n||0,innerRadius:c||0,outerRadius:l||s||i||0,clockWise:g}:e.viewBox?e.viewBox:{}};nb.parseViewBox=ab,nb.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=ab(e),i=ui(n,nb).map((function(e,r){return(0,o.cloneElement)(e,{viewBox:t||a,key:"label-".concat(r)})}));if(!r)return i;var s=function(e,t){return e?!0===e?o.createElement(nb,{key:"label-implicit",viewBox:t}):Za(e)?o.createElement(nb,{key:"label-implicit",viewBox:t,value:e}):(0,o.isValidElement)(e)?e.type===nb?(0,o.cloneElement)(e,{key:"label-implicit",viewBox:t}):o.createElement(nb,{key:"label-implicit",content:e,viewBox:t}):go()(e)?o.createElement(nb,{key:"label-implicit",content:e,viewBox:t}):qo()(e)?o.createElement(nb,tb({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(Xv(i))};var ob=["viewBox"],ib=["viewBox"],sb=["ticks"];function cb(e){return cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(e)}function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lb.apply(this,arguments)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function db(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ub(Object(r),!0).forEach((function(t){xb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vb(n.key),n)}}function pb(e,t){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pb(e,t)}function mb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=gb(e);if(t){var a=gb(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===cb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gb(e)}function xb(e,t,r){return(t=vb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vb(e){var t=function(e,t){if("object"!==cb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==cb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cb(t)?t:String(t)}var bb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pb(e,t)}(i,e);var t,r,n,a=mb(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={fontSize:"",letterSpacing:""},t}return t=i,r=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=fb(e,ob),a=this.props,o=a.viewBox,i=fb(a,ib);return!$o(r,o)||!$o(n,i)||!$o(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,a,o,i,s=this.props,c=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,h=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,x=e.tickSize||h,v=Qa(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=r=e.coordinate,i=(n=(a=l+ +!p*d)-g*x)-g*m,o=v;break;case"left":n=a=e.coordinate,o=(t=(r=c+ +!p*u)-g*x)-g*m,i=v;break;case"right":n=a=e.coordinate,o=(t=(r=c+ +p*u)+g*x)+g*m,i=v;break;default:t=r=e.coordinate,i=(n=(a=l+ +p*d)+g*x)+g*m,o=v}return{line:{x1:t,y1:n,x2:r,y2:a},tick:{x:o,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.orientation,s=e.mirror,c=e.axisLine,l=db(db(db({},mi(this.props)),mi(c)),{},{fill:"none"});if("top"===i||"bottom"===i){var u=+("top"===i&&!s||"bottom"===i&&s);l=db(db({},l),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+("left"===i&&!s||"right"===i&&s);l=db(db({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return o.createElement("line",lb({},l,{className:Ea()("recharts-cartesian-axis-line",Ua()(c,"className"))}))}},{key:"renderTicks",value:function(e,t,r){var n=this,a=this.props,s=a.tickLine,c=a.stroke,l=a.tick,u=a.tickFormatter,d=a.unit,f=Ko(db(db({},this.props),{},{ticks:e}),t,r),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=mi(this.props),g=mi(l),x=db(db({},m),{},{fill:"none"},mi(s)),v=f.map((function(e,t){var r=n.getTickLineCoord(e),a=r.line,v=r.tick,b=db(db(db(db({textAnchor:h,verticalAnchor:p},m),{},{stroke:"none",fill:c},g),v),{},{index:t,payload:e,visibleTicksCount:f.length,tickFormatter:u});return o.createElement(Ci,lb({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t)},ti(n.props,e,t)),s&&o.createElement("line",lb({},x,a,{className:Ea()("recharts-cartesian-axis-tick-line",Ua()(s,"className"))})),l&&i.renderTickItem(l,b,"".concat(go()(u)?u(e.value,t):e.value).concat(d||"")))}));return o.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,a=t.height,i=t.ticksGenerator,s=t.className;if(t.hide)return null;var c=this.props,l=c.ticks,u=fb(c,sb),d=l;return go()(i)&&(d=l&&l.length>0?i(this.props):i(u)),n<=0||a<=0||!d||!d.length?null:o.createElement(Ci,{className:Ea()("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),nb.renderCallByParent(this.props))}}],n=[{key:"renderTickItem",value:function(e,t,r){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):o.createElement($v,lb({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],r&&hb(t.prototype,r),n&&hb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.Component);function yb(e){return yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(e)}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_b(Object(r),!0).forEach((function(t){wb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==yb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==yb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}xb(bb,"displayName","CartesianAxis"),xb(bb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Nb=["Webkit","Moz","O","ms"];function Eb(e){return Eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(e)}function Cb(){return Cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cb.apply(this,arguments)}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ob(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sb(Object(r),!0).forEach((function(t){Mb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ab(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kb(n.key),n)}}function Pb(e,t){return Pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pb(e,t)}function Db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Tb(e);if(t){var a=Tb(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Eb(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ib(e)}(this,r)}}function Ib(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tb(e)}function Mb(e,t,r){return(t=kb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kb(e){var t=function(e,t){if("object"!==Eb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Eb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Eb(t)?t:String(t)}var Rb=function(e){return e.changedTouches&&!!e.changedTouches.length},Bb=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pb(e,t)}(i,e);var t,r,n,a=Db(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Mb(Ib(t=a.call(this,e)),"handleDrag",(function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)})),Mb(Ib(t),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])})),Mb(Ib(t),"handleDragEnd",(function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1}),t.detachDragEndListener()})),Mb(Ib(t),"handleLeaveWrapper",(function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))})),Mb(Ib(t),"handleEnterSlideOrTraveller",(function(){t.setState({isTextActive:!0})})),Mb(Ib(t),"handleLeaveSlideOrTraveller",(function(){t.setState({isTextActive:!1})})),Mb(Ib(t),"handleSlideDragStart",(function(e){var r=Rb(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:r.pageX}),t.attachDragEndListener()})),t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(Ib(t),"startX"),endX:t.handleTravellerDragStart.bind(Ib(t),"endX")},t.state={},t}return t=i,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,r=e.endX,n=this.state.scaleValues,a=this.props,o=a.gap,s=a.data.length-1,c=Math.min(t,r),l=Math.max(t,r),u=i.getIndexInRange(n,c),d=i.getIndexInRange(n,l);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,a=t.dataKey,o=px(r[e],a,e);return go()(n)?n(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,a=t.endX,o=this.props,i=o.x,s=o.width,c=o.travellerWidth,l=o.startIndex,u=o.endIndex,d=o.onChange,f=e.pageX-r;f>0?f=Math.min(f,i+s-c-a,i+s-c-n):f<0&&(f=Math.max(f,i-n,i-a));var h=this.getIndex({startX:n+f,endX:a+f});h.startIndex===l&&h.endIndex===u||!d||d(h),this.setState({startX:n+f,endX:a+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=Rb(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t,r=this.state,n=r.brushMoveStartX,a=r.movingTravellerId,o=r.endX,i=r.startX,s=this.state[a],c=this.props,l=c.x,u=c.width,d=c.travellerWidth,f=c.onChange,h=c.gap,p=c.data,m={startX:this.state.startX,endX:this.state.endX},g=e.pageX-n;g>0?g=Math.min(g,l+u-d-s):g<0&&(g=Math.max(g,l-s)),m[a]=s+g;var x=this.getIndex(m),v=x.startIndex,b=x.endIndex;this.setState((Mb(t={},a,s+g),Mb(t,"brushMoveStartX",e.pageX),t),(function(){var e;f&&(e=p.length-1,("startX"===a&&(o>i?v%h==0:b%h==0)||o<i&&b===e||"endX"===a&&(o>i?b%h==0:v%h==0)||o>i&&b===e)&&f(x))}))}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.fill,s=e.stroke;return o.createElement("rect",{stroke:s,fill:i,x:t,y:r,width:n,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.data,s=e.children,c=e.padding,l=o.Children.only(s);return l?o.cloneElement(l,{x:t,y:r,width:n,height:a,margin:c,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,t){var r=this.props,n=r.y,a=r.travellerWidth,s=r.height,c=r.traveller,l=Math.max(e,this.props.x),u=Ob(Ob({},mi(this.props)),{},{x:l,y:n,width:a,height:s});return o.createElement(Ci,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[t],onTouchStart:this.travellerDragStartHandlers[t],style:{cursor:"col-resize"}},i.renderTraveller(c,u))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,a=r.height,i=r.stroke,s=r.travellerWidth,c=Math.min(e,t)+s,l=Math.max(Math.abs(t-e)-s,0);return o.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:c,y:n,width:l,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,a=e.height,i=e.travellerWidth,s=e.stroke,c=this.state,l=c.startX,u=c.endX,d={pointerEvents:"none",fill:s};return o.createElement(Ci,{className:"recharts-brush-texts"},o.createElement($v,Cb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,u)-5,y:n+a/2},d),this.getTextOfTick(t)),o.createElement($v,Cb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,u)+i+5,y:n+a/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,a=e.x,i=e.y,s=e.width,c=e.height,l=e.alwaysShowText,u=this.state,d=u.startX,f=u.endX,h=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving;if(!t||!t.length||!Qa(a)||!Qa(i)||!Qa(s)||!Qa(c)||s<=0||c<=0)return null;var g=Ea()("recharts-brush",r),x=1===o.Children.count(n),v=function(e,t){if(!e)return null;var r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),n=Nb.reduce((function(e,n){return jb(jb({},e),{},wb({},n+r,t))}),{});return n[e]=t,n}("userSelect","none");return o.createElement(Ci,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),x&&this.renderPanorama(),this.renderSlide(d,f),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(f,"endX"),(h||p||m||l)&&this.renderText())}}],n=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,a=e.height,i=e.stroke,s=Math.floor(r+a/2)-1;return o.createElement(o.Fragment,null,o.createElement("rect",{x:t,y:r,width:n,height:a,fill:i,stroke:"none"}),o.createElement("line",{x1:t+1,y1:s,x2:t+n-1,y2:s,fill:"none",stroke:"#fff"}),o.createElement("line",{x1:t+1,y1:s+2,x2:t+n-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):i.renderDefaultTraveller(t)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,a=e.x,o=e.travellerWidth,i=e.updateId,s=e.startIndex,c=e.endIndex;if(r!==t.prevData||i!==t.prevUpdateId)return Ob({prevData:r,prevTravellerWidth:o,prevUpdateId:i,prevX:a,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,a=e.x,o=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,c=Ed().domain(yo()(0,s)).range([a,a+o-i]),l=c.domain().map((function(e){return c(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:c(r),endX:c(n),scale:c,scaleValues:l}}({data:r,width:n,x:a,travellerWidth:o,startIndex:s,endIndex:c}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||a!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([a,a+n-o]);var l=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:r,prevTravellerWidth:o,prevUpdateId:i,prevX:a,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:l}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var a=Math.floor((r+n)/2);e[a]>t?n=a:r=a}return t>=e[n]?n:r}}],r&&Ab(t.prototype,r),n&&Ab(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);Mb(Bb,"displayName","Brush"),Mb(Bb,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lb=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t},Fb=r(3916),Ub=r.n(Fb),Wb=function(e){return null};Wb.displayName="Cell";var Vb=r(8090),zb=r.n(Vb);function Kb(e){return Kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(e)}var Gb=["data","valueAccessor","dataKey","clockWise","id","textBreakAll"];function qb(e){return function(e){if(Array.isArray(e))return Hb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Hb(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(this,arguments)}function Yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yb(Object(r),!0).forEach((function(t){Qb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qb(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Kb(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Kb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Kb(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zb(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Jb={valueAccessor:function(e){return Va()(e.value)?zb()(e.value):e.value}};function ey(e){var t=e.data,r=e.valueAccessor,n=e.dataKey,a=e.clockWise,i=e.id,s=e.textBreakAll,c=Zb(e,Gb);return t&&t.length?o.createElement(Ci,{className:"recharts-label-list"},t.map((function(e,t){var l=jo()(n)?r(e,t):px(e&&e.payload,n),u=jo()(i)?{}:{id:"".concat(i,"-").concat(t)};return o.createElement(nb,$b({},mi(e,!0),c,u,{parentViewBox:e.parentViewBox,index:t,value:l,textBreakAll:s,viewBox:nb.parseViewBox(jo()(a)?e:Xb(Xb({},e),{},{clockWise:a})),key:"label-".concat(t)}))}))):null}ey.displayName="LabelList",ey.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=ui(e.children,ey).map((function(e,r){return(0,o.cloneElement)(e,{data:t,key:"labelList-".concat(r)})}));return r?[function(e,t){return e?!0===e?o.createElement(ey,{key:"labelList-implicit",data:t}):o.isValidElement(e)||go()(e)?o.createElement(ey,{key:"labelList-implicit",data:t,content:e}):qo()(e)?o.createElement(ey,$b({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(qb(n)):n},ey.defaultProps=Jb;var ty=["value","background"];function ry(e){return ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(e)}function ny(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ay.apply(this,arguments)}function oy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oy(Object(r),!0).forEach((function(t){fy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hy(n.key),n)}}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cy(e,t)}function ly(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=dy(e);if(t){var a=dy(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===ry(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uy(e)}(this,r)}}function uy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dy(e)}function fy(e,t,r){return(t=hy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hy(e){var t=function(e,t){if("object"!==ry(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==ry(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ry(t)?t:String(t)}var py=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}(i,e);var t,r,n,a=ly(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return fy(uy(e=a.call.apply(a,[this].concat(r))),"state",{isAnimationFinished:!1}),fy(uy(e),"id",eo("recharts-bar-")),fy(uy(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),fy(uy(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return t=i,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}},{key:"renderRectangle",value:function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):o.createElement(Cv,t)}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props.shape,n=mi(this.props);return e&&e.map((function(e,a){var s=iy(iy(iy({},n),e),{},{index:a});return o.createElement(Ci,ay({className:"recharts-bar-rectangle"},ti(t.props,e,a),{key:"rectangle-".concat(a),role:"img"}),i.renderRectangle(r,s))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,a=t.isAnimationActive,i=t.animationBegin,s=t.animationDuration,c=t.animationEasing,l=t.animationId,u=this.state.prevData;return o.createElement(Cc,{begin:i,duration:s,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var a=t.t,i=r.map((function(e,t){var r=u&&u[t];if(r){var o=no(r.x,e.x),i=no(r.y,e.y),s=no(r.width,e.width),c=no(r.height,e.height);return iy(iy({},e),{},{x:o(a),y:i(a),width:s(a),height:c(a)})}if("horizontal"===n){var l=no(0,e.height)(a);return iy(iy({},e),{},{y:e.y+e.height-l,height:l})}var d=no(0,e.width)(a);return iy(iy({},e),{},{width:d})}));return o.createElement(Ci,null,e.renderRectanglesStatically(i))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&sd()(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props.data,r=mi(this.props.background);return t.map((function(t,n){t.value;var a=t.background,o=ny(t,ty);if(!a)return null;var s=iy(iy(iy(iy(iy({},o),{},{fill:"#eee"},a),r),ti(e.props,t,n)),{},{index:n,key:"background-bar-".concat(n),className:"recharts-bar-background-rectangle"});return i.renderRectangle(e.props.background,s)}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,a=r.xAxis,i=r.yAxis,s=r.layout,c=ui(r.children,sx);if(!c)return null;var l="vertical"===s?n[0].height/2:n[0].width/2;function u(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:px(e,t)}}var d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return o.createElement(Ci,d,c.map((function(e,t){return o.cloneElement(e,{key:"error-bar-".concat(t),data:n,xAxis:a,yAxis:i,layout:s,offset:l,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,a=e.xAxis,i=e.yAxis,s=e.left,c=e.top,l=e.width,u=e.height,d=e.isAnimationActive,f=e.background,h=e.id;if(t||!r||!r.length)return null;var p=this.state.isAnimationFinished,m=Ea()("recharts-bar",n),g=a&&a.allowDataOverflow||i&&i.allowDataOverflow,x=jo()(h)?this.id:h;return o.createElement(Ci,{className:m},g?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(x)},o.createElement("rect",{x:s,y:c,width:l,height:u}))):null,o.createElement(Ci,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(x,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,x),(!d||p)&&ey.renderCallByParent(this.props,r))}}])&&sy(t.prototype,r),n&&sy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function my(e){return my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(e)}function gy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yy(n.key),n)}}function xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xy(Object(r),!0).forEach((function(t){by(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function by(e,t,r){return(t=yy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yy(e){var t=function(e,t){if("object"!==my(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==my(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===my(t)?t:String(t)}fy(py,"displayName","Bar"),fy(py,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!Eo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),fy(py,"getComposedData",(function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,o=e.xAxis,i=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,l=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,h=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null}(n,r);if(!h)return null;var p=t.layout,m=r.props,g=m.dataKey,x=m.children,v=m.minPointSize,b="horizontal"===p?i:o,y=l?b.scale.domain():null,_=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]}({numericAxis:b}),j=ui(x,Wb),w=d.map((function(e,t){var n,d,f,m,x,b;if(l?n=function(e,t){if(!t||2!==t.length||!Qa(t[0])||!Qa(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Qa(e[0])||e[0]<r)&&(a[0]=r),(!Qa(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a}(l[u+t],y):(n=px(e,g),Va()(n)||(n=[_,n])),"horizontal"===p){var w,N=[i.scale(n[0]),i.scale(n[1])],E=N[0],C=N[1];d=Dx({axis:o,ticks:s,bandSize:a,offset:h.offset,entry:e,index:t}),f=null!==(w=null!=C?C:E)&&void 0!==w?w:void 0,m=h.size;var S=E-C;if(x=Number.isNaN(S)?0:S,b={x:d,y:i.y,width:m,height:i.height},Math.abs(v)>0&&Math.abs(x)<Math.abs(v)){var O=Ya(x||v)*(Math.abs(v)-Math.abs(x));f-=O,x+=O}}else{var A=[o.scale(n[0]),o.scale(n[1])],P=A[0],D=A[1];if(d=P,f=Dx({axis:i,ticks:c,bandSize:a,offset:h.offset,entry:e,index:t}),m=D-P,x=h.size,b={x:o.x,y:f,width:o.width,height:x},Math.abs(v)>0&&Math.abs(m)<Math.abs(v))m+=Ya(m||v)*(Math.abs(v)-Math.abs(m))}return iy(iy(iy({},e),{},{x:d,y:f,width:m,height:x,value:l?n:n[1],payload:e,background:b},j&&j[t]&&j[t].props),{},{tooltipPayload:[Lx(r,e)],tooltipPosition:{x:d+m/2,y:f+x/2}})}));return iy({data:w,layout:p},f)}));var _y=function(e,t,r,n,a){var o=e.width,i=e.height,s=e.layout,c=e.children,l=Object.keys(t),u={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},d=!!di(c,py);return l.reduce((function(o,i){var c,l,f,h,p,m=t[i],g=m.orientation,x=m.domain,v=m.padding,b=void 0===v?{}:v,y=m.mirror,_=m.reversed,j="".concat(g).concat(y?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var w=x[1]-x[0],N=1/0,E=m.categoricalDomain.sort();E.forEach((function(e,t){t>0&&(N=Math.min((e||0)-(E[t-1]||0),N))}));var C=N/w,S="vertical"===m.layout?r.height:r.width;if("gap"===m.padding&&(c=C*S/2),"no-gap"===m.padding){var O=to(e.barCategoryGap,C*S),A=C*S/2;c=A-O-(A-O)/S*O}}l="xAxis"===n?[r.left+(b.left||0)+(c||0),r.left+r.width-(b.right||0)-(c||0)]:"yAxis"===n?"horizontal"===s?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(c||0),r.top+r.height-(b.bottom||0)-(c||0)]:m.range,_&&(l=[l[1],l[0]]);var P=Nx(m,a,d),D=P.scale,I=P.realScaleType;D.domain(x).range(l),Cx(D);var T=Ax(D,vy(vy({},m),{},{realScaleType:I}));"xAxis"===n?(p="top"===g&&!y||"bottom"===g&&y,f=r.left,h=u[j]-p*m.height):"yAxis"===n&&(p="left"===g&&!y||"right"===g&&y,f=u[j]-p*m.width,h=r.top);var M=vy(vy(vy({},m),T),{},{realScaleType:I,x:f,y:h,scale:D,width:"xAxis"===n?r.width:m.width,height:"yAxis"===n?r.height:m.height});return M.bandSize=Rx(M,T),m.hide||"xAxis"!==n?m.hide||(u[j]+=(p?-1:1)*M.width):u[j]+=(p?-1:1)*M.height,vy(vy({},o),{},by({},i,M))}),{})},jy=function(e,t){var r=e.x,n=e.y,a=t.x,o=t.y;return{x:Math.min(r,a),y:Math.min(n,o),width:Math.abs(a-r),height:Math.abs(o-n)}},wy=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}var t,r,n;return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&gy(t.prototype,r),n&&gy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();by(wy,"EPS",1e-4);var Ny=function(e){var t=Object.keys(e).reduce((function(t,r){return vy(vy({},t),{},by({},r,wy.create(e[r])))}),{});return vy(vy({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,a=r.position;return Ub()(e,(function(e,r){return t[r].apply(e,{bandAware:n,position:a})}))},isInRange:function(e){return fo()(e,(function(e,r){return t[r].isInRange(e)}))}})};function Ey(e){return Ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(e)}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function Sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sy(Object(r),!0).forEach((function(t){Ay(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ay(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ey(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ey(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ey(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Py(e){var t=e.x,r=e.y,n=e.r,a=e.alwaysShow,i=e.clipPathId,s=Za(t),c=Za(r);if(oo(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!c)return null;var l=function(e){var t=e.x,r=e.y,n=e.xAxis,a=e.yAxis,o=Ny({x:n.scale,y:a.scale}),i=o.apply({x:t,y:r},{bandAware:!0});return Lb(e,"discard")&&!o.isInRange(i)?null:i}(e);if(!l)return null;var u=l.x,d=l.y,f=e.shape,h=e.className,p=Oy(Oy({clipPath:Lb(e,"hidden")?"url(#".concat(i,")"):void 0},mi(e,!0)),{},{cx:u,cy:d});return o.createElement(Ci,{className:Ea()("recharts-reference-dot",h)},Py.renderDot(f,p),nb.renderCallByParent(e,{x:u-n,y:d-n,width:2*n,height:2*n}))}Py.displayName="ReferenceDot",Py.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},Py.renderDot=function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):o.createElement(pv,Cy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var Dy=r(2426),Iy=r.n(Dy);function Ty(e){return Ty="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(e)}function My(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ky(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?My(Object(r),!0).forEach((function(t){Ry(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):My(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ry(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ty(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ty(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ty(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function By(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ly(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ly(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(this,arguments)}function Uy(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxis,i=e.yAxis,s=e.shape,c=e.className,l=e.alwaysShow,u=e.clipPathId;oo(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=function(e,t,r,n,a){var o=a.viewBox,i=o.x,s=o.y,c=o.width,l=o.height,u=a.position;if(r){var d=a.y,f=a.yAxis.orientation,h=e.y.apply(d,{position:u});if(Lb(a,"discard")&&!e.y.isInRange(h))return null;var p=[{x:i+c,y:h},{x:i,y:h}];return"left"===f?p.reverse():p}if(t){var m=a.x,g=a.xAxis.orientation,x=e.x.apply(m,{position:u});if(Lb(a,"discard")&&!e.x.isInRange(x))return null;var v=[{x,y:s+l},{x,y:s}];return"top"===g?v.reverse():v}if(n){var b=a.segment.map((function(t){return e.apply(t,{position:u})}));return Lb(a,"discard")&&Iy()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(Ny({x:a.scale,y:i.scale}),Za(t),Za(r),n&&2===n.length,e);if(!d)return null;var f=By(d,2),h=f[0],p=h.x,m=h.y,g=f[1],x=g.x,v=g.y,b=ky(ky({clipPath:Lb(e,"hidden")?"url(#".concat(u,")"):void 0},mi(e,!0)),{},{x1:p,y1:m,x2:x,y2:v});return o.createElement(Ci,{className:Ea()("recharts-reference-line",c)},function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):o.createElement("line",Fy({},t,{className:"recharts-reference-line-line"}))}(s,b),nb.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,a=e.y2;return jy({x:t,y:r},{x:n,y:a})}({x1:p,y1:m,x2:x,y2:v})))}function Wy(e){return Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(e)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(this,arguments)}function zy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ky(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zy(Object(r),!0).forEach((function(t){Gy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zy(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Wy(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Wy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wy(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Uy.displayName="ReferenceLine",Uy.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function qy(e){var t=e.x1,r=e.x2,n=e.y1,a=e.y2,i=e.className,s=e.alwaysShow,c=e.clipPathId;oo(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var l=Za(t),u=Za(r),d=Za(n),f=Za(a),h=e.shape;if(!(l||u||d||f||h))return null;var p=function(e,t,r,n,a){var o=a.x1,i=a.x2,s=a.y1,c=a.y2,l=a.xAxis,u=a.yAxis;if(!l||!u)return null;var d=Ny({x:l.scale,y:u.scale}),f={x:e?d.x.apply(o,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(s,{position:"start"}):d.y.rangeMin},h={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:n?d.y.apply(c,{position:"end"}):d.y.rangeMax};return!Lb(a,"discard")||d.isInRange(f)&&d.isInRange(h)?jy(f,h):null}(l,u,d,f,e);if(!p&&!h)return null;var m=Lb(e,"hidden")?"url(#".concat(c,")"):void 0;return o.createElement(Ci,{className:Ea()("recharts-reference-area",i)},qy.renderRect(h,Ky(Ky({clipPath:m},mi(e,!0)),p)),nb.renderCallByParent(e,p))}function Hy(e){return function(e){if(Array.isArray(e))return $y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}qy.displayName="ReferenceArea",qy.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},qy.renderRect=function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):o.createElement(Cv,Vy({},t,{className:"recharts-reference-area-rect"}))};var Yy=function(e,t,r,n,a){var o=ui(e,Uy),i=ui(e,Py),s=[].concat(Hy(o),Hy(i)),c=ui(e,qy),l="".concat(n,"Id"),u=n[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[l]===r&&Lb(t.props,"extendDomain")&&Qa(t.props[u])){var n=t.props[u];return[Math.min(e[0],n),Math.max(e[1],n)]}return e}),d)),c.length){var f="".concat(u,"1"),h="".concat(u,"2");d=c.reduce((function(e,t){if(t.props[l]===r&&Lb(t.props,"extendDomain")&&Qa(t.props[f])&&Qa(t.props[h])){var n=t.props[f],a=t.props[h];return[Math.min(e[0],n,a),Math.max(e[1],n,a)]}return e}),d)}return a&&a.length&&(d=a.reduce((function(e,t){return Qa(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},Xy=r(228),Qy=new(r.n(Xy)());Qy.setMaxListeners&&Qy.setMaxListeners(10);var Zy="recharts.syncMouseEvents",Jy=["item"],e_=["children","className","width","height","style","compact","title","desc"];function t_(e){return t_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t_(e)}function r_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||d_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(this,arguments)}function a_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function o_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g_(n.key),n)}}function i_(e,t){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i_(e,t)}function s_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l_(e);if(t){var a=l_(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===t_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c_(e)}(this,r)}}function c_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l_(e){return l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l_(e)}function u_(e){return function(e){if(Array.isArray(e))return f_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d_(e,t){if(e){if("string"==typeof e)return f_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f_(e,t):void 0}}function f_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h_(Object(r),!0).forEach((function(t){m_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m_(e,t,r){return(t=g_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g_(e){var t=function(e,t){if("object"!==t_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==t_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===t_(t)?t:String(t)}var x_={xAxis:["bottom","top"],yAxis:["left","right"]},v_={x:0,y:0},b_=Number.isFinite?Number.isFinite:isFinite,y_="function"==typeof requestAnimationFrame?requestAnimationFrame:"function"==typeof setImmediate?setImmediate:setTimeout,__="function"==typeof cancelAnimationFrame?cancelAnimationFrame:"function"==typeof clearImmediate?clearImmediate:clearTimeout,j_=function(e,t,r){var n=t.graphicalItems,a=t.dataStartIndex,o=t.dataEndIndex,i=(n||[]).reduce((function(e,t){var r=t.props.data;return r&&r.length?[].concat(u_(e),u_(r)):e}),[]);return i&&i.length>0?i:r&&r.props&&r.props.data&&r.props.data.length>0?r.props.data:e&&e.length&&Qa(a)&&Qa(o)?e.slice(a,o+1):[]};function w_(e){return"number"===e?[0,"auto"]:void 0}var N_=function(e,t,r,n){var a=e.graphicalItems,o=e.tooltipAxis,i=j_(t,e);return r<0||!a||!a.length||r>=i.length?null:a.reduce((function(e,t){if(t.props.hide)return e;var a,s=t.props.data;o.dataKey&&!o.allowDuplicatedCategory?a=ao(void 0===s?i:s,o.dataKey,n):a=s&&s[r]||i[r];return a?[].concat(u_(e),[Lx(t,a)]):e}),[])},E_=function(e,t,r,n){var a=n||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,r),i=e.orderedTooltipTicks,s=e.tooltipAxis,c=e.tooltipTicks,l=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,i=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0;if(i<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,c=0;c<i;c++){var l=c>0?n[c-1].coordinate:n[i-1].coordinate,u=n[c].coordinate,d=c>=i-1?n[0].coordinate:n[c+1].coordinate,f=void 0;if(Ya(u-l)!==Ya(d-u)){var h=[];if(Ya(d-u)===Ya(s[1]-s[0])){f=d;var p=u+s[1]-s[0];h[0]=Math.min(p,(p+l)/2),h[1]=Math.max(p,(p+l)/2)}else{f=l;var m=d+s[1]-s[0];h[0]=Math.min(u,(m+u)/2),h[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){o=n[c].index;break}}else{var x=Math.min(l,d),v=Math.max(l,d);if(e>(x+u)/2&&e<=(v+u)/2){o=n[c].index;break}}}else for(var b=0;b<i;b++)if(0===b&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<i-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===i-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){o=r[b].index;break}return o}(o,i,c,s);if(l>=0&&c){var u=c[l]&&c[l].value,d=N_(e,t,l,u),f=function(e,t,r,n){var a=t.find((function(e){return e&&e.index===r}));if(a){if("horizontal"===e)return{x:a.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:a.coordinate};if("centric"===e){var o=a.coordinate,i=n.radius;return p_(p_(p_({},n),Hx(n.cx,n.cy,i,o)),{},{angle:o,radius:i})}var s=a.coordinate,c=n.angle;return p_(p_(p_({},n),Hx(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return v_}(r,i,l,a);return{activeTooltipIndex:l,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},C_=function(e,t){var r=t.axes,n=t.graphicalItems,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=e.stackOffset,f=yx(l,a),h=r.reduce((function(t,r){var h,p=r.props,m=p.type,g=p.dataKey,x=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,y=p.ticks,_=p.includeHidden,j=r.props[o];if(t[j])return t;var w,N,E,C=j_(e.data,{graphicalItems:n.filter((function(e){return e.props[o]===j})),dataStartIndex:s,dataEndIndex:c}),S=C.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null==e?void 0:e[0],a=null==e?void 0:e[1];if(n&&a&&Qa(n)&&Qa(a))return!0}return!1})(r.props.domain,x,m)&&(w=kx(r.props.domain,null,x),!f||"number"!==m&&"auto"===b||(E=mx(C,g,"category")));var O=w_(m);if(!w||0===w.length){var A,P=null!==(A=r.props.domain)&&void 0!==A?A:O;if(g){if(w=mx(C,g,m),"category"===m&&f){var D=function(e){if(!Va()(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(w);v&&D?(N=w,w=yo()(0,S)):v||(w=Bx(P,w,r).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(u_(e),[t])}),[]))}else if("category"===m)w=v?w.filter((function(e){return""!==e&&!jo()(e)})):Bx(P,w,r).reduce((function(e,t){return e.indexOf(t)>=0||""===t||jo()(t)?e:[].concat(u_(e),[t])}),[]);else if("number"===m){var I=function(e,t,r,n,a){var o=t.map((function(t){return vx(e,t,r,a,n)})).filter((function(e){return!jo()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(C,n.filter((function(e){return e.props[o]===j&&(_||!e.props.hide)})),g,a,l);I&&(w=I)}!f||"number"!==m&&"auto"===b||(E=mx(C,g,"category"))}else w=f?yo()(0,S):i&&i[j]&&i[j].hasStack&&"number"===m?"expand"===d?[0,1]:Ix(i[j].stackGroups,s,c):bx(C,n.filter((function(e){return e.props[o]===j&&(_||!e.props.hide)})),m,l,!0);if("number"===m)w=Yy(u,w,j,a,y),P&&(w=kx(P,w,x));else if("category"===m&&P){var T=P;w.every((function(e){return T.indexOf(e)>=0}))&&(w=T)}}return p_(p_({},t),{},m_({},j,p_(p_({},r.props),{},{axisType:a,domain:w,categoricalDomain:E,duplicateDomain:N,originalDomain:null!==(h=r.props.domain)&&void 0!==h?h:O,isCategorical:f,layout:l})))}),{});return h},S_=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,a=t.AxisComp,o=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.children,u="".concat(n,"Id"),d=ui(l,a),f={};return d&&d.length?f=C_(e,{axes:d,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c}):o&&o.length&&(f=function(e,t){var r=t.graphicalItems,n=t.Axis,a=t.axisType,o=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,c=t.dataEndIndex,l=e.layout,u=e.children,d=j_(e.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:c}),f=d.length,h=yx(l,a),p=-1;return r.reduce((function(e,t){var m,g=t.props[o],x=w_("number");return e[g]?e:(p++,h?m=yo()(0,f):i&&i[g]&&i[g].hasStack?(m=Ix(i[g].stackGroups,s,c),m=Yy(u,m,g,a)):(m=kx(x,bx(d,r.filter((function(e){return e.props[o]===g&&!e.props.hide})),"number",l),n.defaultProps.allowDataOverflow),m=Yy(u,m,g,a)),p_(p_({},e),{},m_({},g,p_(p_({axisType:a},n.defaultProps),{},{hide:!0,orientation:Ua()(x_,"".concat(a,".").concat(p%2),null),domain:m,originalDomain:x,isCategorical:h,layout:l}))))}),{})}(e,{Axis:a,graphicalItems:o,axisType:n,axisIdKey:u,stackGroups:i,dataStartIndex:s,dataEndIndex:c})),f},O_=function(e){var t,r,n=e.children,a=e.defaultShowTooltip,o=di(n,Bb);return{chartX:0,chartY:0,dataStartIndex:o&&o.props&&o.props.startIndex||0,dataEndIndex:void 0!==(null==o||null===(t=o.props)||void 0===t?void 0:t.endIndex)?null==o||null===(r=o.props)||void 0===r?void 0:r.endIndex:e.data&&e.data.length-1||0,activeTooltipIndex:-1,isTooltipActive:!jo()(a)&&a}},A_=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},P_=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),a=void 0===n?{}:n,o=e.yAxisMap,i=void 0===o?{}:o,s=r.width,c=r.height,l=r.children,u=r.margin||{},d=di(l,Bb),f=di(l,hu),h=Object.keys(i).reduce((function(e,t){var r=i[t],n=r.orientation;return r.mirror||r.hide?e:p_(p_({},e),{},m_({},n,e[n]+r.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(a).reduce((function(e,t){var r=a[t],n=r.orientation;return r.mirror||r.hide?e:p_(p_({},e),{},m_({},n,Ua()(e,"".concat(n))+r.height))}),{top:u.top||0,bottom:u.bottom||0}),m=p_(p_({},p),h),g=m.bottom;return d&&(m.bottom+=d.props.height||Bb.defaultProps.height),f&&t&&(m=function(e,t,r,n){var a=r.children,o=r.width,i=r.margin,s=o-(i.left||0)-(i.right||0),c=xx({children:a,legendWidth:s}),l=e;if(c){var u=n||{},d=c.align,f=c.verticalAlign,h=c.layout;("vertical"===h||"horizontal"===h&&"middle"===f)&&Qa(e[d])&&(l=fx(fx({},e),{},hx({},d,l[d]+(u.width||0)))),("horizontal"===h||"vertical"===h&&"center"===d)&&Qa(e[f])&&(l=fx(fx({},e),{},hx({},f,l[f]+(u.height||0))))}return l}(m,0,r,t)),p_(p_({brushBottom:g},m),{},{width:s-m.left-m.right,height:c-m.top-m.bottom})},D_=function(e){var t,r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=void 0===a?"axis":a,s=e.validateTooltipEventTypes,c=void 0===s?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(e,t){var r=t.graphicalItems,n=t.stackGroups,a=t.offset,o=t.updateId,i=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,h=e.maxBarSize,p=A_(u),m=p.numericAxisName,g=p.cateAxisName,x=function(e){return!(!e||!e.length)&&e.some((function(e){var t=ii(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(r),v=x&&function(e){var t=e.barSize,r=e.stackGroups,n=void 0===r?{}:r;if(!n)return{};for(var a={},o=Object.keys(n),i=0,s=o.length;i<s;i++)for(var c=n[o[i]].stackGroups,l=Object.keys(c),u=0,d=l.length;u<d;u++){var f=c[l[u]],h=f.items,p=f.cateAxisId,m=h.filter((function(e){return ii(e.type).indexOf("Bar")>=0}));if(m&&m.length){var g=m[0].props.barSize,x=m[0].props[p];a[x]||(a[x]=[]),a[x].push({item:m[0],stackList:m.slice(1),barSize:jo()(g)?t:g})}}return a}({barSize:c,stackGroups:n}),b=[];return r.forEach((function(r,c){var p=j_(e.data,{dataStartIndex:i,dataEndIndex:s},r),x=r.props,y=x.dataKey,_=x.maxBarSize,j=r.props["".concat(m,"Id")],w=r.props["".concat(g,"Id")],N=l.reduce((function(e,n){var a,o=t["".concat(n.axisType,"Map")],i=r.props["".concat(n.axisType,"Id")],s=o&&o[i];return p_(p_({},e),{},(m_(a={},n.axisType,s),m_(a,"".concat(n.axisType,"Ticks"),jx(s)),a))}),{}),E=N[g],C=N["".concat(g,"Ticks")],S=n&&n[j]&&n[j].hasStack&&function(e,t){var r=e.props.stackId;if(Za(r)){var n=t[r];if(n&&n.items.length){for(var a=-1,o=0,i=n.items.length;o<i;o++)if(n.items[o]===e){a=o;break}return a>=0?n.stackedData[a]:null}}return null}(r,n[j].stackGroups),O=ii(r.type).indexOf("Bar")>=0,A=Rx(E,C),P=[];if(O){var D,I,T=jo()(_)?h:_,M=null!==(D=null!==(I=Rx(E,C,!0))&&void 0!==I?I:T)&&void 0!==D?D:0;P=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,a=e.sizeList,o=void 0===a?[]:a,i=e.maxBarSize,s=o.length;if(s<1)return null;var c,l=to(t,n,0,!0);if(o[0].barSize===+o[0].barSize){var u=!1,d=n/s,f=o.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*l)>=n&&(f-=(s-1)*l,l=0),f>=n&&d>0&&(u=!0,f=s*(d*=.9));var h={offset:((n-f)/2|0)-l,size:0};c=o.reduce((function(e,t){var r=[].concat(lx(e),[{item:t.item,position:{offset:h.offset+h.size+l,size:u?d:t.barSize}}]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:h})})),r}),[])}else{var p=to(r,n,0,!0);n-2*p-(s-1)*l<=0&&(l=0);var m=(n-2*p-(s-1)*l)/s;m>1&&(m>>=0);var g=i===+i?Math.min(m,i):m;c=o.reduce((function(e,t,r){var n=[].concat(lx(e),[{item:t.item,position:{offset:p+(m+l)*r+(m-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:n[n.length-1].position})})),n}),[])}return c}({barGap:d,barCategoryGap:f,bandSize:M!==A?M:A,sizeList:v[w],maxBarSize:T}),M!==A&&(P=P.map((function(e){return p_(p_({},e),{},{position:p_(p_({},e.position),{},{offset:e.position.offset-M/2})})})))}var k,R,B,L=r&&r.type&&r.type.getComposedData;L&&b.push({props:p_(p_({},L(p_(p_({},N),{},{displayedData:p,props:e,dataKey:y,item:r,bandSize:A,barPosition:P,offset:a,stackedData:S,layout:u,dataStartIndex:i,dataEndIndex:s}))),{},(k={key:r.key||"item-".concat(c)},m_(k,m,N[m]),m_(k,g,N[g]),m_(k,"animationId",o),k)),childIndex:(R=r,B=e.children,li(B).indexOf(R)),item:r})})),b},p=function(e,t){var a=e.props,o=e.dataStartIndex,i=e.dataEndIndex,s=e.updateId;if(!fi({props:a}))return null;var c=a.children,u=a.layout,f=a.stackOffset,p=a.data,m=a.reverseStackOrder,g=A_(u),x=g.numericAxisName,v=g.cateAxisName,b=ui(c,n),y=function(e,t,r,n,a,o){if(!e)return null;var i=(o?t.reverse():t).reduce((function(e,t){var a=t.props,o=a.stackId;if(a.hide)return e;var i=t.props[r],s=e[i]||{hasStack:!1,stackGroups:{}};if(Za(o)){var c=s.stackGroups[o]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),s.hasStack=!0,s.stackGroups[o]=c}else s.stackGroups[eo("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return fx(fx({},e),{},hx({},i,s))}),{});return Object.keys(i).reduce((function(t,o){var s=i[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var i=s.stackGroups[o];return fx(fx({},t),{},hx({},o,{numericAxisId:r,cateAxisId:n,items:i.items,stackedData:Ox(e,i.items,a)}))}),{})),fx(fx({},t),{},hx({},o,s))}),{})}(p,b,"".concat(x,"Id"),"".concat(v,"Id"),f,m),_=l.reduce((function(e,t){var r="".concat(t.axisType,"Map");return p_(p_({},e),{},m_({},r,S_(a,p_(p_({},t),{},{graphicalItems:b,stackGroups:t.axisType===x&&y,dataStartIndex:o,dataEndIndex:i}))))}),{}),j=P_(p_(p_({},_),{},{props:a,graphicalItems:b}),null==t?void 0:t.legendBBox);Object.keys(_).forEach((function(e){_[e]=d(a,_[e],j,e.replace("Map",""),r)}));var w,N,E=_["".concat(v,"Map")],C=(w=ro(E),{tooltipTicks:N=jx(w,!1,!0),orderedTooltipTicks:vo()(N,(function(e){return e.coordinate})),tooltipAxis:w,tooltipAxisBandSize:Rx(w,N)}),S=h(a,p_(p_({},_),{},{dataStartIndex:o,dataEndIndex:i,updateId:s,graphicalItems:b,stackGroups:y,offset:j}));return p_(p_({formattedGraphicalItems:S,graphicalItems:b,offset:j,stackGroups:y},C),_)};return t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i_(e,t)}(l,e);var t,n,a,s=s_(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),m_(c_(t=s.call(this,e)),"clearDeferId",(function(){!jo()(t.deferId)&&__&&__(t.deferId),t.deferId=null})),m_(c_(t),"handleLegendBBoxUpdate",(function(e){if(e){var r=t.state,n=r.dataStartIndex,a=r.dataEndIndex,o=r.updateId;t.setState(p_({legendBBox:e},p({props:t.props,dataStartIndex:n,dataEndIndex:a,updateId:o},p_(p_({},t.state),{},{legendBBox:e}))))}})),m_(c_(t),"handleReceiveSyncEvent",(function(e,r,n){t.props.syncId===e&&r!==t.uniqueChartId&&(t.clearDeferId(),t.deferId=y_&&y_(t.applySyncEvent.bind(c_(t),n)))})),m_(c_(t),"handleBrushChange",(function(e){var r=e.startIndex,n=e.endIndex;if(r!==t.state.dataStartIndex||n!==t.state.dataEndIndex){var a=t.state.updateId;t.setState((function(){return p_({dataStartIndex:r,dataEndIndex:n},p({props:t.props,dataStartIndex:r,dataEndIndex:n,updateId:a},t.state))})),t.triggerSyncEvent({dataStartIndex:r,dataEndIndex:n})}})),m_(c_(t),"handleMouseEnter",(function(e){var r=t.props.onMouseEnter,n=t.getMouseInfo(e);if(n){var a=p_(p_({},n),{},{isTooltipActive:!0});t.setState(a),t.triggerSyncEvent(a),go()(r)&&r(a,e)}})),m_(c_(t),"triggeredAfterMouseMove",(function(e){var r=t.props.onMouseMove,n=t.getMouseInfo(e),a=n?p_(p_({},n),{},{isTooltipActive:!0}):{isTooltipActive:!1};t.setState(a),t.triggerSyncEvent(a),go()(r)&&r(a,e)})),m_(c_(t),"handleItemMouseEnter",(function(e){t.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),m_(c_(t),"handleItemMouseLeave",(function(){t.setState((function(){return{isTooltipActive:!1}}))})),m_(c_(t),"handleMouseMove",(function(e){e&&go()(e.persist)&&e.persist(),t.triggeredAfterMouseMove(e)})),m_(c_(t),"handleMouseLeave",(function(e){var r=t.props.onMouseLeave,n={isTooltipActive:!1};t.setState(n),t.triggerSyncEvent(n),go()(r)&&r(n,e),t.cancelThrottledTriggerAfterMouseMove()})),m_(c_(t),"handleOuterEvent",(function(e){var r=function(e){var t=e&&e.type;return t&&oi[t]?oi[t]:null}(e),n=Ua()(t.props,"".concat(r));r&&go()(n)&&n(/.*touch.*/i.test(r)?t.getMouseInfo(e.changedTouches[0]):t.getMouseInfo(e),e)})),m_(c_(t),"handleClick",(function(e){var r=t.props.onClick,n=t.getMouseInfo(e);if(n){var a=p_(p_({},n),{},{isTooltipActive:!0});t.setState(a),t.triggerSyncEvent(a),go()(r)&&r(a,e)}})),m_(c_(t),"handleMouseDown",(function(e){var r=t.props.onMouseDown;go()(r)&&r(t.getMouseInfo(e),e)})),m_(c_(t),"handleMouseUp",(function(e){var r=t.props.onMouseUp;go()(r)&&r(t.getMouseInfo(e),e)})),m_(c_(t),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseMove(e.changedTouches[0])})),m_(c_(t),"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseDown(e.changedTouches[0])})),m_(c_(t),"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseUp(e.changedTouches[0])})),m_(c_(t),"verticalCoordinatesGenerator",(function(e){var t=e.xAxis,r=e.width,n=e.height,a=e.offset;return _x(Ko(p_(p_(p_({},bb.defaultProps),t),{},{ticks:jx(t,!0),viewBox:{x:0,y:0,width:r,height:n}})),a.left,a.left+a.width)})),m_(c_(t),"horizontalCoordinatesGenerator",(function(e){var t=e.yAxis,r=e.width,n=e.height,a=e.offset;return _x(Ko(p_(p_(p_({},bb.defaultProps),t),{},{ticks:jx(t,!0),viewBox:{x:0,y:0,width:r,height:n}})),a.top,a.top+a.height)})),m_(c_(t),"axesTicksGenerator",(function(e){return jx(e,!0)})),m_(c_(t),"renderCursor",(function(e){var n=t.state,a=n.isTooltipActive,i=n.activeCoordinate,s=n.activePayload,c=n.offset,l=n.activeTooltipIndex,u=t.getTooltipEventType();if(!e||!e.props.cursor||!a||!i||"ScatterChart"!==r&&"axis"!==u)return null;var d,f=t.props.layout,h=Qu;if("ScatterChart"===r)d=i,h=od;else if("BarChart"===r)d=t.getCursorRectangle(),h=Cv;else if("radial"===f){var p=t.getCursorPoints(),m=p.cx,g=p.cy,x=p.radius;d={cx:m,cy:g,startAngle:p.startAngle,endAngle:p.endAngle,innerRadius:x,outerRadius:x},h=sv}else d={points:t.getCursorPoints()},h=Qu;var v=e.key||"_recharts-cursor",b=p_(p_(p_(p_({stroke:"#ccc",pointerEvents:"none"},c),d),mi(e.props.cursor)),{},{payload:s,payloadIndex:l,key:v,className:"recharts-tooltip-cursor"});return(0,o.isValidElement)(e.props.cursor)?(0,o.cloneElement)(e.props.cursor,b):(0,o.createElement)(h,b)})),m_(c_(t),"renderPolarAxis",(function(e,r,n){var a=Ua()(e,"type.axisType"),i=Ua()(t.state,"".concat(a,"Map")),s=i&&i[e.props["".concat(a,"Id")]];return(0,o.cloneElement)(e,p_(p_({},s),{},{className:a,key:e.key||"".concat(r,"-").concat(n),ticks:jx(s,!0)}))})),m_(c_(t),"renderXAxis",(function(e,r,n){var a=t.state.xAxisMap[e.props.xAxisId];return t.renderAxis(a,e,r,n)})),m_(c_(t),"renderYAxis",(function(e,r,n){var a=t.state.yAxisMap[e.props.yAxisId];return t.renderAxis(a,e,r,n)})),m_(c_(t),"renderGrid",(function(e){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.props,c=s.width,l=s.height,u=ro(n),d=po()(a,(function(e){return fo()(e.domain,b_)}))||ro(a),f=e.props||{};return(0,o.cloneElement)(e,{key:e.key||"grid",x:Qa(f.x)?f.x:i.left,y:Qa(f.y)?f.y:i.top,width:Qa(f.width)?f.width:i.width,height:Qa(f.height)?f.height:i.height,xAxis:u,yAxis:d,offset:i,chartWidth:c,chartHeight:l,verticalCoordinatesGenerator:f.verticalCoordinatesGenerator||t.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:f.horizontalCoordinatesGenerator||t.horizontalCoordinatesGenerator})})),m_(c_(t),"renderPolarGrid",(function(e){var r=e.props,n=r.radialLines,a=r.polarAngles,i=r.polarRadius,s=t.state,c=s.radiusAxisMap,l=s.angleAxisMap,u=ro(c),d=ro(l),f=d.cx,h=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,o.cloneElement)(e,{polarAngles:Va()(a)?a:jx(d,!0).map((function(e){return e.coordinate})),polarRadius:Va()(i)?i:jx(u,!0).map((function(e){return e.coordinate})),cx:f,cy:h,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),m_(c_(t),"renderLegend",(function(){var e=t.state.formattedGraphicalItems,r=t.props,n=r.children,a=r.width,i=r.height,s=t.props.margin||{},c=a-(s.left||0)-(s.right||0),l=xx({children:n,formattedGraphicalItems:e,legendWidth:c,legendContent:u});if(!l)return null;var d=l.item,f=a_(l,Jy);return(0,o.cloneElement)(d,p_(p_({},f),{},{chartWidth:a,chartHeight:i,margin:s,ref:function(e){t.legendInstance=e},onBBoxUpdate:t.handleLegendBBoxUpdate}))})),m_(c_(t),"renderTooltip",(function(){var e=di(t.props.children,Zc);if(!e)return null;var r=t.state,n=r.isTooltipActive,a=r.activeCoordinate,i=r.activePayload,s=r.activeLabel,c=r.offset;return(0,o.cloneElement)(e,{viewBox:p_(p_({},c),{},{x:c.left,y:c.top}),active:n,label:s,payload:n?i:[],coordinate:a})})),m_(c_(t),"renderBrush",(function(e){var r=t.props,n=r.margin,a=r.data,i=t.state,s=i.offset,c=i.dataStartIndex,l=i.dataEndIndex,u=i.updateId;return(0,o.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:wx(t.handleBrushChange,null,e.props.onChange),data:a,x:Qa(e.props.x)?e.props.x:s.left,y:Qa(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Qa(e.props.width)?e.props.width:s.width,startIndex:c,endIndex:l,updateId:"brush-".concat(u)})})),m_(c_(t),"renderReferenceElement",(function(e,r,n){if(!e)return null;var a=c_(t).clipPathId,i=t.state,s=i.xAxisMap,c=i.yAxisMap,l=i.offset,u=e.props,d=u.xAxisId,f=u.yAxisId;return(0,o.cloneElement)(e,{key:e.key||"".concat(r,"-").concat(n),xAxis:s[d],yAxis:c[f],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:a})})),m_(c_(t),"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,n=e.basePoint,a=e.childIndex,o=e.isRange,i=[],s=t.props.key,c=t.item.props,u=c.activeDot,d=p_(p_({index:a,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:gx(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value,key:"".concat(s,"-activePoint-").concat(a)},mi(u)),ei(u));return i.push(l.renderActiveDot(u,d)),n?i.push(l.renderActiveDot(u,p_(p_({},d),{},{cx:n.x,cy:n.y,key:"".concat(s,"-basePoint-").concat(a)}))):o&&i.push(null),i})),m_(c_(t),"renderGraphicChild",(function(e,r,n){var a=t.filterFormatItem(e,r,n);if(!a)return null;var i=t.getTooltipEventType(),s=t.state,c=s.isTooltipActive,l=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,f=di(t.props.children,Zc),h=a.props,p=h.points,m=h.isRange,g=h.baseLine,x=a.item.props,v=x.activeDot,b=!x.hide&&c&&f&&v&&u>=0,y={};"axis"!==i&&f&&"click"===f.props.trigger?y={onClick:wx(t.handleItemMouseEnter,null,e.props.onCLick)}:"axis"!==i&&(y={onMouseLeave:wx(t.handleItemMouseLeave,null,e.props.onMouseLeave),onMouseEnter:wx(t.handleItemMouseEnter,null,e.props.onMouseEnter)});var _=(0,o.cloneElement)(e,p_(p_({},a.props),y));if(b){var j,w;if(l.dataKey&&!l.allowDuplicatedCategory){var N="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());j=ao(p,N,d),w=m&&g&&ao(g,N,d)}else j=p[u],w=m&&g&&g[u];if(!jo()(j))return[_].concat(u_(t.renderActivePoints({item:a,activePoint:j,basePoint:w,childIndex:u,isRange:m})))}return m?[_,null,null]:[_,null]})),m_(c_(t),"renderCustomized",(function(e,r,n){return(0,o.cloneElement)(e,p_(p_({key:"recharts-customized-".concat(n)},t.props),t.state))})),t.uniqueChartId=jo()(e.id)?eo("recharts"):e.id,t.clipPathId="".concat(t.uniqueChartId,"-clip"),e.throttleDelay&&(t.triggeredAfterMouseMove=Aa()(t.triggeredAfterMouseMove,e.throttleDelay)),t.state={},t}return t=l,n=[{key:"componentDidMount",value:function(){jo()(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(e){jo()(e.syncId)&&!jo()(this.props.syncId)&&this.addListener(),!jo()(e.syncId)&&jo()(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),jo()(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){"function"==typeof this.triggeredAfterMouseMove.cancel&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=di(this.props.children,Zc);if(e&&No()(e.props.shared)){var t=e.props.shared?"axis":"item";return c.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r,n,a=function(e,t){return{chartX:Math.round(e.pageX-t.left),chartY:Math.round(e.pageY-t.top)}}(e,(t=this.container,r=t.ownerDocument.documentElement,n={top:0,left:0},void 0!==t.getBoundingClientRect&&(n=t.getBoundingClientRect()),{top:n.top+window.pageYOffset-r.clientTop,left:n.left+window.pageXOffset-r.clientLeft})),o=this.inRange(a.chartX,a.chartY);if(!o)return null;var i=this.state,s=i.xAxisMap,c=i.yAxisMap;if("axis"!==this.getTooltipEventType()&&s&&c){var l=ro(s).scale,u=ro(c).scale,d=l&&l.invert?l.invert(a.chartX):null,f=u&&u.invert?u.invert(a.chartY):null;return p_(p_({},a),{},{xValue:d,yValue:f})}var h=E_(this.state,this.props.data,this.props.layout,o);return h?p_(p_({},a),h):null}},{key:"getCursorRectangle",value:function(){var e=this.props.layout,t=this.state,r=t.activeCoordinate,n=t.offset,a=t.tooltipAxisBandSize,o=a/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?r.x-o:n.left+.5,y:"horizontal"===e?n.top+.5:r.y-o,width:"horizontal"===e?a:n.width-1,height:"horizontal"===e?n.height-1:a}}},{key:"getCursorPoints",value:function(){var e,t,r,n,a=this.props.layout,o=this.state,i=o.activeCoordinate,s=o.offset;if("horizontal"===a)r=e=i.x,t=s.top,n=s.top+s.height;else if("vertical"===a)n=t=i.y,e=s.left,r=s.left+s.width;else if(!jo()(i.cx)||!jo()(i.cy)){if("centric"!==a){var c=i.cx,l=i.cy,u=i.radius,d=i.startAngle,f=i.endAngle;return{points:[Hx(c,l,u,d),Hx(c,l,u,f)],cx:c,cy:l,radius:u,startAngle:d,endAngle:f}}var h=i.cx,p=i.cy,m=i.innerRadius,g=i.outerRadius,x=i.angle,v=Hx(h,p,m,x),b=Hx(h,p,g,x);e=v.x,t=v.y,r=b.x,n=b.y}return[{x:e,y:t},{x:r,y:n}]}},{key:"inRange",value:function(e,t){var r=this.props.layout;if("horizontal"===r||"vertical"===r){var n=this.state.offset;return e>=n.left&&e<=n.left+n.width&&t>=n.top&&t<=n.top+n.height?{x:e,y:t}:null}var a=this.state,o=a.angleAxisMap,i=a.radiusAxisMap;if(o&&i){var s=ro(o);return Qx({x:e,y:t},s)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=di(e,Zc),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),p_(p_({},ei(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){Qy.on(Zy,this.handleReceiveSyncEvent),Qy.setMaxListeners&&Qy._maxListeners&&Qy.setMaxListeners(Qy._maxListeners+1)}},{key:"removeListener",value:function(){Qy.removeListener(Zy,this.handleReceiveSyncEvent),Qy.setMaxListeners&&Qy._maxListeners&&Qy.setMaxListeners(Qy._maxListeners-1)}},{key:"triggerSyncEvent",value:function(e){var t=this.props.syncId;jo()(t)||Qy.emit(Zy,t,this.uniqueChartId,e)}},{key:"applySyncEvent",value:function(e){var t=this.props,r=t.layout,n=t.syncMethod,a=this.state.updateId,o=e.dataStartIndex,i=e.dataEndIndex;if(jo()(e.dataStartIndex)&&jo()(e.dataEndIndex))if(jo()(e.activeTooltipIndex))this.setState(e);else{var s=e.chartX,c=e.chartY,l=e.activeTooltipIndex,u=this.state,d=u.offset,f=u.tooltipTicks;if(!d)return;if("function"==typeof n)l=n(f,e);else if("value"===n){l=-1;for(var h=0;h<f.length;h++)if(f[h].value===e.activeLabel){l=h;break}}var m=p_(p_({},d),{},{x:d.left,y:d.top}),g=Math.min(s,m.x+m.width),x=Math.min(c,m.y+m.height),v=f[l]&&f[l].value,b=N_(this.state,this.props.data,l),y=f[l]?{x:"horizontal"===r?f[l].coordinate:g,y:"horizontal"===r?x:f[l].coordinate}:v_;this.setState(p_(p_({},e),{},{activeLabel:v,activeCoordinate:y,activePayload:b,activeTooltipIndex:l}))}else this.setState(p_({dataStartIndex:o,dataEndIndex:i},p({props:this.props,dataStartIndex:o,dataEndIndex:i,updateId:a},this.state)))}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,a=0,o=n.length;a<o;a++){var i=n[a];if(i.item===e||i.props.key===e.key||t===ii(i.item.type)&&r===i.childIndex)return i}return null}},{key:"renderAxis",value:function(e,t,r,n){var a=this.props,i=a.width,s=a.height;return o.createElement(bb,n_({},e,{className:"recharts-".concat(e.axisType," ").concat(e.axisType),key:t.key||"".concat(r,"-").concat(n),viewBox:{x:0,y:0,width:i,height:s},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,a=t.height,i=t.width;return o.createElement("defs",null,o.createElement("clipPath",{id:e},o.createElement("rect",{x:r,y:n,height:a,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=r_(t,2),n=r[0],a=r[1];return p_(p_({},e),{},m_({},n,a.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var r=r_(t,2),n=r[0],a=r[1];return p_(p_({},e),{},m_({},n,a.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t,r;return null===(t=this.state.xAxisMap)||void 0===t||null===(r=t[e])||void 0===r?void 0:r.scale}},{key:"getYScaleByAxisId",value:function(e){var t,r;return null===(t=this.state.yAxisMap)||void 0===t||null===(r=t[e])||void 0===r?void 0:r.scale}},{key:"getItemByXY",value:function(e){var t=this.state.formattedGraphicalItems;if(t&&t.length)for(var r=0,n=t.length;r<n;r++){var a=t[r],o=a.props,i=a.item,s=ii(i.type);if("Bar"===s){var c=(o.data||[]).find((function(t){return Ev(e,t)}));if(c)return{graphicalItem:a,payload:c}}else if("RadialBar"===s){var l=(o.data||[]).find((function(t){return Qx(e,t)}));if(l)return{graphicalItem:a,payload:l}}}return null}},{key:"render",value:function(){var e=this;if(!fi(this))return null;var t=this.props,r=t.children,n=t.className,a=t.width,i=t.height,s=t.style,c=t.compact,l=t.title,u=t.desc,d=a_(t,e_),f=mi(d),h={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(c)return o.createElement(ji,n_({},f,{width:a,height:i,title:l,desc:u}),this.renderClipPath(),vi(r,h));var p=this.parseEventsOfWrapper();return o.createElement("div",n_({className:Ea()("recharts-wrapper",n),style:p_({position:"relative",cursor:"default",width:a,height:i},s)},p,{ref:function(t){e.container=t},role:"region"}),o.createElement(ji,n_({},f,{width:a,height:i,title:l,desc:u}),this.renderClipPath(),vi(r,h)),this.renderLegend(),this.renderTooltip())}}],n&&o_(t.prototype,n),a&&o_(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.Component),m_(t,"displayName",r),m_(t,"defaultProps",p_({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),m_(t,"getDerivedStateFromProps",(function(e,t){var r=e.data,n=e.children,a=e.width,o=e.height,i=e.layout,s=e.stackOffset,c=e.margin;if(jo()(t.updateId)){var l=O_(e);return p_(p_(p_({},l),{},{updateId:0},p(p_(p_({props:e},l),{},{updateId:0}),t)),{},{prevData:r,prevWidth:a,prevHeight:o,prevLayout:i,prevStackOffset:s,prevMargin:c,prevChildren:n})}if(r!==t.prevData||a!==t.prevWidth||o!==t.prevHeight||i!==t.prevLayout||s!==t.prevStackOffset||!$o(c,t.prevMargin)){var u=O_(e),d={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},f=p_(p_({},E_(t,r,i)),{},{updateId:t.updateId+1}),h=p_(p_(p_({},u),d),f);return p_(p_(p_({},h),p(p_({props:e},h),t)),{},{prevData:r,prevWidth:a,prevHeight:o,prevLayout:i,prevStackOffset:s,prevMargin:c,prevChildren:n})}if(!gi(n,t.prevChildren)){var m=!jo()(r)?t.updateId:t.updateId+1;return p_(p_({updateId:m},p(p_(p_({props:e},t),{},{updateId:m}),t)),{},{prevChildren:n})}return null})),m_(t,"renderActiveDot",(function(e,t){var r;return r=(0,o.isValidElement)(e)?(0,o.cloneElement)(e,t):go()(e)?e(t):o.createElement(pv,t),o.createElement(Ci,{className:"recharts-active-dot",key:t.key},r)})),t},I_=function(){return null};I_.displayName="XAxis",I_.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var T_=function(){return null};T_.displayName="YAxis",T_.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var M_=D_({chartName:"BarChart",GraphicalChild:py,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:I_},{axisType:"yAxis",AxisComp:T_}],formatAxisMap:_y}),k_=["x1","y1","x2","y2","key"];function R_(e){return R_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R_(e)}function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(this,arguments)}function L_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F_(Object(r),!0).forEach((function(t){G_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q_(n.key),n)}}function V_(e,t){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V_(e,t)}function z_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K_(e);if(t){var a=K_(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===R_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function K_(e){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},K_(e)}function G_(e,t,r){return(t=q_(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q_(e){var t=function(e,t){if("object"!==R_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==R_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R_(t)?t:String(t)}var H_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V_(e,t)}(i,e);var t,r,n,a=z_(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"renderHorizontal",value:function(e){var t=this,r=this.props,n=r.x,a=r.width,s=r.horizontal;if(!e||!e.length)return null;var c=e.map((function(e,r){var o=U_(U_({},t.props),{},{x1:n,y1:e,x2:n+a,y2:e,key:"line-".concat(r),index:r});return i.renderLineItem(s,o)}));return o.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}},{key:"renderVertical",value:function(e){var t=this,r=this.props,n=r.y,a=r.height,s=r.vertical;if(!e||!e.length)return null;var c=e.map((function(e,r){var o=U_(U_({},t.props),{},{x1:e,y1:n,x2:e,y2:n+a,key:"line-".concat(r),index:r});return i.renderLineItem(s,o)}));return o.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}},{key:"renderVerticalStripes",value:function(e){var t=this.props.verticalFill;if(!t||!t.length)return null;var r=this.props,n=r.fillOpacity,a=r.x,i=r.y,s=r.width,c=r.height,l=e.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==l[0]&&l.unshift(0);var u=l.map((function(e,r){var u=l[r+1]?l[r+1]-e:a+s-e;if(u<=0)return null;var d=r%t.length;return o.createElement("rect",{key:"react-".concat(r),x:e,y:i,width:u,height:c,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return o.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}},{key:"renderHorizontalStripes",value:function(e){var t=this.props.horizontalFill;if(!t||!t.length)return null;var r=this.props,n=r.fillOpacity,a=r.x,i=r.y,s=r.width,c=r.height,l=e.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==l[0]&&l.unshift(0);var u=l.map((function(e,r){var u=l[r+1]?l[r+1]-e:i+c-e;if(u<=0)return null;var d=r%t.length;return o.createElement("rect",{key:"react-".concat(r),y:e,x:a,height:u,width:s,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return o.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}},{key:"renderBackground",value:function(){var e=this.props.fill;if(!e||"none"===e)return null;var t=this.props,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height;return o.createElement("rect",{x:n,y:a,width:i,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})}},{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,a=e.height,i=e.horizontal,s=e.vertical,c=e.horizontalCoordinatesGenerator,l=e.verticalCoordinatesGenerator,u=e.xAxis,d=e.yAxis,f=e.offset,h=e.chartWidth,p=e.chartHeight;if(!Qa(n)||n<=0||!Qa(a)||a<=0||!Qa(t)||t!==+t||!Qa(r)||r!==+r)return null;var m=this.props,g=m.horizontalPoints,x=m.verticalPoints;return g&&g.length||!go()(c)||(g=c({yAxis:d,width:h,height:p,offset:f})),x&&x.length||!go()(l)||(x=l({xAxis:u,width:h,height:p,offset:f})),o.createElement("g",{className:"recharts-cartesian-grid"},this.renderBackground(),i&&this.renderHorizontal(g),s&&this.renderVertical(x),i&&this.renderHorizontalStripes(g),s&&this.renderVerticalStripes(x))}}],n=[{key:"renderLineItem",value:function(e,t){var r;if(o.isValidElement(e))r=o.cloneElement(e,t);else if(go()(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,c=t.key,l=L_(t,k_);r=o.createElement("line",B_({},mi(l),{x1:n,y1:a,x2:i,y2:s,fill:"none",key:c}))}return r}}],r&&W_(t.prototype,r),n&&W_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function $_(e){return $_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$_(e)}G_(H_,"displayName","CartesianGrid"),G_(H_,"defaultProps",{horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]});var Y_=["points","className","baseLinePoints","connectNulls"];function X_(){return X_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X_.apply(this,arguments)}function Q_(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Z_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(a=n.key,o=void 0,o=function(e,t){if("object"!==$_(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==$_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a,"string"),"symbol"===$_(o)?o:String(o)),n)}var a,o}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J_(e,t)}function ej(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=tj(e);if(t){var a=tj(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===$_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function tj(e){return tj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tj(e)}function rj(e){return function(e){if(Array.isArray(e))return nj(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aj=function(e){return e&&e.x===+e.x&&e.y===+e.y},oj=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){aj(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),aj(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce((function(e,t){return[].concat(rj(e),rj(t))}),[])]);var n=r.map((function(e){return e.reduce((function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===r.length?"".concat(n,"Z"):n},ij=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}(i,e);var t,r,n,a=ej(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.points,r=e.className,n=e.baseLinePoints,a=e.connectNulls,i=Q_(e,Y_);if(!t||!t.length)return null;var s=Ea()("recharts-polygon",r);if(n&&n.length){var c=i.stroke&&"none"!==i.stroke,l=function(e,t,r){var n=oj(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(oj(t.reverse(),r).slice(1))}(t,n,a);return o.createElement("g",{className:s},o.createElement("path",X_({},mi(i,!0),{fill:"Z"===l.slice(-1)?i.fill:"none",stroke:"none",d:l})),c?o.createElement("path",X_({},mi(i,!0),{fill:"none",d:oj(t,a)})):null,c?o.createElement("path",X_({},mi(i,!0),{fill:"none",d:oj(n,a)})):null)}var u=oj(t,a);return o.createElement("path",X_({},mi(i,!0),{fill:"Z"===u.slice(-1)?i.fill:"none",className:s,d:u}))}}])&&Z_(t.prototype,r),n&&Z_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);function sj(e){return sj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sj(e)}function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cj.apply(this,arguments)}function lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lj(Object(r),!0).forEach((function(t){mj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gj(n.key),n)}}function fj(e,t){return fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fj(e,t)}function hj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pj(e);if(t){var a=pj(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===sj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function pj(e){return pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pj(e)}function mj(e,t,r){return(t=gj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gj(e){var t=function(e,t){if("object"!==sj(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==sj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sj(t)?t:String(t)}var xj=Math.PI/180,vj=1e-5,bj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fj(e,t)}(i,e);var t,r,n,a=hj(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,a=t.radius,o=t.orientation,i=t.tickSize||8,s=Hx(r,n,a,e.coordinate),c=Hx(r,n,a+("inner"===o?-1:1)*i,e.coordinate);return{x1:s.x,y1:s.y,x2:c.x,y2:c.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*xj);return r>vj?"outer"===t?"start":"end":r<-vj?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,a=e.axisLine,i=e.axisLineType,s=uj(uj({},mi(this.props)),{},{fill:"none"},mi(a));if("circle"===i)return o.createElement(pv,cj({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:n}));var c=this.props.ticks.map((function(e){return Hx(t,r,n,e.coordinate)}));return o.createElement(ij,cj({className:"recharts-polar-angle-axis-line"},s,{points:c}))}},{key:"renderTicks",value:function(){var e=this,t=this.props,r=t.ticks,n=t.tick,a=t.tickLine,s=t.tickFormatter,c=t.stroke,l=mi(this.props),u=mi(n),d=uj(uj({},l),{},{fill:"none"},mi(a)),f=r.map((function(t,r){var f=e.getTickLineCoord(t),h=uj(uj(uj({textAnchor:e.getTickTextAnchor(t)},l),{},{stroke:"none",fill:c},u),{},{index:r,payload:t,x:f.x2,y:f.y2});return o.createElement(Ci,cj({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(r)},ti(e.props,t,r)),a&&o.createElement("line",cj({className:"recharts-polar-angle-axis-tick-line"},d,f)),n&&i.renderTickItem(n,h,s?s(t.value,r):t.value))}));return o.createElement(Ci,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:o.createElement(Ci,{className:"recharts-polar-angle-axis"},n&&this.renderAxisLine(),this.renderTicks())}}],n=[{key:"renderTickItem",value:function(e,t,r){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):o.createElement($v,cj({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],r&&dj(t.prototype,r),n&&dj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);mj(bj,"displayName","PolarAngleAxis"),mj(bj,"axisType","angleAxis"),mj(bj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var yj=r(6533),_j=r.n(yj),jj=r(7551),wj=r.n(jj),Nj=["cx","cy","angle","ticks","axisLine"],Ej=["ticks","tick","angle","tickFormatter","stroke"];function Cj(e){return Cj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cj(e)}function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sj.apply(this,arguments)}function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Aj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oj(Object(r),!0).forEach((function(t){kj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pj(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rj(n.key),n)}}function Ij(e,t){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ij(e,t)}function Tj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Mj(e);if(t){var a=Mj(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Cj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Mj(e){return Mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mj(e)}function kj(e,t,r){return(t=Rj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rj(e){var t=function(e,t){if("object"!==Cj(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Cj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Cj(t)?t:String(t)}var Bj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}(i,e);var t,r,n,a=Tj(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return t=i,r=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,a=r.cx,o=r.cy;return Hx(a,o,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,o=wj()(a,(function(e){return e.coordinate||0}));return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:_j()(a,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:o.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,a=e.ticks,i=e.axisLine,s=Pj(e,Nj),c=a.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),l=Hx(t,r,c[0],n),u=Hx(t,r,c[1],n),d=Aj(Aj(Aj({},mi(s)),{},{fill:"none"},mi(i)),{},{x1:l.x,y1:l.y,x2:u.x,y2:u.y});return o.createElement("line",Sj({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,t=this.props,r=t.ticks,n=t.tick,a=t.angle,s=t.tickFormatter,c=t.stroke,l=Pj(t,Ej),u=this.getTickTextAnchor(),d=mi(l),f=mi(n),h=r.map((function(t,r){var l=e.getTickValueCoord(t),h=Aj(Aj(Aj(Aj({textAnchor:u,transform:"rotate(".concat(90-a,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:c},f),{},{index:r},l),{},{payload:t});return o.createElement(Ci,Sj({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(r)},ti(e.props,t,r)),i.renderTickItem(n,h,s?s(t.value,r):t.value))}));return o.createElement(Ci,{className:"recharts-polar-radius-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?o.createElement(Ci,{className:"recharts-polar-radius-axis"},r&&this.renderAxisLine(),n&&this.renderTicks(),nb.renderCallByParent(this.props,this.getViewBox())):null}}],n=[{key:"renderTickItem",value:function(e,t,r){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):o.createElement($v,Sj({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],r&&Dj(t.prototype,r),n&&Dj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);kj(Bj,"displayName","PolarRadiusAxis"),kj(Bj,"axisType","radiusAxis"),kj(Bj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var Lj=r(1331),Fj=r.n(Lj);function Uj(e){return Uj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uj(e)}function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wj.apply(this,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vj(Object(r),!0).forEach((function(t){Yj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xj(n.key),n)}}function Gj(e,t){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gj(e,t)}function qj(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$j(e);if(t){var a=$j(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Uj(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Hj(e)}(this,r)}}function Hj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $j(e){return $j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$j(e)}function Yj(e,t,r){return(t=Xj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xj(e){var t=function(e,t){if("object"!==Uj(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Uj(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Uj(t)?t:String(t)}var Qj=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gj(e,t)}(i,e);var t,r,n,a=qj(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Yj(Hj(t=a.call(this,e)),"pieRef",null),Yj(Hj(t),"sectorRefs",[]),Yj(Hj(t),"id",eo("recharts-pie-")),Yj(Hj(t),"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),go()(e)&&e()})),Yj(Hj(t),"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),go()(e)&&e()})),t.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},t}return t=i,n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):o.createElement(Qu,Wj({},t,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(e,t,r){if(o.isValidElement(e))return o.cloneElement(e,t);var n=r;return go()(e)&&(n=e(t),o.isValidElement(n))?n:o.createElement($v,Wj({},t,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),n)}},{key:"renderSectorItem",value:function(e,t){return o.isValidElement(e)?o.cloneElement(e,t):go()(e)?e(t):Fj()(e)?o.createElement(sv,Wj({tabIndex:-1},t,e)):o.createElement(sv,Wj({tabIndex:-1},t))}}],(r=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var t=this.props,r=t.label,n=t.labelLine,a=t.dataKey,s=t.valueKey,c=mi(this.props),l=mi(r),u=mi(n),d=r&&r.offsetRadius||20,f=e.map((function(e,t){var f=(e.startAngle+e.endAngle)/2,h=Hx(e.cx,e.cy,e.outerRadius+d,f),p=zj(zj(zj(zj({},c),e),{},{stroke:"none"},l),{},{index:t,textAnchor:i.getTextAnchor(h.x,e.cx)},h),m=zj(zj(zj(zj({},c),e),{},{fill:"none",stroke:e.fill},u),{},{index:t,points:[Hx(e.cx,e.cy,e.outerRadius,f),h],key:"line"}),g=a;return jo()(a)&&jo()(s)?g="value":jo()(a)&&(g=s),o.createElement(Ci,{key:"label-".concat(t)},n&&i.renderLabelLineItem(n,m),i.renderLabelItem(r,p,px(e,g)))}));return o.createElement(Ci,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,a=r.blendStroke,s=r.inactiveShape;return e.map((function(e,r){var c=s&&t.hasActiveIndex()?s:null,l=t.isActiveIndex(r)?n:c,u=zj(zj({},e),{},{stroke:a?e.fill:e.stroke});return o.createElement(Ci,Wj({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},ti(t.props,e,r),{key:"sector-".concat(r)}),i.renderSectorItem(l,u))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,s=t.animationEasing,c=t.animationId,l=this.state,u=l.prevSectors,d=l.prevIsAnimationActive;return o.createElement(Cc,{begin:a,duration:i,isActive:n,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var n=t.t,a=[],i=(r&&r[0]).startAngle;return r.forEach((function(e,t){var r=u&&u[t],o=t>0?Ua()(e,"paddingAngle",0):0;if(r){var s=no(r.endAngle-r.startAngle,e.endAngle-e.startAngle),c=zj(zj({},e),{},{startAngle:i+o,endAngle:i+s(n)+o});a.push(c),i=c.endAngle}else{var l=e.endAngle,d=e.startAngle,f=no(0,l-d)(n),h=zj(zj({},e),{},{startAngle:i+o,endAngle:i+f+o});a.push(h),i=h.endAngle}})),o.createElement(Ci,null,e.renderSectorsStatically(a))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&sd()(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,a=t.className,i=t.label,s=t.cx,c=t.cy,l=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,f=this.state.isAnimationFinished;if(r||!n||!n.length||!Qa(s)||!Qa(c)||!Qa(l)||!Qa(u))return null;var h=Ea()("recharts-pie",a);return o.createElement(Ci,{tabIndex:0,className:h,ref:function(t){e.pieRef=t}},this.renderSectors(),i&&this.renderLabels(n),nb.renderCallByParent(this.props,null,!1),(!d||f)&&ey.renderCallByParent(this.props,n,!1))}}])&&Kj(t.prototype,r),n&&Kj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);Yj(Qj,"displayName","Pie"),Yj(Qj,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Eo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1}),Yj(Qj,"parseDeltaAngle",(function(e,t){return Ya(t-e)*Math.min(Math.abs(t-e),360)})),Yj(Qj,"getRealPieData",(function(e){var t=e.props,r=t.data,n=t.children,a=mi(e.props),o=ui(n,Wb);return r&&r.length?r.map((function(e,t){return zj(zj(zj({payload:e},a),e),o&&o[t]&&o[t].props)})):o&&o.length?o.map((function(e){return zj(zj({},a),e.props)})):[]})),Yj(Qj,"parseCoordinateOfPie",(function(e,t){var r=t.top,n=t.left,a=t.width,o=t.height,i=$x(a,o);return{cx:n+to(e.props.cx,a,a/2),cy:r+to(e.props.cy,o,o/2),innerRadius:to(e.props.innerRadius,i,0),outerRadius:to(e.props.outerRadius,i,.8*i),maxRadius:e.props.maxRadius||Math.sqrt(a*a+o*o)/2}})),Yj(Qj,"getComposedData",(function(e){var t=e.item,r=e.offset,n=Qj.getRealPieData(t);if(!n||!n.length)return null;var a=t.props,o=a.cornerRadius,i=a.startAngle,s=a.endAngle,c=a.paddingAngle,l=a.dataKey,u=a.nameKey,d=a.valueKey,f=a.tooltipType,h=Math.abs(t.props.minAngle),p=Qj.parseCoordinateOfPie(t,r),m=Qj.parseDeltaAngle(i,s),g=Math.abs(m),x=l;jo()(l)&&jo()(d)?(oo(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x="value"):jo()(l)&&(oo(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),x=d);var v,b,y=n.filter((function(e){return 0!==px(e,x,0)})).length,_=g-y*h-(g>=360?y:y-1)*c,j=n.reduce((function(e,t){var r=px(t,x,0);return e+(Qa(r)?r:0)}),0);j>0&&(v=n.map((function(e,t){var r,n=px(e,x,0),a=px(e,u,t),s=(Qa(n)?n:0)/j,l=(r=t?b.endAngle+Ya(m)*c*(0!==n?1:0):i)+Ya(m)*((0!==n?h:0)+s*_),d=(r+l)/2,g=(p.innerRadius+p.outerRadius)/2,v=[{name:a,value:n,payload:e,dataKey:x,type:f}],y=Hx(p.cx,p.cy,g,d);return b=zj(zj(zj({percent:s,cornerRadius:o,name:a,tooltipPayload:v,midAngle:d,middleRadius:g,tooltipPosition:y},e),p),{},{value:px(e,x),startAngle:r,endAngle:l,payload:e,paddingAngle:Ya(m)*c})})));return zj(zj({},p),{},{sectors:v,data:n})}));var Zj=D_({chartName:"PieChart",GraphicalChild:Qj,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:bj},{axisType:"radiusAxis",AxisComp:Bj}],formatAxisMap:function(e,t,r,n,a){var o=e.width,i=e.height,s=e.startAngle,c=e.endAngle,l=to(e.cx,o,o/2),u=to(e.cy,i,i/2),d=$x(o,i,r),f=to(e.innerRadius,d,0),h=to(e.outerRadius,d,.8*d);return Object.keys(t).reduce((function(e,r){var o,i=t[r],d=i.domain,p=i.reversed;if(jo()(i.range))"angleAxis"===n?o=[s,c]:"radiusAxis"===n&&(o=[f,h]),p&&(o=[o[1],o[0]]);else{var m=zx(o=i.range,2);s=m[0],c=m[1]}var g=Nx(i,a),x=g.realScaleType,v=g.scale;v.domain(d).range(o),Cx(v);var b=Ax(v,Wx(Wx({},i),{},{realScaleType:x})),y=Wx(Wx(Wx({},i),b),{},{range:o,radius:h,realScaleType:x,scale:v,cx:l,cy:u,innerRadius:f,outerRadius:h,startAngle:s,endAngle:c});return Wx(Wx({},e),{},Vx({},r,y))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Jj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ew(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ew(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tw=["#f97316","#3b82f6","#8b5cf6","#10b981","#eab308"];function rw(e){if(null==e||""===e)return 0;if("number"==typeof e&&!Number.isNaN(e))return e;var t=String(e).replace(/,/g,""),r=parseFloat(t);return Number.isNaN(r)?0:r}function nw(e){var t,r,n,a,i=e.onClose,s=Jj((0,o.useState)(""),2),c=s[0],l=s[1],u=Jj((0,o.useState)(""),2),d=u[0],f=u[1],h=Jj((0,o.useState)(""),2),p=h[0],m=h[1],g=Jj((0,o.useState)(null),2),x=g[0],v=g[1],b=Jj((0,o.useState)(!1),2),y=b[0],_=b[1],j=Jj((0,o.useState)(""),2),w=j[0],N=j[1],E=Jj((0,o.useState)(!0),2),C=E[0],S=E[1],O=(0,o.useMemo)((function(){if(!x||!x.cierres||!x.cierres.length)return[];var e=0,t=0,r=0,n=0;return x.cierres.forEach((function(a){e+=rw(a.debito),t+=rw(a.efectivo),r+=rw(a.transferencia),n+=rw(a.caja_biopago)})),[{nombre:"Efectivo",monto:t,fill:tw[0]},{nombre:"Dbito",monto:e,fill:tw[1]},{nombre:"Transferencia",monto:r,fill:tw[2]},{nombre:"Biopago",monto:n,fill:tw[3]}].filter((function(e){return e.monto>0}))}),[x]),A=null!=(null==x?void 0:x.numventas)?x.numventas:0,P=null!=x&&x.precio?rw(x.precio):0;return(0,Pt.jsxs)("div",{className:"p-4 max-w-6xl mx-auto",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Pt.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Historial de ventas por cierre"}),i&&(0,Pt.jsx)("button",{type:"button",onClick:i,className:"px-3 py-1.5 text-sm font-medium text-gray-600 hover:text-gray-800 border border-gray-300 rounded hover:bg-gray-50",children:"Cerrar"})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm mb-4",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 items-end",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha desde"}),(0,Pt.jsx)("input",{type:"date",value:c,onChange:function(e){return l(e.target.value)},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Fecha hasta"}),(0,Pt.jsx)("input",{type:"date",value:d,onChange:function(e){return f(e.target.value)},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Tipo de cierre"}),(0,Pt.jsxs)("select",{value:p,onChange:function(e){return m(e.target.value)},className:"w-full border border-gray-300 rounded px-3 py-2 text-sm",children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione..."}),(0,Pt.jsx)("option",{value:"1",children:"Cierre administrador"}),(0,Pt.jsx)("option",{value:"0",children:"Cierre cajero"})]})]}),(0,Pt.jsx)("div",{children:(0,Pt.jsx)("button",{type:"button",onClick:function(){!p||"0"!==p&&"1"!==p?N("Seleccione un tipo de cierre: Administrador o Cajero."):c&&d?c>d?N("La fecha desde no puede ser mayor que la fecha hasta."):(N(""),_(!0),ke.A.getCierres({fechaGetCierre:c,fechaGetCierre2:d,tipoUsuarioCierre:p}).then((function(e){v(e.data)})).catch((function(e){var t;N((null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.msj)||e.message||"Error al cargar cierres."),v(null)})).finally((function(){return _(!1)}))):N("Indique el rango de fechas (desde y hasta).")},disabled:y,className:"w-full px-4 py-2 bg-orange-600 text-white text-sm font-medium rounded hover:bg-orange-700 disabled:opacity-50 flex items-center justify-center gap-2",children:y?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Buscando..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-search"}),"Buscar"]})})})]}),w&&(0,Pt.jsx)("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:w})]}),x&&x.cierres&&x.cierres.length>0&&(0,Pt.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,Pt.jsx)("button",{type:"button",onClick:function(){return S(!0)},className:"px-3 py-1.5 text-sm font-medium rounded ".concat(C?"bg-orange-100 text-orange-800 border border-orange-300":"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200"),children:"Resumen y grfico"}),(0,Pt.jsx)("button",{type:"button",onClick:function(){return S(!1)},className:"px-3 py-1.5 text-sm font-medium rounded ".concat(C?"bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200":"bg-orange-100 text-orange-800 border border-orange-300"),children:"Detallado"})]}),x&&x.cierres&&x.cierres.length>0&&C&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 mb-4",children:[(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:[(0,Pt.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Cantidad de ventas"}),(0,Pt.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:A})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:[(0,Pt.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Total venta"}),(0,Pt.jsx)("p",{className:"text-lg font-semibold text-green-700",children:"string"==typeof x.precio?x.precio:P.toFixed(2)})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-orange-100 rounded-lg p-3 shadow-sm border-l-4 border-l-orange-500",children:[(0,Pt.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Efectivo"}),(0,Pt.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:null!==(t=x.efectivo)&&void 0!==t?t:"0.00"})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-blue-100 rounded-lg p-3 shadow-sm border-l-4 border-l-blue-500",children:[(0,Pt.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Dbito"}),(0,Pt.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:null!==(r=x.debito)&&void 0!==r?r:"0.00"})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-purple-100 rounded-lg p-3 shadow-sm border-l-4 border-l-purple-500",children:[(0,Pt.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Transferencia"}),(0,Pt.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:null!==(n=x.transferencia)&&void 0!==n?n:"0.00"})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-teal-100 rounded-lg p-3 shadow-sm border-l-4 border-l-teal-500",children:[(0,Pt.jsx)("p",{className:"text-xs text-gray-500 uppercase",children:"Biopago"}),(0,Pt.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:null!==(a=x.caja_biopago)&&void 0!==a?a:"0.00"})]})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm mb-4",children:[(0,Pt.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Montos por mtodo de pago"}),O.length>0?(0,Pt.jsx)("div",{className:"h-80",children:(0,Pt.jsx)(lo,{width:"100%",height:"100%",children:(0,Pt.jsxs)(M_,{data:O,margin:{top:10,right:20,left:10,bottom:20},children:[(0,Pt.jsx)(H_,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,Pt.jsx)(I_,{dataKey:"nombre",stroke:"#6b7280",fontSize:12}),(0,Pt.jsx)(T_,{stroke:"#6b7280",fontSize:12,tickFormatter:function(e){return"$".concat(Number(e).toLocaleString("es",{minimumFractionDigits:0,maximumFractionDigits:0}))}}),(0,Pt.jsx)(Zc,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"},formatter:function(e){return["$".concat(Number(e).toLocaleString("es",{minimumFractionDigits:2,maximumFractionDigits:2})),"Monto"]}}),(0,Pt.jsx)(py,{dataKey:"monto",radius:[4,4,0,0],label:{position:"top",fontSize:11},children:O.map((function(e,t){return(0,Pt.jsx)(Wb,{fill:e.fill},e.nombre)}))})]})})}):(0,Pt.jsx)("p",{className:"text-sm text-gray-500 py-8 text-center",children:"No hay montos por mtodo de pago para mostrar."})]}),O.length>0&&(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[(0,Pt.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Distribucin por mtodo"}),(0,Pt.jsx)("div",{className:"h-72",children:(0,Pt.jsx)(lo,{width:"100%",height:"100%",children:(0,Pt.jsxs)(Zj,{children:[(0,Pt.jsx)(Qj,{data:O,dataKey:"monto",nameKey:"nombre",cx:"50%",cy:"50%",outerRadius:100,label:function(e){var t=e.nombre,r=e.monto;return"".concat(t,": $").concat(Number(r).toLocaleString("es",{maximumFractionDigits:0}))},children:O.map((function(e,t){return(0,Pt.jsx)(Wb,{fill:e.fill},e.nombre)}))}),(0,Pt.jsx)(Zc,{formatter:function(e){return"$".concat(Number(e).toLocaleString("es",{minimumFractionDigits:2,maximumFractionDigits:2}))}}),(0,Pt.jsx)(hu,{})]})})})]})]}),x&&x.cierres&&x.cierres.length>0&&!C&&(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:[(0,Pt.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,Pt.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["Detalle por cierre (",x.cierres.length," registro(s))"]})}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pt.jsx)("thead",{className:"bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Usuario"}),(0,Pt.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),(0,Pt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"N ventas"}),(0,Pt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Efectivo"}),(0,Pt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Dbito"}),(0,Pt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Transferencia"}),(0,Pt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Biopago"}),(0,Pt.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:x.cierres.map((function(e){var t,r,n,a,o,i,s,c,l;return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-gray-800",children:null!==(t=null!==(r=null===(n=e.usuario)||void 0===n?void 0:n.usuario)&&void 0!==r?r:e.id_usuario)&&void 0!==t?t:""}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600",children:e.fecha}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right text-gray-800",children:null!==(a=e.numventas)&&void 0!==a?a:0}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right text-gray-700",children:null!==(o=e.efectivo)&&void 0!==o?o:"0.00"}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right text-gray-700",children:null!==(i=e.debito)&&void 0!==i?i:"0.00"}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right text-gray-700",children:null!==(s=e.transferencia)&&void 0!==s?s:"0.00"}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right text-gray-700",children:null!==(c=e.caja_biopago)&&void 0!==c?c:"0.00"}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right font-medium text-gray-800",children:null!==(l=e.precio)&&void 0!==l?l:"0.00"})]},e.id)}))}),(0,Pt.jsx)("tfoot",{className:"bg-gray-100 font-medium",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm",colSpan:2,children:"Total"}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right",children:x.numventas}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right",children:x.efectivo}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right",children:x.debito}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right",children:x.transferencia}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right",children:x.caja_biopago}),(0,Pt.jsx)("td",{className:"px-4 py-2 text-sm text-right",children:x.precio})]})})]})})]}),x&&x.cierres&&0===x.cierres.length&&!y&&(0,Pt.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-center text-amber-800",children:"No se encontraron cierres con los filtros indicados."})]})}const aw=function(e){var t=e.setProveedor,r=e.proveedordescripcion,n=e.setproveedordescripcion,a=e.proveedorrif,o=e.setproveedorrif,i=e.proveedordireccion,s=e.setproveedordireccion,c=e.proveedortelefono,l=e.setproveedortelefono,u=e.setIndexSelectProveedores,d=e.indexSelectProveedores,f=e.qBuscarProveedor,h=e.setQBuscarProveedor,p=e.proveedoresList,m=e.delProveedor,g=e.setView,x=function(e){var t=e.currentTarget.attributes["data-index"].value;u(t==d?null:t)};return(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsxs)("div",{className:"container",children:[(0,Pt.jsxs)("h1",{children:[" ",(0,Pt.jsxs)("span",{className:"pointer",onClick:function(){return g("SelectFacturasInventario")},children:[(0,Pt.jsx)("i",{className:"fa fa-arrow-left"})," Volver a Facturas"]})]}),(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsxs)("h1",{children:["Proveedores ",(0,Pt.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(){n(""),o(""),s(""),l(""),u(null)},children:"Nuevo"})]}),(0,Pt.jsx)("div",{className:"",children:(0,Pt.jsxs)("div",{className:"input-group ",children:[(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:f,onChange:function(e){return h(e.target.value)}}),(0,Pt.jsx)("div",{className:"input-group-prepend",children:(0,Pt.jsx)("button",{className:"btn btn-outline-secondary",type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-search"})})})]})}),p.length?p.map((function(e,t){return(0,Pt.jsxs)("div",{onClick:x,"data-index":t,className:(d==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,Pt.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("small",{children:["ID.",e.id]})}),(0,Pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{children:e.rif})}),(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{className:"",children:e.telefono})})]})]}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("div",{className:"",children:(0,Pt.jsx)("h5",{className:"card-title",children:(0,Pt.jsx)("b",{children:e.descripcion})})}),(0,Pt.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,Pt.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,Pt.jsx)("i",{children:"Sin resultados!"})})]}),(0,Pt.jsx)("div",{className:"col",children:(0,Pt.jsxs)("form",{onSubmit:t,children:[(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Descripcin"}),(0,Pt.jsx)("input",{type:"text",value:r,onChange:function(e){return n(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"RIF"}),(0,Pt.jsx)("input",{type:"text",value:a,onChange:function(e){return o(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Direccin"}),(0,Pt.jsx)("input",{type:"text",value:i,onChange:function(e){return s(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Telfono"}),(0,Pt.jsx)("input",{type:"text",value:c,onChange:function(e){return l(e.target.value)},className:"form-control"})]}),(0,Pt.jsx)("div",{className:"form-group mt-1",children:null==d?(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,Pt.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:m,type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]})})]})})]})]})})};const ow=function(e){var t=e.moneda,r=(e.setshowModalFacturas,e.facturas),n=e.factqBuscar,a=e.setfactqBuscar,o=e.factqBuscarDate,i=e.setfactqBuscarDate,s=e.factsubView,c=e.setfactsubView,l=e.factSelectIndex,u=e.setfactSelectIndex,d=e.factOrderBy,f=e.setfactOrderBy,h=e.factOrderDescAsc,p=e.setfactOrderDescAsc,m=e.setfactInpdescripcion,g=(e.factInpdescripcion,e.factInpid_proveedor),x=e.setfactInpid_proveedor,v=e.factInpnumfact,b=e.setfactInpnumfact,y=e.factInpmonto,_=e.setfactInpmonto,j=e.factInpfechavencimiento,w=e.setfactInpfechavencimiento,N=e.factInpnumnota,E=e.setfactInpnumnota,C=e.factInpsubtotal,S=e.setfactInpsubtotal,O=e.factInpdescuento,A=e.setfactInpdescuento,P=e.factInpmonto_gravable,D=e.setfactInpmonto_gravable,I=e.factInpmonto_exento,T=e.setfactInpmonto_exento,M=e.factInpiva,k=e.setfactInpiva,R=e.factInpfechaemision,B=e.setfactInpfechaemision,L=e.factInpfecharecepcion,F=e.setfactInpfecharecepcion,U=e.factInpnota,W=e.setfactInpnota,V=e.setFactura,z=e.proveedoresList,K=e.number,G=(e.factInpestatus,e.setfactInpestatus),q=e.delFactura,H=e.delItemFact,$=e.verDetallesFactura,Y=(e.setsubViewInventario,e.saveFactura,e.setmodFact,e.modFact),X=e.qBuscarProveedor,Q=e.setQBuscarProveedor,Z=e.setIndexSelectProveedores,J=e.indexSelectProveedores,ee=(e.setPagoProveedor,e.tipopagoproveedor,e.settipopagoproveedor,e.montopagoproveedor,e.setmontopagoproveedor,e.getPagoProveedor,e.pagosproveedor,e.delPagoProveedor,e.subViewInventario),te=(e.setView,e.sendFacturaCentral,e.allProveedoresCentral),re=e.getAllProveedores,ne=(e.factInpImagen,e.setfactInpImagen),ae=e.verDetallesImagenFactura,oe=(e.productosInventario,e.guardarNuevoProductoLoteFact,e.inputBuscarInventario),ie=e.setQBuscarInventario,se=e.qBuscarInventario,ce=e.Invnum,le=e.setInvnum,ue=e.InvorderBy,de=e.setInvorderBy,fe=(e.buscarInventario,e.changeInventario,e.changeInventarioNewFact),he=function(e){e==d?p("desc"==h?"asc":"desc"):f(e)},pe=function(e){return!e||"delete"===e};return(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("section",{className:"",children:(0,Pt.jsx)("div",{className:"container-fluid",children:(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-3",children:["proveedor"==Y?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar proveedor...",value:X,onChange:function(e){return Q(e.target.value)}}),z.length?z.map((function(e,t){return(0,Pt.jsxs)("div",{onClick:function(){return Z(t)},className:(J==t?"bg-sinapsis":"bg-light text-secondary")+" card mt-2 pointer",children:[(0,Pt.jsxs)("div",{className:"card-header flex-row row justify-content-between",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("small",{children:["ID.",e.id]})}),(0,Pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{children:e.rif})}),(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{className:"",children:e.telefono})})]})]}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("div",{className:"",children:(0,Pt.jsx)("h5",{className:"card-title",children:(0,Pt.jsx)("b",{children:e.descripcion})})}),(0,Pt.jsx)("p",{className:"card-text"})]})]},e.id)})):(0,Pt.jsx)("div",{className:"h3 text-center text-dark mt-2",children:(0,Pt.jsx)("i",{children:"Sin resultados!"})})]}):null,"factura"==Y?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar factura...",value:n,onChange:function(e){return a(e.target.value)}}),(0,Pt.jsx)("input",{type:"date",className:"form-control",value:o,onChange:function(e){return i(e.target.value)}}),"factura"==Y?(0,Pt.jsxs)("button",{className:"btn-sm btn btn-success",onClick:function(){return u(null),c("agregar"),m(""),x(""),b(""),w(""),G("0"),E(""),S(""),A(""),D(""),T(""),k(""),B(""),F(""),void W("")},children:[" ",(0,Pt.jsx)("i",{className:"fa fa-plus"}),"    "]}):null]}),(0,Pt.jsxs)("div",{className:" mb-1 mt-1 btn-group w-100",children:[(0,Pt.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("id")},children:["ID","id"==d?(0,Pt.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,Pt.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("numfact")},children:["Num.Fact.","numfact"==d?(0,Pt.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,Pt.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("id_proveedor")},children:["Proveedor","id_proveedor"==d?(0,Pt.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,Pt.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("monto")},children:["Monto","monto"==d?(0,Pt.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,Pt.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("estatus")},children:["Estatus","estatus"==d?(0,Pt.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]}),(0,Pt.jsxs)("span",{className:"btn-sm btn btn-secondary",onClick:function(){return he("created_at")},children:["Fecha","created_at"==d?(0,Pt.jsx)("i",{className:"desc"==h?"fa fa-arrow-up":"fa fa-arrow-down"}):null]})]}),r&&r.length?r.map((function(e,n){return(0,Pt.jsxs)("div",{className:"text-secondary mb-3 pointer shadow p-2",children:[(0,Pt.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,Pt.jsx)("small",{className:"text-muted fst-italic",children:e.created_at}),(0,Pt.jsxs)("span",{className:(0==e.estatus?"btn-danger":1==e.estatus?"btn-warning":2==e.estatus?"btn-success":"")+" btn-sm btn pointer",children:[0==e.estatus?"CREADA":"",1==e.estatus?"ENVIADA":"",2==e.estatus?"PROCESADA":""]})]}),(0,Pt.jsx)("div",{children:(0,Pt.jsx)("div",{onClick:function(){return function(e){u(e),c("detalles")}(n)},className:"",children:(0,Pt.jsx)("span",{className:(n==l?"btn-success":"btn-sinapsis")+" w-100 btn fs-3 pointer",children:e.numfact})})}),(0,Pt.jsx)("p",{children:e.proveedor?e.proveedor.descripcion:null}),(0,Pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Pt.jsx)("div",{className:"btn-group",children:(0,Pt.jsx)("button",{className:"btn btn fs-3 btn-sinapsis",onClick:function(){return function(e,t){if(u(e),c(t),r[e]){var n=r[e];x(n.id_proveedor),b(n.numfact),m(n.descripcion),_(n.monto),w(n.fechavencimiento),G(n.estatus)}}(n,"agregar")},children:(0,Pt.jsx)("i",{className:"fa fa-pencil"})})}),(0,Pt.jsxs)("div",{children:[" ",(0,Pt.jsxs)("span",{className:"text-muted fs-4",children:[t(e.basefact)," / "]}),"  ",(0,Pt.jsx)("span",{className:"text-success fs-3",children:t(e.monto)})]})]})]},e.id)})):null]}):null]}),"factura"==Y?(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsx)("div",{className:"btn-group mb-4",children:(0,Pt.jsx)("button",{className:"btn "+("detalles"==s?"btn-success":"btn-outline-sinapsis"),onClick:function(){return c("detalles")},children:"Detalles"})}),"agregar"==s?(0,Pt.jsxs)("form",{onSubmit:V,children:[null==l?(0,Pt.jsx)("h3",{children:"Registrar Factura"}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("h3",{children:["Editar Factura ",(0,Pt.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return u(null)},children:"Cancelar"})]}),(0,Pt.jsx)("h1",{className:"text-right",children:r[l]?r[l].numfact:null}),(0,Pt.jsx)("h1",{className:"text-right",children:r[l]?r[l].proveedor.descripcion:null})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"formFile",className:"form-label",children:"Adjunte FOTO NITIDA, COMPLETA Y CENTRADA DE LA FACTURA"}),(0,Pt.jsx)("input",{type:"file",required:!0,className:"form-control",id:"formFile",onChange:function(e){return ne(e.target.files[0])}})]}),(0,Pt.jsx)("div",{className:"form-group mt-1",children:(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsx)("div",{className:"input-group-text",children:"Proveedor"}),(0,Pt.jsxs)("select",{className:"form-control",required:!0,onChange:function(e){return x(e.target.value)},value:g,children:[(0,Pt.jsx)("option",{value:"",children:"-"}),te.length?te.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.descripcion},e.id)})):null]}),(0,Pt.jsx)("button",{type:"button",className:"btn "+("proveedores"==ee?"btn-success":"btn-outline-success"),onClick:function(){return re()},children:(0,Pt.jsx)("i",{className:"fa fa-search"})})]})}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Nmero de Factura (OBLIGATORIO)"}),(0,Pt.jsx)("input",{type:"text",value:v,onChange:function(e){return b(e.target.value)},required:!0,className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Nmero de Nota (SI APLICA)"}),(0,Pt.jsx)("input",{type:"text",value:N,onChange:function(e){return E(e.target.value)},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"mt-3 mb-3 d-flex flex-row",children:[(0,Pt.jsxs)("div",{className:"form-group w-30",children:[(0,Pt.jsx)("label",{className:"fw-bold",htmlFor:"",children:"SUBTOTAL"}),(0,Pt.jsx)("input",{type:"text",placeholder:"SOLO DLARES",value:C,onChange:function(e){return S(K(e.target.value))},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group w-30",children:[(0,Pt.jsx)("label",{className:"fw-bold",htmlFor:"",children:"DESCUENTO"}),(0,Pt.jsx)("input",{type:"text",placeholder:"SOLO DLARES",value:O,onChange:function(e){return A(K(e.target.value))},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group w-30",children:[(0,Pt.jsx)("label",{className:"fw-bold",htmlFor:"",children:"MONTO GRAVABLE"}),(0,Pt.jsx)("input",{type:"text",placeholder:"SOLO DLARES",value:P,onChange:function(e){return D(K(e.target.value))},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group w-30",children:[(0,Pt.jsx)("label",{className:"fw-bold",htmlFor:"",children:"MONTO EXENTO"}),(0,Pt.jsx)("input",{type:"text",placeholder:"SOLO DLARES",value:I,onChange:function(e){return T(K(e.target.value))},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group w-30",children:[(0,Pt.jsx)("label",{className:"fw-bold",htmlFor:"",children:"IVA"}),(0,Pt.jsx)("input",{type:"text",placeholder:"SOLO DLARES",value:M,onChange:function(e){return k(K(e.target.value))},className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group w-30",children:[(0,Pt.jsx)("label",{className:"fw-bold",htmlFor:"",children:"TOTAL"}),(0,Pt.jsx)("input",{type:"text",placeholder:"SOLO DLARES",value:y,onChange:function(e){return _(K(e.target.value))},required:!0,className:"form-control"})]})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Fecha de Emisin"}),(0,Pt.jsx)("input",{type:"date",value:R,onChange:function(e){return B(e.target.value)},required:!0,className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Fecha de Vencimiento"}),(0,Pt.jsx)("input",{type:"date",value:j,onChange:function(e){return w(e.target.value)},required:!0,className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"Fecha de Recepcin"}),(0,Pt.jsx)("input",{type:"date",value:L,onChange:function(e){return F(e.target.value)},required:!0,className:"form-control"})]}),(0,Pt.jsxs)("div",{className:"form-group",children:[(0,Pt.jsx)("label",{htmlFor:"",children:"NOTA"}),(0,Pt.jsx)("textarea",{type:"text",value:U,onChange:function(e){return W(e.target.value)},className:"form-control"})]}),(0,Pt.jsx)("div",{className:"form-group mt-2",children:null==l?(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-block",type:"submit",children:"Guardar"}):(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-sinapsis btn-block",type:"submit",children:"Editar"}),(0,Pt.jsx)("button",{className:"btn btn-outline-danger btn-block",onClick:q,type:"button",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]})})]}):null,"detalles"==s&&r[l]?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("small",{className:"text-muted fst-italic",children:["Items. ",r[l].items?r[l].items.length:null]}),(0,Pt.jsx)("br",{}),(0,Pt.jsx)("span",{className:"fw-bold",children:r[l].proveedor?r[l].proveedor.descripcion:null}),(0,Pt.jsx)("p",{children:r[l].descripcion})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsxs)("div",{className:"btn-group mb-2",children:[(0,Pt.jsxs)("button",{className:"btn btn-outline-success",children:[(0,Pt.jsx)("b",{children:"SUBTOTAL:"})," ",t(r[l].subtotal)]}),(0,Pt.jsxs)("button",{className:"btn btn-outline-success",children:[(0,Pt.jsx)("b",{children:"DESCUENTO:"})," ",t(r[l].descuento)]}),(0,Pt.jsxs)("button",{className:"btn btn-outline-success",children:[(0,Pt.jsx)("b",{children:"GRAVABLE:"})," ",t(r[l].monto_gravable)]}),(0,Pt.jsxs)("button",{className:"btn btn-outline-success",children:[(0,Pt.jsx)("b",{children:"EXENTO:"})," ",t(r[l].monto_exento)]}),(0,Pt.jsxs)("button",{className:"btn btn-outline-success",children:[(0,Pt.jsx)("b",{children:"IVA:"})," ",t(r[l].iva)]}),(0,Pt.jsxs)("button",{className:"btn btn-outline-success",children:[(0,Pt.jsx)("b",{children:"TOTAL:"})," ",t(r[l].monto)]})]}),(0,Pt.jsx)("br",{}),(0,Pt.jsxs)("div",{className:"w-100 d-flex justify-content-between",children:[(0,Pt.jsxs)("span",{className:"text-muted fst-italic",children:[(0,Pt.jsx)("b",{children:"EMITIDA:"})," ",r[l].fechaemision]}),(0,Pt.jsxs)("span",{className:"text-muted fst-italic",children:[(0,Pt.jsx)("b",{children:"RECIBIDA:"})," ",r[l].fecharecepcion]}),(0,Pt.jsxs)("span",{className:"text-muted fst-italic",children:[(0,Pt.jsx)("b",{children:"VENCE:"})," ",r[l].fechavencimiento]})]})]})]}),(0,Pt.jsxs)("div",{className:"d-flex flex-fill",children:[(0,Pt.jsx)("div",{className:"flex-fill",children:(0,Pt.jsx)("input",{type:"text",ref:oe,className:"form-control",placeholder:"Buscar...(esc)",onChange:function(e){return ie(e.target.value)},value:se})}),(0,Pt.jsx)("div",{className:"flex-fill",children:(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsxs)("select",{value:ce,onChange:function(e){return le(e.target.value)},className:"form-control",children:[(0,Pt.jsx)("option",{value:"25",children:"Num.25"}),(0,Pt.jsx)("option",{value:"50",children:"Num.50"}),(0,Pt.jsx)("option",{value:"100",children:"Num.100"}),(0,Pt.jsx)("option",{value:"500",children:"Num.500"}),(0,Pt.jsx)("option",{value:"2000",children:"Num.2000"}),(0,Pt.jsx)("option",{value:"10000",children:"Num.100000"})]}),(0,Pt.jsxs)("select",{value:ue,onChange:function(e){return de(e.target.value)},className:"form-control",children:[(0,Pt.jsx)("option",{value:"asc",children:"Orden Asc"}),(0,Pt.jsx)("option",{value:"desc",children:"Orden Desc"})]})]})})]}),(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{}),(0,Pt.jsx)("th",{children:"ID"}),(0,Pt.jsx)("th",{children:"ALTERNO"}),(0,Pt.jsx)("th",{children:"BARRAS"}),(0,Pt.jsx)("th",{children:"UNIDAD"}),(0,Pt.jsx)("th",{children:"DESCRIPCIN"}),(0,Pt.jsx)("th",{className:"cell1 bg-ct",children:"CT"}),(0,Pt.jsx)("th",{className:"cell1 bg-basefact",children:"BASE FACT"}),(0,Pt.jsx)("th",{className:"cell1 bg-base",children:"BASE"}),(0,Pt.jsx)("th",{className:"cell1 bg-venta",children:"VENTA"})]})}),(0,Pt.jsxs)("tbody",{children:[r[l].items?r[l].items.map((function(e,r){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("i",{className:"fa fa-times text-danger",onClick:function(){return H(e.producto.id)}})}),(0,Pt.jsx)("td",{className:"",children:r+1}),(0,Pt.jsx)("td",{className:"",children:e.producto.codigo_proveedor}),(0,Pt.jsx)("td",{className:"",children:e.producto.codigo_barras}),(0,Pt.jsx)("td",{className:"",children:e.producto.unidad}),(0,Pt.jsx)("td",{className:"",children:e.producto.descripcion}),pe(e.producto.type)?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("td",{className:"cell1 bg-ct",children:[e.cantidad,(0,Pt.jsx)("br",{}),(0,Pt.jsxs)("span",{className:"text-muted fst-italic",children:["(",e.producto.cantidad,")"]})]}),(0,Pt.jsx)("td",{className:"cell1 bg-basefact",children:t(e.producto.precio3)}),(0,Pt.jsx)("td",{className:"cell1 bg-base",children:t(e.producto.precio_base)}),(0,Pt.jsx)("td",{className:"cell1 bg-venta",children:t(e.producto.precio)})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{className:"cell1 bg-ct",children:(0,Pt.jsx)("input",{type:"text",required:!0,disabled:pe(e.producto.type),className:"form-control form-control-sm "+(e.producto.cantidadfact?null:"invalid"),value:e.producto.cantidadfact?e.producto.cantidadfact:"",onChange:function(t){return fe(K(t.target.value),r,e.producto.id,"changeInput","cantidadfact")},placeholder:"cantidad..."})}),(0,Pt.jsx)("td",{className:"cell1 bg-basefact",children:(0,Pt.jsx)("input",{type:"text",required:!0,disabled:pe(e.producto.type),className:"form-control form-control-sm "+(e.producto.precio3?null:"invalid"),value:e.producto.precio3?e.producto.precio3:"",onChange:function(t){return fe(K(t.target.value),r,e.producto.id,"changeInput","precio3")},placeholder:"Base FACTURA..."})}),(0,Pt.jsx)("td",{className:"cell1 bg-base",children:(0,Pt.jsx)("input",{type:"text",required:!0,disabled:pe(e.producto.type),className:"form-control form-control-sm "+(e.producto.precio_base?null:"invalid"),value:e.producto.precio_base?e.producto.precio_base:"",onChange:function(t){return fe(K(t.target.value),r,e.producto.id,"changeInput","precio_base")},placeholder:"Base"})}),(0,Pt.jsx)("td",{className:"cell1 bg-venta",children:(0,Pt.jsx)("input",{type:"text",required:!0,disabled:pe(e.producto.type),className:"form-control form-control-sm "+(e.producto.precio?null:"invalid"),value:e.producto.precio?e.producto.precio:"",onChange:function(t){return fe(K(t.target.value),r,e.producto.id,"changeInput","precio")},placeholder:"Venta"})})]}),(0,Pt.jsx)("td",{className:"cell1",children:(0,Pt.jsxs)("div",{className:"d-flex justify-content-between",children:[e.producto.type?null:(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return fe(null,r,e.producto.id,"delMode")},children:(0,Pt.jsx)("i",{className:"fa fa-trash"})}),(0,Pt.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return fe(null,r,e.producto.id,"update")},children:(0,Pt.jsx)("i",{className:"fa fa-pencil"})})]}),"new"===e.producto.type?(0,Pt.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return fe(null,r,e.producto.id,"delNew")},children:(0,Pt.jsx)("i",{className:"fa fa-times"})}):null,"update"===e.producto.type?(0,Pt.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return fe(null,r,e.producto.id,"delModeUpdateDelete")},children:(0,Pt.jsx)("i",{className:"fa fa-times"})}):null,"delete"===e.producto.type?(0,Pt.jsx)("span",{className:"btn-sm btn btn-danger",onClick:function(){return fe(null,r,e.producto.id,"delModeUpdateDelete")},children:(0,Pt.jsx)("i",{className:"fa fa-arrow-left"})}):null]})})]},e.producto.id)})):null,(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{colSpan:6}),(0,Pt.jsx)("td",{}),(0,Pt.jsx)("td",{className:"text-basefact fs-4",children:t(r[l].basefact)}),(0,Pt.jsx)("td",{className:"text-base fs-4",children:t(r[l].summonto_base_clean)}),(0,Pt.jsx)("td",{className:"text-venta fs-4",children:t(r[l].summonto_clean)})]})]})]}),(0,Pt.jsxs)("div",{className:"m-5 d-flex justify-content-center align-items-center",children:[(0,Pt.jsxs)("button",{className:"btn btn lg btn-xl btn-outline-success",onClick:$,children:["Ver todo ",(0,Pt.jsx)("i",{className:"fa fa-send"})]}),(0,Pt.jsxs)("button",{className:"btn btn lg btn-xl btn-outline-sinapsis",onClick:ae,children:["Ver IMAGEN ",(0,Pt.jsx)("i",{className:"fa fa-eyes"})]})]})]}):null]}):null]})})})})};const iw=function(e){var t=e.saveFactura,r=e.setshowModalFacturas,n=(e.showModalFacturas,e.facturas),a=e.factqBuscar,o=e.setfactqBuscar,i=e.factqBuscarDate,s=e.setfactqBuscarDate,c=e.factsubView,l=e.setfactsubView,u=e.factSelectIndex,d=e.setfactSelectIndex,f=e.factOrderBy,h=e.setfactOrderBy,p=e.factOrderDescAsc,m=e.setfactOrderDescAsc,g=e.factInpid_proveedor,x=e.setfactInpid_proveedor,v=e.factInpnumfact,b=e.setfactInpnumfact,y=e.factInpdescripcion,_=e.setfactInpdescripcion,j=e.factInpmonto,w=e.setfactInpmonto,N=e.factInpfechavencimiento,E=e.setfactInpfechavencimiento,C=e.setFactura,S=e.proveedoresList,O=e.number,A=e.factInpestatus,P=e.setfactInpestatus,D=e.delFactura,I=e.delItemFact,T=e.verDetallesFactura,M=e.setsubViewInventario,k=e.moneda,R=e.setmodFact,B=e.modFact,L=e.qBuscarProveedor,F=e.setQBuscarProveedor,U=e.setIndexSelectProveedores,W=e.indexSelectProveedores,V=e.setPagoProveedor,z=e.tipopagoproveedor,K=e.settipopagoproveedor,G=e.montopagoproveedor,q=e.setmontopagoproveedor,H=e.getPagoProveedor,$=e.pagosproveedor,Y=e.delPagoProveedor,X=e.factInpImagen,Q=e.setfactInpImagen;return(0,Pt.jsx)("div",{className:"container-fluid",children:(0,Pt.jsx)(ow,{factInpImagen:X,setfactInpImagen:Q,delPagoProveedor:Y,pagosproveedor:$,getPagoProveedor:H,setPagoProveedor:V,tipopagoproveedor:z,settipopagoproveedor:K,montopagoproveedor:G,setmontopagoproveedor:q,setmodFact:R,modFact:B,qBuscarProveedor:L,setQBuscarProveedor:F,setIndexSelectProveedores:U,indexSelectProveedores:W,moneda:k,saveFactura:t,setsubViewInventario:M,setshowModalFacturas:r,facturas:n,verDetallesFactura:T,factqBuscar:a,setfactqBuscar:o,factqBuscarDate:i,setfactqBuscarDate:s,factsubView:c,setfactsubView:l,factSelectIndex:u,setfactSelectIndex:d,factOrderBy:f,setfactOrderBy:h,factOrderDescAsc:p,setfactOrderDescAsc:m,factInpid_proveedor:g,setfactInpid_proveedor:x,factInpnumfact:v,setfactInpnumfact:b,factInpdescripcion:y,setfactInpdescripcion:_,factInpmonto:j,setfactInpmonto:w,factInpfechavencimiento:N,setfactInpfechavencimiento:E,setFactura:C,proveedoresList:S,number:O,factInpestatus:A,setfactInpestatus:P,delFactura:D,delItemFact:I})})};const sw=function(e){e.qFallas,e.setqFallas;var t=e.orderCatFallas,r=e.setorderCatFallas,n=(e.orderSubCatFallas,e.setorderSubCatFallas,e.ascdescFallas,e.setascdescFallas,e.fallas),a=e.delFalla,o=e.openReporteFalla;return(0,Pt.jsx)("div",{className:"container",children:(0,Pt.jsxs)("div",{className:"col",children:[(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Pt.jsx)("h1",{children:"Fallas"}),(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn "+("proveedor"==t?"btn-dark":"btn-outline-success"),onClick:function(){return r("proveedor")},children:"Por Proveedor"}),(0,Pt.jsx)("button",{className:"btn "+("categoria"==t?"btn-dark":"btn-outline-success"),onClick:function(){return r("categoria")},children:"Por Categora"})]})]}),(0,Pt.jsx)("div",{className:"container mt-4",children:n&&Object.entries(n)?Object.entries(n).map((function(e,t){return(0,Pt.jsxs)("div",{className:"m-3",children:[(0,Pt.jsxs)("h3",{children:[e[0]?e[0]:null," ",(0,Pt.jsx)("button",{className:"btn btn-outline-success",onClick:function(){return o(e[1]&&e[1][0]?e[1][0].producto.id_proveedor:null)},children:(0,Pt.jsx)("i",{className:"fa fa-file"})})]}),(0,Pt.jsxs)("table",{className:"table m-3",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"cell1",children:"ID"}),(0,Pt.jsx)("th",{className:"cell4",children:"Descripcin"}),(0,Pt.jsx)("th",{className:"cell2",children:"Proveedor"}),(0,Pt.jsx)("th",{className:"cell1",children:"Ct."}),(0,Pt.jsx)("th",{className:"cell2",children:"Fecha"})]})}),(0,Pt.jsx)("tbody",{children:e[1]?e[1].map((function(e){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:e.id}),(0,Pt.jsx)("td",{children:e.producto.descripcion}),(0,Pt.jsx)("td",{children:e.producto.proveedor.descripcion}),(0,Pt.jsx)("td",{children:e.producto.cantidad}),(0,Pt.jsx)("td",{children:e.created_at}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("i",{className:"fa fa-times text-danger","data-id":e.id,onClick:a})})]},e.id)})):null})]})]},t)})):null})]})})};function cw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function uw(e){var t=e.setporcenganancia,r=e.productosInventario,n=e.qBuscarInventario,a=e.setQBuscarInventario,o=e.type,i=e.changeInventario,s=e.printTickedPrecio,c=e.Invnum,l=e.setInvnum,u=e.InvorderColumn,d=e.setInvorderColumn,f=e.InvorderBy,h=e.setInvorderBy,p=e.inputBuscarInventario,m=e.guardarNuevoProductoLote,x=e.proveedoresList,v=e.number,b=e.refsInpInvList,y=(e.categorias,e.setSameGanancia),_=(e.setSameCat,e.setSamePro,e.sameCatValue,e.sameProValue,e.busquedaAvanazadaInv),j=(e.setbusquedaAvanazadaInv,e.busqAvanzInputsFun),w=e.busqAvanzInputs,N=e.buscarInvAvanz,E=(e.setCtxBulto,e.setStockMin,e.setPrecioAlterno,e.reporteInventario),C=(e.exportPendientes,e.openmodalhistoricoproducto),S=e.showmodalhistoricoproducto,O=e.setshowmodalhistoricoproducto,A=e.fecha1modalhistoricoproducto,P=e.setfecha1modalhistoricoproducto,D=e.fecha2modalhistoricoproducto,I=e.setfecha2modalhistoricoproducto,T=e.usuariomodalhistoricoproducto,M=e.setusuariomodalhistoricoproducto,k=e.usuariosData,R=e.datamodalhistoricoproducto,B=(e.setdatamodalhistoricoproducto,e.getmovientoinventariounitario),L=e.user,F=e.selectRepleceProducto,U=(e.replaceProducto,e.setreplaceProducto,e.saveReplaceProducto,e.getPorcentajeInventario),W=(e.cleanInventario,e.openBarcodeScan);(0,g.v)("esc",(function(){p.current.value="",p.current.focus()}),{enableOnTags:["INPUT","SELECT"],filter:!1},[]);var V,z,K,G;return(0,Pt.jsxs)("div",{className:"inventario-forzado",children:[S&&(0,Pt.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center overflow-x-hidden overflow-y-auto",style:{zIndex:1500},children:[(0,Pt.jsx)("div",{className:"fixed inset-0 transition-opacity bg-black bg-opacity-50",onClick:function(){return O(!1)},"aria-hidden":"true"}),(0,Pt.jsxs)("div",{className:"relative w-full max-w-8xl mx-4 my-6 bg-white rounded-lg shadow-xl max-h-[90vh] flex flex-col transform transition-all",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 rounded-t-lg",children:[(0,Pt.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Historial de Producto"}),(0,Pt.jsx)("button",{type:"button",className:"p-2 text-gray-400 transition-colors duration-200 rounded-lg hover:text-gray-600 hover:bg-gray-100",onClick:function(){return O(!1)},"aria-label":"Cerrar modal",children:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pt.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(K=R.length>0?R[0].id_producto:null,G=K?r.find((function(e){return e.id===K})):null,G?(0,Pt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-blue-50",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs font-medium tracking-wide text-gray-500 uppercase",children:"ID Producto"}),(0,Pt.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:G.id})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs font-medium tracking-wide text-gray-500 uppercase",children:"Cdigo de Barras"}),(0,Pt.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:G.codigo_barras||"N/A"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs font-medium tracking-wide text-gray-500 uppercase",children:"Cdigo Proveedor"}),(0,Pt.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:G.codigo_proveedor||"N/A"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs font-medium tracking-wide text-gray-500 uppercase",children:"Descripcin"}),(0,Pt.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",title:G.descripcion,children:G.descripcion||"N/A"})]})]})}):null),(0,Pt.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"p-4 mb-6 rounded-lg bg-gray-50",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Usuario"}),(0,Pt.jsxs)("select",{className:"w-full px-3 py-2 text-sm bg-white border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",value:T,onChange:function(e){return M(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione Usuario"}),(null==k?void 0:k.length)&&k.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.usuario},e.id)}))]})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha Inicio"}),(0,Pt.jsx)("input",{type:"date",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",value:A,onChange:function(e){return P(e.target.value)}})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha Fin"}),(0,Pt.jsx)("input",{type:"date",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",value:D,onChange:function(e){return I(e.target.value)}})]})]}),(0,Pt.jsx)("div",{className:"flex justify-end mt-4",children:(0,Pt.jsxs)("button",{className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white transition-colors duration-200 bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:function(){return B()},children:[(0,Pt.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Buscar"]})})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-4",children:[(0,Pt.jsx)("div",{className:"lg:col-span-3",children:(0,Pt.jsx)("div",{className:"overflow-x-auto bg-white border border-gray-200 rounded-lg",children:(0,Pt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pt.jsx)("thead",{className:"bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Usuario"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Producto"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Origen"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Cantidad"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Ct. Despus"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase",children:"Fecha"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map((function(e,t){var r;return(0,Pt.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50 hover:bg-gray-100",children:[(0,Pt.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:(null===(r=e.usuario)||void 0===r?void 0:r.usuario)||"-"}),(0,Pt.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:e.id_producto}),(0,Pt.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:e.origen}),(0,Pt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium ".concat(e.cantidad<0?"text-red-600":"text-green-600"),children:[e.cantidad>0?"+":"",parseFloat(e.cantidad).toFixed(2)]}),(0,Pt.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:parseFloat(e.cantidadafter).toFixed(2)}),(0,Pt.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500 whitespace-nowrap",children:e.created_at})]},e.id)}))})]})})}),(0,Pt.jsx)("div",{className:"lg:col-span-1",children:(0,Pt.jsxs)("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[(0,Pt.jsxs)("h4",{className:"flex items-center mb-4 text-lg font-medium text-gray-900",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Resumen por Tipo"]}),(0,Pt.jsx)("div",{className:"space-y-3 overflow-y-auto",children:(V=function(e){var t={inItPd:"VENTA",delItemPedido:"ELI.VENTA",updItemPedido:"ACT.VENTA"};return t[e]?" (".concat(t[e],")"):""},z=R.reduce((function(e,t){var r,n=(r=t.origen)?r.replace(/#\d+/g,"").trim():"SIN_TIPO";return e[n]||(e[n]={total:0,positivos:0,negativos:0,count:0}),e[n].total+=parseFloat(t.cantidad||0),e[n].count+=1,t.cantidad>0?e[n].positivos+=parseFloat(t.cantidad):e[n].negativos+=parseFloat(t.cantidad),e}),{}),Object.entries(z).sort((function(e,t){var r=cw(e,2)[1],n=cw(t,2)[1];return Math.abs(n.total)-Math.abs(r.total)})).map((function(e){var t=cw(e,2),r=t[0],n=t[1];return(0,Pt.jsxs)("div",{className:"p-3 border border-gray-100 rounded-lg bg-gray-50",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pt.jsxs)("h5",{className:"text-sm font-medium text-gray-800 truncate",title:r,children:[r,V(r)]}),(0,Pt.jsx)("span",{className:"px-2 py-1 text-xs text-gray-500 bg-gray-200 rounded-full",children:n.count})]}),(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsxs)("div",{className:"text-sm font-semibold ".concat(n.total>0?"text-green-600":n.total<0?"text-red-600":"text-gray-600"),children:["Total: ",n.total>0?"+":"",n.total]}),n.positivos>0&&(0,Pt.jsxs)("div",{className:"text-xs text-green-600",children:[" +",n.positivos]}),n.negativos<0&&(0,Pt.jsxs)("div",{className:"text-xs text-red-600",children:[" ",n.negativos]})]})]},r)})))}),0===R.length&&(0,Pt.jsxs)("div",{className:"py-8 text-center",children:[(0,Pt.jsx)("svg",{className:"w-8 h-8 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,Pt.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Sin datos para resumir"})]})]})})]}),0===R.length&&(0,Pt.jsxs)("div",{className:"py-12 text-center",children:[(0,Pt.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,Pt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay datos"}),(0,Pt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No se encontraron movimientos para los filtros seleccionados."})]})]})]})]}),(0,Pt.jsx)("div",{className:"py-3 mb-4 bg-white shadow-sm toolbar sticky-top",children:(0,Pt.jsxs)("div",{className:"row g-3",children:[(0,Pt.jsx)("div",{className:"col-12 col-md-6",children:(0,Pt.jsx)("div",{className:"search-box",children:_?(0,Pt.jsx)("div",{className:"advanced-search",children:(0,Pt.jsxs)("div",{className:"row g-2",children:[(0,Pt.jsx)("div",{className:"col-12 col-md-4",children:(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsx)("span",{className:"input-group-text",children:(0,Pt.jsx)("i",{className:"fas fa-barcode"})}),(0,Pt.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return j(e,"codigo_barras")},value:w.codigo_barras,placeholder:"Cdigo de barras"})]})}),(0,Pt.jsx)("div",{className:"col-12 col-md-4",children:(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsx)("span",{className:"input-group-text",children:(0,Pt.jsx)("i",{className:"fas fa-hashtag"})}),(0,Pt.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return j(e,"codigo_proveedor")},value:w.codigo_proveedor,placeholder:"Cdigo proveedor"})]})}),(0,Pt.jsx)("div",{className:"col-12 col-md-4",children:(0,Pt.jsxs)("select",{className:"form-select",onChange:function(e){return j(e,"id_proveedor")},value:w.id_proveedor,children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione Proveedor"}),x.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.descripcion},e.id)}))]})})]})}):(0,Pt.jsxs)("div",{className:"input-group input-group-lg",children:[(0,Pt.jsx)("span",{className:"input-group-text",children:(0,Pt.jsx)("i",{className:"fas fa-search"})}),(0,Pt.jsx)("input",{type:"text",ref:p,className:"form-control",placeholder:"Buscar... (ESC para limpiar)",onChange:function(e){return a(e.target.value)},value:n}),(0,Pt.jsx)("span",{className:"input-group-text",onClick:function(){return W("qBuscarInventario")},children:(0,Pt.jsx)("i",{className:"fas fa-barcode"})})]})})}),(0,Pt.jsx)("div",{className:"col-12 col-md-6",children:(0,Pt.jsxs)("div",{className:"gap-2 d-flex flex-column flex-md-row justify-content-end",children:[(0,Pt.jsxs)("div",{className:"mb-2 btn-group w-100 w-md-auto mb-md-0",children:[(0,Pt.jsxs)("select",{className:"form-select",value:c,onChange:function(e){return l(e.target.value)},children:[(0,Pt.jsx)("option",{value:"25",children:"25 registros"}),(0,Pt.jsx)("option",{value:"50",children:"50 registros"}),(0,Pt.jsx)("option",{value:"100",children:"100 registros"}),(0,Pt.jsx)("option",{value:"500",children:"500 registros"}),(0,Pt.jsx)("option",{value:"2000",children:"2000 registros"}),(0,Pt.jsx)("option",{value:"10000",children:"10000 registros"})]}),(0,Pt.jsxs)("select",{className:"form-select",value:f,onChange:function(e){return h(e.target.value)},children:[(0,Pt.jsx)("option",{value:"asc",children:"Ascendente"}),(0,Pt.jsx)("option",{value:"desc",children:"Descendente"})]})]}),(0,Pt.jsxs)("div",{className:"btn-group w-100 w-md-auto",children:[(0,Pt.jsxs)("button",{className:"mb-2 btn btn-primary w-100 w-md-auto mb-md-0",onClick:U,children:[(0,Pt.jsx)("i",{className:"fas fa-percentage me-2"}),"% Inventariado"]}),(0,Pt.jsxs)("button",{className:"mb-2 btn btn-info w-100 w-md-auto mb-md-0",onClick:E,children:[(0,Pt.jsx)("i",{className:"fas fa-file-alt me-2"}),"Reporte"]}),L.iscentral&&(0,Pt.jsxs)("button",{className:"mb-2 btn btn-primary w-100 w-md-auto mb-md-0",onClick:function(){return i(null,null,null,"add")},children:[(0,Pt.jsx)("i",{className:"fas fa-plus me-2"}),"Nuevo (F2)"]}),_&&(0,Pt.jsxs)("button",{className:"mb-2 btn btn-primary w-100 w-md-auto mb-md-0",onClick:N,children:[(0,Pt.jsx)("i",{className:"fas fa-search me-2"}),"Buscar"]}),L.iscentral&&(0,Pt.jsxs)("button",{className:"btn btn-success w-100 w-md-auto",onClick:m,children:[(0,Pt.jsx)("i",{className:"fas fa-save me-2"}),"Guardar (F1)"]})]})]})})]})}),(0,Pt.jsx)("div",{className:"mb-3",children:(0,Pt.jsxs)("div",{className:"flex-wrap gap-2 d-flex",children:[(0,Pt.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pt.jsx)("span",{className:"badge bg-sinapsis me-2",children:(0,Pt.jsx)("i",{className:"fas fa-shield-alt"})}),(0,Pt.jsx)("small",{children:"Garanta"})]}),(0,Pt.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pt.jsx)("span",{className:"badge bg-info me-2",children:(0,Pt.jsx)("i",{className:"fas fa-clock"})}),(0,Pt.jsx)("small",{children:"Pendiente por Retirar"})]}),(0,Pt.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pt.jsx)("span",{className:"badge bg-secondary me-2",children:(0,Pt.jsx)("i",{className:"fas fa-paper-plane"})}),(0,Pt.jsx)("small",{children:"Pendiente por Enviar"})]})]})}),(0,Pt.jsx)("div",{className:"mb-3 d-md-none",children:(0,Pt.jsxs)("div",{className:"row g-2",children:[(0,Pt.jsx)("div",{className:"col-6",children:(0,Pt.jsxs)("select",{className:"form-select",value:u,onChange:function(e){return d(e.target.value)},children:[(0,Pt.jsx)("option",{value:"id",children:"ID"}),(0,Pt.jsx)("option",{value:"codigo_proveedor",children:"Cdigo Alterno"}),(0,Pt.jsx)("option",{value:"codigo_barras",children:"Cdigo Barras"}),(0,Pt.jsx)("option",{value:"unidad",children:"Unidad"}),(0,Pt.jsx)("option",{value:"descripcion",children:"Descripcin"}),(0,Pt.jsx)("option",{value:"cantidad",children:"Cantidad"}),(0,Pt.jsx)("option",{value:"precio_base",children:"Precio Base"}),(0,Pt.jsx)("option",{value:"precio",children:"Precio Venta"})]})}),(0,Pt.jsx)("div",{className:"col-6",children:(0,Pt.jsxs)("select",{className:"form-select",value:f,onChange:function(e){return h(e.target.value)},children:[(0,Pt.jsx)("option",{value:"asc",children:"Ascendente"}),(0,Pt.jsx)("option",{value:"desc",children:"Descendente"})]})})]})}),(0,Pt.jsxs)("form",{ref:b,onSubmit:function(e){return e.preventDefault()},children:[(0,Pt.jsx)("div",{className:"table-responsive d-none d-md-block",children:(0,Pt.jsxs)("table",{className:"table table-hover",children:[(0,Pt.jsx)("thead",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{onClick:function(){return d("id")},children:"ID"}),(0,Pt.jsx)("th",{onClick:function(){return d("codigo_proveedor")},children:"CDIGO ALTERNO"}),(0,Pt.jsx)("th",{onClick:function(){return d("codigo_barras")},children:"CDIGO BARRAS"}),(0,Pt.jsx)("th",{onClick:function(){return d("unidad")},children:"UNIDAD"}),(0,Pt.jsx)("th",{onClick:function(){return d("descripcion")},children:"DESCRIPCIN"}),(0,Pt.jsx)("th",{children:(0,Pt.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pt.jsx)("span",{onClick:function(){return d("cantidad")},children:"CANTIDAD"}),(0,Pt.jsx)("span",{className:"mx-2",children:"/"}),(0,Pt.jsx)("span",{onClick:function(){return d("push")},children:"INVENTARIO"})]})}),(0,Pt.jsx)("th",{onClick:function(){return d("precio_base")},children:"PRECIO BASE"}),(0,Pt.jsx)("th",{children:(0,Pt.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,Pt.jsx)("span",{onClick:function(){return d("precio")},children:"PRECIO VENTA"}),(0,Pt.jsxs)("button",{className:"btn btn-sm btn-outline-success",onClick:y,children:[(0,Pt.jsx)("i",{className:"fas fa-percentage me-1"}),"% General"]})]})}),(0,Pt.jsx)("th",{children:"ACCIONES"})]})}),(0,Pt.jsx)("tbody",{children:r.map((function(e,r){return(0,Pt.jsxs)("tr",{className:"".concat(e.push?"table-success":"table-danger"," align-middle"),onDoubleClick:function(){e.push||i(null,r,e.id,"update")},children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("span",{className:"cursor-pointer text-primary",onClick:function(){return F(e.id)},children:e.id})}),o(e.type)?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{children:e.codigo_proveedor}),(0,Pt.jsx)("td",{children:e.codigo_barras}),(0,Pt.jsx)("td",{children:e.unidad}),(0,Pt.jsx)("td",{children:e.descripcion}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("div",{className:"gap-2 d-flex align-items-center",children:[(0,Pt.jsx)("span",{children:e.cantidad}),(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return C(e.id)},children:(0,Pt.jsx)("i",{className:"fas fa-history"})})]})}),(0,Pt.jsx)("td",{children:e.precio_base}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("div",{className:"d-flex flex-column",children:[(0,Pt.jsx)("span",{className:"fw-bold",children:e.precio}),(0,Pt.jsx)("small",{className:"text-success",children:(e.precio,e.precio_base,0)})]})})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",className:"form-control form-control-sm",value:e.codigo_proveedor||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","codigo_proveedor")},placeholder:"Cdigo proveedor..."})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.codigo_barras?"":"is-invalid"),value:e.codigo_barras||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","codigo_barras")},placeholder:"Cdigo barras..."})}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("select",{className:"form-control form-control-sm ".concat(e.unidad?"":"is-invalid"),value:e.unidad||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","unidad")},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione..."}),(0,Pt.jsx)("option",{value:"UND",children:"UND"}),(0,Pt.jsx)("option",{value:"PAR",children:"PAR"}),(0,Pt.jsx)("option",{value:"JUEGO",children:"JUEGO"}),(0,Pt.jsx)("option",{value:"PQT",children:"PQT"}),(0,Pt.jsx)("option",{value:"MTR",children:"MTR"}),(0,Pt.jsx)("option",{value:"KG",children:"KG"}),(0,Pt.jsx)("option",{value:"GRS",children:"GRS"}),(0,Pt.jsx)("option",{value:"LTR",children:"LTR"}),(0,Pt.jsx)("option",{value:"ML",children:"ML"})]})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("textarea",{className:"form-control form-control-sm ".concat(e.descripcion?"":"is-invalid"),value:e.descripcion||"",onChange:function(e){return i(e.target.value.replace("\n",""),r,e.id,"changeInput","descripcion")},placeholder:"Descripcin...",rows:"2"})}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("div",{className:"gap-2 d-flex flex-column",children:[(0,Pt.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.cantidad?"":"is-invalid"),value:e.cantidad||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","cantidad")},placeholder:"Cantidad..."}),(0,Pt.jsx)("button",{className:"btn btn-sm ".concat(e.push?"btn-success":"btn-secondary"),onClick:function(){return i(!e.push,r,e.id,"changeInput","push")},children:e.push?"Inventariado":"No inventariado"})]})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.precio_base?"":"is-invalid"),value:e.precio_base||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","precio_base")},placeholder:"Precio base..."})}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("div",{className:"gap-2 d-flex flex-column",children:[(0,Pt.jsxs)("div",{className:"input-group input-group-sm",children:[(0,Pt.jsx)("input",{type:"text",required:!0,className:"form-control ".concat(e.precio?"":"is-invalid"),value:e.precio||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","precio")},placeholder:"Precio venta..."}),(0,Pt.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return t("list",e.precio_base,(function(t){i(t,r,e.id,"changeInput","precio")}))},children:(0,Pt.jsx)("i",{className:"fas fa-percentage"})})]}),(0,Pt.jsx)("small",{className:"text-success",children:(e.precio,e.precio_base,0)})]})})]}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return i(null,r,e.id,"update")},children:(0,Pt.jsx)("i",{className:"fas fa-edit"})}),(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return i(null,r,e.id,"delete")},children:(0,Pt.jsx)("i",{className:"fas fa-trash"})}),(0,Pt.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return s(e.id)},children:(0,Pt.jsx)("i",{className:"fa fa-print"})})]})})]},r)}))})]})}),(0,Pt.jsx)("div",{className:"d-md-none",children:r.map((function(e,r){return(0,Pt.jsxs)("div",{className:"card mb-3 ".concat(e.push?"border-success":"border-danger"," ").concat(o(e.type)?"":"edit-mode"),onDoubleClick:function(){e.push||i(null,r,e.id,"update")},children:[(0,Pt.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center ".concat(o(e.type)?"":"bg-primary bg-opacity-10"),children:[(0,Pt.jsx)("span",{className:"cursor-pointer text-primary",onClick:function(){return F(e.id)},children:e.id}),(0,Pt.jsxs)("div",{className:"gap-1 d-flex",children:[(0,Pt.jsx)("span",{className:"btn-sm btn btn-warning",onClick:function(){return s(e.id)},children:(0,Pt.jsx)("i",{className:"fa fa-print"})}),(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return C(e.id)},children:(0,Pt.jsx)("i",{className:"fas fa-history"})}),(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){return i(null,r,e.id,"delete")},children:(0,Pt.jsx)("i",{className:"fas fa-trash"})}),(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){return i(null,r,e.id,"update")},children:(0,Pt.jsx)("i",{className:"fas fa-edit"})})]})]}),(0,Pt.jsx)("div",{className:"card-body ".concat(o(e.type)?"":"bg-light border-top border-primary border-opacity-25"),children:o(e.type)?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"mb-2 row g-2",children:[(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Cdigo Alterno"}),(0,Pt.jsx)("div",{children:e.codigo_proveedor})]}),(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Cdigo Barras"}),(0,Pt.jsx)("div",{children:e.codigo_barras})]})]}),(0,Pt.jsxs)("div",{className:"mb-2 row g-2",children:[(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Unidad"}),(0,Pt.jsx)("div",{children:e.unidad})]}),(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Cantidad"}),(0,Pt.jsx)("div",{className:"fw-bold fs-5 text-primary",children:e.cantidad}),(0,Pt.jsxs)("div",{className:"gap-2 d-flex",children:[(0,Pt.jsxs)("span",{className:"badge bg-sinapsis badge-sm",title:"Garanta",children:[(0,Pt.jsx)("i",{className:"fas fa-shield-alt fa-xs"})," ",e.garantia||0]}),(0,Pt.jsxs)("span",{className:"badge bg-info badge-sm",title:"Pendiente por Retirar",children:[(0,Pt.jsx)("i",{className:"fas fa-clock fa-xs"})," ",e.ppr||0]}),(0,Pt.jsxs)("span",{className:"badge bg-secondary badge-sm",title:"Pendiente por Enviar",children:[(0,Pt.jsx)("i",{className:"fas fa-paper-plane fa-xs"})," ",e.pendiente_enviar||0]})]})]})]}),(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Descripcin"}),(0,Pt.jsx)("div",{children:e.descripcion})]}),(0,Pt.jsxs)("div",{className:"row g-2",children:[(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Precio Base"}),(0,Pt.jsx)("div",{children:e.precio_base})]}),(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Precio Venta"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"fw-bold",children:e.precio}),(0,Pt.jsx)("small",{className:"text-success d-block",children:(e.precio,e.precio_base,0)})]})]})]})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"top-0 gap-2 mt-2 end-0 me-2 d-flex",children:[(0,Pt.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){return i(null,r,e.id,"update")},children:(0,Pt.jsx)("i",{className:"fas fa-edit"})}),(0,Pt.jsx)("button",{className:"btn btn-sm btn-sinapsis",onDoubleClick:function(){var t=prompt("Ingrese La cantidad Util");if(null!==t){var n=parseFloat(e.cantidad)+parseFloat(t);i(n,r,e.id,"changeInput","cantidad")}},children:(0,Pt.jsx)("i",{className:"fas fa-box-open"})})]}),(0,Pt.jsxs)("div",{className:"mb-2 row g-2",children:[(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Cdigo Alterno"}),(0,Pt.jsx)("input",{type:"text",className:"form-control form-control-sm",value:e.codigo_proveedor||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","codigo_proveedor")},placeholder:"Cdigo proveedor..."})]}),(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Cdigo Barras"}),(0,Pt.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.codigo_barras?"":"is-invalid"),value:e.codigo_barras||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","codigo_barras")},placeholder:"Cdigo barras..."})]})]}),(0,Pt.jsxs)("div",{className:"mb-2 row g-2",children:[(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Unidad"}),(0,Pt.jsxs)("select",{className:"form-control form-control-sm ".concat(e.unidad?"":"is-invalid"),value:e.unidad||"",onChange:function(e){return i(e.target.value,r,e.id,"changeInput","unidad")},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione..."}),(0,Pt.jsx)("option",{value:"UND",children:"UND"}),(0,Pt.jsx)("option",{value:"PAR",children:"PAR"}),(0,Pt.jsx)("option",{value:"JUEGO",children:"JUEGO"}),(0,Pt.jsx)("option",{value:"PQT",children:"PQT"}),(0,Pt.jsx)("option",{value:"MTR",children:"MTR"}),(0,Pt.jsx)("option",{value:"KG",children:"KG"}),(0,Pt.jsx)("option",{value:"GRS",children:"GRS"}),(0,Pt.jsx)("option",{value:"LTR",children:"LTR"}),(0,Pt.jsx)("option",{value:"ML",children:"ML"})]})]}),(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Cantidad"}),(0,Pt.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm fw-bold fs-5 ".concat(e.cantidad?"":"is-invalid"),value:e.cantidad||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","cantidad")},placeholder:"Cantidad..."})]})]}),(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Descripcin"}),(0,Pt.jsx)("textarea",{className:"form-control form-control-sm ".concat(e.descripcion?"":"is-invalid"),value:e.descripcion||"",onChange:function(e){return i(e.target.value.replace("\n",""),r,e.id,"changeInput","descripcion")},placeholder:"Descripcin...",rows:"2"})]}),(0,Pt.jsxs)("div",{className:"mb-2 row g-2",children:[(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Precio Base"}),(0,Pt.jsx)("input",{type:"text",required:!0,className:"form-control form-control-sm ".concat(e.precio_base?"":"is-invalid"),value:e.precio_base||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","precio_base")},placeholder:"Precio base..."})]}),(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Precio Venta"}),(0,Pt.jsxs)("div",{className:"input-group input-group-sm",children:[(0,Pt.jsx)("input",{type:"text",required:!0,className:"form-control ".concat(e.precio?"":"is-invalid"),value:e.precio||"",onChange:function(e){return i(v(e.target.value),r,e.id,"changeInput","precio")},placeholder:"Precio venta..."}),(0,Pt.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return t("list",e.precio_base,(function(t){i(t,r,e.id,"changeInput","precio")}))},children:(0,Pt.jsx)("i",{className:"fas fa-percentage"})})]}),(0,Pt.jsx)("small",{className:"text-success",children:(e.precio,e.precio_base,0)})]})]}),(0,Pt.jsx)("div",{className:"mt-2",children:(0,Pt.jsx)("button",{className:"btn btn-sm w-100 ".concat(e.push?"btn-success":"btn-secondary"),onClick:function(){return i(!e.push,r,e.id,"changeInput","push")},children:e.push?"Inventariado":"No inventariado"})})]})})]},r)}))})]})]})}function dw(e){var t=e.fechaQEstaInve,r=e.setfechaQEstaInve,n=e.fechaFromEstaInve,a=e.setfechaFromEstaInve,o=e.fechaToEstaInve,i=e.setfechaToEstaInve,s=e.orderByEstaInv,c=e.setorderByEstaInv,l=(e.orderByColumEstaInv,e.setorderByColumEstaInv),u=e.dataEstaInven,d=e.moneda,f=e.categoriaEstaInve,h=e.setcategoriaEstaInve,p=e.categorias,m=e.getEstaInventario,g=[];try{g=Object.values(u)}catch(e){}return(0,Pt.jsxs)("div",{className:"container",children:[(0,Pt.jsxs)("form",{className:"input-group",onSubmit:function(e){e.preventDefault(),m()},children:[(0,Pt.jsxs)("select",{className:"form-control form-control-sm ",value:f,onChange:function(e){return h(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"--Select--"}),p.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.descripcion},e.id)}))]}),(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:t,onChange:function(e){return r(e.target.value)}}),(0,Pt.jsx)("input",{type:"date",className:"form-control",value:n,onChange:function(e){return a(e.target.value)}}),(0,Pt.jsx)("input",{type:"date",className:"form-control",value:o,onChange:function(e){return i(e.target.value)}}),(0,Pt.jsxs)("select",{className:"form-control",value:s,onChange:function(e){return c(e.target.value)},children:[(0,Pt.jsx)("option",{value:"asc",children:"ASC"}),(0,Pt.jsx)("option",{value:"desc",children:"DESC"})]}),(0,Pt.jsx)("button",{className:"btn btn-sinapsis ",type:"submit",style:{marginLeft:"8px"},children:"Buscar"})]}),(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"pointer",children:"Categora"}),(0,Pt.jsx)("th",{children:"ID"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("codigo")},children:"Cdigo"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("descripcion")},children:"Descripcin"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("cantidad")},children:"Stock"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("precio")},children:"Precio"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("cantidad_contado")},children:"Cant. Contado"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("totalventa_contado")},children:"Monto Contado"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("cantidad_credito")},children:"Cant. Credito"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("totalventa_credito")},children:"Monto Credito"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("cantidadtotal")},children:"Total Ventas Unitarias"}),(0,Pt.jsx)("th",{className:"pointer",onClick:function(){return l("totalventa")},children:"Total Monto Venta"})]})}),(0,Pt.jsx)("tbody",{children:g?g.map((function(e){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:e.categoria?e.categoria.descripcion:null}),(0,Pt.jsx)("td",{children:e.id}),(0,Pt.jsx)("td",{children:e.codigo_barras}),(0,Pt.jsx)("td",{children:e.descripcion}),(0,Pt.jsx)("td",{children:e.cantidad}),(0,Pt.jsx)("td",{className:"text-success",children:d(e.precio)}),(0,Pt.jsx)("td",{className:"text-sinapsis",children:e.cantidad_contado}),(0,Pt.jsx)("td",{className:"text-success",children:d(e.totalventa_contado)}),(0,Pt.jsx)("td",{className:"text-sinapsis",children:e.cantidad_credito}),(0,Pt.jsx)("td",{className:"text-success",children:d(e.totalventa_credito)}),(0,Pt.jsx)("td",{className:"text-sinapsis",children:e.cantidadtotal}),(0,Pt.jsx)("td",{className:"text-success",children:d(e.totalventa)})]},e.id)})):null}),(0,Pt.jsx)("tfoot",{children:(0,Pt.jsxs)("tr",{className:"font-weight-bold bg-light",children:[(0,Pt.jsx)("td",{colSpan:"6",className:"text-right",children:"Totales:"}),(0,Pt.jsx)("td",{className:"text-sinapsis",children:g?g.reduce((function(e,t){return e+(parseFloat(t.cantidad_contado)||0)}),0):0}),(0,Pt.jsx)("td",{className:"text-success",children:d(g?g.reduce((function(e,t){return e+(parseFloat(t.totalventa_contado)||0)}),0):0)}),(0,Pt.jsx)("td",{className:"text-sinapsis",children:g?g.reduce((function(e,t){return e+(parseFloat(t.cantidad_credito)||0)}),0):0}),(0,Pt.jsx)("td",{className:"text-success",children:d(g?g.reduce((function(e,t){return e+(parseFloat(t.totalventa_credito)||0)}),0):0)}),(0,Pt.jsx)("td",{className:"text-sinapsis",children:g?g.reduce((function(e,t){return e+(parseFloat(t.cantidadtotal)||0)}),0):0}),(0,Pt.jsx)("td",{className:"text-success",children:d(g?g.reduce((function(e,t){return e+(parseFloat(t.totalventa)||0)}),0):0)})]})})]})]})}function fw(e){var t=e.inventarioNovedadesData,r=e.getInventarioNovedades,n=e.resolveInventarioNovedades,a=e.sendInventarioNovedades,o=e.delInventarioNovedades;e.number;return(0,Pt.jsx)("div",{className:"container",children:(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:(0,Pt.jsx)("form",{onSubmit:function(e){r(),e.preventDefault()},children:(0,Pt.jsx)("button",{className:"btn btn-success",children:(0,Pt.jsx)("i",{className:"fa fa-search"})})})}),(0,Pt.jsx)("th",{className:"text-center",children:"REF"}),(0,Pt.jsx)("th",{className:"cell1 pointer",children:(0,Pt.jsx)("span",{children:"C. Barras"})}),(0,Pt.jsx)("th",{className:"cell1 pointer",children:(0,Pt.jsx)("span",{children:"C. Alterno"})}),(0,Pt.jsx)("th",{className:"cell2 pointer",children:(0,Pt.jsx)("span",{children:"Descripcin"})}),(0,Pt.jsx)("th",{className:"cell05 pointer",children:(0,Pt.jsx)("span",{children:"Ct."})}),(0,Pt.jsx)("th",{className:"cell1 pointer",children:(0,Pt.jsx)("span",{children:"Base"})}),(0,Pt.jsx)("th",{className:"cell15 pointer",children:"Venta"}),(0,Pt.jsx)("th",{className:"text-center",children:"RESPONSABLE"}),(0,Pt.jsx)("th",{className:"text-center",children:"MOTIVO"})]})}),t&&t.length?t.map((function(e){return(0,Pt.jsxs)("tbody",{children:[(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{rowSpan:2,className:"align-middle",children:(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-success",onClick:function(){return a(e.id)},children:(0,Pt.jsx)("i",{className:"fa fa-paper-plane"})}),(0,Pt.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e.id)},children:(0,Pt.jsx)("i",{className:"fa fa-trash"})})]})}),(0,Pt.jsxs)("td",{className:"align-middle text-center",rowSpan:2,children:[" ",(0,Pt.jsx)("button",{className:"btn btn-success",children:e.producto?e.id:"NUEVO"})," "]}),(0,Pt.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.codigo_barras:"NUEVO"}),(0,Pt.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.codigo_proveedor:"NUEVO"}),(0,Pt.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.descripcion:"NUEVO"}),(0,Pt.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.cantidad:"NUEVO"}),(0,Pt.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.precio_base:"NUEVO"}),(0,Pt.jsx)("td",{className:"bg-danger-light",children:e.producto?e.producto.precio:"NUEVO"}),(0,Pt.jsx)("td",{className:"bg-warning-light align-middle text-center",rowSpan:2,children:e.responsable}),(0,Pt.jsx)("td",{className:"bg-warning-light align-middle text-center",rowSpan:2,children:e.motivo}),(0,Pt.jsx)("td",{className:"bg-warning-light align-middle text-center",rowSpan:2,children:(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-warning",children:(0,Pt.jsx)("i",{className:"fa fa-refresh fa-2x m-2 text-success",onClick:function(){return n(e.id)}})}),(0,Pt.jsx)("button",{className:"btn",children:e.estado?(0,Pt.jsx)("i",{className:"fa fa-2x fa-check text-success m-2"}):(0,Pt.jsx)("i",{className:"fa fa-2x fa-times text-danger"})})]})})]}),(0,Pt.jsxs)("tr",{className:"bg-success-light",children:[(0,Pt.jsx)("td",{className:"bg-success-light",children:e.codigo_barras}),(0,Pt.jsx)("td",{className:"bg-success-light",children:e.codigo_proveedor}),(0,Pt.jsx)("td",{className:"bg-success-light",children:e.descripcion}),(0,Pt.jsx)("td",{className:"bg-success-light",children:e.cantidad}),(0,Pt.jsx)("td",{className:"bg-success-light",children:e.precio_base}),(0,Pt.jsx)("td",{className:"bg-success-light",children:e.precio})]})]},e.id)})):null]})})}function hw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mw(e){var t=e.setopenModalNuevoEfectivo,r=e.setControlEfec,n=e.catselect,a=e.setcontrolefecNewConcepto,i=e.controlefecNewConcepto,s=e.controlefecNewMonto,c=e.setcontrolefecNewMonto,l=e.controlefecNewMontoMoneda,u=e.setcontrolefecNewMontoMoneda,d=e.controlefecNewCategoria,f=e.setcontrolefecNewCategoria,h=e.categoriasCajas,p=e.controlefecSelectGeneral,m=e.setcontrolefecSelectGeneral,g=e.moneda,x=e.number,v=e.personalNomina,b=e.allProveedoresCentral,y=e.alquileresData,_=e.getAllProveedores,j=e.getAlquileres,w=e.getNomina,N=e.sucursalesCentral,E=e.transferirpedidoa,C=e.settransferirpedidoa,S=e.dolar,O=e.peso,A=(e.getSucursales,e.departamentosCajas),P=e.controlefecNewDepartamento,D=e.setcontrolefecNewDepartamento,I=e.setcontrolefecid_persona,T=e.controlefecid_persona,M=e.setcontrolefecid_alquiler,k=e.controlefecid_alquiler,R=(e.controlefecid_proveedor,e.setcontrolefecid_proveedor),B=hw((0,o.useState)(!1),2),L=B[0],F=B[1],U=hw((0,o.useState)(""),2),W=(U[0],U[1],hw((0,o.useState)(""),2)),V=(W[0],W[1],hw((0,o.useState)(""),2)),z=V[0],K=V[1],G=hw((0,o.useState)(""),2),q=G[0],H=G[1],$=hw((0,o.useState)(""),2),Y=$[0],X=$[1],Q=hw((0,o.useState)(""),2),Z=Q[0],J=Q[1],ee=hw((0,o.useState)(""),2),te=ee[0],re=ee[1],ne=hw((0,o.useState)(""),2),ae=ne[0],oe=ne[1],ie=hw((0,o.useState)(""),2),se=ie[0],ce=ie[1],le=hw((0,o.useState)(""),2),ue=le[0],de=le[1],fe=hw((0,o.useState)(0),2),he=fe[0],pe=fe[1],me=hw((0,o.useState)(0),2),ge=me[0],xe=me[1];return(0,o.useEffect)((function(){a("")}),[d]),(0,Pt.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center overflow-x-hidden overflow-y-auto",style:{zIndex:1500},children:[(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:function(){return t(!1)},"aria-hidden":"true"}),(0,Pt.jsxs)("div",{className:"relative w-full max-w-5xl mx-4 my-6 rounded-lg shadow-xl max-h-[95vh] flex flex-col transform transition-all ".concat(1===p?"bg-green-50":"bg-sinapsis "),children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b rounded-t-lg ".concat(1===p?"border-green-200 bg-green-100":"border-blue-200 bg-blue-100"),children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsx)("div",{className:"p-3 rounded-full ".concat(1===p?"bg-green-500 text-white":"bg-sinapsis 0 text-white"),children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.467-.22-2.121-.659C8.712 10.46 8.712 9.036 9.879 8.157c1.171-.879 3.07-.879 4.242 0L15 9"})})}),(0,Pt.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Nuevo Movimiento - ",1===p?"Caja Fuerte":"Caja Chica"]})]}),(0,Pt.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-600 hover:bg-white hover:bg-opacity-50 rounded-lg p-2 transition-colors duration-200",onClick:function(){return t(!1)},"aria-label":"Cerrar modal",children:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Pt.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,Pt.jsx)("div",{className:"flex-1 p-6 overflow-y-auto text-dark",children:(0,Pt.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r()},className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1 mb-6",children:[(0,Pt.jsx)("button",{type:"button",className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors duration-200 ".concat(1===p?"bg-green-500 text-white shadow-sm":"text-gray-700 hover:text-gray-900"),onClick:function(){return m(1)},children:"Caja Fuerte"}),(0,Pt.jsx)("button",{type:"button",className:"flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors duration-200 ".concat(0===p?"bg-sinapsis 0 text-white shadow-sm":"text-gray-700 hover:text-gray-900"),onClick:function(){return m(0)},children:"Caja Chica"})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Departamento"}),(0,Pt.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:P,onChange:function(e){return D(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione Departamento"}),A.map((function(e,t){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre},t)}))]})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Categora"}),(0,Pt.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:d,onChange:function(e){f(e.target.value),I(null),M(null)},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione Categora"}),h.filter((function(e){return e.tipo===p})).filter((function(e){return 1===e.showsucursal})).map((function(e,t){return["INGRESO DESDE CIERRE","CAJA FUERTE: INGRESO TRANSFERENCIA SUCURSAL","CAJA FUERTE: EGRESO TRANSFERENCIA SUCURSAL","CAJA FUERTE: INGRESO TRANSFERENCIA TRABAJADOR","CAJA FUERTE: EGRESO TRANSFERENCIA TRABAJADOR"].includes(e.nombre)?null:(0,Pt.jsx)("option",{value:e.id,children:e.nombre},t)}))]})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descripcin"}),(0,Pt.jsx)("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm resize-vertical",placeholder:"Descripcin del movimiento...",rows:"3",value:i,onChange:function(e){return a(e.target.value)}})]}),[29,30,70,71,92,87,86,28,61].includes(parseInt(d))&&(0,Pt.jsxs)("div",{className:"space-y-4 bg-sinapsis  p-4 rounded-lg border border-blue-200",children:[(0,Pt.jsx)("h4",{className:"text-sm font-medium text-blue-900",children:"Seleccionar Personal"}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsx)("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Buscar Personal...",value:q,onChange:function(e){return H(e.target.value)}}),(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md shadow-sm transition-colors duration-200",onClick:function(){return w()},children:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),(0,Pt.jsx)("div",{className:"max-h-60 overflow-y-auto bg-white rounded-md border border-gray-200",children:v.filter((function(e){return!q||-1!==e.nominanombre.toLowerCase().indexOf(q.toLowerCase())})).map((function(e){return(0,Pt.jsxs)("div",{className:"p-3 border-b border-gray-100 last:border-b-0 cursor-pointer transition-colors duration-200 ".concat(T===e.id?"bg-blue-100 border-blue-300":"hover:bg-gray-50"),onClick:function(){I(e.id),c(e.maxpagopersona>e.quincena?e.quincena:e.maxpagopersona),pe(e.maxpagopersona),re(e.sumPrestamos),oe(e.sumCreditos),ce(e.mes),de(e.mespasado),X(e.nominanombre),J(e.cargo.cargosdescripcion),u("dolar")},children:[(0,Pt.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.nominacedula," - ",e.nominanombre]}),T===e.id&&(0,Pt.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"Seleccionado"})]},e.id)}))})]}),34===parseInt(d)&&(0,Pt.jsxs)("div",{className:"space-y-4 bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,Pt.jsx)("h4",{className:"text-sm font-medium text-yellow-900",children:"Seleccionar Alquiler"}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsxs)("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:k,onChange:function(e){var t=e.target.value;M(t);var r=y.filter((function(e){return e.id==t}))[0];r&&(c(r.monto),xe(r.monto),u("dolar"))},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione Alquiler"}),y.length>0&&y.map((function(e){return(0,Pt.jsxs)("option",{value:e.id,children:["PAGO ALQUILER: ",e.descripcion]},e.id)}))]}),(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md shadow-sm transition-colors duration-200",onClick:function(){return j()},children:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]}),40===parseInt(d)&&(0,Pt.jsxs)("div",{className:"space-y-4 bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,Pt.jsx)("h4",{className:"text-sm font-medium text-purple-900",children:"Seleccionar Proveedor"}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsx)("input",{type:"text",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Buscar proveedor...",value:z,onChange:function(e){return K(e.target.value)}}),(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md shadow-sm transition-colors duration-200",onClick:function(){return _()},children:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),(0,Pt.jsx)("div",{className:"max-h-60 overflow-y-auto bg-white rounded-md border border-gray-200",children:b.filter((function(e){return!z||-1!==e.descripcion.toLowerCase().indexOf(z.toLowerCase())})).map((function(e){return(0,Pt.jsxs)("div",{className:"p-3 border-b border-gray-100 last:border-b-0 cursor-pointer transition-colors duration-200 ".concat(i==="PAGO PROVEEDOR="+e.descripcion+"="+e.id?"bg-purple-100 border-purple-300":"hover:bg-gray-50"),onClick:function(){var t="PAGO PROVEEDOR="+e.descripcion+"="+e.id;a(t),R(t)},children:[(0,Pt.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["PAGO PROVEEDOR: ",e.descripcion]}),i==="PAGO PROVEEDOR="+e.descripcion+"="+e.id&&(0,Pt.jsx)("div",{className:"text-xs text-purple-600 mt-1",children:"Seleccionado"})]},e.id)}))})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Monto"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Pt.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:l,onChange:function(e){c(""),u(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Moneda"}),(0,Pt.jsx)("option",{value:"dolar",children:"DLAR"}),(0,Pt.jsx)("option",{value:"peso",children:"PESO"}),(0,Pt.jsx)("option",{value:"bs",children:"BS"}),(0,Pt.jsx)("option",{value:"euro",children:"EURO"})]}),(0,Pt.jsx)("input",{type:"text",className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Monto...",value:s,onChange:function(e){var t=x(e.target.value),r="dolar"===l?1:"bs"===l?parseFloat(S):"peso"===l?parseFloat(O):1;29===parseInt(d)&&parseFloat(t)>parseFloat(he*r)&&(t=""),34===parseInt(d)&&parseFloat(t)>parseFloat(ge*r)&&(t=""),c(t)}})]})]}),Y&&(0,Pt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,Pt.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Informacin del Personal"}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 bg-white rounded-md",children:[(0,Pt.jsx)("thead",{className:"bg-gray-100",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombres"}),(0,Pt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cargo"}),(0,Pt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mximo"}),(0,Pt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prstamos"}),(0,Pt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Crditos"}),(0,Pt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mes Actual"}),(0,Pt.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mes Pasado"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:Y}),(0,Pt.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:Z}),(0,Pt.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-green-600",children:he}),(0,Pt.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-red-600",children:g(te)}),(0,Pt.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm font-medium text-blue-600",children:g(ae)}),(0,Pt.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:g(se)}),(0,Pt.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:g(ue)})]})})]})})]}),!L&&-1===n.indexOf("TRANSFERENCIA TRABAJADOR")||1!==p?(0,Pt.jsx)("div",{className:"flex justify-center",children:(0,Pt.jsxs)("button",{className:"inline-flex items-center px-6 py-3 text-base font-medium rounded-md shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(1===p?"bg-green-600 hover:bg-green-700 text-white focus:ring-green-500":"bg-sinapsis hover:bg-blue-700 text-white focus:ring-blue-500"),type:"submit",children:[1===p?"SOLICITAR APROBACIN":"GUARDAR",(0,Pt.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})}):-1===n.indexOf("EFECTIVO ADICIONAL")&&-1===n.indexOf("NOMINA ABONO")&&-1===n.indexOf("TRASPASO A CAJA CHICA")?(0,Pt.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,Pt.jsx)("h4",{className:"text-sm font-medium text-orange-900 mb-3",children:"Transferir a Sucursal"}),(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsxs)("select",{className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-sm",value:E,onChange:function(e){return C(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione Sucursal"}),N.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]}),(0,Pt.jsx)("button",{className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-md shadow-sm transition-colors duration-200 border border-green-600",type:"button",onClick:function(){return r(!0)},children:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]}):null,(0,Pt.jsx)("div",{className:"flex justify-center mt-6 pt-4 border-t border-gray-200",children:(0,Pt.jsxs)("button",{className:"text-sm font-medium rounded-md px-4 py-2 transition-colors duration-200 ".concat(L?"bg-blue-100 text-blue-700 hover:bg-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),type:"button",onClick:function(){return F(!L)},children:[(0,Pt.jsx)("svg",{className:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Transferir a sucursal..."]})})]})})]})]})}function gw(e){var t=e.controlefecQ,r=e.setcontrolefecQ,n=e.controlefecQDesde,a=e.setcontrolefecQDesde,i=e.controlefecQHasta,s=e.setcontrolefecQHasta,c=e.controlefecData,l=(e.setcontrolefecData,e.controlefecSelectGeneral),u=e.setcontrolefecSelectGeneral,d=(e.controlefecSelectUnitario,e.setcontrolefecSelectUnitario,e.controlefecNewConcepto),f=e.setcontrolefecNewConcepto,h=e.controlefecNewCategoria,p=e.setcontrolefecNewCategoria,m=e.controlefecNewMonto,g=e.setcontrolefecNewMonto,x=e.getControlEfec,v=(e.setgetControlEfec,e.setControlEfec),b=(e.setsetControlEfec,e.setcontrolefecQCategoria),y=e.controlefecQCategoria,_=e.number,j=e.moneda,w=e.controlefecNewMontoMoneda,N=e.setcontrolefecNewMontoMoneda,E=e.categoriasCajas,C=(e.setcategoriasCajas,e.getcatsCajas),S=e.delCaja,O=e.personalNomina,A=(e.setpersonalNomina,e.getNomina),P=(e.controlefecResponsable,e.setcontrolefecResponsable,e.controlefecAsignar,e.setcontrolefecAsignar,e.setopenModalNuevoEfectivo),D=e.openModalNuevoEfectivo,I=(e.verificarMovPenControlEfec,e.verificarMovPenControlEfecTRANFTRABAJADOR,e.allProveedoresCentral),T=e.getAllProveedores,M=e.getAlquileres,k=e.alquileresData,R=e.sucursalesCentral,B=e.transferirpedidoa,L=e.settransferirpedidoa,F=e.getSucursales,U=(e.reversarMovPendientes,e.aprobarRecepcionCaja),W=e.dolar,V=e.peso,z=e.departamentosCajas,K=e.controlefecNewDepartamento,G=e.setcontrolefecNewDepartamento,q=e.setcontrolefecid_persona,H=e.controlefecid_persona,$=e.setcontrolefecid_alquiler,Y=e.controlefecid_alquiler,X=e.controlefecid_proveedor,Q=e.setcontrolefecid_proveedor;(0,o.useEffect)((function(){C(),A(),M(),F()}),[]),(0,o.useEffect)((function(){x(),b("")}),[l,n,i]);var Z=E.filter((function(e){return e.id==h})).length?E.filter((function(e){return e.id==h}))[0].nombre:"",J=function(e){var t=E.filter((function(t){return t.id==e}));return t.length?[{color:"#ff0000",nombre:"PAGO A PROVEEDORES"},{color:"#00ff00",nombre:"INGRESO"},{color:"#ff9900",nombre:"GASTO"},{color:"#b45f06",nombre:"GASTO GENERAL"},{color:"#6F6A6A",nombre:"TRANSFERENCIA TRABAJADOR"},{color:"#434343",nombre:"MOVIMIENTO NULO INTERNO"},{color:"#fff2cc",nombre:"CAJA MATRIZ"},{color:"#b7b7b7",nombre:"FDI"},{color:"#6aa84f",nombre:"INGRESO EXTERNO"},{color:"#93c47d",nombre:"INGRESO INTERNO"},{color:"#999999",nombre:"TRANSFERENCIA EFECTIVO SUCURSAL"}][t[0].catgeneral]:{color:"",nombre:""}},ee=function(e){var t=R.filter((function(t){return t.id==e}));return t.length?t[0].codigo:"NO IDENTIFICADO"};return(0,Pt.jsxs)("div",{className:"container-fluid",children:[(0,Pt.jsxs)("div",{className:"btn-group mb-3",children:[(0,Pt.jsx)("button",{className:"btn "+(1==l?"btn-success":"btn-outline-success"),onClick:function(){return u(1)},children:"Caja Fuerte"}),(0,Pt.jsx)("button",{className:"btn "+(0==l?"btn-sinapsis":"btn-outline-sinapsis"),onClick:function(){return u(0)},children:"Caja Chica"})]}),(0,Pt.jsx)("div",{className:"mb-3 d-flex justify-content-center",children:(0,Pt.jsxs)("button",{className:"btn btn-outline-"+(1==l?"success":"sinapsis")+" btn-lg",onClick:function(e){return P(!0)},children:["NUEVO MOVIMIENTO ",(0,Pt.jsx)("i",{className:"fa fa-plus"})]})}),(0,Pt.jsxs)("div",{className:"input-group mb-3",children:[(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",onChange:function(e){return r(e.target.value)},value:t}),(0,Pt.jsxs)("select",{className:"form-control",onChange:function(e){return b(e.target.value)},value:y,children:[(0,Pt.jsx)("option",{value:"",children:"-BUSCAR-"}),E.filter((function(e){return e.tipo==l})).map((function(e,t){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre},t)}))]}),(0,Pt.jsx)("input",{type:"date",className:"form-control",onChange:function(e){return a(e.target.value)},value:n}),(0,Pt.jsx)("input",{type:"date",className:"form-control",onChange:function(e){return s(e.target.value)},value:i}),(0,Pt.jsx)("div",{className:"input-group-append",children:(0,Pt.jsx)("span",{className:"btn btn-outline-secondary",type:"button",onClick:x,children:(0,Pt.jsx)("i",{className:"fa fa-search"})})})]}),(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"NUM"}),(0,Pt.jsx)("th",{children:"FECHA"}),(0,Pt.jsx)("th",{children:"ESTATUS"}),(0,Pt.jsx)("th",{children:"CAT GENERAL"}),(0,Pt.jsx)("th",{className:"w-20",children:"CATEGORA"}),(0,Pt.jsx)("th",{children:"DESCRIPCIN"}),(0,Pt.jsx)("th",{className:"text-right",children:"Monto DOLAR"}),(0,Pt.jsxs)("th",{className:"text-success fs-2",children:[" ",c&&c.data?j(c[1==l?"fuerte":"chica"].dolarbalance):null," "]}),(0,Pt.jsx)("th",{className:"text-right",children:"Monto BS"}),(0,Pt.jsxs)("th",{className:"text-success fs-2",children:[" ",c&&c.data?j(c[1==l?"fuerte":"chica"].bsbalance):null," "]}),(0,Pt.jsx)("th",{className:"text-right",children:"Monto PESO"}),(0,Pt.jsxs)("th",{className:"text-success fs-2",children:[" ",c&&c.data?j(c[1==l?"fuerte":"chica"].pesobalance):null," "]}),(0,Pt.jsx)("th",{className:"text-right",children:"Monto EURO"}),(0,Pt.jsxs)("th",{className:"text-success fs-2",children:[" ",c&&c.data?j(c[1==l?"fuerte":"chica"].eurobalance):null," "]}),(0,Pt.jsx)("th",{})]})}),(0,Pt.jsx)("tbody",{children:c&&c.data&&c.data.length?c.data.map((function(e,t){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{className:"",children:(0,Pt.jsx)("small",{className:"text-muted",children:t+1})}),(0,Pt.jsx)("td",{className:"",children:(0,Pt.jsx)("small",{className:"text-muted",children:e.created_at})}),(0,Pt.jsx)("td",{className:"",children:(0,Pt.jsxs)("small",{className:"text-muted",children:[0==e.estatus?(0,Pt.jsxs)("button",{className:"btn btn-warning btn-sm",children:["PENDIENTE ",(0,Pt.jsx)("i",{className:"fa fa-clock-o"})]}):null,1==e.estatus?(0,Pt.jsxs)("button",{className:"btn btn-success btn-sm",children:["APROBADO ",(0,Pt.jsx)("i",{className:"fa fa-check"})]}):null]})}),(0,Pt.jsx)("td",{className:"",children:(0,Pt.jsx)("button",{className:"btn w-100 btn-sm",style:{color:"black",fontWeight:"bold",backgroundColor:J(e.categoria).color},children:J(e.categoria).nombre})}),(0,Pt.jsx)("td",{className:"w-20",children:(r=e.categoria,n=E.filter((function(e){return e.id==r})),n.length?n[0].nombre:"ERROR")}),(0,Pt.jsxs)("td",{className:"",children:[e.concepto,e.id_sucursal_destino?(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("b",{children:["TRANSFERIR A SUCURSAL (",ee(e.id_sucursal_destino),")"]})}):null,e.id_sucursal_emisora?(0,Pt.jsx)("div",{children:(0,Pt.jsxs)("b",{children:["RECIBES DE SUCURSAL (",ee(e.id_sucursal_emisora),")"]})}):null,e.id_sucursal_emisora&&0==e.estatus?(0,Pt.jsx)("div",{children:(0,Pt.jsx)("div",{className:"p-2",children:(0,Pt.jsxs)("div",{className:"btn-group",children:[(0,Pt.jsx)("button",{className:"btn btn-success",onClick:function(){return U(e.idincentralrecepcion,"aprobar")},children:"APROBAR RECEPCIN"}),(0,Pt.jsx)("button",{className:"btn btn-danger",onClick:function(){return U(e.idincentralrecepcion,"rechazar")},children:"RECHAZAR RECEPCIN"})]})})}):null]}),(0,Pt.jsx)("td",{className:(e.montodolar<0?"text-danger":"text-success")+" text-right",children:j(e.montodolar)}),(0,Pt.jsx)("td",{className:"",children:j(e.dolarbalance)}),(0,Pt.jsx)("td",{className:(e.montobs<0?"text-danger":"text-success")+" text-right",children:j(e.montobs)}),(0,Pt.jsx)("td",{className:"",children:j(e.bsbalance)}),(0,Pt.jsx)("td",{className:(e.montopeso<0?"text-danger":"text-success")+" text-right",children:j(e.montopeso)}),(0,Pt.jsx)("td",{className:"",children:j(e.pesobalance)}),(0,Pt.jsx)("td",{className:(e.montoeuro<0?"text-danger":"text-success")+" text-right",children:j(e.montoeuro)}),(0,Pt.jsx)("td",{className:"",children:j(e.eurobalance)}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("i",{className:"fa fa-times text-danger",onClick:function(){return S(e.id)}})})]},e.id);var r,n})):null})]}),D&&(0,Pt.jsx)(mw,{setcontrolefecid_persona:q,controlefecid_persona:H,setcontrolefecid_alquiler:$,controlefecid_alquiler:Y,controlefecid_proveedor:X,setcontrolefecid_proveedor:Q,controlefecNewDepartamento:K,setcontrolefecNewDepartamento:G,departamentosCajas:z,dolar:W,peso:V,getSucursales:F,transferirpedidoa:B,settransferirpedidoa:L,sucursalesCentral:R,allProveedoresCentral:I,getAllProveedores:T,setopenModalNuevoEfectivo:P,openModalNuevoEfectivo:D,setControlEfec:v,catselect:Z,setcontrolefecNewConcepto:f,controlefecNewConcepto:d,controlefecNewMonto:m,setcontrolefecNewMonto:g,controlefecNewMontoMoneda:w,setcontrolefecNewMontoMoneda:N,controlefecNewCategoria:h,setcontrolefecNewCategoria:p,personalNomina:O,categoriasCajas:E,controlefecSelectGeneral:l,setcontrolefecSelectGeneral:u,moneda:j,number:_,alquileresData:k,getAlquileres:M,getNomina:A})]})}function xw(e){var t=e.garantiasData,r=e.getGarantias,n=e.setqgarantia,a=e.qgarantia,o=e.garantiaorderCampo,i=e.setgarantiaorderCampo,s=e.garantiaorder,c=e.setgarantiaorder,l=(e.garantiaEstado,e.setgarantiaEstado,e.setSalidaGarantias);return(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("div",{className:"container py-4",children:(0,Pt.jsx)("div",{className:"card shadow-sm",children:(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsxs)("form",{className:"row g-3 align-items-center mb-4",onSubmit:function(e){e.preventDefault(),r()},children:[(0,Pt.jsx)("div",{className:"col-md-4",children:(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsx)("span",{className:"input-group-text bg-light",children:(0,Pt.jsx)("i",{className:"fa fa-search"})}),(0,Pt.jsx)("input",{type:"text",placeholder:"Buscar PRODUCTO...",className:"form-control",value:a,onChange:function(e){return n(e.target.value)}})]})}),(0,Pt.jsx)("div",{className:"col-md-3",children:(0,Pt.jsxs)("select",{className:"form-select",value:o,onChange:function(e){return i(e.target.value)},children:[(0,Pt.jsx)("option",{value:"sumpendiente",children:"SUM PENDIENTE"}),(0,Pt.jsx)("option",{value:"sumresuelta",children:"SUM RESUELTA"})]})}),(0,Pt.jsx)("div",{className:"col-md-2",children:(0,Pt.jsxs)("select",{className:"form-select",value:s,onChange:function(e){return c(e.target.value)},children:[(0,Pt.jsx)("option",{value:"desc",children:"DESC"}),(0,Pt.jsx)("option",{value:"asc",children:"ASC"})]})}),(0,Pt.jsx)("div",{className:"col-md-3",children:(0,Pt.jsxs)("button",{className:"btn btn-success w-100",children:[(0,Pt.jsx)("i",{className:"fa fa-search me-2"})," Buscar"]})})]}),(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-hover align-middle",children:[(0,Pt.jsx)("thead",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"ID"}),(0,Pt.jsx)("th",{children:"BARRAS"}),(0,Pt.jsx)("th",{children:"ALTERNO"}),(0,Pt.jsx)("th",{children:"PRODUCTO"}),(0,Pt.jsx)("th",{className:"text-center",children:"PENDIENTE"}),(0,Pt.jsx)("th",{className:"text-center",children:"RESUELTA"}),(0,Pt.jsx)("th",{className:"text-center",children:"ACCIN"})]})}),(0,Pt.jsx)("tbody",{children:t.map((function(e){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:e.id_producto}),(0,Pt.jsx)("td",{children:e.producto.codigo_barras}),(0,Pt.jsx)("td",{children:e.producto.codigo_alterno}),(0,Pt.jsx)("td",{children:e.producto.descripcion}),(0,Pt.jsx)("td",{className:"text-center text-sinapsis fw-bold",children:e.sumpendiente}),(0,Pt.jsx)("td",{className:"text-center text-success fw-bold",children:e.sumresuelta}),(0,Pt.jsx)("td",{className:"text-center",children:(0,Pt.jsxs)("button",{className:"btn btn-sinapsis btn-sm",onClick:function(){return l(e.id_producto)},children:[(0,Pt.jsx)("i",{className:"fa fa-paper-plane me-1"})," Transferir"]})})]},e.id)}))})]})})]})})})})}function vw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var yw="inventario",_w="historial",jw="consumo";function ww(e){var t,r=e.onBack,n=vw((0,o.useState)(yw),2),a=n[0],i=n[1],s=vw((0,o.useState)([]),2),c=s[0],l=s[1],u=vw((0,o.useState)([]),2),d=u[0],f=u[1],h=vw((0,o.useState)(!1),2),p=h[0],m=h[1],g=vw((0,o.useState)(!1),2),x=g[0],v=g[1],b=vw((0,o.useState)(null),2),y=b[0],_=b[1],j=vw((0,o.useState)(null),2),w=j[0],N=j[1],E=vw((0,o.useState)(null),2),C=E[0],S=E[1],O=vw((0,o.useState)(""),2),A=O[0],P=O[1],D=vw((0,o.useState)(null),2),I=D[0],T=D[1],M=vw((0,o.useState)(null),2),k=M[0],R=M[1],B=vw((0,o.useState)([]),2),L=B[0],F=B[1],U=vw((0,o.useState)(!1),2),W=U[0],V=U[1],z=new Date,K=new Date(z.getFullYear(),z.getMonth(),1),G=vw((0,o.useState)(K.toISOString().slice(0,10)),2),q=G[0],H=G[1],$=vw((0,o.useState)(z.toISOString().slice(0,10)),2),Y=$[0],X=$[1],Q=vw((0,o.useState)(""),2),Z=Q[0],J=Q[1],ee=function(){m(!0),ke.A.getInventarioInternoMiSucursal().then((function(e){e.data&&e.data.estado&&Array.isArray(e.data.data)?l(e.data.data.filter((function(e){return(e.cantidad||0)>0}))):l([])})).catch((function(){return l([])})).finally((function(){return m(!1)}))},te=function(){v(!0),ke.A.getOrdenesInventarioInternoDestino().then((function(e){e.data&&e.data.estado&&Array.isArray(e.data.data)?f(e.data.data):f([])})).catch((function(){return f([])})).finally((function(){return v(!1)}))},re=function(){V(!0),ke.A.getHistorialConsumoInventarioInterno({fecha_desde:q,fecha_hasta:Y,agrupado:1}).then((function(e){e.data&&e.data.estado&&Array.isArray(e.data.data)?F(e.data.data):F([])})).catch((function(){return F([])})).finally((function(){return V(!1)}))};(0,o.useEffect)((function(){ee(),te()}),[]),(0,o.useEffect)((function(){a===jw&&re()}),[a]);return(0,Pt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Pt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Inventario de Suministros (esta sucursal)"}),r&&(0,Pt.jsx)("button",{onClick:r,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-sm",children:"Volver"})]}),Z&&(0,Pt.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-amber-50 text-amber-800 text-sm",children:Z}),(0,Pt.jsxs)("div",{className:"flex flex-wrap gap-2 mb-6 border-b border-gray-200 pb-2",children:[(0,Pt.jsx)("button",{type:"button",onClick:function(){return i(yw)},className:"px-4 py-2 rounded-lg text-sm font-medium ".concat(a===yw?"bg-amber-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"),children:"Inventario disponible"}),(0,Pt.jsx)("button",{type:"button",onClick:function(){return i(_w)},className:"px-4 py-2 rounded-lg text-sm font-medium ".concat(a===_w?"bg-amber-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"),children:"Historial de rdenes"}),(0,Pt.jsx)("button",{type:"button",onClick:function(){return i(jw)},className:"px-4 py-2 rounded-lg text-sm font-medium ".concat(a===jw?"bg-amber-500 text-white":"bg-white text-gray-600 hover:bg-gray-100"),children:"Histrico de consumo"})]}),a===yw&&(0,Pt.jsxs)("div",{className:"bg-white rounded-xl shadow p-4",children:[(0,Pt.jsx)("div",{className:"mb-4",children:(0,Pt.jsx)("button",{onClick:ee,disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm disabled:opacity-50",children:p?"Cargando...":"Actualizar inventario"})}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:'Seleccione un producto y pulse "Registrar consumo" para descontar cantidad del stock.'}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full text-sm",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,Pt.jsx)("th",{className:"text-left p-2",children:"SKU"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Descripcin"}),(0,Pt.jsx)("th",{className:"text-right p-2",children:"Cantidad"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Unidad"}),(0,Pt.jsx)("th",{className:"p-2 w-32"})]})}),(0,Pt.jsxs)("tbody",{children:[0===c.length&&!p&&(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:5,className:"p-4 text-center text-gray-500",children:"Sin stock o no hay conexin con central."})}),c.map((function(e,t){var r;return(0,Pt.jsxs)("tr",{className:"border-b",children:[(0,Pt.jsx)("td",{className:"p-2",children:e.sku}),(0,Pt.jsx)("td",{className:"p-2",children:e.descripcion}),(0,Pt.jsx)("td",{className:"p-2 text-right",children:e.cantidad}),(0,Pt.jsx)("td",{className:"p-2",children:e.unidad_medida||"UND"}),(0,Pt.jsx)("td",{className:"p-2",children:(0,Pt.jsx)("button",{type:"button",onClick:function(){return function(e){S(e),P("")}(e)},className:"px-3 py-1.5 bg-amber-600 text-white rounded text-xs font-medium hover:bg-amber-700",children:"Registrar consumo"})})]},null!==(r=e.id_inventario_interno)&&void 0!==r?r:t)}))]})]})})]}),a===jw&&(0,Pt.jsxs)("div",{className:"bg-white rounded-xl shadow p-4",children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Consumo de suministros en esta sucursal, agrupado por tem en el periodo seleccionado."}),(0,Pt.jsxs)("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[(0,Pt.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Desde:"}),(0,Pt.jsx)("input",{type:"date",value:q,onChange:function(e){return H(e.target.value)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),(0,Pt.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Hasta:"}),(0,Pt.jsx)("input",{type:"date",value:Y,onChange:function(e){return X(e.target.value)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm"})]}),(0,Pt.jsx)("button",{type:"button",onClick:re,disabled:W,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 disabled:opacity-50",children:W?"Cargando...":"Consultar"})]}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full text-sm",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,Pt.jsx)("th",{className:"text-left p-2",children:"SKU"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Descripcin"}),(0,Pt.jsx)("th",{className:"text-right p-2",children:"Cantidad consumida"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Unidad"})]})}),(0,Pt.jsxs)("tbody",{children:[0===L.length&&!W&&(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:4,className:"p-4 text-center text-gray-500",children:"Sin consumo en el periodo o no hay conexin con central."})}),L.map((function(e,t){var r,n;return(0,Pt.jsxs)("tr",{className:"border-b",children:[(0,Pt.jsx)("td",{className:"p-2 font-mono text-xs",children:e.sku||""}),(0,Pt.jsx)("td",{className:"p-2",children:e.descripcion||""}),(0,Pt.jsx)("td",{className:"p-2 text-right font-medium",children:null!==(r=null!==(n=e.cantidad_total)&&void 0!==n?n:e.cantidad)&&void 0!==r?r:0}),(0,Pt.jsx)("td",{className:"p-2",children:e.unidad_medida||"UND"})]},e.id_inventario_interno||t)}))]})]})})]}),a===_w&&(0,Pt.jsxs)("div",{className:"bg-white rounded-xl shadow p-4",children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:'rdenes enviadas por central a esta sucursal. Las que estn en estado "Enviada" puede marcarlas como recibidas para que el stock se sume a su inventario.'}),(0,Pt.jsx)("div",{className:"mb-4",children:(0,Pt.jsx)("button",{type:"button",onClick:te,disabled:x,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm disabled:opacity-50",children:x?"Cargando...":"Actualizar listado"})}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full text-sm",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,Pt.jsx)("th",{className:"text-left p-2",children:"Cdigo"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Fecha"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Estado"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Items"}),(0,Pt.jsx)("th",{className:"p-2 w-28"})]})}),(0,Pt.jsxs)("tbody",{children:[0===d.length&&!x&&(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:5,className:"p-4 text-center text-gray-500",children:"Sin rdenes o no hay conexin con central."})}),d.map((function(e){return(0,Pt.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,Pt.jsx)("td",{className:"p-2 font-mono text-xs",children:e.codigo}),(0,Pt.jsx)("td",{className:"p-2",children:e.fecha||""}),(0,Pt.jsx)("td",{className:"p-2",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-xs font-medium ".concat("RECIBIDA"===e.estado?"bg-green-100 text-green-800":"PROCESADA"===e.estado?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-700"),children:"RECIBIDA"===e.estado?"Recibida":"PROCESADA"===e.estado?"Enviada (pendiente recibir)":e.estado||""})}),(0,Pt.jsx)("td",{className:"p-2 text-gray-600 max-w-xs truncate",title:e.items_resumen,children:e.items_resumen||""}),(0,Pt.jsx)("td",{className:"p-2",children:(0,Pt.jsx)("button",{type:"button",onClick:function(){T({id:e.id,codigo:e.codigo,fecha:e.fecha,estado:e.estado,items:null}),R(e.id),J(""),ke.A.getOrdenDetalleInventarioInternoDestino({id_orden:e.id}).then((function(e){var t;e.data&&e.data.estado&&e.data.data?T(e.data.data):J((null===(t=e.data)||void 0===t?void 0:t.msj)||"Error al cargar detalle.")})).catch((function(){return J("Error de conexin al cargar detalle.")})).finally((function(){return R(null)}))},disabled:null!==k,className:"px-3 py-1.5 bg-blue-600 text-white rounded text-xs font-medium hover:bg-blue-700 disabled:opacity-50",children:k===e.id?"Cargando...":"Ver detalle"})})]},e.id)}))]})]})})]}),I&&(0,Pt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:function(){T(null),R(null)},children:(0,Pt.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] flex flex-col",onClick:function(e){return e.stopPropagation()},children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center border-b p-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Detalle de orden"}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-600 mt-0.5",children:[I.codigo,"  ",I.fecha||""]}),(0,Pt.jsx)("span",{className:"inline-flex mt-1 px-2 py-0.5 rounded text-xs font-medium ".concat("RECIBIDA"===I.estado?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800"),children:"RECIBIDA"===I.estado?"Recibida":"Enviada (pendiente recibir)"})]}),(0,Pt.jsx)("button",{type:"button",onClick:function(){T(null),R(null)},className:"text-gray-400 hover:text-gray-600 text-xl leading-none",children:""})]}),(0,Pt.jsxs)("div",{className:"p-4 overflow-auto flex-1",children:[(0,Pt.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"tems y cantidades a recibir:"}),k===I.id?(0,Pt.jsx)("p",{className:"text-gray-500 py-4",children:"Cargando detalle..."}):Array.isArray(I.items)&&I.items.length>0?(0,Pt.jsxs)("table",{className:"w-full text-sm border rounded-lg overflow-hidden",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{className:"bg-gray-100 border-b",children:[(0,Pt.jsx)("th",{className:"text-left p-2",children:"#"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"SKU"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Descripcin"}),(0,Pt.jsx)("th",{className:"text-right p-2",children:"Cantidad"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Unidad"})]})}),(0,Pt.jsx)("tbody",{children:I.items.map((function(e,t){return(0,Pt.jsxs)("tr",{className:"border-b",children:[(0,Pt.jsx)("td",{className:"p-2 text-gray-500",children:t+1}),(0,Pt.jsx)("td",{className:"p-2 font-mono text-xs",children:e.sku||""}),(0,Pt.jsx)("td",{className:"p-2",children:e.descripcion||""}),(0,Pt.jsx)("td",{className:"p-2 text-right font-medium",children:e.cantidad}),(0,Pt.jsx)("td",{className:"p-2",children:e.unidad_medida||"UND"})]},t)}))})]}):(0,Pt.jsx)("p",{className:"text-gray-500 py-4",children:"No se pudieron cargar los tems de esta orden."})]}),(0,Pt.jsxs)("div",{className:"border-t p-4 flex justify-end gap-2",children:[(0,Pt.jsx)("button",{type:"button",onClick:function(){T(null),R(null)},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cerrar"}),"PROCESADA"===I.estado&&(0,Pt.jsx)("button",{type:"button",onClick:function(){var e;(e=I.id)&&(_(e),J(""),ke.A.recibirOrdenInventarioInterno({id_orden:String(e)}).then((function(e){var t;e.data&&e.data.estado?(J(e.data.msj||"Orden marcada como recibida. Stock actualizado."),T(null),ee(),te()):J((null===(t=e.data)||void 0===t?void 0:t.msj)||"Error al recibir orden.")})).catch((function(){return J("Error de conexin con central.")})).finally((function(){return _(null)})))},disabled:null!==y,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:y===I.id?"Procesando...":"Recibir orden"})]})]})}),C&&(0,Pt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:function(){return S(null)},children:(0,Pt.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-5 space-y-4",onClick:function(e){return e.stopPropagation()},children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center border-b pb-3",children:[(0,Pt.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Registrar consumo"}),(0,Pt.jsx)("button",{type:"button",onClick:function(){return S(null)},className:"text-gray-400 hover:text-gray-600 text-xl leading-none",children:""})]}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,Pt.jsx)("strong",{children:C.sku}),"  ",C.descripcion]}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-600",children:["Stock actual: ",(0,Pt.jsx)("strong",{children:C.cantidad})," ",C.unidad_medida||"UND"]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad a descontar"}),(0,Pt.jsx)("input",{type:"number",min:"0.001",step:"0.01",max:null!==(t=C.cantidad)&&void 0!==t?t:void 0,value:A,onChange:function(e){return P(e.target.value)},className:"w-full min-w-[8rem] py-2 px-3 border border-gray-300 rounded-lg text-right",placeholder:"0"}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Mximo: ",C.cantidad]})]}),(0,Pt.jsxs)("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[(0,Pt.jsx)("button",{type:"button",onClick:function(){return S(null)},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancelar"}),(0,Pt.jsx)("button",{type:"button",onClick:function(){if(C){var e=C,t=e.id_inventario_interno,r=parseFloat(A||0);!t||r<=0?J("Indique una cantidad mayor a 0 para registrar el consumo."):r>(e.cantidad||0)?J("La cantidad a consumir no puede superar el stock disponible."):(N(t),J(""),ke.A.registrarConsumoInventarioInterno({items:[{id_inventario_interno:t,cantidad:r}]}).then((function(e){var t;e.data&&e.data.estado?(J(e.data.msj||"Consumo registrado. Stock actualizado."),S(null),P(""),ee()):J((null===(t=e.data)||void 0===t?void 0:t.msj)||"Error al registrar consumo.")})).catch((function(){return J("Error de conexin con central.")})).finally((function(){return N(null)})))}},disabled:null!==w,className:"px-4 py-2 bg-amber-500 text-white rounded-lg text-sm font-medium hover:bg-amber-600 disabled:opacity-50",children:null!==w?"Procesando...":"Descontar"})]})]})})]})})}function Nw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ew(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ew(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Cw=function(e){var t=e.getFacturas,r=e.facturas,n=e.factqBuscar,a=e.setfactqBuscar,i=e.factqBuscarDate,s=e.setfactqBuscarDate,c=Nw((0,o.useState)(null),2),l=c[0],u=c[1];(0,o.useEffect)((function(){r&&0===r.length&&t(!1)}),[]);var d=function(){t(!1)},f=function(e){return null==e||isNaN(e)?"-":Number(e).toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2})};return(0,Pt.jsx)("div",{className:"container-fluid py-2",children:(0,Pt.jsxs)("div",{className:"card shadow-sm",children:[(0,Pt.jsxs)("div",{className:"card-header py-2 d-flex align-items-center gap-2 flex-wrap",children:[(0,Pt.jsx)("h6",{className:"mb-0",children:"Facturas e tems"}),(0,Pt.jsxs)("div",{className:"d-flex flex-wrap align-items-center gap-2 ms-auto",children:[(0,Pt.jsx)("input",{type:"text",className:"form-control form-control-sm",style:{maxWidth:"200px"},placeholder:"Buscar por nmero o descripcin",value:n||"",onChange:function(e){return a(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&d()}}),void 0!==i&&(0,Pt.jsx)("input",{type:"date",className:"form-control form-control-sm",style:{maxWidth:"140px"},value:i||"",onChange:function(e){return s(e.target.value)}}),(0,Pt.jsxs)("button",{type:"button",className:"btn btn-sm btn-primary",onClick:d,children:[(0,Pt.jsx)("i",{className:"fas fa-search me-1"})," Buscar"]})]})]}),(0,Pt.jsx)("div",{className:"card-body p-2 overflow-auto",style:{maxHeight:"70vh"},children:r&&0!==r.length?(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm table-hover mb-0",children:[(0,Pt.jsx)("thead",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{style:{width:"40px"}}),(0,Pt.jsx)("th",{children:"N Factura"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{children:"Proveedor"}),(0,Pt.jsx)("th",{className:"text-end",children:"Monto"}),(0,Pt.jsx)("th",{children:"Fecha emisin"})]})}),(0,Pt.jsx)("tbody",{children:r.map((function(e){return(0,Pt.jsxs)(o.Fragment,{children:[(0,Pt.jsxs)("tr",{className:l===e.id?"table-primary":"",style:{cursor:"pointer"},onClick:function(){return t=e.id,void u((function(e){return e===t?null:t}));var t},children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("i",{className:"fas fa-chevron-".concat(l===e.id?"down":"right"," small")})}),(0,Pt.jsx)("td",{children:e.numfact||"-"}),(0,Pt.jsx)("td",{children:e.descripcion||"-"}),(0,Pt.jsx)("td",{children:e.proveedor?e.proveedor.descripcion:"-"}),(0,Pt.jsx)("td",{className:"text-end",children:f(e.monto)}),(0,Pt.jsx)("td",{children:e.fechaemision||"-"})]}),l===e.id&&e.items&&e.items.length>0&&(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:6,className:"p-0 bg-light",children:(0,Pt.jsxs)("table",{className:"table table-sm table-bordered mb-0 small",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Cdigo"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{className:"text-end",children:"Cant."}),(0,Pt.jsx)("th",{className:"text-end",children:"Precio unit."}),(0,Pt.jsx)("th",{className:"text-end",children:"Subtotal"})]})}),(0,Pt.jsx)("tbody",{children:e.items.map((function(e){var t;return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:e.producto?e.producto.barras:"-"}),(0,Pt.jsx)("td",{children:e.producto?e.producto.descripcion:"-"}),(0,Pt.jsx)("td",{className:"text-end",children:null!==(t=e.cantidad)&&void 0!==t?t:"-"}),(0,Pt.jsx)("td",{className:"text-end",children:f(e.producto?e.producto.precio3:null)}),(0,Pt.jsx)("td",{className:"text-end",children:f(null!=e.basefact?e.basefact:e.producto&&e.cantidad?e.producto.precio3*e.cantidad:null)})]},e.id)}))})]})})}),l===e.id&&(!e.items||0===e.items.length)&&(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:6,className:"text-muted small",children:"Sin tems"})})]},e.id)}))})]})}):(0,Pt.jsx)("p",{className:"text-muted small mb-0",children:"Sin facturas. Use Buscar para cargar."})})]})})};const Sw=function(e){var t=e.getFacturas,r=e.openBarcodeScan,n=e.exportPendientes,a=e.getAlquileres,i=e.allProveedoresCentral,s=e.getAllProveedores,c=e.personalNomina,l=e.setpersonalNomina,u=e.getNomina,d=e.delCaja,f=e.categoriasCajas,h=e.setcategoriasCajas,p=e.getcatsCajas,m=e.controlefecQ,x=e.setcontrolefecQ,v=e.controlefecQDesde,b=e.setcontrolefecQDesde,y=e.controlefecQHasta,_=e.setcontrolefecQHasta,j=e.controlefecData,w=e.setcontrolefecData,N=e.controlefecSelectGeneral,E=e.setcontrolefecSelectGeneral,C=e.controlefecSelectUnitario,S=e.setcontrolefecSelectUnitario,O=e.controlefecNewConcepto,A=e.setcontrolefecNewConcepto,P=e.controlefecNewCategoria,D=e.setcontrolefecNewCategoria,I=e.controlefecNewMonto,T=e.setcontrolefecNewMonto,M=e.getControlEfec,k=e.setgetControlEfec,R=e.setControlEfec,B=e.setsetControlEfec,L=e.setcontrolefecQCategoria,F=e.controlefecQCategoria,U=e.children,W=e.getEstaInventario,V=e.user,z=e.printTickedPrecio,K=(e.setdropprintprice,e.dropprintprice,e.printPrecios,e.setCtxBulto),G=e.setStockMin,q=e.setPrecioAlterno,H=e.openReporteFalla,$=e.setporcenganancia,Y=e.changeInventario,X=e.productosInventario,Q=e.qBuscarInventario,Z=e.setQBuscarInventario,J=(e.setIndexSelectInventario,e.indexSelectInventario,e.inputBuscarInventario),ee=(e.inpInvbarras,e.setinpInvbarras,e.inpInvcantidad,e.setinpInvcantidad,e.inpInvalterno,e.setinpInvalterno,e.inpInvunidad,e.setinpInvunidad,e.inpInvcategoria,e.setinpInvcategoria,e.inpInvdescripcion,e.setinpInvdescripcion,e.inpInvbase,e.setinpInvbase,e.inpInvventa,e.setinpInvventa,e.inpInviva,e.setinpInviva,e.number),te=(e.guardarNuevoProducto,e.setProveedor),re=e.proveedordescripcion,ne=e.setproveedordescripcion,ae=e.proveedorrif,oe=e.setproveedorrif,ie=e.proveedordireccion,se=e.setproveedordireccion,ce=e.proveedortelefono,le=e.setproveedortelefono,ue=e.subViewInventario,de=e.setsubViewInventario,fe=e.setIndexSelectProveedores,he=e.indexSelectProveedores,pe=e.qBuscarProveedor,me=e.setQBuscarProveedor,ge=e.proveedoresList,xe=e.delProveedor,ve=e.delProducto,be=e.inpInvid_proveedor,ye=e.setinpInvid_proveedor,_e=e.inpInvid_marca,je=e.setinpInvid_marca,we=e.inpInvid_deposito,Ne=e.setinpInvid_deposito,Ee=e.setshowModalFacturas,Ce=e.showModalFacturas,Se=e.facturas,Oe=e.factqBuscar,Ae=e.setfactqBuscar,Pe=e.factqBuscarDate,De=e.setfactqBuscarDate,Ie=e.factsubView,Te=e.setfactsubView,Me=e.factSelectIndex,ke=e.setfactSelectIndex,Re=e.factOrderBy,Be=e.setfactOrderBy,Le=e.factOrderDescAsc,Fe=e.setfactOrderDescAsc,Ue=e.factInpid_proveedor,We=e.setfactInpid_proveedor,Ve=e.factInpnumfact,ze=e.setfactInpnumfact,Ke=e.factInpdescripcion,Ge=e.setfactInpdescripcion,qe=e.factInpmonto,He=e.setfactInpmonto,$e=e.factInpfechavencimiento,Ye=e.setfactInpfechavencimiento,Xe=e.setFactura,Qe=e.factInpestatus,Ze=e.setfactInpestatus,Je=e.delFactura,et=e.Invnum,tt=e.setInvnum,rt=e.InvorderColumn,nt=e.setInvorderColumn,at=e.InvorderBy,ot=e.setInvorderBy,it=e.delItemFact,st=e.qFallas,ct=e.setqFallas,lt=e.orderCatFallas,ut=e.setorderCatFallas,dt=e.orderSubCatFallas,ft=e.setorderSubCatFallas,ht=e.ascdescFallas,pt=e.setascdescFallas,mt=e.fallas,gt=e.delFalla,xt=(e.getPedidosCentral,e.selectPedidosCentral,e.checkPedidosCentral,e.pedidosCentral,e.setIndexPedidoCentral,e.indexPedidoCentral,e.moneda),vt=e.verDetallesFactura,bt=(e.setNewProducto,e.modViewInventario),yt=e.setmodViewInventario,_t=(e.inpInvLotes,e.addNewLote,e.changeModLote,e.reporteInventario),jt=e.guardarNuevoProductoLote,wt=e.refsInpInvList,Nt=e.categorias,Et=e.fechaQEstaInve,Ct=e.setfechaQEstaInve,St=e.fechaFromEstaInve,Ot=e.setfechaFromEstaInve,At=e.fechaToEstaInve,Dt=e.setfechaToEstaInve,It=e.orderByEstaInv,Tt=e.setorderByEstaInv,Mt=e.orderByColumEstaInv,kt=e.setorderByColumEstaInv,Rt=e.dataEstaInven,Bt=e.saveFactura,Lt=e.setmodFact,Ft=e.modFact,Ut=e.setPagoProveedor,Wt=e.tipopagoproveedor,Vt=e.settipopagoproveedor,zt=e.montopagoproveedor,Kt=e.setmontopagoproveedor,Gt=e.getPagoProveedor,qt=e.pagosproveedor,Ht=e.setSameGanancia,$t=e.setSameCat,Yt=e.setSamePro,Xt=e.busquedaAvanazadaInv,Qt=e.setbusquedaAvanazadaInv,Zt=e.busqAvanzInputsFun,Jt=e.busqAvanzInputs,er=e.buscarInvAvanz,tr=e.delPagoProveedor,rr=(e.qgastosfecha1,e.setqgastosfecha1,e.qgastosfecha2,e.setqgastosfecha2,e.qgastos,e.setqgastos,e.qcatgastos,e.setqcatgastos,e.gastosdescripcion,e.setgastosdescripcion,e.gastoscategoria,e.setgastoscategoria,e.gastosmonto,e.setgastosmonto,e.gastosData,e.delGastos,e.getGastos,e.setGasto,e.sameCatValue),nr=e.sameProValue,ar=e.categoriaEstaInve,or=e.setcategoriaEstaInve,ir=e.qhistoinven,sr=e.setqhistoinven,cr=e.fecha1histoinven,lr=e.setfecha1histoinven,ur=e.fecha2histoinven,dr=e.setfecha2histoinven,fr=e.orderByHistoInven,hr=e.setorderByHistoInven,pr=e.historicoInventario,mr=e.usuarioHistoInven,gr=e.setusuarioHistoInven,xr=e.usuariosData,vr=e.getUsuarios,br=e.getHistoricoInventario,yr=e.openmodalhistoricoproducto,_r=e.showmodalhistoricoproducto,jr=e.setshowmodalhistoricoproducto,wr=e.fecha1modalhistoricoproducto,Nr=e.setfecha1modalhistoricoproducto,Er=e.fecha2modalhistoricoproducto,Cr=e.setfecha2modalhistoricoproducto,Sr=e.usuariomodalhistoricoproducto,Or=e.setusuariomodalhistoricoproducto,Ar=e.datamodalhistoricoproducto,Pr=e.setdatamodalhistoricoproducto,Dr=e.getmovientoinventariounitario,Ir=e.selectRepleceProducto,Tr=e.replaceProducto,Mr=e.setreplaceProducto,kr=e.saveReplaceProducto,Rr=e.controlefecNewMontoMoneda,Br=e.setcontrolefecNewMontoMoneda,Lr=e.controlefecResponsable,Fr=e.setcontrolefecResponsable,Ur=e.controlefecAsignar,Wr=e.setcontrolefecAsignar,Vr=e.setopenModalNuevoEfectivo,zr=e.openModalNuevoEfectivo,Kr=e.verificarMovPenControlEfec,Gr=e.verificarMovPenControlEfecTRANFTRABAJADOR,qr=(e.setView,e.factInpImagen),Hr=e.setfactInpImagen,$r=e.getPorcentajeInventario,Yr=e.cleanInventario,Xr=e.alquileresData,Qr=e.sucursalesCentral,Zr=e.transferirpedidoa,Jr=e.settransferirpedidoa,en=e.getSucursales,tn=e.reversarMovPendientes,rn=e.aprobarRecepcionCaja,nn=e.inventarioNovedadesData,an=e.setinventarioNovedadesData,on=e.getInventarioNovedades,sn=e.resolveInventarioNovedades,cn=e.sendInventarioNovedades,ln=e.delInventarioNovedades,un=e.dolar,dn=e.peso,fn=e.setSalidaGarantias,hn=e.garantiasData,pn=e.getGarantias,mn=e.setqgarantia,gn=e.qgarantia,xn=e.garantiaorderCampo,vn=e.setgarantiaorderCampo,bn=e.garantiaorder,yn=e.setgarantiaorder,_n=e.garantiaEstado,jn=e.setgarantiaEstado,wn=e.departamentosCajas,Nn=e.controlefecNewDepartamento,En=e.setcontrolefecNewDepartamento,Cn=e.setcontrolefecid_persona,Sn=e.controlefecid_persona,On=e.setcontrolefecid_alquiler,An=e.controlefecid_alquiler,Pn=e.controlefecid_proveedor,Dn=e.setcontrolefecid_proveedor,In=e.reportefiscal,Tn=e.numReporteZ,Mn=e.setnumReporteZ,kn=e.sincInventario,Rn=e.buscarInventario;return(0,o.useEffect)((function(){vr()}),[]),(0,o.useEffect)((function(){Rn()}),[et,rt,at,Q]),(0,g.v)("f1",(function(){"inventario"===ue&&"list"===bt&&jt()}),{enableOnTags:["INPUT","SELECT"]},[]),(0,g.v)("f2",(function(){"inventario"===ue&&"list"===bt&&Y(null,null,null,"add")}),{enableOnTags:["INPUT","SELECT"]},[]),(0,Pt.jsxs)("div",{className:"inventario-container",children:[(0,Pt.jsxs)("div",{className:"container-fluid px-4",children:[1==V.tipo_usuario?(0,Pt.jsx)("div",{className:"row mb-3",children:(0,Pt.jsx)("div",{className:"col-12",children:(0,Pt.jsxs)("div",{className:"d-flex flex-wrap align-items-center gap-2",children:[(0,Pt.jsxs)("div",{className:"d-flex flex-wrap gap-1 me-3",children:[(0,Pt.jsxs)("button",{className:"btn ".concat("inventario"===ue?"btn-primary":"btn-outline-primary"),onClick:function(){return de("inventario")},children:[(0,Pt.jsx)("i",{className:"fas fa-boxes me-1"}),"Inventario"]}),(0,Pt.jsxs)("button",{className:"btn ".concat("efectivo"===ue?"btn-primary":"btn-outline-primary"),onClick:function(){return de("efectivo")},children:[(0,Pt.jsx)("i",{className:"fas fa-money-bill-wave me-1"}),"Control de Efectivo"]}),(0,Pt.jsxs)("button",{className:"btn ".concat("estadisticas"===ue?"btn-primary":"btn-outline-primary"),onClick:function(){return de("estadisticas")},children:[(0,Pt.jsx)("i",{className:"fas fa-chart-bar me-1"}),"Estadsticas"]}),(0,Pt.jsxs)("button",{className:"btn ".concat("suministros"===ue?"btn-primary":"btn-outline-primary"),onClick:function(){return de("suministros")},children:[(0,Pt.jsx)("i",{className:"fas fa-box-open me-1"}),"Suministros"]}),(0,Pt.jsxs)("button",{className:"btn ".concat("facturasItems"===ue?"btn-primary":"btn-outline-primary"),onClick:function(){return de("facturasItems")},children:[(0,Pt.jsx)("i",{className:"fas fa-file-invoice me-1"}),"Facturas e tems"]})]}),(0,Pt.jsxs)("div",{className:"d-flex flex-wrap align-items-center gap-2 ms-auto",children:[(0,Pt.jsxs)("button",{className:"btn btn-outline-primary",onClick:function(){return In("x")},children:[(0,Pt.jsx)("i",{className:"fas fa-file-invoice me-1"}),"Reporte X"]}),(0,Pt.jsxs)("button",{className:"btn btn-outline-primary",onClick:function(){return In("z")},children:[(0,Pt.jsx)("i",{className:"fas fa-file-invoice-dollar me-1"}),"Reporte Z"]}),(0,Pt.jsxs)("div",{className:"input-group",style:{maxWidth:"12rem"},children:[(0,Pt.jsx)("span",{className:"input-group-text",children:(0,Pt.jsx)("i",{className:"fas fa-hashtag"})}),(0,Pt.jsx)("input",{className:"form-control",type:"number",value:Tn,onChange:function(e){return Mn(e.target.value)},placeholder:"N Reporte Z","aria-label":"Nmero de Reporte Z"})]})]})]})})}):null,(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsx)("div",{className:"col-12 p-0",children:(0,Pt.jsxs)("div",{className:"content-wrapper p-1",children:[U,"efectivo"===ue&&(0,Pt.jsx)(gw,{setcontrolefecid_persona:Cn,controlefecid_persona:Sn,setcontrolefecid_alquiler:On,controlefecid_alquiler:An,controlefecid_proveedor:Pn,setcontrolefecid_proveedor:Dn,controlefecNewDepartamento:Nn,setcontrolefecNewDepartamento:En,departamentosCajas:wn,dolar:un,peso:dn,aprobarRecepcionCaja:rn,reversarMovPendientes:tn,getSucursales:en,transferirpedidoa:Zr,settransferirpedidoa:Jr,sucursalesCentral:Qr,alquileresData:Xr,getAlquileres:a,allProveedoresCentral:i,getAllProveedores:s,controlefecResponsable:Lr,setcontrolefecResponsable:Fr,controlefecAsignar:Ur,setcontrolefecAsignar:Wr,personalNomina:c,setpersonalNomina:l,getNomina:u,delCaja:d,categoriasCajas:f,setcategoriasCajas:h,getcatsCajas:p,controlefecNewMontoMoneda:Rr,setcontrolefecNewMontoMoneda:Br,controlefecQ:m,setcontrolefecQ:x,controlefecQDesde:v,setcontrolefecQDesde:b,controlefecQHasta:y,setcontrolefecQHasta:_,controlefecData:j,setcontrolefecData:w,controlefecSelectGeneral:N,setcontrolefecSelectGeneral:E,controlefecSelectUnitario:C,setcontrolefecSelectUnitario:S,controlefecNewCategoria:P,setcontrolefecNewCategoria:D,controlefecNewConcepto:O,setcontrolefecNewConcepto:A,controlefecNewMonto:I,setcontrolefecNewMonto:T,getControlEfec:M,setgetControlEfec:k,setControlEfec:R,setsetControlEfec:B,setcontrolefecQCategoria:L,controlefecQCategoria:F,number:ee,moneda:xt,setopenModalNuevoEfectivo:Vr,openModalNuevoEfectivo:zr,verificarMovPenControlEfec:Kr,verificarMovPenControlEfecTRANFTRABAJADOR:Gr}),"facturasItems"===ue&&(0,Pt.jsx)(Cw,{getFacturas:t,facturas:Se,factqBuscar:Oe,setfactqBuscar:Ae,factqBuscarDate:Pe,setfactqBuscarDate:De}),"facturas"===ue&&(0,Pt.jsx)(iw,{getFacturas:t,factInpImagen:qr,setfactInpImagen:Hr,delPagoProveedor:tr,pagosproveedor:qt,getPagoProveedor:Gt,setPagoProveedor:Ut,tipopagoproveedor:Wt,settipopagoproveedor:Vt,montopagoproveedor:zt,setmontopagoproveedor:Kt,setmodFact:Lt,modFact:Ft,qBuscarProveedor:pe,setQBuscarProveedor:me,setIndexSelectProveedores:fe,indexSelectProveedores:he,moneda:xt,saveFactura:Bt,setsubViewInventario:de,setshowModalFacturas:Ee,showModalFacturas:Ce,facturas:Se,verDetallesFactura:vt,factqBuscar:Oe,setfactqBuscar:Ae,factqBuscarDate:Pe,setfactqBuscarDate:De,factsubView:Ie,setfactsubView:Te,factSelectIndex:Me,setfactSelectIndex:ke,factOrderBy:Re,setfactOrderBy:Be,factOrderDescAsc:Le,setfactOrderDescAsc:Fe,factInpid_proveedor:Ue,setfactInpid_proveedor:We,factInpnumfact:Ve,setfactInpnumfact:ze,factInpdescripcion:Ke,setfactInpdescripcion:Ge,factInpmonto:qe,setfactInpmonto:He,factInpfechavencimiento:$e,setfactInpfechavencimiento:Ye,setFactura:Xe,proveedoresList:ge,number:ee,factInpestatus:Qe,setfactInpestatus:Ze,delFactura:Je,delItemFact:it}),"inventario"===ue&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"container-fluid",children:[(0,Pt.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:(0,Pt.jsx)("div",{className:"container-fluid",children:(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsxs)("div",{className:"col d-flex justify-content-center",children:[(0,Pt.jsxs)("button",{className:"btn btn-sinapsis ms-2",onClick:function(){return yt("list")},children:["Gestin ",(0,Pt.jsx)("i",{className:"fa fa-paper-plane"})]}),(0,Pt.jsxs)("button",{className:"btn btn-sinapsis ms-2",onClick:function(){return yt("historico")},children:["Histrico ",(0,Pt.jsx)("i",{className:"fa fa-refresh"})]}),(0,Pt.jsxs)("button",{className:"btn btn-sinapsis ms-2",onClick:function(){return yt("inventarionovedades")},children:["Novedades ",(0,Pt.jsx)("i",{className:"fa fa-exclamation-circle"})]}),(0,Pt.jsxs)("button",{className:"btn btn-sinapsis ms-2",onClick:function(){return kn()},children:["Sincronizar Inventario ",(0,Pt.jsx)("i",{className:"fa fa-reload"})]})]})})})}),(0,Pt.jsx)("hr",{})]}),"historico"===bt&&(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsxs)("div",{className:"container",children:[(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsxs)("select",{className:"form-control form-control-sm ",value:mr,onChange:function(e){return gr(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"--Seleccione Usuario--"}),xr.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.usuario},e.id)}))]}),(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar...",value:ir,onChange:function(e){return sr(e.target.value)}}),(0,Pt.jsx)("input",{type:"date",className:"form-control",value:cr,onChange:function(e){return lr(e.target.value)}}),(0,Pt.jsx)("input",{type:"date",className:"form-control",value:ur,onChange:function(e){return dr(e.target.value)}}),(0,Pt.jsxs)("select",{className:"form-control",value:fr,onChange:function(e){return hr(e.target.value)},children:[(0,Pt.jsx)("option",{value:"asc",children:"ASC"}),(0,Pt.jsx)("option",{value:"desc",children:"DESC"})]}),(0,Pt.jsx)("button",{className:"btn btn-success",onClick:br,children:(0,Pt.jsx)("i",{className:"fa fa-search"})})]}),(0,Pt.jsxs)("table",{className:"table",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"pointer",children:"Usuario"}),(0,Pt.jsx)("th",{className:"pointer",children:"Origen"}),(0,Pt.jsx)("th",{className:"pointer",children:"Alterno"}),(0,Pt.jsx)("th",{className:"pointer",children:"Barras"}),(0,Pt.jsx)("th",{className:"pointer",children:"Descripcin"}),(0,Pt.jsx)("th",{className:"pointer",children:"Cantidad"}),(0,Pt.jsx)("th",{className:"pointer",children:"Base"}),(0,Pt.jsx)("th",{className:"pointer",children:"Venta"}),(0,Pt.jsx)("th",{className:"pointer",children:"Hora"})]})}),pr.length?pr.map((function(e){return(0,Pt.jsxs)("tbody",{children:[(0,Pt.jsxs)("tr",{className:"bg-danger-light",children:[(0,Pt.jsx)("td",{rowSpan:2,className:"align-middle",children:e.usuario?e.usuario.usuario:""}),(0,Pt.jsx)("td",{rowSpan:2,className:"align-middle",children:e.origen?e.origen:""}),e.antes?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{children:e.antes.codigo_proveedor?e.antes.codigo_proveedor:""}),(0,Pt.jsx)("td",{children:e.antes.codigo_barras?e.antes.codigo_barras:""}),(0,Pt.jsx)("td",{children:e.antes.descripcion?e.antes.descripcion:""}),(0,Pt.jsx)("td",{children:e.antes.cantidad?e.antes.cantidad:""}),(0,Pt.jsx)("td",{children:xt(e.antes.precio_base?e.antes.precio_base:"")}),(0,Pt.jsx)("td",{children:xt(e.antes.precio?e.antes.precio:"")})]}):(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("td",{colSpan:6,className:"text-center h4",children:"Producto nuevo"})}),(0,Pt.jsx)("td",{children:e.created_at?e.created_at:""})]}),(0,Pt.jsxs)("tr",{className:"bg-success-light pb-table2",children:[e.despues?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{children:e.despues.codigo_proveedor?e.despues.codigo_proveedor:""}),(0,Pt.jsx)("td",{children:e.despues.codigo_barras?e.despues.codigo_barras:""}),(0,Pt.jsx)("td",{children:e.despues.descripcion?e.despues.descripcion:""}),(0,Pt.jsx)("td",{children:e.despues.cantidad?e.despues.cantidad:""}),(0,Pt.jsx)("td",{children:xt(e.despues.precio_base?e.despues.precio_base:"")}),(0,Pt.jsx)("td",{children:xt(e.despues.precio?e.despues.precio:"")})]}):(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("td",{colSpan:6,className:"text-center h4",children:"Producto Eliminado"})}),(0,Pt.jsx)("td",{children:e.created_at?e.created_at:""})]})]},e.id)})):null]})]})}),"list"===bt&&(0,Pt.jsx)(uw,{openBarcodeScan:r,exportPendientes:n,getPorcentajeInventario:$r,cleanInventario:Yr,selectRepleceProducto:Ir,replaceProducto:Tr,setreplaceProducto:Mr,saveReplaceProducto:kr,user:V,setStockMin:G,getmovientoinventariounitario:Dr,datamodalhistoricoproducto:Ar,setdatamodalhistoricoproducto:Pr,usuariosData:xr,openmodalhistoricoproducto:yr,showmodalhistoricoproducto:_r,setshowmodalhistoricoproducto:jr,fecha1modalhistoricoproducto:wr,setfecha1modalhistoricoproducto:Nr,fecha2modalhistoricoproducto:Er,setfecha2modalhistoricoproducto:Cr,usuariomodalhistoricoproducto:Sr,setusuariomodalhistoricoproducto:Or,reporteInventario:_t,printTickedPrecio:z,sameCatValue:rr,sameProValue:nr,setCtxBulto:K,setPrecioAlterno:q,busqAvanzInputsFun:Zt,busqAvanzInputs:Jt,buscarInvAvanz:er,busquedaAvanazadaInv:Xt,setbusquedaAvanazadaInv:Qt,setSameCat:$t,setSamePro:Yt,setSameGanancia:Ht,categorias:Nt,setporcenganancia:$,refsInpInvList:wt,proveedoresList:ge,guardarNuevoProductoLote:jt,inputBuscarInventario:J,type:function(e){return!e||"delete"===e},number:ee,productosInventario:X,qBuscarInventario:Q,setQBuscarInventario:Z,changeInventario:Y,Invnum:et,setInvnum:tt,InvorderColumn:rt,setInvorderColumn:nt,InvorderBy:at,setInvorderBy:ot}),"inventarionovedades"===bt&&(0,Pt.jsx)(fw,{inventarioNovedadesData:nn,setinventarioNovedadesData:an,getInventarioNovedades:on,resolveInventarioNovedades:sn,sendInventarioNovedades:cn,delInventarioNovedades:ln,number:ee})]}),"Submenugarantia"===ue&&(0,Pt.jsx)(xw,{setSalidaGarantias:fn,garantiaEstado:_n,setgarantiaEstado:jn,garantiasData:hn,getGarantias:pn,setqgarantia:mn,qgarantia:gn,garantiaorderCampo:xn,setgarantiaorderCampo:vn,garantiaorder:bn,setgarantiaorder:yn}),"proveedores"===ue&&(0,Pt.jsx)(aw,{number:ee,setProveedor:te,proveedordescripcion:re,setproveedordescripcion:ne,proveedorrif:ae,setproveedorrif:oe,proveedordireccion:ie,setproveedordireccion:se,proveedortelefono:ce,setproveedortelefono:le,subViewInventario:ue,setsubViewInventario:de,setIndexSelectProveedores:fe,indexSelectProveedores:he,qBuscarProveedor:pe,setQBuscarProveedor:me,proveedoresList:ge,delProveedor:xe,delProducto:ve,inpInvid_proveedor:be,setinpInvid_proveedor:ye,inpInvid_marca:_e,setinpInvid_marca:je,inpInvid_deposito:we,setinpInvid_deposito:Ne}),"fallas"===ue&&(0,Pt.jsx)(sw,{openReporteFalla:H,qFallas:st,setqFallas:ct,orderCatFallas:lt,setorderCatFallas:ut,orderSubCatFallas:dt,setorderSubCatFallas:ft,ascdescFallas:ht,setascdescFallas:pt,fallas:mt,delFalla:gt}),"estadisticas"===ue&&(0,Pt.jsx)(dw,{categoriaEstaInve:ar,setcategoriaEstaInve:or,categorias:Nt,fechaQEstaInve:Et,setfechaQEstaInve:Ct,fechaFromEstaInve:St,setfechaFromEstaInve:Ot,fechaToEstaInve:At,setfechaToEstaInve:Dt,orderByEstaInv:It,setorderByEstaInv:Tt,orderByColumEstaInv:Mt,setorderByColumEstaInv:kt,moneda:xt,getEstaInventario:W,dataEstaInven:Rt}),"suministros"===ue&&(0,Pt.jsx)(ww,{onBack:function(){return de("inventario")}})]})})})]}),(0,Pt.jsx)("style",{jsx:!0,children:"\n        .inventario-container {\n          min-height: 100vh;\n          background-color: #f8f9fa;\n          padding: 1.5rem 0;\n        }\n\n        .btn {\n          transition: all 0.3s ease;\n          border-radius: 0.5rem;\n          padding: 0.5rem 1rem;\n          font-weight: 500;\n        }\n\n        .btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n\n        .btn-group {\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n          border-radius: 0.5rem;\n          overflow: hidden;\n        }\n\n        .input-group {\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n          border-radius: 0.5rem;\n          overflow: hidden;\n        }\n\n        .input-group-text {\n          background-color: #f8f9fa;\n          border: 1px solid #dee2e6;\n          color: #6c757d;\n        }\n\n        .form-control {\n          border: 1px solid #dee2e6;\n          padding: 0.5rem 1rem;\n          font-size: 0.9rem;\n        }\n\n        .form-control:focus {\n          box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.15);\n          border-color: #86b7fe;\n        }\n\n        .content-wrapper {\n          background-color: white;\n          border-radius: 1rem;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n          padding: 1.5rem;\n          min-height: calc(100vh - 200px);\n        }\n\n        @media (max-width: 768px) {\n          .inventario-container {\n            padding: 1rem 0;\n          }\n\n          .btn-group {\n            width: 100%;\n            margin-bottom: 0.5rem;\n          }\n\n          .btn {\n            flex: 1;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n          }\n\n          .content-wrapper {\n            padding: 1rem;\n          }\n        }\n\n        @media (max-width: 576px) {\n          .btn {\n            font-size: 0.875rem;\n            padding: 0.375rem 0.75rem;\n          }\n\n          .input-group {\n            width: 100%;\n          }\n        }\n      "})]})};const Ow=function(e){e.auth;var t=e.productos,r=e.addCarrito,n=e.clickSetOrderColumn,a=e.orderColumn,o=e.orderBy,i=e.counterListProductos,s=e.tbodyproductosref,c=(e.selectProductoFast,e.moneda),l=e.user;return(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"d-none d-lg-block overflow-auto",style:{maxHeight:"calc(100vh - 180px)"},children:(0,Pt.jsxs)("table",{className:"table table-hover table-sm mb-0",style:{tableLayout:"fixed",width:"100%",minWidth:"600px"},children:[(0,Pt.jsxs)("colgroup",{children:[(0,Pt.jsx)("col",{style:{width:"85px"}}),(0,Pt.jsx)("col",{style:{width:"85px"}}),(0,Pt.jsx)("col",{style:{width:"220px"}}),(0,Pt.jsx)("col",{style:{width:"50px"}}),(0,Pt.jsx)("col",{style:{width:"120px"}})]}),(0,Pt.jsx)("thead",{className:"bg-light border-bottom sticky-top",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsxs)("th",{className:"py-1 px-1 pointer small text-nowrap","data-valor":"codigo_proveedor",onClick:n,style:{overflow:"hidden",textOverflow:"ellipsis"},title:"BARRAS",children:["BARRAS","codigo_proveedor"==a&&(0,Pt.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-1")})]}),(0,Pt.jsxs)("th",{className:"py-1 px-1 pointer small text-nowrap","data-valor":"codigo_proveedor",onClick:n,style:{overflow:"hidden",textOverflow:"ellipsis"},title:"ALTERNO",children:["ALTERNO","codigo_proveedor"==a&&(0,Pt.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-1")})]}),(0,Pt.jsxs)("th",{className:"py-1 px-1 pointer small","data-valor":"descripcion",onClick:n,style:{overflow:"hidden",textOverflow:"ellipsis"},title:"DESCRIPCIN",children:["DESCRIPCIN","descripcion"==a&&(0,Pt.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-1")})]}),(0,Pt.jsxs)("th",{className:"py-1 px-1 pointer text-center small text-nowrap","data-valor":"cantidad",onClick:n,title:"CANT",children:["CANT","cantidad"==a&&(0,Pt.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-1")})]}),(0,Pt.jsxs)("th",{className:"py-1 px-1 pointer small text-nowrap","data-valor":"precio",onClick:n,style:{overflow:"hidden",textOverflow:"ellipsis"},title:"PRECIO",children:["PRECIO","precio"==a&&(0,Pt.jsx)("i",{className:"fa fa-arrow-".concat("desc"==o?"up":"down"," ms-1")})]})]})}),(0,Pt.jsx)("tbody",{ref:s,className:"table-group-divider",children:null!=t&&t.length?t.map((function(e,t){return(0,Pt.jsxs)("tr",{"data-index":t,tabIndex:"-1",className:"".concat(i==t?"table-active":""," align-middle"),onClick:function(e){return r(e)},style:{cursor:"pointer"},children:[(0,Pt.jsx)("td",{className:"py-1 px-1 small",style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:0},children:(0,Pt.jsx)("span",{className:"fw-bold text-truncate d-block",title:e.codigo_barras,children:e.codigo_barras})}),(0,Pt.jsx)("td",{className:"py-1 px-1 small text-muted",style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:0},children:(0,Pt.jsx)("span",{className:"text-truncate d-block",title:e.codigo_proveedor,children:e.codigo_proveedor})}),(0,Pt.jsx)("td",{className:"py-1 px-1 small",style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:0},children:(0,Pt.jsx)("span",{className:"text-truncate d-block",title:e.descripcion,children:e.descripcion})}),(0,Pt.jsx)("td",{className:"py-1 px-1 text-center",children:(0,Pt.jsx)("span",{className:"badge ".concat(parseFloat(e.cantidad)>0?"bg-success":"bg-danger"," small"),children:e.cantidad.replace(".00","")})}),(0,Pt.jsx)("td",{className:"py-1 px-1",children:(0,Pt.jsxs)("div",{className:"d-flex flex-column gap-0",children:[(0,Pt.jsx)("span",{className:"small fw-bold",children:c(e.precio)}),(0,Pt.jsxs)("div",{className:"d-flex gap-1 flex-wrap",children:[(0,Pt.jsxs)("small",{className:"text-muted",children:["Bs. ",c(e.bs)]}),"elorza"==l.sucursal&&(0,Pt.jsxs)("small",{className:"text-muted",children:["Cop. ",c(e.cop)]})]})]})})]},e.id)})):(0,Pt.jsx)("tr",{children:(0,Pt.jsxs)("td",{colSpan:"5",className:"text-center py-4 small text-muted",children:[(0,Pt.jsx)("i",{className:"fas fa-box-open fa-2x mb-2 d-block"}),"No hay productos disponibles"]})})})]})}),(0,Pt.jsx)("div",{className:"d-lg-none",children:null!=t&&t.length?(0,Pt.jsx)("div",{className:"row g-3",children:t.map((function(e,t){return(0,Pt.jsx)("div",{"data-index":t,onClick:r,className:"col-12",children:(0,Pt.jsx)("div",{className:"card h-100 shadow-sm ".concat(i==t?"border-dark":""),children:(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h6",{className:"card-subtitle mb-1 text-muted",children:(0,Pt.jsx)("small",{children:e.codigo_barras})}),(0,Pt.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:(0,Pt.jsx)("small",{children:e.codigo_proveedor})})]}),(0,Pt.jsx)("span",{className:"badge ".concat(parseFloat(e.cantidad)>0?"bg-success":"bg-danger"," fs-6"),children:e.cantidad.replace(".00","")})]}),(0,Pt.jsx)("h5",{className:"card-title mb-3",children:e.descripcion}),(0,Pt.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,Pt.jsx)("button",{className:"btn btn-dark w-100",children:(0,Pt.jsx)("span",{className:"fs-4 fw-bold",children:c(e.precio)})}),(0,Pt.jsxs)("div",{className:"d-flex gap-2",children:[(0,Pt.jsxs)("button",{className:"btn btn-outline-dark flex-grow-1",children:[(0,Pt.jsx)("small",{children:"Bs."})," ",c(e.bs)]}),"elorza"==l.sucursal&&(0,Pt.jsxs)("button",{className:"btn btn-outline-dark flex-grow-1",children:[(0,Pt.jsx)("small",{children:"Cop."})," ",c(e.cop)]})]})]})]})})},e.id)}))}):(0,Pt.jsx)("div",{className:"text-center py-5",children:(0,Pt.jsxs)("div",{className:"text-muted",children:[(0,Pt.jsx)("i",{className:"fas fa-box-open fa-3x mb-3"}),(0,Pt.jsx)("p",{className:"h4",children:"No hay productos disponibles"})]})})})]})};var Aw=["type","layout","connectNulls","ref"];function Pw(e){return Pw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(e)}function Dw(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iw.apply(this,arguments)}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tw(Object(r),!0).forEach((function(t){Vw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kw(e){return function(e){if(Array.isArray(e))return Rw(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rw(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zw(n.key),n)}}function Lw(e,t){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lw(e,t)}function Fw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ww(e);if(t){var a=Ww(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Pw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uw(e)}(this,r)}}function Uw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ww(e){return Ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ww(e)}function Vw(e,t,r){return(t=zw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zw(e){var t=function(e,t){if("object"!==Pw(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Pw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pw(t)?t:String(t)}var Kw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lw(e,t)}(i,e);var t,r,n,a=Fw(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Vw(Uw(e=a.call.apply(a,[this].concat(r))),"state",{isAnimationFinished:!0,totalLength:0}),Vw(Uw(e),"getStrokeDasharray",(function(e,t,r){for(var n=r.reduce((function(e,t){return e+t})),a=Math.floor(e/n),o=e%n,s=t-e,c=[],l=0,u=0;;u+=r[l],++l)if(u+r[l]>o){c=[].concat(kw(r.slice(0,l)),[o-u]);break}var d=c.length%2==0?[0,s]:[s];return[].concat(kw(i.repeat(r,a)),kw(c),d).map((function(e){return"".concat(e,"px")})).join(", ")})),Vw(Uw(e),"id",eo("recharts-line-")),Vw(Uw(e),"pathRef",(function(t){e.mainCurve=t})),Vw(Uw(e),"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),Vw(Uw(e),"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return t=i,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(kw(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(kw(n),kw(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(o.isValidElement(e))r=o.cloneElement(e,t);else if(go()(e))r=e(t);else{var n=Ea()("recharts-line-dot",e?e.className:"");r=o.createElement(pv,Iw({},t,{className:n}))}return r}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,i=r.yAxis,s=r.layout,c=ui(r.children,sx);if(!c)return null;function l(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:px(e.payload,t)}}var u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return o.createElement(Ci,u,c.map((function(e,t){return o.cloneElement(e,{key:"bar-".concat(t),data:n,xAxis:a,yAxis:i,layout:s,dataPointFormatter:l})})))}},{key:"renderDots",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.dot,a=r.points,s=r.dataKey,c=mi(this.props),l=mi(n,!0),u=a.map((function(e,t){var r=Mw(Mw(Mw({key:"dot-".concat(t),r:3},c),l),{},{value:e.value,dataKey:s,cx:e.x,cy:e.y,index:t,payload:e.payload});return i.renderDotItem(n,r)})),d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return o.createElement(Ci,Iw({className:"recharts-line-dots",key:"dots"},d,{role:"img"}),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,i=a.type,s=a.layout,c=a.connectNulls,l=(a.ref,Dw(a,Aw)),u=Mw(Mw(Mw({},mi(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:i,layout:s,connectNulls:c});return o.createElement(Qu,Iw({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,i=n.strokeDasharray,s=n.isAnimationActive,c=n.animationBegin,l=n.animationDuration,u=n.animationEasing,d=n.animationId,f=n.animateNewValues,h=n.width,p=n.height,m=this.state,g=m.prevPoints,x=m.totalLength;return o.createElement(Cc,{begin:c,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var o=n.t;if(g){var s=g.length/a.length,c=a.map((function(e,t){var r=Math.floor(t*s);if(g[r]){var n=g[r],a=no(n.x,e.x),i=no(n.y,e.y);return Mw(Mw({},e),{},{x:a(o),y:i(o)})}if(f){var c=no(2*h,e.x),l=no(p/2,e.y);return Mw(Mw({},e),{},{x:c(o),y:l(o)})}return Mw(Mw({},e),{},{x:e.x,y:e.y})}));return r.renderCurveStatically(c,e,t)}var l,u=no(0,x)(o);if(i){var d="".concat(i).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));l=r.getStrokeDasharray(u,x,d)}else l="".concat(u,"px ").concat(x-u,"px");return r.renderCurveStatically(a,e,t,{strokeDasharray:l})}))}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,o=this.state,i=o.prevPoints,s=o.totalLength;return a&&n&&n.length&&(!i&&s>0||!sd()(i,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.dot,n=e.points,a=e.className,i=e.xAxis,s=e.yAxis,c=e.top,l=e.left,u=e.width,d=e.height,f=e.isAnimationActive,h=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=1===n.length,g=Ea()("recharts-line",a),x=i&&i.allowDataOverflow||s&&s.allowDataOverflow,v=jo()(h)?this.id:h;return o.createElement(Ci,{className:g},x?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(v)},o.createElement("rect",{x:l,y:c,width:u,height:d}))):null,!m&&this.renderCurve(x,v),this.renderErrorBar(x,v),(m||r)&&this.renderDots(x,v),(!f||p)&&ey.renderCallByParent(this.props,n))}}])&&Bw(t.prototype,r),n&&Bw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);Vw(Kw,"displayName","Line"),Vw(Kw,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Eo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Vw(Kw,"getComposedData",(function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,s=e.bandSize,c=e.displayedData,l=e.offset,u=t.layout,d=c.map((function(e,t){var c=px(e,i);return"horizontal"===u?{x:Px({axis:r,ticks:a,bandSize:s,entry:e,index:t}),y:jo()(c)?null:n.scale(c),value:c,payload:e}:{x:jo()(c)?null:r.scale(c),y:Px({axis:n,ticks:o,bandSize:s,entry:e,index:t}),value:c,payload:e}}));return Mw({points:d,layout:u},l)}));var Gw=D_({chartName:"LineChart",GraphicalChild:Kw,axisComponents:[{axisType:"xAxis",AxisComp:I_},{axisType:"yAxis",AxisComp:T_}],formatAxisMap:_y});function qw(e){return qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(e)}function Hw(){Hw=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==qw(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(qw(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function $w(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function Yw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xw(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Qw(e){var t=e.ventasData,r=e.getVentasClick,n=e.setfechaventas,a=e.fechaventas,i=e.moneda,s=e.onClickEditPedido,c=e.getVentas,l=Yw((0,o.useState)(!1),2),u=l[0],d=l[1],f=Yw((0,o.useState)("line"),2),h=f[0],p=f[1];(0,o.useEffect)((function(){c()}),[a]);var m=[],g=[];try{null!=t&&t.grafica&&Array.isArray(t.grafica)&&(m=t.grafica.map((function(e){return{hora:e.hora||"",monto:parseFloat(e.monto)||0}}))),null!=t&&t.ventas&&Array.isArray(t.ventas)&&(g=t.ventas.map((function(e){return{id_pedido:e.id_pedido||0,monto:parseFloat(e.monto)||0,hora:e.hora||""}})))}catch(e){console.error("Error procesando datos de ventas:",e),m=[],g=[]}var x=function(){var e,t=(e=Hw().mark((function e(){return Hw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,r();case 4:return e.prev=4,d(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[1,,4,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){$w(o,n,a,i,s,"next",e)}function s(e){$w(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4",children:[(0,Pt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Pt.jsx)("button",{className:"p-3 rounded-lg transition-all duration-200 ".concat(u?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-600 text-white shadow-md hover:shadow-lg"),onClick:x,disabled:u,title:"Actualizar datos",children:(0,Pt.jsx)("i",{className:"fa ".concat(u?"fa-spinner fa-spin":"fa-refresh"," text-lg")})}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Ventas"}),(0,Pt.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",onChange:function(e){return n(e.target.value)},value:a}),t&&t.fecha&&(0,Pt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Consultando: ",t.fecha]})]})]}),(0,Pt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Grfica:"}),(0,Pt.jsxs)("select",{className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",value:h,onChange:function(e){return p(e.target.value)},children:[(0,Pt.jsx)("option",{value:"line",children:"Lnea"}),(0,Pt.jsx)("option",{value:"bar",children:"Barras"})]})]})]})}),t&&t.estado&&(0,Pt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6",children:(t&&t.resumen?[{label:"Total",value:t.total||"0.00",color:"bg-green-500",textColor:"text-green-700",borderColor:"border-green-500"},{label:"Efectivo",value:t.resumen.efectivo||"0.00",color:"bg-blue-500",textColor:"text-blue-700",borderColor:"border-blue-500"},{label:"Dbito",value:t.resumen.debito||"0.00",color:"bg-purple-500",textColor:"text-purple-700",borderColor:"border-purple-500"},{label:"Transferencia",value:t.resumen.transferencia||"0.00",color:"bg-orange-500",textColor:"text-orange-700",borderColor:"border-orange-500"},{label:"BioPago",value:t.resumen.biopago||"0.00",color:"bg-teal-500",textColor:"text-teal-700",borderColor:"border-teal-500"}]:[]).map((function(e,t){return(0,Pt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border-2 ".concat(e.borderColor," p-4"),children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,Pt.jsx)("p",{className:"text-2xl font-bold ".concat(e.textColor),children:e.value})]}),(0,Pt.jsx)("div",{className:"w-12 h-12 rounded-full ".concat(e.color," flex items-center justify-center"),children:(0,Pt.jsx)("i",{className:"fa fa-dollar text-white text-lg"})})]})},t)}))}),t&&t.estado&&(0,Pt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:(0,Pt.jsx)("div",{className:"flex items-center justify-center sm:justify-end gap-4",children:(0,Pt.jsxs)("div",{className:"text-center sm:text-right",children:[(0,Pt.jsxs)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:[(0,Pt.jsx)("i",{className:"fa fa-shopping-cart mr-2"}),"Total de Ventas"]}),(0,Pt.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full border-4 border-green-500",children:(0,Pt.jsx)("span",{className:"text-2xl font-bold text-green-700",children:t.numventas||0})})]})})}),t&&t.estado&&m.length>0&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:["Ventas por Hora - ",a]}),(0,Pt.jsx)("div",{className:"w-full h-80",children:(0,Pt.jsx)(lo,{width:"100%",height:"100%",children:"line"===h?(0,Pt.jsxs)(Gw,{data:m,children:[(0,Pt.jsx)(H_,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,Pt.jsx)(I_,{dataKey:"hora",stroke:"#6b7280",fontSize:12}),(0,Pt.jsx)(T_,{stroke:"#6b7280",fontSize:12,tickFormatter:function(e){return"$".concat(e)}}),(0,Pt.jsx)(Zc,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:function(e){return["$".concat(parseFloat(e).toFixed(2)),"Monto"]}}),(0,Pt.jsx)(Kw,{type:"monotone",dataKey:"monto",stroke:"#f97316",strokeWidth:3,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#f97316",strokeWidth:2}})]}):(0,Pt.jsxs)(M_,{data:m,children:[(0,Pt.jsx)(H_,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,Pt.jsx)(I_,{dataKey:"hora",stroke:"#6b7280",fontSize:12}),(0,Pt.jsx)(T_,{stroke:"#6b7280",fontSize:12,tickFormatter:function(e){return"$".concat(e)}}),(0,Pt.jsx)(Zc,{contentStyle:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:function(e){return["$".concat(parseFloat(e).toFixed(2)),"Monto"]}}),(0,Pt.jsx)(py,{dataKey:"monto",fill:"#f97316",radius:[4,4,0,0]})]})})})]}),t&&t.estado&&g.length>0&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,Pt.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,Pt.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Detalle de Ventas"})}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pt.jsx)("thead",{className:"bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Pedido"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hora"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((function(e,t){return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pt.jsx)("button",{className:"inline-flex items-center px-3 py-1 border border-orange-300 rounded-full text-sm font-medium text-orange-700 bg-orange-50 hover:bg-orange-100 transition-colors",onClick:function(){return s(e.id_pedido)},title:"Ver pedido",children:e.id_pedido})}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(r=e.monto,i?i(r):"$".concat(parseFloat(r).toFixed(2)))}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.hora})]},e.id_pedido||t);var r}))})]})})]}),(!t||!t.estado||0===g.length)&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[(0,Pt.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Pt.jsx)("i",{className:"fa fa-chart-line text-gray-400 text-2xl"})}),(0,Pt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay datos de ventas"}),(0,Pt.jsx)("p",{className:"text-gray-500",children:"Selecciona una fecha para ver las ventas del da"})]})]})}var Zw=r(2973),Jw=r.n(Zw);function eN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rN(e){var t=e.countListPersoInter,r=e.tbodypersoInterref,n=e.setToggleAddPersona,a=e.getPersona,i=e.personas,s=e.setPersonas,c=e.inputmodaladdpersonacarritoref,l=e.setPersonaFast,u=e.clienteInpidentificacion,d=e.setclienteInpidentificacion,f=e.clienteInpnombre,h=e.setclienteInpnombre,p=e.clienteInptelefono,m=e.setclienteInptelefono,x=e.clienteInpdireccion,v=e.setclienteInpdireccion,b=(e.number,eN((0,o.useState)(""),2)),y=b[0],_=b[1],j=function(){_(""),a(""),null!=c&&c.current&&(c.current.value="")};return(0,g.v)("esc",(function(e){if(e.target===(null==c?void 0:c.current)&&y)return j(),void e.preventDefault();n(!1)}),{enableOnTags:["INPUT","SELECT"],filter:!1},[c,y,j]),(0,Pt.jsx)(Pt.Fragment,{children:(0,Pt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[85vh] overflow-hidden flex flex-col",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between flex-shrink-0 p-4 border-b border-gray-200 bg-gray-50",children:[(0,Pt.jsx)("h5",{className:"text-lg font-semibold text-gray-900",children:"Agregar Cliente"}),(0,Pt.jsx)("button",{type:"button",className:"p-2 text-gray-400 transition-colors rounded-full hover:text-gray-600 hover:bg-gray-100",onClick:function(){return n(!1)},"aria-label":"Close",children:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Pt.jsxs)("div",{className:"p-4",children:[(0,Pt.jsx)("div",{className:"mb-4",children:(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,Pt.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Pt.jsx)("input",{type:"text",className:"w-full py-2 pl-10 pr-10 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-orange-400 focus:border-orange-400",ref:c,placeholder:"Buscar cliente...",value:y,onChange:function(e){var t=e.target.value;_(t),a(t)}}),y&&(0,Pt.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",onClick:j,children:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg",children:[y&&""!==y.trim()&&i.length>0&&(0,Pt.jsx)("div",{className:"border-b border-gray-200 bg-gray-50",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4 px-4 py-3",children:[(0,Pt.jsx)("div",{className:"text-xs font-medium tracking-wider text-gray-600 uppercase",children:"Cdula"}),(0,Pt.jsx)("div",{className:"text-xs font-medium tracking-wider text-gray-600 uppercase",children:"Nombre y Apellido"})]})}),(0,Pt.jsx)("div",{ref:r,className:"divide-y divide-gray-200",children:y&&""!==y.trim()&&i.length>0?i.map((function(e,r){return(0,Pt.jsxs)("div",{tabIndex:"-1",className:"grid grid-cols-2 gap-4 px-4 py-3 cursor-pointer transition-colors ".concat(t===r?"bg-orange-50 border-l-4 border-orange-400":"hover:bg-gray-50"),onClick:function(){return s(e)},"data-index":e.id,children:[(0,Pt.jsx)("div",{className:"font-mono text-sm text-gray-700",children:e.identificacion}),(0,Pt.jsx)("div",{className:"text-sm font-medium text-gray-900","data-index":r,children:e.nombre})]},e.id)})):y&&""!==y.trim()?(0,Pt.jsx)("div",{className:"px-4 py-8 text-center text-gray-500",children:(0,Pt.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,Pt.jsx)("svg",{className:"w-12 h-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,Pt.jsxs)("div",{className:"text-sm",children:['No se encontraron clientes para: "',(0,Pt.jsx)("span",{className:"font-medium",children:y}),'"']}),(0,Pt.jsx)("button",{onClick:j,className:"px-4 py-2 text-sm text-orange-600 transition-colors rounded-md hover:text-orange-700 hover:bg-orange-50",children:"Limpiar bsqueda"})]})}):(0,Pt.jsx)("div",{className:"px-4 py-6",children:(0,Pt.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,Pt.jsx)("div",{className:"mb-6 text-center",children:(0,Pt.jsx)("div",{className:"text-sm text-gray-500",children:"Crear un nuevo cliente:"})}),(0,Pt.jsxs)("form",{onSubmit:l,className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsx)("label",{htmlFor:"identificacion",className:"block text-xs font-medium text-gray-700",children:"C.I./RIF"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-orange-400 focus:border-orange-400",id:"identificacion",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Ingrese C.I. o RIF"})]}),(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsx)("label",{htmlFor:"nombre",className:"block text-xs font-medium text-gray-700",children:"Nombres y Apellidos"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-orange-400 focus:border-orange-400",id:"nombre",value:f,onChange:function(e){return h(e.target.value)},placeholder:"Nombre completo"})]}),(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsx)("label",{htmlFor:"telefono",className:"block text-xs font-medium text-gray-700",children:"Telfono"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-orange-400 focus:border-orange-400",id:"telefono",value:p,onChange:function(e){return m(e.target.value)},placeholder:"Nmero de telfono"})]}),(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsx)("label",{htmlFor:"direccion",className:"block text-xs font-medium text-gray-700",children:"Direccin"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:ring-1 focus:ring-orange-400 focus:border-orange-400",id:"direccion",value:x,onChange:function(e){return v(e.target.value)},placeholder:"Direccin completa"})]})]}),(0,Pt.jsx)("div",{className:"flex justify-center pt-4",children:(0,Pt.jsxs)("button",{className:"flex items-center px-6 py-2 space-x-2 text-sm font-medium text-white transition-colors bg-orange-500 rounded-md hover:bg-orange-600 focus:ring-2 focus:ring-orange-400 focus:ring-offset-2",type:"submit",children:[(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"})}),(0,Pt.jsx)("span",{children:"Guardar Cliente"})]})})]})]})})})]})]})})]})})})}function nN(e){e.viewconfigcredito;var t=e.setviewconfigcredito,r=e.fechainiciocredito,n=e.setfechainiciocredito,a=e.fechavencecredito,i=e.setfechavencecredito,s=e.formatopagocredito,c=e.setformatopagocredito,l=e.datadeudacredito,u=(e.setdatadeudacredito,e.setconfigcredito),d=e.setPagoPedido,f=e.pedidoData;return(0,o.useEffect)((function(){var e=function(e){"Escape"===e.key&&t(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:function(){return t(!1)}}),(0,Pt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 overflow-y-auto",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-auto transform transition-all",onClick:function(e){return e.stopPropagation()},children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Pt.jsx)("div",{className:"flex-1",children:(null==f?void 0:f.cliente)&&(0,Pt.jsxs)("div",{className:"space-y-1",children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-500 font-medium",children:f.cliente.identificacion}),(0,Pt.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:f.cliente.nombre})]})}),(0,Pt.jsx)("button",{onClick:function(){return t(!1)},className:"ml-4 text-gray-400 hover:text-gray-600 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded-full p-1",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l&&(0,Pt.jsx)("div",{className:"px-6 py-4 ".concat(l.check?"bg-green-50":"bg-red-50"),children:(0,Pt.jsx)("p",{className:"text-center font-semibold ".concat(l.check?"text-green-700":"text-red-700"),children:l.check?" Cliente solvente (".concat(l.diferencia,")"):" Cliente presenta deuda (".concat(l.diferencia,"), Por favor revisar.")})}),(0,Pt.jsxs)("form",{onSubmit:u,className:"p-6 space-y-6",children:[(0,Pt.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Parmetros del crdito"}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de inicio"}),(0,Pt.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:r,onChange:function(e){return n(e.target.value)},required:!0})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Vencimiento"}),(0,Pt.jsx)("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:a,onChange:function(e){return i(e.target.value)},required:!0})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de pago"}),(0,Pt.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white",value:s,onChange:function(e){return c(e.target.value)},children:[(0,Pt.jsx)("option",{value:"1",children:"Pago Completo"}),(0,Pt.jsx)("option",{value:"0",children:"Pago parcial"})]})]}),(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,Pt.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors shadow-sm",children:"Guardar configuracin"}),(0,Pt.jsx)("button",{type:"button",onClick:function(){return d()},className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 font-medium rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:"Procesar pedido"})]})]})]})})]})}var aN=r(7094);function oN(e){return oN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oN(e)}function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?iN(Object(r),!0).forEach((function(t){cN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=oN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=oN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lN(){lN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==oN(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(oN(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function uN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function dN(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){uN(o,n,a,i,s,"next",e)}function s(e){uN(o,n,a,i,s,"throw",e)}i(void 0)}))}}function fN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var pN=[{id:"AutoValidar",label:"Auto-Validar",icon:"fa-check-circle"},{id:"Central",label:"Central",icon:"fa-building"}];function mN(e){var t,r,n,a,i=e.addRefPago,c=e.onAutovalidarReferenciaSuccess,l=e.descripcion_referenciapago,u=e.setdescripcion_referenciapago,d=e.banco_referenciapago,f=e.cedula_referenciapago,h=e.setcedula_referenciapago,p=(e.telefono_referenciapago,e.settelefono_referenciapago,e.setbanco_referenciapago),m=e.monto_referenciapago,x=e.setmonto_referenciapago,v=(e.tipo_referenciapago,e.settipo_referenciapago,e.transferencia),b=e.dolar,y=e.number,_=e.bancos,j=e.montoTraido,w=(e.tipoTraido,e.pedidoData),N=e.referencias,E=fN((0,o.useState)(!0),2),C=E[0],S=E[1],O=fN((0,o.useState)({}),2),A=O[0],P=O[1],D=fN((0,o.useState)(!1),2),I=D[0],T=D[1],M=fN((0,o.useState)("AutoValidar"),2),k=M[0],R=M[1],B=function(){var e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(n)},L=fN((0,o.useState)(B()),2),F=L[0],U=L[1],W=fN((0,o.useState)(""),2),V=W[0],z=W[1],K=fN((0,o.useState)(""),2),G=K[0],q=K[1],H=fN((0,o.useState)(""),2),$=H[0],Y=(H[1],fN((0,o.useState)(!1),2)),X=Y[0],Q=Y[1],Z=fN((0,o.useState)(null),2),J=Z[0],ee=Z[1],te=(0,o.useRef)(!1),re=parseFloat((null==w?void 0:w.bs)||0),ne=(null!==(t=null!=N?N:null==w?void 0:w.referencias)&&void 0!==t?t:[]).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0),ae=Math.max(0,re-ne),oe=re,ie=function(e){if(!e)return"";var t=e.replace(/\D/g,"");return t.startsWith("0")&&(t="58"+t.slice(1)),t.startsWith("58")||(t="58"+t),t},se=function(e){return/^-?\d+(\.\d{1,2})?$/.test(e)},ce=function(e){var t=parseFloat(e);if(isNaN(t))return"0.00";return(Math.floor(100*t)/100).toFixed(2)},le=function(){switch(k){case"Central":default:return{showAllFields:!0,showBanco:!0,showReferencia:!0,referenciaMinLength:null,referenciaMaxLength:null,referenciaPlaceholder:"Referencia completa de la transaccin...",showFechaPago:!1,showTelefonoPago:!1,showCodigoBancoOrigen:!1};case"AutoValidar":return{showAllFields:!1,showBanco:!1,showReferencia:!0,referenciaMinLength:12,referenciaMaxLength:12,referenciaPlaceholder:"Referencia completa (mx. 12 dgitos)...",showFechaPago:!0,showTelefonoPago:!0,showCodigoBancoOrigen:!0}}}(),ue=function(){var e={};return l&&""!==l.trim()||(e.descripcion="La referencia es obligatoria"),V?/^0(412|414|416|424|426|422)\d{7}$/.test(V)||(e.telefonoPago="Formato invlido. Debe ser: 0 + cdigo (412,414,416,424,426,422) + 7 dgitos. Ej: 04141234567"):e.telefonoPago="El telfono es obligatorio",G||(e.codigoBancoOrigen="El banco origen es obligatorio"),F||(e.fechaPago="La fecha de pago es obligatoria"),m&&0!=m?se(m)||(e.monto="El monto debe tener formato vlido (ej: 1234.56)"):e.monto="El monto no puede ser 0",P(e),0===Object.keys(e).length},de=function(){var e={};if("Central"===k)l&&""!==l.trim()||(e.descripcion="La referencia es obligatoria"),d&&""!==d||(e.banco="Debe seleccionar un banco");else if("AutoValidar"===k)return ue();return m&&0!=m?se(m)||(e.monto="El monto debe tener formato vlido (ej: 1234.56)"):e.monto="El monto no puede ser 0",P(e),0===Object.keys(e).length},fe=function(){switch(k){case"Central":default:return"central";case"AutoValidar":return"autovalidar"}},he=function(){var e=dN(lN().mark((function e(){var t,r,n,a,o;return lN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(te.current||null!=J&&J.success)){e.next=2;break}return e.abrupt("return");case 2:if(te.current=!0,ue()){e.next=6;break}return te.current=!1,e.abrupt("return");case 6:return Q(!0),ee(null),e.prev=8,t=l.padStart(12,"0"),e.next=12,s().post("/autovalidar-transferencia",{referencia:t,telefono:ie(V),banco_origen:G,fecha_pago:F,monto:m,id_pedido:null==w?void 0:w.id,cedula:f});case 12:!0===(r=e.sent).data.estado?(ee({success:!0,message:r.data.msj||"Transferencia validada y aprobada exitosamente!",data:r.data.data}),null!=w&&w.id&&"function"==typeof c&&c(r.data.data||{},{monto:m,descripcion:(null===(n=r.data.data)||void 0===n?void 0:n.referencia_completa)||t,telefono:ie(V),cedula:f,fecha_pago:F,banco_origen:G,banco:(null===(a=r.data.data)||void 0===a?void 0:a.banco)||"0134"}),setTimeout((function(){i("cerrar")}),1500)):r.data.monto_diferente?ee({success:!1,montoDiferente:!0,message:r.data.msj,data:{modalidad:r.data.modalidad,referencia_encontrada:r.data.referencia_encontrada,monto_ingresado:r.data.monto_ingresado,monto_banco:r.data.monto_banco,response:r.data.response}}):ee({success:!1,message:r.data.msj||"No se pudo validar la transferencia",data:r.data.data}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(8),console.error("Error al autovalidar:",e.t0),ee({success:!1,message:(null===(o=e.t0.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.msj)||"Error de conexin al validar la transferencia"});case 20:return e.prev=20,Q(!1),te.current=!1,e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[8,16,20,24]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=dN(lN().mark((function e(t){var r,n;return lN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),de()){e.next=3;break}return e.abrupt("return");case 3:return T(!0),e.prev=4,r=fe(),n={},"Central"!==k&&(le.showFechaPago&&(n.fecha_pago=F),le.showTelefonoPago&&(n.telefono_pago=ie(V)),le.showCodigoBancoOrigen&&(n.codigo_banco_origen=G)),$&&parseFloat($)>parseFloat(m)&&(n.monto_real=$),e.next=11,i("enviar","","",r,n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error("Error al guardar:",e.t0);case 16:return e.prev=16,T(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),me=function(){i("toggle")},ge=function(e){"Enter"===e.key&&(e.preventDefault(),"AutoValidar"===k?X||null!=J&&J.success||he():pe(e))};(0,o.useEffect)((function(){if("Central"!==k){var e=ce(v*b);x(e),S(!0)}else if("ZELLE"==d||"BINANCE"==d||"AirTM"==d)S(!1),x(ce(v));else{var t=ce(v*b);x(t),S(!0)}}),[d,v,b,k]),(0,o.useEffect)((function(){A.descripcion&&l&&P((function(e){return sN(sN({},e),{},{descripcion:null})})),A.banco&&d&&P((function(e){return sN(sN({},e),{},{banco:null})})),A.monto&&m>0&&P((function(e){return sN(sN({},e),{},{monto:null})})),A.fechaPago&&F&&P((function(e){return sN(sN({},e),{},{fechaPago:null})})),A.telefonoPago&&V&&P((function(e){return sN(sN({},e),{},{telefonoPago:null})})),A.codigoBancoOrigen&&G&&P((function(e){return sN(sN({},e),{},{codigoBancoOrigen:null})}))}),[l,d,m,F,V,G]),(0,o.useEffect)((function(){u(""),z(""),q(""),P({}),U(B())}),[k]),(0,g.v)("esc",me,{enableOnTags:["INPUT","SELECT"]}),(0,o.useEffect)((function(){var e=document.querySelector("#cedula-input");e&&setTimeout((function(){return e.focus()}),100)}),[]),(0,o.useEffect)((function(){j&&j>0&&x(j)}),[j]);var xe=parseFloat(null!==(r=null!==(n=null==w?void 0:w.bs_clean)&&void 0!==n?n:null==w?void 0:w.bs)&&void 0!==r?r:0)||0,ve=null!==(a=null==w?void 0:w.items)&&void 0!==a?a:[];return(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"fixed inset-0 z-40 transition-opacity bg-black opacity-60 backdrop-blur-[2px]",onClick:me}),(0,Pt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-3 pointer-events-none",children:(0,Pt.jsxs)("div",{className:"pointer-events-auto w-full max-w-md max-h-[90vh] flex flex-col bg-white border border-gray-200 rounded-lg shadow-xl overflow-hidden",onClick:function(e){return e.stopPropagation()},children:[(0,Pt.jsxs)("div",{className:"flex-shrink-0 px-3 py-1.5 border-b border-orange-100 bg-orange-50",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Pt.jsxs)("h3",{className:"flex items-center text-sm font-semibold text-gray-800",children:[(0,Pt.jsx)("i",{className:"mr-1.5 text-orange-500 fa fa-credit-card text-xs"}),"Referencia de Pago"]}),(0,Pt.jsx)("button",{onClick:me,className:"flex items-center justify-center w-8 h-8 text-sm font-bold text-gray-600 transition-colors rounded-full hover:text-gray-800 hover:bg-orange-200 border border-orange-300 bg-white flex-shrink-0",title:"Cerrar (ESC)",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]}),(0,Pt.jsx)("div",{className:"flex flex-wrap gap-1 mt-1.5",children:pN.map((function(e){return(0,Pt.jsxs)("button",{type:"button",onClick:function(){return R(e.id)},className:"flex items-center px-2 py-1 text-xs font-medium rounded transition-colors ".concat(k===e.id?"bg-orange-500 text-white":"bg-white text-gray-600 hover:bg-orange-100"),children:[(0,Pt.jsx)("i",{className:"mr-1 fa ".concat(e.icon)}),e.label]},e.id)}))})]}),(0,Pt.jsxs)("div",{className:"flex-1 overflow-y-auto flex flex-col min-h-0",children:[w&&(0,Pt.jsxs)("div",{className:"flex-shrink-0 mx-3 mt-2 py-1.5 px-2.5 bg-gray-50 border-b border-gray-200 flex flex-wrap items-center gap-x-2 gap-y-0.5 text-xs",children:[(0,Pt.jsxs)("span",{className:"flex items-center text-gray-700 font-medium",children:[(0,Pt.jsx)("i",{className:"fa fa-shopping-cart mr-1.5 text-orange-500 text-xs"}),"Pedido a validar"]}),(0,Pt.jsxs)("span",{className:"text-gray-600",children:["#",(0,Pt.jsx)("strong",{children:w.id})]}),(0,Pt.jsxs)("span",{className:"text-gray-600",children:["Total: ",(0,Pt.jsxs)("strong",{children:["Bs ",xe.toFixed(2)]})]}),ne>0&&(0,Pt.jsxs)("span",{className:"text-orange-600 text-xs",children:["Cargado: Bs ",ne.toFixed(2)]}),ve.length>0&&(0,Pt.jsxs)("span",{className:"text-gray-500 text-xs truncate max-w-full overflow-hidden",title:ve.map((function(e){var t,r,n,a;return"".concat(null!==(t=null!==(r=null===(n=e.producto)||void 0===n?void 0:n.nombre)&&void 0!==r?r:e.nombre)&&void 0!==t?t:"Item","  ").concat(null!==(a=e.cantidad)&&void 0!==a?a:"")})).join(", "),children:[" ",ve.map((function(e,t){var r,n,a;return(0,Pt.jsxs)("span",{children:[t>0&&", ",null!==(r=null!==(n=null===(a=e.producto)||void 0===a?void 0:a.nombre)&&void 0!==n?n:e.nombre)&&void 0!==r?r:"Item ".concat(t+1),null!=e.cantidad&&"".concat(e.cantidad)]},t)}))]})]}),(0,Pt.jsxs)("form",{onSubmit:pe,className:"p-3 space-y-2.5 flex-1",children:["Central"===k&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("label",{className:"block mb-1 text-xs font-medium text-gray-700",children:["Cdula ",(0,Pt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pt.jsx)("input",{id:"cedula-input",type:"text",placeholder:"Cdula",value:f,onChange:function(e){return h(e.target.value)},onKeyPress:ge,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-orange-400 focus:border-orange-400"})]}),"Central"===k&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("label",{className:"block mb-1 text-xs font-medium text-gray-700",children:["Banco ",(0,Pt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pt.jsx)("select",{value:d,onChange:function(e){u(""),p(e.target.value)},onKeyPress:ge,className:"w-full px-3 py-2 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-orange-400 focus:border-orange-400 ".concat(A.banco?"border-red-300":"border-gray-200"),children:_.filter((function(e){return"0134 BANESCO ARABITO PUNTOS 9935"!=e.value})).filter((function(e){return"0134 BANESCO TITANIO"!=e.value})).map((function(e,t){return(0,Pt.jsx)("option",{value:e.value,children:e.text},t)}))}),A.banco&&(0,Pt.jsx)("p",{className:"mt-1 text-xs text-red-600",children:A.banco})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("label",{className:"block mb-1 text-xs font-medium text-gray-700",children:["Referencia ",(0,Pt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pt.jsx)("input",{type:"text",placeholder:"Referencia completa de la transaccin...",value:l,onChange:function(e){return u(["ZELLE","BINANCE","AirTM"].includes(d)?e.target.value:y(e.target.value))},onKeyPress:ge,"data-ref-input":"true",className:"w-full px-3 py-2 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-orange-400 focus:border-orange-400 ".concat(A.descripcion?"border-red-300":"border-gray-200")}),A.descripcion&&(0,Pt.jsx)("p",{className:"mt-1 text-xs text-red-600",children:A.descripcion})]})]}),"Central"!==k&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("label",{className:"block mb-1 text-xs font-medium text-gray-700",children:["Referencia ",(0,Pt.jsx)("span",{className:"text-red-500",children:"*"}),(0,Pt.jsx)("span",{className:"ml-1 text-gray-400",children:"(mx. 12 dgitos)"})]}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)("input",{type:"text",placeholder:le.referenciaPlaceholder,value:l,onChange:function(e){var t=y(e.target.value);t=t.slice(0,12),u(t)},onKeyPress:ge,maxLength:12,"data-ref-input":"true",className:"w-full px-3 py-2 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-orange-400 focus:border-orange-400 ".concat(A.descripcion?"border-red-300":"border-gray-200")}),l&&l.length<12&&(0,Pt.jsxs)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-orange-500 font-medium",children:["Faltan ",12-l.length," dgitos"]}),l&&12===l.length&&(0,Pt.jsxs)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-green-500 font-medium",children:[(0,Pt.jsx)("i",{className:"fa fa-check mr-1"}),"Completo"]})]}),l&&l.length>0&&l.length<12&&(0,Pt.jsxs)("p",{className:"mt-1 text-xs text-blue-600",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle mr-1"}),"Se enviar como: ",(0,Pt.jsx)("strong",{children:l.padStart(12,"0")})]}),A.descripcion&&(0,Pt.jsx)("p",{className:"mt-1 text-xs text-red-600",children:A.descripcion})]}),le.showTelefonoPago&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("label",{className:"block mb-1 text-xs font-medium text-gray-700",children:["Nmero de Telfono ",(0,Pt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pt.jsx)("input",{type:"text",placeholder:"Ej: 04141234567",value:V,onChange:function(e){var t=e.target.value.replace(/\D/g,"").slice(0,11);z(t)},onKeyPress:ge,maxLength:11,className:"w-full px-3 py-2 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-orange-400 focus:border-orange-400 ".concat(A.telefonoPago?"border-red-300":"border-gray-200")}),(0,Pt.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-info-circle"}),"Formato: 0414, 0424, 0412, 0416, 0426 + 7 dgitos"]}),A.telefonoPago&&(0,Pt.jsx)("p",{className:"mt-1 text-xs text-red-600",children:A.telefonoPago})]}),le.showCodigoBancoOrigen&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("label",{className:"block mb-1 text-xs font-medium text-gray-700",children:["Banco Origen ",(0,Pt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pt.jsxs)("select",{value:G,onChange:function(e){return q(e.target.value)},onKeyPress:ge,className:"w-full px-3 py-2 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-orange-400 focus:border-orange-400 ".concat(A.codigoBancoOrigen?"border-red-300":"border-gray-200"),children:[(0,Pt.jsx)("option",{value:"",children:"Seleccionar banco..."}),(0,Pt.jsx)("option",{value:"0156",children:"100% Banco - 0156"}),(0,Pt.jsx)("option",{value:"0171",children:"Activo - 0171"}),(0,Pt.jsx)("option",{value:"0916",children:"Agil - 0916"}),(0,Pt.jsx)("option",{value:"0166",children:"Agricola de Venezuela - 0166"}),(0,Pt.jsx)("option",{value:"0172",children:"Bancamiga - 0172"}),(0,Pt.jsx)("option",{value:"0114",children:"BanCaribe - 0114"}),(0,Pt.jsx)("option",{value:"0168",children:"BanCrecer - 0168"}),(0,Pt.jsx)("option",{value:"0134",children:"Banesco - 0134"}),(0,Pt.jsx)("option",{value:"0174",children:"Banplus - 0174"}),(0,Pt.jsx)("option",{value:"0175",children:"BDT - 0175"}),(0,Pt.jsx)("option",{value:"0151",children:"BFC - 0151"}),(0,Pt.jsx)("option",{value:"0116",children:"BOD - 0116"}),(0,Pt.jsx)("option",{value:"0128",children:"Caroni - 0128"}),(0,Pt.jsx)("option",{value:"0163",children:"del Tesoro - 0163"}),(0,Pt.jsx)("option",{value:"0157",children:"DelSur - 0157"}),(0,Pt.jsx)("option",{value:"0176",children:"Espirito Santo - 0176"}),(0,Pt.jsx)("option",{value:"0115",children:"Exterior - 0115"}),(0,Pt.jsx)("option",{value:"0177",children:"Fuerza Armada Nacional - 0177"}),(0,Pt.jsx)("option",{value:"0146",children:"Gente Emprendedora C.A - 0146"}),(0,Pt.jsx)("option",{value:"0003",children:"Industrial de Venezuela - 0003"}),(0,Pt.jsx)("option",{value:"0105",children:"Mercantil - 0105"}),(0,Pt.jsx)("option",{value:"0169",children:"R4 Banco - 0169"}),(0,Pt.jsx)("option",{value:"0905",children:"Mpandco - 0905"}),(0,Pt.jsx)("option",{value:"0914",children:"Mueve - 0914"}),(0,Pt.jsx)("option",{value:"0903",children:"MultiPagos - 0903"}),(0,Pt.jsx)("option",{value:"0191",children:"Nacional de Credito - 0191"}),(0,Pt.jsx)("option",{value:"0138",children:"Plaza - 0138"}),(0,Pt.jsx)("option",{value:"0108",children:"Provincial - 0108"}),(0,Pt.jsx)("option",{value:"0149",children:"Pueblo Soberano - 0149"}),(0,Pt.jsx)("option",{value:"0917",children:"Sodexo - 0917"}),(0,Pt.jsx)("option",{value:"0137",children:"Sofitasa - 0137"}),(0,Pt.jsx)("option",{value:"0104",children:"Venezolano de Credito - 0104"}),(0,Pt.jsx)("option",{value:"0102",children:"Venezuela - 0102"}),(0,Pt.jsx)("option",{value:"0911",children:"Venmo - 0911"})]}),A.codigoBancoOrigen&&(0,Pt.jsx)("p",{className:"mt-1 text-xs text-red-600",children:A.codigoBancoOrigen})]}),le.showFechaPago&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("label",{className:"block mb-1 text-xs font-medium text-gray-700",children:["Fecha de Pago ",(0,Pt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pt.jsx)("input",{type:"date",value:F,onChange:function(e){return U(e.target.value)},onKeyPress:ge,className:"w-full px-3 py-2 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-orange-400 focus:border-orange-400 ".concat(A.fechaPago?"border-red-300":"border-gray-200")}),A.fechaPago&&(0,Pt.jsx)("p",{className:"mt-1 text-xs text-red-600",children:A.fechaPago})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Pt.jsxs)("label",{className:"text-xs font-medium text-gray-700",children:["Monto"," ",C?(0,Pt.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium text-blue-700 bg-blue-100 rounded",children:"Bs"}):(0,Pt.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium text-green-700 bg-green-100 rounded",children:"$"}),(0,Pt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pt.jsxs)("div",{className:"flex gap-1",children:[(0,Pt.jsxs)("button",{type:"button",onClick:function(){return x(re.toFixed(2))},className:"px-2 py-0.5 text-[10px] font-medium text-green-700 bg-green-100 rounded hover:bg-green-200 transition-colors",title:"Usar monto total del pedido",children:["Total: ",re.toFixed(2)]}),ne>0&&(0,Pt.jsxs)("button",{type:"button",onClick:function(){return x(ae.toFixed(2))},className:"px-2 py-0.5 text-[10px] font-medium text-orange-700 bg-orange-100 rounded hover:bg-orange-200 transition-colors",title:"Usar monto restante (descontando transferencias previas)",children:["Restante: ",ae.toFixed(2)]})]})]}),(0,Pt.jsx)("input",{type:"text",value:m,onChange:function(e){var t=e.target.value.replace(/[^0-9.-]/g,"").replace(/(?!^)-/g,"").replace(/(\..*)\./g,"$1");x(t)},onKeyPress:ge,className:"w-full px-3 py-2 text-sm border rounded focus:outline-none focus:ring-1 focus:ring-orange-400 focus:border-orange-400 ".concat(A.monto?"border-red-300":"border-gray-200")}),A.monto&&(0,Pt.jsx)("p",{className:"mt-1 text-xs text-red-600",children:A.monto}),(0,Pt.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:[(0,Pt.jsx)("i",{className:"mr-1 fa fa-info-circle"}),"Mx: Bs ",oe.toFixed(2)," | Ya cargado: Bs ",ne.toFixed(2)]})]}),"AutoValidar"===k&&J&&(0,Pt.jsx)("div",{className:"p-3 rounded-lg border overflow-hidden ".concat(J.success?"bg-green-50 border-green-200":J.montoDiferente?"bg-amber-50 border-amber-300":"bg-red-50 border-red-200"),children:(0,Pt.jsxs)("div",{className:"flex items-start",children:[(0,Pt.jsx)("i",{className:"mt-0.5 mr-2 fa ".concat(J.success?"fa-check-circle text-green-500":J.montoDiferente?"fa-exclamation-triangle text-amber-500":"fa-times-circle text-red-500"," text-base flex-shrink-0")}),(0,Pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pt.jsx)("p",{className:"font-medium text-sm ".concat(J.success?"text-green-800":J.montoDiferente?"text-amber-800":"text-red-800"),children:J.success?"Transferencia Validada!":J.montoDiferente?"Referencia Encontrada - Monto Diferente!":"Validacin Fallida"}),(0,Pt.jsx)("p",{className:"mt-1 text-xs break-words ".concat(J.success?"text-green-700":J.montoDiferente?"text-amber-700":"text-red-700"),children:J.message}),J.montoDiferente&&J.data&&(0,Pt.jsxs)("div",{className:"mt-2 p-2 bg-amber-100 rounded text-xs text-amber-800",children:[(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Referencia encontrada:"})," ",J.data.referencia_encontrada]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Monto ingresado:"})," Bs ",parseFloat(J.data.monto_ingresado).toFixed(2)]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Monto en banco:"})," Bs ",parseFloat(J.data.monto_banco).toFixed(2)]}),(0,Pt.jsxs)("p",{className:"mt-1 font-medium text-amber-900",children:["Diferencia: Bs ",Math.abs(J.data.monto_banco-J.data.monto_ingresado).toFixed(2)]})]}),J.data&&J.data.modalidad&&(0,Pt.jsxs)("p",{className:"mt-1 text-xs text-gray-600",children:[(0,Pt.jsx)("strong",{children:"Modalidad:"})," ","pagomovil"===J.data.modalidad?"Pago Mvil":"interbancaria"===J.data.modalidad?"Interbancaria":"banesco"===J.data.modalidad?"Banesco-Banesco":J.data.modalidad]})]})]})}),(0,Pt.jsx)("div",{className:"pt-2 border-t border-gray-100",children:"AutoValidar"===k?(0,Pt.jsx)("button",{type:"button",onClick:he,disabled:X||(null==J?void 0:J.success),className:"w-full flex items-center justify-center px-4 py-3 text-sm font-semibold text-white transition-all rounded-lg ".concat(null!=J&&J.success?"bg-green-500 cursor-not-allowed":X?"bg-blue-400 cursor-wait":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 hover:shadow-xl"),children:X?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"mr-2 fa fa-spinner fa-spin"}),(0,Pt.jsx)("span",{children:"Validando..."})]}):null!=J&&J.success?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"mr-2 fa fa-check-circle"}),(0,Pt.jsx)("span",{children:"Aprobada!"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"mr-2 fa fa-shield"}),(0,Pt.jsx)("span",{children:"Autovalidar Transferencia"})]})}):(0,Pt.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Pt.jsx)("button",{type:"button",onClick:me,className:"px-3 py-2 text-xs font-medium text-gray-600 transition-colors bg-gray-100 rounded hover:bg-gray-200",children:"Cancelar"}),(0,Pt.jsx)("button",{type:"submit",disabled:I,className:"flex items-center px-3 py-2 space-x-1 text-xs font-medium text-white transition-colors bg-orange-500 rounded hover:bg-orange-600 disabled:opacity-50",children:I?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin"}),(0,Pt.jsx)("span",{children:"Guardando..."})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-check"}),(0,Pt.jsx)("span",{children:"Guardar"})]})})]})})]})]})]})})]})}function gN(e){var t=e.setView,r=e.Invnum,n=e.setInvnum,a=(e.InvorderColumn,e.setInvorderColumn,e.InvorderBy),o=e.setInvorderBy,i=e.qBuscarInventario,s=e.setQBuscarInventario,c=e.productosInventario,l=e.inputBuscarInventario,u=e.changeInventario,d=e.categorias,f=e.proveedoresList,h=e.guardarNuevoProductoLote,p=e.addProductoFactInventario,m=function(e){return!e||"delete"===e};return(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-center m-3",children:(0,Pt.jsx)("i",{className:"fa fa-times fs-2 text-danger",onClick:function(){return t("SelectFacturasInventario")}})}),(0,Pt.jsxs)("div",{className:"d-flex flex-fill",children:[(0,Pt.jsx)("div",{className:"flex-fill",children:(0,Pt.jsx)("input",{type:"text",ref:l,className:"form-control",placeholder:"Buscar...(esc)",onChange:function(e){return s(e.target.value)},value:i})}),(0,Pt.jsx)("div",{className:"flex-fill",children:(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsxs)("select",{value:r,onChange:function(e){return n(e.target.value)},className:"form-control",children:[(0,Pt.jsx)("option",{value:"25",children:"Num.25"}),(0,Pt.jsx)("option",{value:"50",children:"Num.50"}),(0,Pt.jsx)("option",{value:"100",children:"Num.100"}),(0,Pt.jsx)("option",{value:"500",children:"Num.500"}),(0,Pt.jsx)("option",{value:"2000",children:"Num.2000"}),(0,Pt.jsx)("option",{value:"10000",children:"Num.100000"})]}),(0,Pt.jsxs)("select",{value:a,onChange:function(e){return o(e.target.value)},className:"form-control",children:[(0,Pt.jsx)("option",{value:"asc",children:"Orden Asc"}),(0,Pt.jsx)("option",{value:"desc",children:"Orden Desc"})]}),(0,Pt.jsxs)("button",{className:"btn btn-outline-success",onClick:function(){return u(null,null,null,"add")},children:["Nuevo (f2) ",(0,Pt.jsx)("i",{className:"fa fa-plus"})]}),(0,Pt.jsx)("button",{className:"btn btn-success text-light",onClick:h,children:"Guardar (f1)"})]})})]}),(0,Pt.jsx)("table",{className:"table",children:(0,Pt.jsx)("tbody",{children:c.length?c.map((function(e,t){return(0,Pt.jsx)("tr",{className:"pointer",onClick:function(){return p(e.id)},children:m(e.type)?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{className:"cell1",children:e.codigo_proveedor}),(0,Pt.jsx)("td",{className:"cell1",children:e.codigo_barras}),(0,Pt.jsx)("td",{className:"cell05",children:e.unidad}),(0,Pt.jsx)("td",{className:"cell2",children:e.descripcion}),(0,Pt.jsxs)("td",{className:"cell15",children:[e.categoria?e.categoria.descripcion:null," ",(0,Pt.jsx)("br",{})," ",e.proveedor?e.proveedor.descripcion:null]}),(0,Pt.jsx)("td",{className:"cell05",children:e.iva})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("td",{className:"cell1",children:(0,Pt.jsx)("input",{type:"text",disabled:m(e.type),className:"form-control form-control-sm",value:e.codigo_proveedor?e.codigo_proveedor:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","codigo_proveedor")},placeholder:"codigo_proveedor..."})}),(0,Pt.jsx)("td",{className:"cell1",children:(0,Pt.jsx)("input",{type:"text",required:!0,disabled:m(e.type),className:"form-control form-control-sm "+(e.codigo_barras?null:"invalid"),value:e.codigo_barras?e.codigo_barras:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","codigo_barras")},placeholder:"codigo_barras..."})}),(0,Pt.jsx)("td",{className:"cell05",children:(0,Pt.jsxs)("select",{disabled:m(e.type),className:"form-control form-control-sm "+(e.unidad?null:"invalid"),value:e.unidad?e.unidad:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","unidad")},children:[(0,Pt.jsx)("option",{value:"",children:"--Select--"}),(0,Pt.jsx)("option",{value:"UND",children:"UND"}),(0,Pt.jsx)("option",{value:"PAR",children:"PAR"}),(0,Pt.jsx)("option",{value:"JUEGO",children:"JUEGO"}),(0,Pt.jsx)("option",{value:"PQT",children:"PQT"}),(0,Pt.jsx)("option",{value:"MTR",children:"MTR"}),(0,Pt.jsx)("option",{value:"KG",children:"KG"}),(0,Pt.jsx)("option",{value:"GRS",children:"GRS"}),(0,Pt.jsx)("option",{value:"LTR",children:"LTR"}),(0,Pt.jsx)("option",{value:"ML",children:"ML"})]})}),(0,Pt.jsx)("td",{className:"cell2",children:(0,Pt.jsx)("textarea",{type:"text",required:!0,disabled:m(e.type),className:"form-control form-control-sm "+(e.descripcion?null:"invalid"),value:e.descripcion?e.descripcion:"",onChange:function(e){return u(e.target.value.replace("\n",""),t,e.id,"changeInput","descripcion")},placeholder:"descripcion..."})}),(0,Pt.jsxs)("td",{className:"cell15",children:[(0,Pt.jsxs)("select",{required:!0,disabled:m(e.type),className:"form-control form-control-sm "+(e.id_categoria?null:"invalid"),value:e.id_categoria?e.id_categoria:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","id_categoria")},children:[(0,Pt.jsx)("option",{value:"",children:"--Select--"}),d.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.descripcion},e.id)}))]}),(0,Pt.jsx)("br",{}),(0,Pt.jsxs)("select",{required:!0,disabled:m(e.type),className:"form-control form-control-sm "+(e.id_proveedor?null:"invalid"),value:e.id_proveedor?e.id_proveedor:"",onChange:function(e){return u(e.target.value,t,e.id,"changeInput","id_proveedor")},children:[(0,Pt.jsx)("option",{value:"",children:"--Select--"}),f.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.descripcion},e.id)}))]})]}),(0,Pt.jsx)("td",{className:"cell05",children:(0,Pt.jsx)("input",{type:"text",disabled:m(e.type),className:"form-control form-control-sm",value:e.iva?e.iva:"",onChange:function(e){return u(number(e.target.value,2),t,e.id,"changeInput","iva")},placeholder:"iva..."})})]})},t)})):null})})]})}function xN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function bN(e){var t=e.inputsetclaveadminref,r=e.valinputsetclaveadmin,n=e.setvalinputsetclaveadmin,a=e.closemodalsetclave,i=e.sendClavemodal,s=e.typingTimeout,c=e.setTypingTimeout,l=xN((0,o.useState)(!1),2),u=l[0],d=l[1],f=xN((0,o.useState)(""),2),h=f[0],p=f[1];(0,o.useEffect)((function(){t.current&&t.current.focus()}),[]);return(0,g.v)("esc",(function(e){a()}),{filterPreventDefault:!1,enableOnTags:["INPUT","SELECT","TEXTAREA"]},[]),(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("section",{className:"modal-custom",children:(0,Pt.jsxs)("div",{className:"shadow-lg modal-content-supersm",children:[(0,Pt.jsxs)("div",{className:"pb-0 border-0 modal-header",children:[(0,Pt.jsxs)("h5",{className:"modal-title",children:[(0,Pt.jsx)("i",{className:"fa fa-lock text-primary me-2"}),"Acceso Administrativo"]}),(0,Pt.jsx)("button",{type:"button",className:"btn-close",onClick:a,"aria-label":"Cerrar"})]}),(0,Pt.jsx)("div",{className:"modal-body",children:(0,Pt.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.trim()?i():p("Por favor ingrese la clave")},children:[(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label text-muted",children:"Ingrese la clave de administrador"}),(0,Pt.jsxs)("div",{className:"input-group",children:[(0,Pt.jsx)("input",{type:u?"text":"password",className:"form-control form-control-lg ".concat(h?"is-invalid":""),ref:t,value:r,onChange:function(e){n(e.target.value),function(){0!=s&&clearTimeout(s);var e=window.setTimeout((function(){n(""),p("")}),300);c(e)}(),p("")},onBlur:function(){setTimeout((function(){n("")}),100)},onPaste:function(e){return e.preventDefault(),!1},onCopy:function(e){return e.preventDefault(),!1},onCut:function(e){return e.preventDefault(),!1},onContextMenu:function(e){return e.preventDefault(),!1},onDrag:function(e){return e.preventDefault(),!1},onDrop:function(e){return e.preventDefault(),!1},autoComplete:"new-password",autoSave:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false","data-lpignore":"true","data-form-type":"other","data-1p-ignore":"true","data-bwignore":"true","data-kwignore":"true",placeholder:"Ingrese la clave",autoFocus:!0}),(0,Pt.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:function(){return d(!u)},children:(0,Pt.jsx)("i",{className:"fa ".concat(u?"fa-eye-slash":"fa-eye")})})]}),h&&(0,Pt.jsx)("div",{className:"invalid-feedback d-block",children:h})]}),(0,Pt.jsxs)("div",{className:"gap-2 d-flex justify-content-end",children:[(0,Pt.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:a,children:"Cancelar"}),(0,Pt.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,Pt.jsx)("i",{className:"fa fa-check me-1"}),"Acceder"]})]})]})})]})}),(0,Pt.jsx)("div",{className:"overlay"}),(0,Pt.jsx)("style",{children:"\n                .modal-custom {\n                    position: fixed;\n                    top: 50%;\n                    left: 50%;\n                    transform: translate(-50%, -50%);\n                    z-index: 1050;\n                }\n                .modal-content-supersm {\n                    background: white;\n                    border-radius: 0.5rem;\n                    padding: 1.5rem;\n                    min-width: 400px;\n                }\n                .overlay {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    background: rgba(0, 0, 0, 0.5);\n                    backdrop-filter: blur(4px);\n                    z-index: 1040;\n                }\n                .form-control:focus {\n                    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.15);\n                }\n                .btn-close:focus {\n                    box-shadow: none;\n                }\n            "})]})}function yN(e){var t=e.devolucionMotivo,r=e.setdevolucionMotivo,n=(e.devolucion_cantidad_salida,e.setdevolucion_cantidad_salida,e.devolucion_motivo_salida,e.setdevolucion_motivo_salida,e.devolucion_ci_cajero),a=e.setdevolucion_ci_cajero,o=e.devolucion_ci_autorizo,i=e.setdevolucion_ci_autorizo,s=e.devolucion_dias_desdecompra,c=e.setdevolucion_dias_desdecompra,l=e.devolucion_ci_cliente,u=e.setdevolucion_ci_cliente,d=e.devolucion_telefono_cliente,f=e.setdevolucion_telefono_cliente,h=e.devolucion_nombre_cliente,p=e.setdevolucion_nombre_cliente,m=e.devolucion_nombre_cajero,g=e.setdevolucion_nombre_cajero,x=e.devolucion_nombre_autorizo,v=e.setdevolucion_nombre_autorizo,b=e.devolucion_trajo_factura,y=e.setdevolucion_trajo_factura,_=e.devolucion_motivonotrajofact,j=e.setdevolucion_motivonotrajofact,w=e.number,N=e.setviewGarantiaFormato,E=e.addCarritoRequestInterno,C=e.devolucion_numfactoriginal,S=e.setdevolucion_numfactoriginal;return(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("section",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Pt.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Pt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"FORMATO DE GARANTA"}),(0,Pt.jsx)("button",{onClick:function(){return N(!1)},className:"text-gray-500 hover:text-red-500 transition-colors",children:(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Pt.jsxs)("form",{onSubmit:function(e){e.preventDefault(),E(null,!1)},className:"p-6 space-y-6",children:[(0,Pt.jsx)("p",{className:"text-center text-gray-600 font-medium",children:"Explicar DETALLADAMENTE"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Pt.jsxs)("div",{className:"col-span-full",children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"NMERO DE FACTURA ORIGINAL"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:C,required:!0,onChange:function(e){return S(w(e.target.value))}})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CDULA CAJERO"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:n,required:!0,onChange:function(e){return a(w(e.target.value))}})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"NOMBRE COMPLETO CAJERO"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:m,required:!0,onChange:function(e){return g(e.target.value)}})]})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CDULA AUTORIZ"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:o,required:!0,onChange:function(e){return i(w(e.target.value))}})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"NOMBRE COMPLETO AUTORIZ"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:x,required:!0,onChange:function(e){return v(e.target.value)}})]})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"CDULA CLIENTE"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:l,required:!0,onChange:function(e){return u(w(e.target.value))}})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"NOMBRE COMPLETO CLIENTE"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:h,required:!0,onChange:function(e){return p(e.target.value)}})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"TELFONO CLIENTE"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:d,required:!0,onChange:function(e){return f(e.target.value)}})]})]})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"MOTIVO DETALLADO"}),(0,Pt.jsx)("textarea",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors min-h-[100px]",value:t,required:!0,onChange:function(e){return r(e.target.value)}})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"DAS TRANSCURRIDOS DESDE LA COMPRA"}),(0,Pt.jsx)("input",{type:"text",className:"w-32 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:s,required:!0,onChange:function(e){return c(w(e.target.value))}})]})]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"TRAJO FACTURA?"}),(0,Pt.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors bg-white",value:b,required:!0,onChange:function(e){return y(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"-"}),(0,Pt.jsx)("option",{value:"si",children:"S"}),(0,Pt.jsx)("option",{value:"no",children:"NO"})]})]}),"no"===b&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"EN CASO DE NO TENER FACTURA, EXPLIQUE EL MOTIVO"}),(0,Pt.jsx)("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",value:_,required:!0,onChange:function(e){return j(e.target.value)}})]})]}),(0,Pt.jsx)("div",{className:"flex justify-center pt-4",children:(0,Pt.jsx)("button",{type:"submit",className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",children:"ENVIAR"})})]})]})}),(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40"})]})}function _N(e){return _N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_N(e)}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jN(Object(r),!0).forEach((function(t){NN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function NN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=_N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_N(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EN(){EN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==_N(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(_N(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function CN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function SN(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){CN(o,n,a,i,s,"next",e)}function s(e){CN(o,n,a,i,s,"throw",e)}i(void 0)}))}}function ON(e){return function(e){if(Array.isArray(e))return DN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||PN(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||PN(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PN(e,t){if(e){if("string"==typeof e)return DN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?DN(e,t):void 0}}function DN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const IN=function(e){var t=e.onCarritoChange,r=e.onValidacionChange,n=(e.factura,e.sucursalConfig),a=void 0===n?null:n,i=e.initialData,s=void 0===i?null:i,c=e.db,l=void 0===c?null:c,u=(e.metodosPagoConfigurados,e.tasasCambio,e.modoValidacion,e.productosFacturados),d=void 0===u?[]:u,f=e.modoTrasladoInterno,h=void 0!==f&&f,p=AN((0,o.useState)([]),2),m=p[0],g=p[1],x=AN((0,o.useState)([]),2),v=x[0],b=x[1],y=AN((0,o.useState)(""),2),_=y[0],j=y[1],w=AN((0,o.useState)("descripcion"),2),N=w[0],E=(w[1],AN((0,o.useState)([]),2)),C=E[0],S=E[1],O=AN((0,o.useState)(!1),2),A=O[0],P=O[1],D=AN((0,o.useState)(!1),2),I=D[0],T=D[1],M=AN((0,o.useState)({caso_uso:null,descripcion_caso:"",diferencia_pago:0,balance_tipo:"equilibrio",total_entradas:0,total_salidas:0,productos_entrada:0,productos_salida:0,errores:[]}),2),k=M[0],R=M[1];(0,o.useEffect)((function(){s&&(s.entradas&&g(s.entradas),s.salidas&&b(s.salidas))}),[s]),(0,o.useEffect)((function(){m.length>0||v.length>0?U():L()}),[m,v]);var B=(0,o.useCallback)((function(){var e={entradas:m,salidas:v,resumen:k,total_productos:m.length+v.length},n=m.length>0||v.length>0,a=ON(k.errores);t&&t(e),r&&r({esValido:0===a.length&&n,errores:a,requiereMetodosPago:!1,diferencia_pago:k.diferencia_pago})}),[m,v,k.caso_uso,k.diferencia_pago,k.errores,k]);(0,o.useEffect)((function(){(m.length>0||v.length>0)&&B()}),[B]);var L=function(){R({caso_uso:null,descripcion_caso:"",diferencia_pago:0,balance_tipo:"equilibrio",total_entradas:0,total_salidas:0,productos_entrada:0,productos_salida:0,errores:[]})},F=function(){var e=SN(EN().mark((function e(t){var r,n,o,i,s=arguments;return EN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:"descripcion",t&&!(t.length<2)){e.next=4;break}return S([]),e.abrupt("return");case 4:if(l&&l.searchProductosInventario){e.next=8;break}return console.error("Base de datos no disponible o funcin searchProductosInventario no encontrada"),S([]),e.abrupt("return");case 8:return P(!0),e.prev=9,n={term:t,field:r,sucursal_id:(null==a?void 0:a.id)||null},e.next=13,l.searchProductosInventario(n);case 13:o=e.sent,200===(i=o.data).status&&i.data?S(i.data):S([]),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(9),console.error("Error al buscar productos:",e.t0),S([]);case 22:return e.prev=22,P(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[9,18,22,25]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=SN(EN().mark((function e(){var t,r,n,a,o,i,s,c,l,u,d,f,p,g,x,b;return EN().wrap((function(e){for(var y,_=function(){switch(e.prev=e.next){case 0:if(0!==m.length||0!==v.length){e.next=2;break}return{v:e.abrupt("return")};case 2:T(!0);try{t=m.reduce((function(e,t){return e+parseFloat(t.precio)*parseInt(t.cantidad)}),0),r=v.reduce((function(e,t){return e+parseFloat(t.precio)*parseInt(t.cantidad)}),0),a="equilibrio",(n=t-r)>.01?a="favor_cliente":n<-.01&&(a="favor_empresa"),o=1,i="Garanta Simple",s=m.some((function(e){return"DAADO"===e.estado})),c=m.some((function(e){return"BUENO"===e.estado})),l=v.length>0,u=Math.abs(n)>.01,s&&c?(o=5,i="Caso Mixto - Garantas y devoluciones combinadas"):s&&!c?l&&!u?(o=1,i="Garanta Simple - Intercambio directo"):l&&u?(o=2,i="Garanta con Diferencia de Pago"):!l&&u?(o=4,i="Garanta - Devolucin de Dinero"):(o=1,i="Garanta - Caso no definido"):c&&!s?l&&!u?(o=3,i="Devolucin - Producto por Producto"):l&&u?(o=3,i="Devolucin - Con Diferencia de Pago"):!l&&u?(o=4,i="Devolucin - Reembolso de Dinero"):(o=3,i="Devolucin - Caso no definido"):(o=1,i="Sin productos de entrada"),d=[],h&&m.length>0&&v.length>0&&(f=m.map((function(e){return e.id})).sort(),p=v.map((function(e){return e.id})).sort(),JSON.stringify(f)!==JSON.stringify(p)&&d.push("En traslados internos, el producto que entra debe ser el mismo que sale"),g=m.reduce((function(e,t){return e+t.cantidad}),0),x=v.reduce((function(e,t){return e+t.cantidad}),0),g!==x&&d.push("En traslados internos, la cantidad que entra debe ser igual a la que sale")),0===m.length&&d.push("Debe agregar al menos un producto de entrada (garanta o devolucin)"),1===o&&(s||d.push("Garanta Simple requiere productos daados de entrada"),l||d.push("Garanta Simple requiere productos de salida (intercambio)"),u&&d.push("Garanta Simple no debe tener diferencia de pago significativa")),2===o&&(s||d.push("Garanta con Diferencia requiere productos daados de entrada"),l||d.push("Garanta con Diferencia requiere productos de salida"),u||d.push("Garanta con Diferencia requiere diferencia de pago")),3===o&&(c||d.push("Devolucin requiere productos en buen estado de entrada"),s&&d.push("Devolucin no debe incluir productos daados (use caso mixto)")),4===o&&(0===m.length&&d.push("Devolucin de dinero requiere productos de entrada"),l&&d.push("Devolucin de dinero no debe incluir productos de salida"),u||d.push("Devolucin de dinero requiere diferencia de pago")),5===o&&(s&&c||d.push("Caso Mixto requiere productos daados Y productos buenos de entrada")),b={caso_uso:o,descripcion_caso:i,diferencia_pago:n,balance_tipo:a,total_entradas:t,total_salidas:r,productos_entrada:m.length,productos_salida:v.length,errores:d},R(b)}catch(e){console.error("Error procesando carrito:",e),R((function(t){return wN(wN({},t),{},{errores:["Error procesando carrito: "+e.message]})}))}finally{T(!1)}case 4:case"end":return{v:e.stop()}}};;)if(y=_())return y.v}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"BUENO";if("entrada"===t&&!h){if(!d||0===d.length)return void alert(" No se pueden procesar entradas\n\nNo hay informacin de productos facturados disponible.\n\nPor favor valide la factura primero.");var a=d.find((function(t){return t.id===e.id}));if(!a)return void alert(' Producto no vlido para garanta/devolucin\n\nEl producto "'.concat(e.descripcion,'" no se encuentra en la factura original.\n\n Solo se pueden procesar productos que fueron facturados originalmente.'));var o=a.cantidad,i=m.filter((function(t){return t.id===e.id})).reduce((function(e,t){return e+t.cantidad}),0);if(i>=o)return void alert(" Cantidad mxima alcanzada\n\nYa se ha agregado la cantidad mxima disponible de este producto.\n\nCantidad facturada: ".concat(o,"\nCantidad ya agregada: ").concat(i))}if("salida"===t&&h&&!m.find((function(t){return t.id===e.id&&"DAADO"===t.estado})))return void alert(' Producto no disponible para salida\n\nEn traslados internos, primero debe agregar "'.concat(e.descripcion,'" como producto daado en la entrada antes de poder agregarlo como salida.'));var s=h?null:d.find((function(t){return t.id===e.id})),c=parseFloat(e.precio)||0,l=s?parseFloat(s.precio_unitario)||0:c,u="entrada"===t&&s?l:c,f={id:e.id,descripcion:e.descripcion,codigo_barras:e.codigo_barras||"",codigo_proveedor:e.codigo_proveedor||"",precio:u,precio_original:u,precio_factura:"entrada"===t?l:null,precio_actual:c,stock_disponible:parseInt(e.stock)||0,cantidad:1,estado:n,subtotal:u,tipo:t,categoria:e.categoria||"",proveedor:e.proveedor||"",cantidad_facturada:"entrada"===t?(null===(r=d.find((function(t){return t.id===e.id})))||void 0===r?void 0:r.cantidad)||0:null};"entrada"===t?g((function(e){return[].concat(ON(e),[f])})):b((function(e){return[].concat(ON(e),[f])})),j(""),S([])},V=function(e,t,r){var n=Math.max(.01,parseFloat(r)||.01);if("entrada"===t){var a=d.find((function(t){return t.id===e}));if(a){var o=a.cantidad,i=m.filter((function(t){return t.id===e&&t!==m.find((function(t){return t.id===e}))})).reduce((function(e,t){return e+t.cantidad}),0);if(n+i>o)return void alert(" Cantidad excede la facturada\n\nNo puede agregar ms de ".concat(o," unidades de este producto.\n\nCantidad facturada: ").concat(o))}}"entrada"===t?g((function(t){return t.map((function(t){return t.id===e?wN(wN({},t),{},{cantidad:n,subtotal:t.precio*n}):t}))})):b((function(t){return t.map((function(t){return t.id===e?wN(wN({},t),{},{cantidad:n,subtotal:t.precio*n}):t}))}))},z=function(e,t){"entrada"===t?g((function(t){return t.filter((function(t){return t.id!==e}))})):b((function(t){return t.filter((function(t){return t.id!==e}))}))};return(0,Pt.jsxs)("div",{className:"carrito-dinamico space-y-6",children:[(0,Pt.jsxs)("div",{className:"bg-white border border-gray-300 rounded-lg p-4",children:[(0,Pt.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:" Buscar y Agregar Productos"}),h?(0,Pt.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3 mb-4",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("div",{className:"flex-shrink-0",children:(0,Pt.jsx)("svg",{className:"h-5 w-5 text-orange-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pt.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Pt.jsxs)("div",{className:"ml-3",children:[(0,Pt.jsxs)("p",{className:"text-sm text-orange-700 mb-2",children:[(0,Pt.jsx)("strong",{children:" Modo Traslado Interno Activado:"})," No se requiere validacin de factura."]}),(0,Pt.jsxs)("div",{className:"text-xs text-orange-600 space-y-1",children:[(0,Pt.jsx)("p",{children:(0,Pt.jsx)("strong",{children:"Instrucciones:"})}),(0,Pt.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,Pt.jsxs)("li",{children:["1. Busque y agregue el producto ",(0,Pt.jsx)("strong",{children:"daado"})," en la entrada (botn amarillo)"]}),(0,Pt.jsxs)("li",{children:["2. Luego agregue el mismo producto ",(0,Pt.jsx)("strong",{children:"bueno"})," en la salida (botn verde)"]}),(0,Pt.jsx)("li",{children:"3. El sistema validar que sea el mismo producto y cantidades equilibradas"})]})]})]})]})}):d&&0!==d.length?l?(0,Pt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-3 mb-4",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("div",{className:"flex-shrink-0",children:(0,Pt.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pt.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,Pt.jsx)("div",{className:"ml-3",children:(0,Pt.jsxs)("p",{className:"text-sm text-green-700",children:[(0,Pt.jsx)("strong",{children:" Factura validada:"})," ",d.length," producto",1!==d.length?"s":""," disponible",1!==d.length?"s":""," para procesar."]})})]})}):(0,Pt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3 mb-4",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("div",{className:"flex-shrink-0",children:(0,Pt.jsx)("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pt.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,Pt.jsx)("div",{className:"ml-3",children:(0,Pt.jsxs)("p",{className:"text-sm text-yellow-700",children:[(0,Pt.jsx)("strong",{children:"Base de datos no disponible."})," Verifique la conexin."]})})]})}):(0,Pt.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-3 mb-4",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("div",{className:"flex-shrink-0",children:(0,Pt.jsx)("svg",{className:"h-5 w-5 text-orange-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Pt.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Pt.jsx)("div",{className:"ml-3",children:(0,Pt.jsxs)("p",{className:"text-sm text-orange-700",children:[(0,Pt.jsx)("strong",{children:" Debe validar una factura primero"})," para procesar garantas/devoluciones."]})})]})}),(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3",children:(0,Pt.jsxs)("div",{className:"md:col-span-4",children:[(0,Pt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Buscar Producto ",(0,Pt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pt.jsx)("input",{type:"text",value:_,onChange:function(e){var t=e.target.value;j(t),F(t,N)},placeholder:l?"Escriba el nombre del producto...":"Base de datos no disponible",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 ".concat(l?"border-gray-300 focus:ring-blue-500":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"),disabled:!l})]})}),(0,Pt.jsxs)("div",{className:"relative",children:[A&&(0,Pt.jsxs)("div",{className:"text-center py-4",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Buscando productos..."})]}),!A&&_.length>=2&&0===C.length&&(0,Pt.jsx)("div",{className:"text-center py-4",children:(0,Pt.jsx)("div",{className:"text-gray-500",children:(0,Pt.jsxs)("p",{children:['No se encontraron productos que coincidan con "',_,'"']})})}),C.length>0&&(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Resultados de bsqueda (",C.length,"):"]}),A?(0,Pt.jsxs)("div",{className:"p-4 text-center",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Buscando productos..."})]}):0===C.length?_.length>=2?(0,Pt.jsx)("div",{className:"p-4 text-center text-gray-500",children:(0,Pt.jsx)("p",{children:"No se encontraron productos"})}):null:(0,Pt.jsx)("div",{className:"border rounded-lg shadow-lg bg-white max-h-80 overflow-y-auto",children:C.map((function(e){var t=h?null:d.find((function(t){return t.id===e.id})),r=!!h||!!t,n=(null==t?void 0:t.cantidad)||0,a=h?m.find((function(t){return t.id===e.id&&"DAADO"===t.estado})):null,o=!h||!!a;return(0,Pt.jsxs)("div",{className:"p-3 border-b hover:bg-gray-50 ".concat(r?"":"bg-gray-50"),children:[(0,Pt.jsxs)("div",{className:"hidden md:flex justify-between items-start",children:[(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,Pt.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.descripcion}),h?(0,Pt.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full whitespace-nowrap",children:" Traslado interno"}):r?(0,Pt.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full whitespace-nowrap",children:" En factura"}):(0,Pt.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full whitespace-nowrap",children:" No facturado"})]}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.codigo_barras&&(0,Pt.jsxs)("span",{children:["CB: ",e.codigo_barras," | "]}),e.codigo_proveedor&&(0,Pt.jsxs)("span",{children:["CP: ",e.codigo_proveedor," | "]}),"Categora: ",e.categoria||"Sin categora"]}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[!h&&r&&t?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("span",{className:"text-green-700 font-medium",children:["Precio factura: $",(parseFloat(t.precio_unitario)||0).toFixed(2)]}),(0,Pt.jsx)("span",{className:"mx-1",children:"|"}),(0,Pt.jsxs)("span",{children:["Precio actual: $",(parseFloat(e.precio)||0).toFixed(2)]}),(parseFloat(t.precio_unitario)||0).toFixed(2)!==(parseFloat(e.precio)||0).toFixed(2)&&(0,Pt.jsx)("span",{className:"ml-1 text-amber-600",children:"(diferente)"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:["Precio: $",(parseFloat(e.precio)||0).toFixed(2)]})," | ","Stock: ",e.stock||"N/A",!h&&r&&(0,Pt.jsxs)("span",{className:"ml-2 text-green-600 font-medium",children:["| Facturado: ",n," uds"]}),h&&a&&(0,Pt.jsx)("span",{className:"ml-2 text-orange-600 font-medium",children:"| Ya agregado como daado"})]})]}),(0,Pt.jsxs)("div",{className:"flex space-x-2 ml-4 flex-shrink-0",children:[(0,Pt.jsx)("button",{onClick:function(){return W(e,"entrada","DAADO")},disabled:!r,className:"px-3 py-1 rounded text-sm transition-colors whitespace-nowrap ".concat(r?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:h?"Agregar como producto daado (traslado interno)":r?"Agregar como producto daado (garanta)":"Producto no disponible - No est en la factura",children:"Producto daado"}),(0,Pt.jsx)("button",{onClick:function(){return W(e,"salida","BUENO")},disabled:h&&!o,className:"px-3 py-1 rounded text-sm transition-colors whitespace-nowrap ".concat(h&&!o?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600"),title:h&&!o?"Primero debe agregar este producto como daado en la entrada":"Agregar como producto a entregar",children:"Producto a entregar"})]})]}),(0,Pt.jsxs)("div",{className:"md:hidden",children:[(0,Pt.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Pt.jsx)("div",{className:"flex-1 min-w-0",children:(0,Pt.jsx)("p",{className:"font-medium text-gray-900 text-sm leading-tight",children:e.descripcion})}),(0,Pt.jsx)("div",{className:"ml-2 flex-shrink-0",children:h?(0,Pt.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full whitespace-nowrap",children:" Traslado"}):r?(0,Pt.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full whitespace-nowrap",children:" Factura"}):(0,Pt.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full whitespace-nowrap",children:" No facturado"})})]}),(0,Pt.jsxs)("div",{className:"space-y-1 mb-3",children:[(0,Pt.jsxs)("div",{className:"text-xs text-gray-600",children:[e.codigo_barras&&(0,Pt.jsxs)("span",{children:["CB: ",e.codigo_barras]}),e.codigo_proveedor&&(0,Pt.jsxs)("span",{className:"ml-2",children:["CP: ",e.codigo_proveedor]})]}),(0,Pt.jsxs)("div",{className:"text-xs text-gray-500",children:["Categora: ",e.categoria||"Sin categora"]}),(0,Pt.jsxs)("div",{className:"text-xs text-gray-500",children:[!h&&r&&t?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("span",{className:"text-green-700 font-medium",children:["Precio factura: $",(parseFloat(t.precio_unitario)||0).toFixed(2)]}),(0,Pt.jsx)("span",{className:"mx-1",children:"|"}),(0,Pt.jsxs)("span",{children:["Precio actual: $",(parseFloat(e.precio)||0).toFixed(2)]}),(parseFloat(t.precio_unitario)||0).toFixed(2)!==(parseFloat(e.precio)||0).toFixed(2)&&(0,Pt.jsx)("span",{className:"ml-1 text-amber-600",children:"(diferente)"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:["Precio: $",(parseFloat(e.precio)||0).toFixed(2)]})," | ","Stock: ",e.stock||"N/A",!h&&r&&(0,Pt.jsxs)("span",{className:"ml-2 text-green-600 font-medium",children:["| Facturado: ",n," uds"]}),h&&a&&(0,Pt.jsx)("span",{className:"ml-2 text-orange-600 font-medium",children:"| Ya agregado como daado"})]})]}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsx)("button",{onClick:function(){return W(e,"entrada","DAADO")},disabled:!r,className:"w-full px-3 py-2 rounded text-sm transition-colors font-medium ".concat(r?"bg-yellow-500 text-white hover:bg-yellow-600 active:bg-yellow-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:h?"Agregar como producto daado (traslado interno)":r?"Agregar como producto daado (garanta)":"Producto no disponible - No est en la factura",children:" Producto daado"}),(0,Pt.jsx)("button",{onClick:function(){return W(e,"entrada","BUENO")},disabled:!r,className:"w-full px-3 py-2 rounded text-sm transition-colors font-medium ".concat(r?"bg-blue-500 text-white hover:bg-blue-600 active:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),title:h?"Agregar como producto bueno (traslado interno)":r?"Agregar como producto bueno (devolucin)":"Producto no disponible - No est en la factura",children:" Producto bueno"}),(0,Pt.jsx)("button",{onClick:function(){return W(e,"salida","BUENO")},disabled:h&&!o,className:"w-full px-3 py-2 rounded text-sm transition-colors font-medium ".concat(h&&!o?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-500 text-white hover:bg-green-600 active:bg-green-700"),title:h&&!o?"Primero debe agregar este producto como daado en la entrada":"Agregar como producto a entregar",children:" Producto a entregar"})]})]})]},e.id)}))})]})]})]}),(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-4",children:[(0,Pt.jsx)("h3",{className:"font-semibold text-yellow-800 mb-4",children:" ENTRADAS - Lo que recibe la empresa"}),0===m.length?(0,Pt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Pt.jsx)("p",{children:"No hay productos en ENTRADAS"}),(0,Pt.jsx)("p",{className:"text-sm",children:'Use los botones "Producto daado" o "Producto bueno" para agregar productos'})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full border-collapse bg-white rounded-lg overflow-hidden shadow-sm",children:[(0,Pt.jsx)("thead",{className:"bg-yellow-100",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Producto"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Cdigos"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Estado"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Cantidad"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Precio Unit."}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Subtotal"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Acciones"})]})}),(0,Pt.jsx)("tbody",{children:m.map((function(e){return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-medium text-gray-900",children:e.descripcion}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Stock: ",e.stock_disponible||"N/A"]})]})}),(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,Pt.jsxs)("div",{className:"text-sm text-gray-600",children:[e.codigo_barras&&(0,Pt.jsxs)("div",{children:["CB: ",e.codigo_barras]}),e.codigo_proveedor&&(0,Pt.jsxs)("div",{children:["CP: ",e.codigo_proveedor]}),!e.codigo_barras&&!e.codigo_proveedor&&(0,Pt.jsx)("div",{className:"text-gray-400",children:"Sin cdigos"})]})}),(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,Pt.jsxs)("div",{className:"text-sm",children:[(0,Pt.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium ".concat("DAADO"===e.estado?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.estado}),(0,Pt.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"DAADO"===e.estado?"Garanta":"Devolucin"})]})}),(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3 text-center",children:(0,Pt.jsx)("input",{type:"number",value:e.cantidad,onClick:function(t){var r=window.prompt("Ingrese la cantidad");null!==r&&""!==r&&parseFloat(r)&&V(e.id,"entrada",parseFloat(r))},onChange:function(t){return V(e.id,"entrada",t.target.value)},className:"w-16 px-2 py-1 border rounded text-center text-sm",min:"0.01",step:"0.01"})}),(0,Pt.jsxs)("td",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-medium",children:[(0,Pt.jsxs)("div",{children:["$",(parseFloat(e.precio)||0).toFixed(2)]}),null!=e.precio_factura&&null!=e.precio_actual&&Math.abs(parseFloat(e.precio_factura)-parseFloat(e.precio_actual))>.001&&(0,Pt.jsxs)("div",{className:"text-xs text-gray-500 mt-0.5",children:["Factura: $",(parseFloat(e.precio_factura)||0).toFixed(2)," | Actual: $",(parseFloat(e.precio_actual)||0).toFixed(2)]})]}),(0,Pt.jsxs)("td",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold",children:["$",(parseFloat(e.subtotal)||0).toFixed(2)]}),(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3 text-center",children:(0,Pt.jsx)("button",{onClick:function(){return z(e.id,"entrada")},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Eliminar producto",children:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},e.id)}))})]})}),(0,Pt.jsx)("div",{className:"md:hidden space-y-3",children:m.map((function(e){return(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pt.jsx)("h4",{className:"font-medium text-gray-900 text-sm leading-tight",children:e.descripcion}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Stock: ",e.stock_disponible||"N/A"]})]}),(0,Pt.jsx)("div",{className:"ml-3 flex-shrink-0",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium ".concat("DAADO"===e.estado?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.estado})})]}),(0,Pt.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,Pt.jsxs)("div",{className:"text-xs text-gray-600",children:[e.codigo_barras&&(0,Pt.jsxs)("span",{children:["CB: ",e.codigo_barras]}),e.codigo_proveedor&&(0,Pt.jsxs)("span",{className:"ml-2",children:["CP: ",e.codigo_proveedor]}),!e.codigo_barras&&!e.codigo_proveedor&&(0,Pt.jsx)("span",{className:"text-gray-400",children:"Sin cdigos"})]}),(0,Pt.jsx)("div",{className:"text-xs text-gray-500",children:"DAADO"===e.estado?" Garanta":" Devolucin"})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Cantidad"}),(0,Pt.jsx)("input",{type:"number",value:e.cantidad,onClick:function(t){var r=window.prompt("Ingrese la cantidad");null!==r&&""!==r&&parseFloat(r)&&V(e.id,"entrada",parseFloat(r))},onChange:function(t){return V(e.id,"entrada",t.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded text-center text-sm",min:"0.01",step:"0.01"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Precio Unit. (factura)"}),(0,Pt.jsxs)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded text-center text-sm font-medium",children:["$",(parseFloat(e.precio)||0).toFixed(2)]}),null!=e.precio_factura&&null!=e.precio_actual&&Math.abs(parseFloat(e.precio_factura)-parseFloat(e.precio_actual))>.001&&(0,Pt.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Actual: $",(parseFloat(e.precio_actual)||0).toFixed(2)]})]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs text-gray-600",children:"Subtotal:"}),(0,Pt.jsxs)("span",{className:"ml-2 font-semibold text-sm",children:["$",(parseFloat(e.subtotal)||0).toFixed(2)]})]}),(0,Pt.jsx)("button",{onClick:function(){return z(e.id,"entrada")},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-full transition-colors",title:"Eliminar producto",children:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id)}))})]})]}),(0,Pt.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Pt.jsx)("h3",{className:"font-semibold text-green-800 mb-4",children:" SALIDAS - Lo que entrega la empresa"}),0===v.length?(0,Pt.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Pt.jsx)("p",{children:"No hay productos en SALIDAS"}),(0,Pt.jsx)("p",{className:"text-sm",children:'Use el botn "Entregar Producto" para agregar productos'})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full border-collapse bg-white rounded-lg overflow-hidden shadow-sm",children:[(0,Pt.jsx)("thead",{className:"bg-green-100",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Producto"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Cdigos"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-left text-sm font-semibold text-gray-800",children:"Estado"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Cantidad"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Precio Unit."}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Subtotal"}),(0,Pt.jsx)("th",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold text-gray-800",children:"Acciones"})]})}),(0,Pt.jsx)("tbody",{children:v.map((function(e){return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"font-medium text-gray-900",children:e.descripcion}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Stock: ",e.stock_disponible||"N/A"]})]})}),(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,Pt.jsxs)("div",{className:"text-sm text-gray-600",children:[e.codigo_barras&&(0,Pt.jsxs)("div",{children:["CB: ",e.codigo_barras]}),e.codigo_proveedor&&(0,Pt.jsxs)("div",{children:["CP: ",e.codigo_proveedor]}),!e.codigo_barras&&!e.codigo_proveedor&&(0,Pt.jsx)("div",{className:"text-gray-400",children:"Sin cdigos"})]})}),(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3",children:(0,Pt.jsxs)("div",{className:"text-sm",children:[(0,Pt.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.estado}),(0,Pt.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"A entregar"})]})}),(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3 text-center",children:(0,Pt.jsx)("input",{type:"number",value:e.cantidad,onClick:function(t){var r=window.prompt("Ingrese la cantidad");null!==r&&""!==r&&parseFloat(r)&&V(e.id,"salida",parseFloat(r))},onChange:function(t){return V(e.id,"salida",t.target.value)},className:"w-16 px-2 py-1 border rounded text-center text-sm",min:"0.01",step:"0.01"})}),(0,Pt.jsxs)("td",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-medium",children:["$",(parseFloat(e.precio)||0).toFixed(2)]}),(0,Pt.jsxs)("td",{className:"border border-gray-200 px-4 py-3 text-center text-sm font-semibold",children:["$",(parseFloat(e.subtotal)||0).toFixed(2)]}),(0,Pt.jsx)("td",{className:"border border-gray-200 px-4 py-3 text-center",children:(0,Pt.jsx)("button",{onClick:function(){return z(e.id,"salida")},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:"Eliminar producto",children:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},e.id)}))})]})}),(0,Pt.jsx)("div",{className:"md:hidden space-y-3",children:v.map((function(e){return(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Pt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Pt.jsx)("h4",{className:"font-medium text-gray-900 text-sm leading-tight",children:e.descripcion}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Stock: ",e.stock_disponible||"N/A"]})]}),(0,Pt.jsx)("div",{className:"ml-3 flex-shrink-0",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:e.estado})})]}),(0,Pt.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,Pt.jsxs)("div",{className:"text-xs text-gray-600",children:[e.codigo_barras&&(0,Pt.jsxs)("span",{children:["CB: ",e.codigo_barras]}),e.codigo_proveedor&&(0,Pt.jsxs)("span",{className:"ml-2",children:["CP: ",e.codigo_proveedor]}),!e.codigo_barras&&!e.codigo_proveedor&&(0,Pt.jsx)("span",{className:"text-gray-400",children:"Sin cdigos"})]}),(0,Pt.jsx)("div",{className:"text-xs text-gray-500",children:" A entregar"})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Cantidad"}),(0,Pt.jsx)("input",{type:"number",value:e.cantidad,onClick:function(t){var r=window.prompt("Ingrese la cantidad");null!==r&&""!==r&&parseFloat(r)&&V(e.id,"salida",parseFloat(r))},onChange:function(t){return V(e.id,"salida",t.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded text-center text-sm",min:"0.01",step:"0.01"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Precio Unit."}),(0,Pt.jsxs)("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded text-center text-sm font-medium",children:["$",(parseFloat(e.precio)||0).toFixed(2)]})]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs text-gray-600",children:"Subtotal:"}),(0,Pt.jsxs)("span",{className:"ml-2 font-semibold text-sm",children:["$",(parseFloat(e.subtotal)||0).toFixed(2)]})]}),(0,Pt.jsx)("button",{onClick:function(){return z(e.id,"salida")},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-full transition-colors",title:"Eliminar producto",children:(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},e.id)}))})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,Pt.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:" Resumen del Carrito"}),I&&(0,Pt.jsxs)("div",{className:"text-center py-4",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Procesando carrito..."})]}),!I&&(0,Pt.jsxs)("div",{className:"space-y-3",children:[k.caso_uso&&(0,Pt.jsx)("div",{className:"p-3 bg-blue-50 border-l-4 border-blue-400 rounded",children:(0,Pt.jsxs)("p",{className:"text-sm font-medium text-blue-700",children:[" Caso ",k.caso_uso,": ",k.descripcion_caso]})}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-600",children:"Total Entradas"}),(0,Pt.jsxs)("p",{className:"font-semibold",children:["$",(parseFloat(k.total_entradas)||0).toFixed(2)]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("p",{className:"text-sm text-gray-600",children:"Total Salidas"}),(0,Pt.jsxs)("p",{className:"font-semibold",children:["$",(parseFloat(k.total_salidas)||0).toFixed(2)]})]})]}),(0,Pt.jsx)("div",{className:"p-3 rounded ".concat("equilibrio"===k.balance_tipo?"bg-green-50":"favor_cliente"===k.balance_tipo?"bg-blue-50":"bg-yellow-50"),children:(0,Pt.jsx)("div",{className:"flex justify-between items-center",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("p",{className:"text-sm font-medium",children:["equilibrio"===k.balance_tipo&&" Balance equilibrado","favor_cliente"===k.balance_tipo&&" A favor del cliente","favor_empresa"===k.balance_tipo&&" A favor de la empresa"]}),0!==k.diferencia_pago&&(0,Pt.jsxs)("p",{className:"text-sm text-gray-600",children:["Diferencia: $",(parseFloat(Math.abs(k.diferencia_pago))||0).toFixed(2)]})]})})}),k.errores.length>0&&(0,Pt.jsxs)("div",{className:"bg-red-50 p-3 rounded",children:[(0,Pt.jsx)("p",{className:"text-sm font-medium text-red-700 mb-2",children:" Errores:"}),(0,Pt.jsx)("ul",{className:"text-sm text-red-600 space-y-1",children:k.errores.map((function(e,t){return(0,Pt.jsxs)("li",{children:[" ",e]},t)}))})]})]})]})]})};function TN(e){return TN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TN(e)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MN(Object(r),!0).forEach((function(t){RN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=TN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=TN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BN(){BN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==TN(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(TN(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function LN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function FN(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){LN(o,n,a,i,s,"next",e)}function s(e){LN(o,n,a,i,s,"throw",e)}i(void 0)}))}}function UN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return WN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?WN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var VN=function(e){var t=e.formData,r=e.updateNestedFormData,n=e.errors,a=e.db,i=UN((0,o.useState)(""),2),s=(i[0],i[1]),c=UN((0,o.useState)([]),2),l=c[0],u=c[1],d=UN((0,o.useState)(!1),2),f=d[0],h=d[1],p=UN((0,o.useState)(!0),2),m=p[0],g=p[1],x=function(){var e=FN(BN().mark((function e(t){var r,n;return BN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!(t.length<2)){e.next=3;break}return u([]),e.abrupt("return");case 3:return h(!0),e.prev=4,e.next=7,a.searchResponsables({tipo:"cliente",termino:t,limit:5});case 7:r=e.sent,200===(n=r.data).status&&n.data.length>0?(u(n.data),g(!1)):(u([]),g(!0)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),u([]),g(!0);case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])})));return function(t){return e.apply(this,arguments)}}();return(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cdula del Cliente *"}),(0,Pt.jsxs)("div",{className:"relative",children:[(0,Pt.jsx)("input",{type:"text",value:t.cliente.cedula||"",onChange:function(e){return t=e.target.value,r("cliente","cedula",t),s(t),void(t.length>=3?x(t):u([]));var t},className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(n.cliente_cedula?"border-red-500":"border-gray-300"),placeholder:"Ej: 12345678"}),f&&(0,Pt.jsx)("div",{className:"absolute right-3 top-2",children:(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"})})]}),n.cliente_cedula&&(0,Pt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n.cliente_cedula})]})}),l.length>0&&(0,Pt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Pt.jsx)("h5",{className:"text-sm font-medium text-blue-800 mb-3",children:"Clientes encontrados:"}),(0,Pt.jsx)("div",{className:"space-y-2",children:l.map((function(e){return(0,Pt.jsxs)("button",{type:"button",onClick:function(){return function(e){r("cliente","id",e.id),r("cliente","nombre",e.nombre),r("cliente","apellido",e.apellido),r("cliente","cedula",e.cedula),r("cliente","telefono",e.telefono||""),r("cliente","correo",e.correo||""),r("cliente","direccion",e.direccion||""),s(""),u([])}(e)},className:"w-full text-left p-3 bg-white border border-blue-200 rounded-md hover:bg-blue-50 transition-colors",children:[(0,Pt.jsxs)("div",{className:"font-medium",children:[e.nombre," ",e.apellido]}),(0,Pt.jsxs)("div",{className:"text-sm text-gray-500",children:["CI: ",e.cedula]}),e.telefono&&(0,Pt.jsxs)("div",{className:"text-sm text-gray-500",children:["Tel: ",e.telefono]})]},e.id)}))})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre *"}),(0,Pt.jsx)("input",{type:"text",value:t.cliente.nombre||"",onChange:function(e){return r("cliente","nombre",e.target.value)},className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(n.cliente_nombre?"border-red-500":"border-gray-300"),placeholder:"Nombre del cliente",readOnly:t.cliente.id&&!m}),n.cliente_nombre&&(0,Pt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n.cliente_nombre})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido *"}),(0,Pt.jsx)("input",{type:"text",value:t.cliente.apellido||"",onChange:function(e){return r("cliente","apellido",e.target.value)},className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(n.cliente_apellido?"border-red-500":"border-gray-300"),placeholder:"Apellido del cliente",readOnly:t.cliente.id&&!m}),n.cliente_apellido&&(0,Pt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n.cliente_apellido})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),(0,Pt.jsx)("input",{type:"text",value:t.cliente.telefono||"",onChange:function(e){return r("cliente","telefono",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 04241234567",readOnly:t.cliente.id&&!m})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo"}),(0,Pt.jsx)("input",{type:"email",value:t.cliente.correo||"",onChange:function(e){return r("cliente","correo",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ejemplo@correo.com",readOnly:t.cliente.id&&!m})]})]}),t.cliente.id&&(0,Pt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle text-green-600 mr-2"}),(0,Pt.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Cliente seleccionado desde la base de datos"})]})})]})},zN=function(e){var t=e.formData,r=e.updateFormData,n=(0,o.useRef)(null),a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return(0,Pt.jsxs)("div",{className:"space-y-4",children:[t.foto_factura?(0,Pt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Pt.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Pt.jsx)("img",{src:t.foto_factura.preview,alt:"Factura",className:"w-24 h-24 object-cover rounded-lg border"}),(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("h5",{className:"font-medium text-green-800 mb-2",children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle mr-2"}),"Foto de Factura Cargada"]}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:[(0,Pt.jsx)("strong",{children:"Archivo:"})," ",t.foto_factura.name]}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:[(0,Pt.jsx)("strong",{children:"Tamao:"})," ",(t.foto_factura.size/1024).toFixed(2)," KB"]}),(0,Pt.jsxs)("button",{type:"button",onClick:function(){r("foto_factura",null),n.current&&(n.current.value="")},className:"px-3 py-1 text-sm bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:[(0,Pt.jsx)("i",{className:"fa fa-trash mr-1"}),"Eliminar"]})]})]})}):(0,Pt.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-blue-400 transition-colors",onClick:function(){n.current&&n.current.click()},children:[(0,Pt.jsx)("i",{className:"fa fa-camera text-4xl text-gray-400 mb-4 block"}),(0,Pt.jsx)("h5",{className:"text-lg font-medium text-gray-700 mb-2",children:"Subir Foto de Factura"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:a?"Toca para seleccionar foto":"Haz clic para seleccionar imagen"}),(0,Pt.jsx)("div",{className:"text-xs text-gray-400",children:"Formatos: JPG, PNG, GIF | Mximo 5MB"})]}),(0,Pt.jsx)("input",{ref:n,type:"file",accept:"image/*",capture:a?"environment":void 0,onChange:function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0],n=new FileReader;n.onload=function(e){r("foto_factura",{file:t,preview:e.target.result,name:t.name,size:t.size,type:t.type})},n.readAsDataURL(t)}},style:{display:"none"}})]})};const KN=function(e){var t=e.onSuccess,r=e.sucursalConfig,n=e.db,a=UN((0,o.useState)(1),2),i=a[0],s=(a[1],UN((0,o.useState)({bs_to_usd:37,cop_to_usd:1}),2)),c=s[0],l=s[1],u=UN((0,o.useState)(!1),2),d=u[0],f=(u[1],UN((0,o.useState)(null),2)),h=f[0],p=f[1],m=UN((0,o.useState)(!1),2),g=m[0],x=m[1],v=UN((0,o.useState)(!1),2),b=v[0],y=v[1],_=UN((0,o.useState)(!1),2),j=_[0],w=_[1],N=UN((0,o.useState)({tipo_solicitud:"",caso_uso:null,factura_venta_id:"",numfact_original:"",dias_transcurridos_compra:"",cliente:{nombre:"",apellido:"",cedula:"",telefono:"",direccion:"",correo:""},cajero:{nombre:"",apellido:"",cedula:""},supervisor:{nombre:"",apellido:"",cedula:""},dici:{nombre:"",apellido:"",cedula:""},id_producto:"",producto_nombre:"",cantidad:1,cantidad_salida:0,monto_devolucion_dinero:0,motivo:"",motivo_devolucion:"",detalles_adicionales:"",metodos_devolucion:[],foto_factura:null,fotos_productos:[],fotos_descripciones:[],productos_carrito:[]}),2),E=N[0],C=N[1],S=UN((0,o.useState)(!1),2),O=S[0],A=S[1],P=UN((0,o.useState)(!1),2),D=P[0],I=(P[1],UN((0,o.useState)({}),2)),T=I[0],M=I[1],k=UN((0,o.useState)(null),2),R=k[0],B=k[1],L=UN((0,o.useState)({esValido:!1,errores:[],requiereMetodosPago:!1,diferencia_pago:0}),2),F=L[0],U=L[1],W=[{number:1,title:"Validar Factura",description:"Verificar nmero de factura y cargar datos"},{number:2,title:"Responsables",description:"Informacin de las personas involucradas"},{number:3,title:"Carrito Dinmico",description:"Agregar productos y mtodos de pago"},{number:4,title:"Motivos y Detalles",description:"Describir el motivo y detalles del proceso"},{number:5,title:"Fotos",description:"Subir evidencias fotogrficas"},{number:6,title:"Revisin",description:"Verificar y enviar la solicitud"}];(0,o.useEffect)((function(){var e=function(){var e=FN(BN().mark((function e(){var t,r;return BN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/garantias/tasas-cambio");case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:r=e.sent,l(r.tasas||{bs_to_usd:37,cop_to_usd:1});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn("Error al obtener tasas de cambio, usando por defecto");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,o.useEffect)((function(){E.cajero.nombre||(K("cajero","nombre","Cajero"),K("cajero","apellido","Predeterminado"),K("cajero","cedula","00000000")),E.supervisor.nombre||(K("supervisor","nombre","Supervisor"),K("supervisor","apellido","Predeterminado"),K("supervisor","cedula","11111111")),E.dici.nombre||(K("dici","nombre","DICI"),K("dici","apellido","Predeterminado"),K("dici","cedula","22222222"))}),[]);var V=function(){var e=FN(BN().mark((function e(){var t,r;return BN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.factura_venta_id){e.next=3;break}return M({factura_venta_id:"Nmero de factura es obligatorio"}),e.abrupt("return");case 3:return x(!0),M({}),e.prev=5,e.next=8,n.validateFactura({numfact:E.factura_venta_id});case 8:200===(t=e.sent).status?(r=t.data).exists?(p({pedido:r.pedido,metodos_pago:r.metodos_pago||[],productos_facturados:r.productos_facturados||[]}),void 0!==r.pedido.dias_transcurridos_compra&&z("dias_transcurridos_compra",r.pedido.dias_transcurridos_compra),y(!0)):(M({factura_venta_id:"Esta factura no existe en el sistema"}),p(null),y(!1)):(M({factura_venta_id:"Error al validar la factura"}),p(null),y(!1)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(5),M({factura_venta_id:"Error al validar la factura"}),p(null),y(!1);case 17:return e.prev=17,x(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,12,17,20]])})));return function(){return e.apply(this,arguments)}}(),z=function(e,t){C((function(r){return kN(kN({},r),{},RN({},e,t))}))},K=function(e,t,r){C((function(n){return kN(kN({},n),{},RN({},e,kN(kN({},n[e]),{},RN({},t,r))))}))},G=function(e){if(B(e),e&&e.resumen){z("caso_uso",e.resumen.caso_uso),z("tipo_solicitud",e.resumen.caso_uso<=2?"GARANTIA":"DEVOLUCION");var t=[];e.entradas.forEach((function(e){t.push({id:e.id,descripcion:e.descripcion,precio:e.precio,cantidad:e.cantidad,estado:e.estado,tipo:"entrada",subtotal:e.subtotal})})),e.salidas.forEach((function(e){t.push({id:e.id,descripcion:e.descripcion,precio:e.precio,cantidad:e.cantidad,estado:e.estado,tipo:"salida",subtotal:e.subtotal})})),z("productos_carrito",t)}},q=function(e){U(e)};(0,o.useEffect)((function(){R&&(R.entradas.length>0||R.salidas.length>0)&&G(R)}),[E.metodos_devolucion]);var H=function(){var e=FN(BN().mark((function e(t){var r,n;return BN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={},e.t0=t,e.next=1===e.t0?4:2===e.t0?19:3===e.t0?31:4===e.t0?42:5===e.t0?46:47;break;case 4:if(E.factura_venta_id||j?b||j||(n.factura_validacion="Debe validar la factura antes de continuar"):n.factura_venta_id="Nmero de factura es obligatorio",E.cliente.nombre||(n.cliente_nombre="Nombre del cliente requerido"),E.cliente.apellido||(n.cliente_apellido="Apellido del cliente requerido"),E.cliente.cedula||(n.cliente_cedula="Cdula del cliente requerida"),R&&(0!==R.entradas.length||0!==R.salidas.length)){e.next=11;break}return n.productos_carrito="Debe agregar al menos un producto al carrito",e.abrupt("break",47);case 11:if(R.resumen&&R.resumen.caso_uso){e.next=14;break}return n.caso_uso="No se pudo determinar el caso de uso automticamente",e.abrupt("break",47);case 14:if(F.esValido){e.next=18;break}return n.carrito="El carrito no es vlido. Por favor revise los errores.",F.errores.forEach((function(e,t){e.includes("Se requieren mtodos de")||(n["carrito_error_".concat(t)]=e)})),e.abrupt("break",47);case 18:case 41:case 46:return e.abrupt("break",47);case 19:return 5!==E.caso_uso&&(E.cliente.nombre||(n.cliente_nombre="Nombre del cliente requerido"),E.cliente.apellido||(n.cliente_apellido="Apellido del cliente requerido"),E.cliente.cedula||(n.cliente_cedula="Cdula del cliente requerida")),E.cajero.nombre||(n.cajero_nombre="Nombre del cajero requerido"),E.cajero.apellido||(n.cajero_apellido="Apellido del cajero requerido"),E.cajero.cedula||(n.cajero_cedula="Cdula del cajero requerida"),E.supervisor.nombre||(n.supervisor_nombre="Nombre del supervisor requerido"),E.supervisor.apellido||(n.supervisor_apellido="Apellido del supervisor requerido"),E.supervisor.cedula||(n.supervisor_cedula="Cdula del supervisor requerida"),E.dici.nombre||(n.dici_nombre="Nombre del DICI requerido"),E.dici.apellido||(n.dici_apellido="Apellido del DICI requerido"),E.dici.cedula||(n.dici_cedula="Cdula del DICI requerida"),e.abrupt("break",47);case 31:if(R&&(0!==R.entradas.length||0!==R.salidas.length)){e.next=34;break}return n.productos_carrito="Debe agregar al menos un producto al carrito",e.abrupt("break",47);case 34:if(R.resumen&&R.resumen.caso_uso){e.next=37;break}return n.caso_uso="No se pudo determinar el caso de uso automticamente",e.abrupt("break",47);case 37:if(F.esValido){e.next=41;break}return n.carrito="El carrito no es vlido. Por favor revise los errores.",F.errores.forEach((function(e,t){e.includes("Se requieren mtodos de")||(n["carrito_error_".concat(t)]=e)})),e.abrupt("break",47);case 42:return"GARANTIA"===((null==R||null===(r=R.resumen)||void 0===r?void 0:r.caso_uso)<=2?"GARANTIA":"DEVOLUCION")?E.motivo&&""!==E.motivo.trim()||(n.motivo="El motivo de la garanta es obligatorio"):E.motivo_devolucion&&""!==E.motivo_devolucion.trim()||(n.motivo_devolucion="El motivo de la devolucin es obligatorio"),!E.detalles_adicionales||E.detalles_adicionales.trim(),e.abrupt("break",47);case 47:return M(n),e.abrupt("return",0===Object.keys(n).length);case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=FN(BN().mark((function e(){var r,n,a,o,s,c,l,u,d,f,h,p,m,g,x,v,b,y;return BN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(i);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:return A(!0),e.prev=5,o=new FormData,s=(null==R||null===(r=R.resumen)||void 0===r?void 0:r.caso_uso)||E.caso_uso,o.append("caso_uso",s),o.append("factura_venta_id",parseInt(E.factura_venta_id)||0),o.append("modo_traslado_interno",j),R&&(o.append("entradas",JSON.stringify(R.entradas)),o.append("salidas",JSON.stringify(R.salidas)),o.append("resumen_carrito",JSON.stringify(R.resumen))),c=(null===(n=E.productos_carrito)||void 0===n?void 0:n.map((function(e){return{id_producto:e.id,cantidad:e.cantidad,monto_devolucion_unitario:e.monto_devolucion_unitario||0,tipo:e.tipo||"entrada",estado:e.estado||"BUENO"}})))||[],o.append("productos",JSON.stringify(c)),l={motivo:E.motivo||E.motivo_devolucion||"",dias_desdecompra:E.dias_transcurridos_compra||0,cantidad_salida:E.cantidad_salida||0,motivo_salida:E.motivo_salida||"",detalles_adicionales:E.detalles_adicionales||"",cliente:{cedula:E.cliente.cedula||"",nombre:E.cliente.nombre||"",apellido:E.cliente.apellido||"",telefono:E.cliente.telefono||"",direccion:E.cliente.direccion||"",correo:E.cliente.correo||""},cajero:{cedula:E.cajero.cedula||"",nombre:E.cajero.nombre||"",apellido:E.cajero.apellido||""},supervisor:{cedula:E.supervisor.cedula||"",nombre:E.supervisor.nombre||"",apellido:E.supervisor.apellido||""},dici:E.dici?{cedula:E.dici.cedula||"",nombre:E.dici.nombre||"",apellido:E.dici.apellido||""}:null},o.append("garantia_data",JSON.stringify(l)),u=E.metodos_devolucion&&E.metodos_devolucion.length>0&&E.metodos_devolucion||[],o.append("metodos_devolucion",JSON.stringify(u)),E.foto_factura&&E.foto_factura.file&&o.append("foto_factura",E.foto_factura.file),E.fotos_productos&&E.fotos_productos.length>0&&E.fotos_productos.forEach((function(e,t){e.file&&o.append("fotos_productos[".concat(t,"]"),e.file)})),E.fotos_productos&&E.fotos_productos.length>0&&E.fotos_productos.forEach((function(e,t){var r=e.description||"Foto del producto";o.append("fotos_descripciones[".concat(t,"]"),r)})),d=localStorage.getItem("session_token"),e.next=24,fetch("/api/garantias/registrar-solicitud",{method:"POST",headers:{"X-CSRF-TOKEN":(null===(a=document.querySelector('meta[name="csrf-token"]'))||void 0===a?void 0:a.getAttribute("content"))||"","X-Session-Token":d||""},body:o});case 24:if((f=e.sent).ok){e.next=39;break}return h="Error ".concat(f.status,": ").concat(f.statusText),e.prev=27,e.next=30,f.json();case 30:(p=e.sent).message?h=p.message:p.error?h=p.error:p.errors&&(m=Object.values(p.errors).flat(),h=m.join("\n")),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(27),console.error("Error parsing response:",e.t0);case 37:return M({submit:h}),e.abrupt("return");case 39:return e.next=41,f.json();case 41:(g=e.sent).success?(x=" Solicitud de garanta/devolucin enviada exitosamente!\n\n",g.data&&g.data.solicitud_id&&(x+=" ID Solicitud: ".concat(g.data.solicitud_id,"\n")),g.data&&g.data.monto_total_devolucion&&(x+=" Monto Total: ".concat(g.data.monto_total_devolucion," USD\n")),x+="\n La solicitud est PENDIENTE DE APROBACIN en central.\n",x+=" NO SE CREA PEDIDO hasta recibir aprobacin.\n",g.metodos_devolucion&&g.metodos_devolucion.length>0?(x+=" NO ENTREGAR DINERO hasta recibir aprobacin.\n\n",x+=" Mtodos de devolucin configurados:\n",g.metodos_devolucion.forEach((function(e,t){x+="".concat(t+1,". ").concat(e.tipo.toUpperCase(),": ").concat(e.monto_original," ").concat(e.moneda_original,"\n")}))):x+=" Caso sin devolucin de dinero - Solo productos.\n",alert(x),t()):(v="Error al crear la solicitud."+JSON.stringify(g),g.message?v=g.message:g.error?v=g.error:g.errors&&(b=Object.values(g.errors).flat(),v=b.join("\n")),M({submit:v})),e.next=51;break;case 45:e.prev=45,e.t1=e.catch(5),console.error("Error en submitForm:",e.t1),y="Error de conexin. Intente nuevamente.","TypeError"===e.t1.name&&e.t1.message.includes("fetch")?y="No se pudo conectar con el servidor. Verifique su conexin a internet.":e.t1.message&&(y="Error: ".concat(e.t1.message)),M({submit:y});case 51:return e.prev=51,A(!1),e.finish(51);case 54:case"end":return e.stop()}}),e,null,[[5,45,51,54],[27,34]])})));return function(){return e.apply(this,arguments)}}();return(0,Pt.jsx)("div",{className:"w-full max-w-7xl mx-auto px-2 sm:px-4 lg:px-6",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,Pt.jsx)("div",{className:"px-2 sm:px-4 lg:px-6 py-3 sm:py-4 lg:py-6 border-b border-gray-200",children:(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsx)("h2",{className:"text-lg sm:text-xl lg:text-2xl font-semibold text-gray-900 leading-tight",children:"Nueva Solicitud de Garanta/Devolucin"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600 mt-1 sm:mt-2",children:"Siga los pasos para crear una nueva solicitud"})]}),(0,Pt.jsx)("div",{className:"sm:hidden",children:(0,Pt.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,Pt.jsxs)("span",{className:"font-medium",children:["Paso ",i]}),(0,Pt.jsxs)("span",{className:"text-gray-400",children:["de ",W.length]})]})})]})}),(0,Pt.jsx)("div",{className:"px-2 sm:px-4 lg:px-6 py-3 sm:py-4 lg:py-6",children:(0,Pt.jsx)("div",{className:"max-w-none",children:1===i?(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:"Registro de Garanta/Devolucin - Vista Unificada"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Complete todos los datos necesarios en una sola vista simplificada."})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Pt.jsxs)("h4",{className:"text-lg font-semibold text-blue-600 mb-4 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-file-invoice mr-2"}),"1. Validacin de Factura"]}),(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nmero de Factura *"}),(0,Pt.jsxs)("div",{className:"flex gap-3",children:[(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[(0,Pt.jsx)("input",{type:"text",value:E.factura_venta_id,onChange:function(e){z("factura_venta_id",e.target.value),b&&(y(!1),p(null)),(T.factura_venta_id||T.factura_validacion)&&M((function(e){var t=kN({},e);return delete t.factura_venta_id,delete t.factura_validacion,t}))},className:"w-full sm:flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(T.factura_venta_id?"border-red-500":"border-gray-300"),placeholder:"Ej: 123456",disabled:g||j}),(0,Pt.jsx)("button",{type:"button",onClick:V,disabled:!E.factura_venta_id||g||j,className:"w-full sm:w-auto px-6 py-2 rounded-md font-medium text-white transition-colors ".concat(!E.factura_venta_id||g||j?"bg-gray-400 cursor-not-allowed":b?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"),children:g?"Validando...":b?" Validada":"Validar"})]}),(0,Pt.jsx)("button",{type:"button",onClick:function(){w(!j),j||(y(!1),p(null),z("factura_venta_id",""),M((function(e){var t=kN({},e);return delete t.factura_venta_id,delete t.factura_validacion,t})))},className:"px-4 py-2 rounded-md font-medium transition-colors ".concat(j?"bg-orange-600 hover:bg-orange-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"),children:j?"Traslado ON":"Traslado OFF"})]}),T.factura_venta_id&&(0,Pt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:T.factura_venta_id}),T.factura_validacion&&(0,Pt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:T.factura_validacion})]}),h&&!j&&(0,Pt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 space-y-4",children:[(0,Pt.jsx)("h5",{className:"text-sm font-medium text-green-800 mb-3",children:" Factura Vlida"}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-medium",children:"Cliente:"})," ",h.pedido.cliente||"N/A"]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-medium",children:"Total:"})," $",h.pedido.monto_total]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"font-medium",children:"Fecha:"})," ",h.pedido.created_at||"N/A"]})]}),h.metodos_pago&&h.metodos_pago.length>0&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h6",{className:"text-sm font-medium text-green-700 mb-2",children:" Mtodos de Pago:"}),(0,Pt.jsx)("div",{className:"bg-white rounded border p-3 space-y-2",children:h.metodos_pago.map((function(e,t){return(0,Pt.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Pt.jsx)("span",{className:"font-medium",children:e.descripcion||e.tipo}),(0,Pt.jsxs)("span",{children:["$",e.monto||e.amount," ",e.moneda||""]})]},t)}))})]}),h.productos_facturados&&h.productos_facturados.length>0&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h6",{className:"text-sm font-medium text-green-700 mb-2",children:" Productos Facturados:"}),(0,Pt.jsx)("div",{className:"bg-white rounded border p-3 space-y-2 max-h-40 overflow-y-auto",children:h.productos_facturados.map((function(e,t){return(0,Pt.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsx)("div",{className:"font-medium",children:e.descripcion||e.nombre}),(0,Pt.jsx)("div",{className:"font-medium",children:e.codigo_proveedor||e.codigo}),(0,Pt.jsx)("div",{className:"font-medium",children:e.codigo_barras||e.codigo}),(0,Pt.jsxs)("div",{className:"text-gray-500",children:["Cant: ",e.cantidad," | Precio: $",e.precio_unitario]})]}),(0,Pt.jsx)("div",{className:"text-right",children:(0,Pt.jsxs)("div",{className:"font-medium",children:["$",e.cantidad*e.precio_unitario]})})]},t)}))})]})]})]})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Pt.jsxs)("h4",{className:"text-lg font-semibold text-green-600 mb-4 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-user mr-2"}),"2. Datos del Cliente"]}),(0,Pt.jsx)(VN,{formData:E,updateNestedFormData:K,errors:T,db:n})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Pt.jsxs)("h4",{className:"text-lg font-semibold text-purple-600 mb-4 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-camera mr-2"}),"3. Foto de Factura"]}),(0,Pt.jsx)(zN,{formData:E,updateFormData:z})]}),(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[(0,Pt.jsxs)("h4",{className:"text-lg font-semibold text-indigo-600 mb-4 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-shopping-cart mr-2"}),"4. Productos"]}),(0,Pt.jsx)(IN,{onCarritoChange:G,onValidacionChange:q,factura:{numero:E.factura_venta_id},sucursalConfig:r,initialData:R,db:n,metodosPagoConfigurados:E.metodos_devolucion||[],tasasCambio:c,modoValidacion:d,productosFacturados:(null==h?void 0:h.productos_facturados)||[],modoTrasladoInterno:j})]})]}):null})}),(0,Pt.jsx)("div",{className:"px-2 sm:px-4 lg:px-6 py-3 sm:py-4 border-t border-gray-200",children:(0,Pt.jsx)("div",{className:"flex justify-center",children:(0,Pt.jsx)("button",{onClick:$,disabled:O||D,className:"w-full sm:w-auto px-8 py-3 sm:py-2 rounded-md font-medium text-white transition-colors ".concat(O||D?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 active:bg-green-800"),children:O?(0,Pt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Pt.jsx)("span",{children:"Creando Garanta..."})]}):D?(0,Pt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Pt.jsx)("span",{children:"Validando..."})]}):(0,Pt.jsx)("span",{children:" Crear Garanta/Devolucin"})})})}),T.submit&&(0,Pt.jsx)("div",{className:"px-2 sm:px-4 lg:px-6 py-3 bg-red-50 border-l-4 border-red-400",children:(0,Pt.jsx)("p",{className:"text-red-700 text-sm sm:text-base",children:T.submit})})]})})};function GN(e){return GN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GN(e)}function qN(){qN=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==GN(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(GN(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function HN(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function $N(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){HN(o,n,a,i,s,"next",e)}function s(e){HN(o,n,a,i,s,"throw",e)}i(void 0)}))}}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YN(Object(r),!0).forEach((function(t){QN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=GN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=GN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GN(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return JN(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JN(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const eE=function(e){var t,r,n,a,i,s,c=e.garantias,l=e.onReload,u=(e.sucursalConfig,e.db),d=ZN((0,o.useState)(!1),2),f=d[0],h=d[1],p=ZN((0,o.useState)(null),2),m=p[0],g=p[1],x=ZN((0,o.useState)("todas"),2),v=x[0],b=x[1],y=ZN((0,o.useState)(new Set),2),_=y[0],j=y[1],w=ZN((0,o.useState)("garantias"),2),N=w[0],E=(w[1],function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{return e&&"[]"!==e&&"{}"!==e?JSON.parse(e):t}catch(r){return console.error("Error parsing JSON:",r,"String:",e),t}}),C=function(e){var t=E(e.garantia_data,{}),r=E(e.productos_data,[]);return XN(XN({},t),{},{productos:e.productos_con_datos||r.map((function(e){var t;return XN(XN({},e),{},{descripcion:(null===(t=e.producto)||void 0===t?void 0:t.descripcion)||"Producto no encontrado"})}))})},S=function(e){return{1:"Producto por producto",2:"Producto por dinero",3:"Dinero por producto",4:"Dinero por dinero",5:"Transferencia entre sucursales"}[e]||"Caso ".concat(e)},O=function(e){return e?"".concat(e.nombre||""," ").concat(e.apellido||"").trim():"N/A"},A=ZN((0,o.useState)([]),2),P=A[0],D=A[1],I=ZN((0,o.useState)([]),2),T=I[0],M=I[1],k=ZN((0,o.useState)(""),2),R=k[0],B=k[1],L=ZN((0,o.useState)("codigo_barras"),2),F=L[0],U=L[1],W=ZN((0,o.useState)(""),2),V=W[0],z=W[1],K=ZN((0,o.useState)([]),2),G=K[0],q=K[1],H=ZN((0,o.useState)(null),2),$=H[0],Y=H[1],X=ZN((0,o.useState)(!1),2),Q=X[0],Z=X[1],J=ZN((0,o.useState)(!1),2),ee=J[0],te=J[1],re=ZN((0,o.useState)(!1),2),ne=re[0],ae=re[1],oe=ZN((0,o.useState)(null),2),ie=oe[0],se=oe[1],ce=ZN((0,o.useState)(!1),2),le=ce[0],ue=ce[1],de=ZN((0,o.useState)(null),2),fe=de[0],he=de[1],pe=ZN((0,o.useState)([]),2),me=pe[0],ge=pe[1],xe=ZN((0,o.useState)([]),2),ve=xe[0],be=xe[1],ye=ZN((0,o.useState)(1),2),_e=ye[0],je=ye[1],we=ZN((0,o.useState)({sucursal_destino:"",cantidad:1,motivo:"",solicitado_por:""}),2),Ne=we[0],Ee=we[1];(0,o.useEffect)((function(){"inventario"===N&&(We(),Ve(),ze())}),[N,V]);var Ce,Se,Oe,Ae,Pe,De,Ie,Te,Me,ke,Re,Be,Le,Fe,Ue,We=function(){var e=$N(qN().mark((function e(){var t;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,u.getInventarioGarantiasCentral({tipo_inventario:V,page:1,per_page:100});case 4:(t=e.sent).data.success?D(t.data.data):console.error("Error al cargar inventario:",t.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al cargar inventario de garantas:",e.t0);case 11:return e.prev=11,h(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=$N(qN().mark((function e(){var t;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.getTiposInventarioGarantia();case 3:(t=e.sent).data.success&&M(t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar tipos de inventario:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=$N(qN().mark((function e(){var t;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.getSucursales();case 3:(t=e.sent).data&&q(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar sucursales:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=$N(qN().mark((function e(){var t;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.trim()){e.next=3;break}return We(),e.abrupt("return");case 3:return h(!0),e.prev=4,e.next=7,u.searchInventarioGarantias({search_term:R,search_type:F,tipo_inventario:V});case 7:(t=e.sent).data.success?D(t.data.data):console.error("Error en bsqueda:",t.data.message),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error al buscar productos:",e.t0);case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=$N(qN().mark((function e(){var t;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($&&Ne.sucursal_destino){e.next=3;break}return alert("Seleccione un producto y sucursal destino"),e.abrupt("return");case 3:return h(!0),e.prev=4,e.next=7,u.transferirProductoGarantiaSucursal({producto_id:$.id,sucursal_destino:Ne.sucursal_destino,cantidad:Ne.cantidad,tipo_inventario:$.tipo_inventario,motivo:Ne.motivo,solicitado_por:Ne.solicitado_por});case 7:(t=e.sent).data.success?(alert("Solicitud de transferencia enviada correctamente"),Z(!1),Y(null),Ee({sucursal_destino:"",cantidad:1,motivo:"",solicitado_por:""}),We()):alert("Error en transferencia: "+t.data.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error al transferir:",e.t0),alert("Error de conexin al transferir");case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=$N(qN().mark((function e(){var t;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($&&Ne.sucursal_destino){e.next=3;break}return alert("Seleccione un producto y sucursal destino"),e.abrupt("return");case 3:return h(!0),e.prev=4,e.next=7,u.transferirGarantiaVentaNormal({producto_id:$.id,sucursal_destino:Ne.sucursal_destino,cantidad:Ne.cantidad,tipo_inventario:$.tipo_inventario,autorizado_por:Ne.solicitado_por,observaciones:Ne.motivo});case 7:(t=e.sent).data.success?(alert("Producto transferido a inventario de venta"),te(!1),Y(null),Ee({sucursal_destino:"",cantidad:1,motivo:"",solicitado_por:""}),We()):alert("Error en transferencia: "+t.data.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error al transferir a venta:",e.t0),alert("Error de conexin al transferir a venta");case 15:return e.prev=15,h(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),He=function(e){switch(e){case"PENDIENTE":return"bg-warning text-dark";case"APROBADA":return"bg-success text-white";case"RECHAZADA":return"bg-danger text-white";case"FINALIZADA":return"bg-secondary text-white";default:return"bg-light text-dark"}},$e=function(){var e=$N(qN().mark((function e(t){return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:he(t),ue(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=$N(qN().mark((function e(){var t,r,n,a;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.prev=3,t=fe.solicitud_central_id||fe.id,e.next=7,u.ejecutarSolicitudGarantiaModerna(t,_e);case 7:if(200!==(r=e.sent).status||!r.data.success){e.next=15;break}alert("Solicitud de garanta ejecutada exitosamente usando el sistema moderno"),ue(!1),he(null),l(),e.next=27;break;case 15:return console.warn("Mtodo moderno fall, intentando mtodo legacy..."),e.prev=16,e.next=19,u.ejecutarGarantia(fe.id,_e);case 19:200===(n=e.sent).status&&n.data.success?(alert("Garanta ejecutada exitosamente (mtodo legacy)"),ue(!1),he(null),l()):alert("Error al ejecutar garanta: "+(n.data.message||"Error desconocido")),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(16),console.error("Error en mtodo legacy:",e.t0),alert("Error al ejecutar garanta: "+(r.data.message||"Error desconocido"));case 27:e.next=33;break;case 29:e.prev=29,e.t1=e.catch(3),console.error("Error al ejecutar garanta:",e.t1),alert("Error de conexin al ejecutar garanta: "+((null===(a=e.t1.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)||e.t1.message));case 33:return e.prev=33,h(!1),e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[3,29,33,36],[16,23]])})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=$N(qN().mark((function e(){var t;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,u.syncGarantias();case 4:200===(t=e.sent).status&&t.data.success?l():alert("Error en sincronizacin: "+(t.data.error||"Error desconocido")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error en sincronizacin:",e.t0),alert("Error de conexin durante sincronizacin");case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=$N(qN().mark((function e(){var t,r,n;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.getUsuarios({q:""});case 3:200===(t=e.sent).status&&t.data?(r=t.data.filter((function(e){return 4===e.tipo_usuario})),n=r.map((function(e){return{id:e.id,nombre:"".concat(e.nombre).trim()}})),be(n),n.length>0&&je(n[0].id)):(console.error("Error al cargar usuarios de caja"),be([])),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar usuarios de caja:",e.t0),be([]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=$N(qN().mark((function e(){var t,r;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/get-cajas-disponibles",{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});case 3:return t=e.sent,e.next=6,t.json();case 6:(r=e.sent).success?(ge(r.cajas),r.cajas.length>0&&je(r.cajas[0].id)):console.error("Error al cargar cajas:",r.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error al cargar cajas disponibles:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=$N(qN().mark((function e(t){return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&(t.ejecutada||"FINALIZADA"===t.estatus)){e.next=3;break}return alert("Solo se pueden imprimir tickets de solicitudes finalizadas"),e.abrupt("return");case 3:return e.next=5,Ze();case 5:se(t),ae(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=$N(qN().mark((function e(){var t,r;return qN().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie){e.next=2;break}return e.abrupt("return");case 2:return h(!0),e.prev=3,e.next=6,fetch("/api/imprimir-ticket-garantia",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({solicitud_id:ie.id,printer:_e})});case 6:return t=e.sent,e.next=9,t.json();case 9:(r=e.sent).success?(alert("Ticket impreso exitosamente en Caja ".concat(_e," (").concat(r.tipo_impresion," #").concat(r.numero_impresion,")")),ae(!1),se(null)):alert("Error al imprimir ticket: "+r.message),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error al imprimir ticket:",e.t0),alert("Error al imprimir ticket: "+e.t0.message);case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),tt="todas"===v?c:c.filter((function(e){return"pendientes"===v?"PENDIENTE"===e.estatus:"aprobadas"===v?"APROBADA"===e.estatus&&!e.ejecutada:"rechazadas"===v?"RECHAZADA"===e.estatus:"finalizadas"!==v||e.ejecutada||"FINALIZADA"===e.estatus}));return(0,Pt.jsxs)("div",{className:"garantia-list",children:["garantias"===N&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"row mb-4",children:(0,Pt.jsx)("div",{className:"flex flex-col gap-3 w-full",children:(0,Pt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,Pt.jsxs)("div",{className:"hidden sm:flex flex-row items-center gap-1 text-sm",children:[(0,Pt.jsxs)("button",{type:"button",className:"px-3 py-1.5 rounded ".concat("todas"===v?"bg-blue-600 text-white":"bg-white border border-blue-600 text-blue-600 hover:bg-blue-50"," transition"),onClick:function(){return b("todas")},children:["Todas (",c.length,")"]}),(0,Pt.jsxs)("button",{type:"button",className:"px-3 py-1.5 rounded ".concat("pendientes"===v?"bg-sinapsis text-white":"bg-white border border-sinapsis text-sinapsis hover:bg-sinapsis/10"," transition"),onClick:function(){return b("pendientes")},children:["Pendientes (",c.filter((function(e){return"PENDIENTE"===e.estatus})).length,")"]}),(0,Pt.jsxs)("button",{type:"button",className:"px-3 py-1.5 rounded ".concat("aprobadas"===v?"bg-green-600 text-white":"bg-white border border-green-600 text-green-600 hover:bg-green-50"," transition"),onClick:function(){return b("aprobadas")},children:["Por Ejecutar (",c.filter((function(e){return"APROBADA"===e.estatus&&!e.ejecutada})).length,")"]}),(0,Pt.jsxs)("button",{type:"button",className:"px-3 py-1.5 rounded ".concat("finalizadas"===v?"bg-gray-600 text-white":"bg-white border border-gray-600 text-gray-600 hover:bg-gray-50"," transition"),onClick:function(){return b("finalizadas")},children:["Finalizadas (",c.filter((function(e){return e.ejecutada||"FINALIZADA"===e.estatus})).length,")"]}),(0,Pt.jsx)("button",{className:"px-3 py-1.5 rounded bg-sky-500 text-white hover:bg-sky-600 transition flex items-center gap-1",onClick:Xe,disabled:f,children:(0,Pt.jsx)("i",{className:"fa fa-sync"})})]}),(0,Pt.jsxs)("div",{className:"sm:hidden",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Pt.jsx)("button",{type:"button",className:"px-3 py-2 rounded text-sm font-medium ".concat("todas"===v?"bg-blue-600 text-white":"bg-white border border-blue-600 text-blue-600 hover:bg-blue-50"," transition"),onClick:function(){return b("todas")},children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"font-semibold",children:"Todas"}),(0,Pt.jsxs)("div",{className:"text-xs opacity-75",children:["(",c.length,")"]})]})}),(0,Pt.jsx)("button",{type:"button",className:"px-3 py-2 rounded text-sm font-medium ".concat("pendientes"===v?"bg-sinapsis text-white":"bg-white border border-sinapsis text-sinapsis hover:bg-sinapsis/10"," transition"),onClick:function(){return b("pendientes")},children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"font-semibold",children:"Pendientes"}),(0,Pt.jsxs)("div",{className:"text-xs opacity-75",children:["(",c.filter((function(e){return"PENDIENTE"===e.estatus})).length,")"]})]})}),(0,Pt.jsx)("button",{type:"button",className:"px-3 py-2 rounded text-sm font-medium ".concat("aprobadas"===v?"bg-green-600 text-white":"bg-white border border-green-600 text-green-600 hover:bg-green-50"," transition"),onClick:function(){return b("aprobadas")},children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"font-semibold",children:"Por Ejecutar"}),(0,Pt.jsxs)("div",{className:"text-xs opacity-75",children:["(",c.filter((function(e){return"APROBADA"===e.estatus&&!e.ejecutada})).length,")"]})]})}),(0,Pt.jsx)("button",{type:"button",className:"px-3 py-2 rounded text-sm font-medium ".concat("finalizadas"===v?"bg-gray-600 text-white":"bg-white border border-gray-600 text-gray-600 hover:bg-gray-50"," transition"),onClick:function(){return b("finalizadas")},children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"font-semibold",children:"Finalizadas"}),(0,Pt.jsxs)("div",{className:"text-xs opacity-75",children:["(",c.filter((function(e){return e.ejecutada||"FINALIZADA"===e.estatus})).length,")"]})]})})]}),(0,Pt.jsx)("div",{className:"mt-2",children:(0,Pt.jsxs)("button",{className:"w-full px-3 py-2 rounded bg-sky-500 text-white hover:bg-sky-600 transition flex items-center justify-center gap-2 text-sm font-medium",onClick:Xe,disabled:f,children:[(0,Pt.jsx)("i",{className:"fa fa-sync"}),(0,Pt.jsx)("span",{children:"Sincronizar con Central"})]})})]})]})})}),f&&(0,Pt.jsx)("div",{className:"text-center py-3",children:(0,Pt.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Pt.jsx)("span",{className:"visually-hidden",children:"Cargando..."})})}),!f&&0===tt.length&&(0,Pt.jsxs)("div",{className:"alert alert-info text-center",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle me-2"}),"No hay garantas en esta categora"]}),!f&&tt.length>0&&(0,Pt.jsx)("div",{className:"list-group",children:tt.map((function(e){return(0,Pt.jsx)("div",{className:"list-group-item list-group-item-action",children:(0,Pt.jsx)("div",{className:"d-flex w-100 justify-content-between align-items-start",children:(0,Pt.jsxs)("div",{className:"flex-grow-1",children:[(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,Pt.jsxs)("h6",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-shield-alt me-2 text-primary"}),"Garanta #",e.id,e.solicitud_central_id&&(0,Pt.jsxs)("small",{className:"text-muted ms-2",children:["(Central: #",e.solicitud_central_id,")"]}),e.id_pedido_insucursal&&(0,Pt.jsxs)("small",{className:"text-info ms-2",children:["(Pedido: #",e.id_pedido_insucursal,")"]})]}),(0,Pt.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,Pt.jsx)("span",{className:"badge ".concat(He(e.estatus)),children:e.estatus}),(0,Pt.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return t=e.id,(r=new Set(_)).has(t)?r.delete(t):r.add(t),void j(r);var t,r},children:(0,Pt.jsx)("i",{className:"fa fa-chevron-".concat(_.has(e.id)?"up":"down")})})]})]}),(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-md-4",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Productos:"}),(0,Pt.jsx)("div",{children:(r=C(e),r.productos&&r.productos.length>0?r.productos.length>1?"".concat(r.productos.length," productos"):(null===(t=r.productos[0].producto)||void 0===t?void 0:t.descripcion)||"N/A":"N/A")})]}),(0,Pt.jsxs)("div",{className:"col-md-4",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Caso de uso:"}),(0,Pt.jsx)("div",{children:S(e.caso_uso)})]}),(0,Pt.jsxs)("div",{className:"col-md-4",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Fecha:"}),(0,Pt.jsx)("div",{children:new Date(e.created_at).toLocaleDateString()})]})]}),_.has(e.id)&&(0,Pt.jsx)("div",{className:"mt-3 pt-3 border-top",children:function(t,r,n,a,o){var i,s=C(e),c=E(e.metodos_devolucion,[]);return(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsx)("h6",{children:"Detalles"}),(0,Pt.jsxs)("ul",{className:"list-unstyled small",children:[(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Motivo:"})," ",s.motivo||e.motivo_devolucion||"N/A"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Tipo:"})," ",e.tipo_solicitud]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Sucursal:"})," ",(null===(t=e.sucursal)||void 0===t?void 0:t.nombre)||"N/A"]}),e.id_pedido_insucursal&&(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Pedido ID:"})," #",e.id_pedido_insucursal]}),e.monto_devolucion_dinero&&(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Monto devolucin:"})," $",e.monto_devolucion_dinero]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Das desde compra:"})," ",s.dias_desdecompra||e.dias_transcurridos_compra||"N/A"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Trajo factura:"})," ",e.trajo_factura?"S":"No"]})]})]}),(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsx)("h6",{children:"Responsables"}),(0,Pt.jsxs)("ul",{className:"list-unstyled small",children:[(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Cliente:"})," ",O(e.cliente)," - ",(null===(r=e.cliente)||void 0===r?void 0:r.cedula)||"N/A"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Cajero:"})," ",O(e.cajero)," - ",(null===(n=e.cajero)||void 0===n?void 0:n.cedula)||"N/A"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Supervisor:"})," ",O(e.supervisor)," - ",(null===(a=e.supervisor)||void 0===a?void 0:a.cedula)||"N/A"]}),e.dici&&(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"DICI:"})," ",O(e.dici)," - ",(null===(o=e.dici)||void 0===o?void 0:o.cedula)||"N/A"]})]})]})]}),s.productos&&s.productos.length>0&&(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsxs)("h6",{className:"fw-bold text-dark mb-3 d-flex align-items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-box me-2 text-primary"}),"Productos (",s.productos.length,")"]}),(0,Pt.jsx)("div",{className:"d-none d-md-block",children:(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-hover table-bordered shadow-sm",children:[(0,Pt.jsx)("thead",{className:"table-light",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsxs)("th",{className:"fw-semibold text-uppercase small",children:[(0,Pt.jsx)("i",{className:"fa fa-tag me-1"}),"Descripcin"]}),(0,Pt.jsxs)("th",{className:"fw-semibold text-uppercase small text-center",children:[(0,Pt.jsx)("i",{className:"fa fa-heart me-1"}),"Estado"]}),(0,Pt.jsxs)("th",{className:"fw-semibold text-uppercase small text-center",children:[(0,Pt.jsx)("i",{className:"fa fa-exchange-alt me-1"}),"Tipo"]}),(0,Pt.jsxs)("th",{className:"fw-semibold text-uppercase small text-center",children:[(0,Pt.jsx)("i",{className:"fa fa-sort-numeric-up me-1"}),"Cantidad"]}),(0,Pt.jsxs)("th",{className:"fw-semibold text-uppercase small text-center",children:[(0,Pt.jsx)("i",{className:"fa fa-dollar-sign me-1"}),"Precio"]}),(0,Pt.jsxs)("th",{className:"fw-semibold text-uppercase small text-center",children:[(0,Pt.jsx)("i",{className:"fa fa-barcode me-1"}),"Cdigo"]})]})}),(0,Pt.jsx)("tbody",{children:s.productos.map((function(t,r){var n,a,o,i,s=E(e.productos_data,[]).find((function(e){return e.id_producto===t.id_producto&&e.estado===t.estado&&e.tipo})),c=(null==s?void 0:s.tipo)||"N/A";return(0,Pt.jsxs)("tr",{className:"align-middle",children:[(0,Pt.jsx)("td",{className:"fw-medium",style:{maxWidth:"250px"},children:(0,Pt.jsx)("div",{className:"text-truncate",title:(null===(n=t.producto)||void 0===n?void 0:n.descripcion)||"N/A",children:(null===(a=t.producto)||void 0===a?void 0:a.descripcion)||"N/A"})}),(0,Pt.jsx)("td",{className:"text-center",children:(0,Pt.jsxs)("span",{className:"badge rounded-pill ".concat("DAADO"===t.estado?"bg-danger":"bg-success"),children:[(0,Pt.jsx)("i",{className:"fa ".concat("DAADO"===t.estado?"fa-times":"fa-check"," me-1")}),t.estado||"BUENO"]})}),(0,Pt.jsx)("td",{className:"text-center",children:"N/A"!==c?(0,Pt.jsxs)("span",{className:"badge rounded-pill ".concat("entrada"===c?"bg-info":"bg-warning text-dark"),children:[(0,Pt.jsx)("i",{className:"fa ".concat("entrada"===c?"fa-arrow-down":"fa-arrow-up"," me-1")}),c.toUpperCase()]}):(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"N/A"})}),(0,Pt.jsx)("td",{className:"text-center",children:(0,Pt.jsx)("span",{className:"badge bg-primary fs-6",children:t.cantidad||1})}),(0,Pt.jsxs)("td",{className:"text-center fw-bold text-success",children:["$",(null===(o=t.producto)||void 0===o?void 0:o.precio)||0]}),(0,Pt.jsx)("td",{className:"text-center",children:(0,Pt.jsx)("code",{className:"small text-muted",children:(null===(i=t.producto)||void 0===i?void 0:i.codigo_barras)||"N/A"})})]},r)}))})]})})}),(0,Pt.jsx)("div",{className:"d-md-none",children:s.productos.map((function(t,r){var n,a,o,i,s=E(e.productos_data,[]).find((function(e){return e.id_producto===t.id_producto&&e.estado===t.estado&&e.tipo})),c=(null==s?void 0:s.tipo)||"N/A";return(0,Pt.jsxs)("div",{className:"card border border-primary mb-3 shadow-sm",children:[(0,Pt.jsx)("div",{className:"card-header bg-light py-2",children:(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Pt.jsxs)("small",{className:"text-muted fw-semibold",children:[(0,Pt.jsx)("i",{className:"fa fa-box me-1"}),"Producto #",r+1]}),(0,Pt.jsxs)("div",{className:"d-flex gap-1",children:[(0,Pt.jsxs)("span",{className:"badge rounded-pill ".concat("DAADO"===t.estado?"bg-danger":"bg-success"),children:[(0,Pt.jsx)("i",{className:"fa ".concat("DAADO"===t.estado?"fa-times":"fa-check"," me-1")}),t.estado||"BUENO"]}),"N/A"!==c&&(0,Pt.jsxs)("span",{className:"badge rounded-pill ".concat("entrada"===c?"bg-info":"bg-warning text-dark"),children:[(0,Pt.jsx)("i",{className:"fa ".concat("entrada"===c?"fa-arrow-down":"fa-arrow-up"," me-1")}),c.toUpperCase()]})]})]})}),(0,Pt.jsxs)("div",{className:"card-body p-3",children:[(0,Pt.jsxs)("h6",{className:"card-title text-primary mb-3",title:(null===(n=t.producto)||void 0===n?void 0:n.descripcion)||"N/A",children:[(0,Pt.jsx)("i",{className:"fa fa-tag me-2"}),(null===(a=t.producto)||void 0===a?void 0:a.descripcion)||"N/A"]}),(0,Pt.jsxs)("div",{className:"row g-2 mb-3",children:[(0,Pt.jsx)("div",{className:"col-6",children:(0,Pt.jsxs)("div",{className:"bg-light p-2 rounded text-center",children:[(0,Pt.jsxs)("div",{className:"text-muted small mb-1",children:[(0,Pt.jsx)("i",{className:"fa fa-sort-numeric-up me-1"}),"Cantidad"]}),(0,Pt.jsx)("div",{className:"fw-bold text-primary fs-5",children:t.cantidad||1})]})}),(0,Pt.jsx)("div",{className:"col-6",children:(0,Pt.jsxs)("div",{className:"bg-light p-2 rounded text-center",children:[(0,Pt.jsxs)("div",{className:"text-muted small mb-1",children:[(0,Pt.jsx)("i",{className:"fa fa-dollar-sign me-1"}),"Precio"]}),(0,Pt.jsxs)("div",{className:"fw-bold text-success fs-5",children:["$",(null===(o=t.producto)||void 0===o?void 0:o.precio)||0]})]})})]}),(0,Pt.jsx)("div",{className:"border-top pt-2",children:(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Pt.jsxs)("small",{className:"text-muted",children:[(0,Pt.jsx)("i",{className:"fa fa-barcode me-1"}),"Cdigo:"]}),(0,Pt.jsx)("code",{className:"small bg-light px-2 py-1 rounded",children:(null===(i=t.producto)||void 0===i?void 0:i.codigo_barras)||"N/A"})]})})]})]},r)}))})]}),c.length>0&&(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsx)("h6",{children:"Mtodos de Devolucin"}),(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm table-striped",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Tipo"}),(0,Pt.jsx)("th",{children:"Monto"}),(0,Pt.jsx)("th",{children:"Moneda"})]})}),(0,Pt.jsx)("tbody",{children:c.map((function(e,t){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:e.tipo||"N/A"}),(0,Pt.jsx)("td",{children:e.monto_original||0}),(0,Pt.jsx)("td",{children:e.moneda_original||"N/A"})]},t)}))})]})})]}),(i=function(e){E(e.metodos_devolucion,[]);var t=E(e.productos_data,[]),r=0;t.filter((function(e){return"entrada"===e.tipo})).forEach((function(t){var n,a,o=null===(n=e.productos_con_datos)||void 0===n?void 0:n.find((function(e){return e.id_producto===t.id_producto})),i=(null==o||null===(a=o.producto)||void 0===a?void 0:a.precio)||0;r+=i*(t.cantidad||1)}));var n=0;t.filter((function(e){return"salida"===e.tipo})).forEach((function(t){var r,a,o=null===(r=e.productos_con_datos)||void 0===r?void 0:r.find((function(e){return e.id_producto===t.id_producto})),i=(null==o||null===(a=o.producto)||void 0===a?void 0:a.precio)||0;n+=i*(t.cantidad||1)}));var a=n-r;return{valorEntrada:r,valorSalida:n,diferencia:a,aFavorCliente:a>0,aFavorEmpresa:a<0,sinDiferencia:0===a}}(e),(0,Pt.jsx)("div",{className:"mt-3",children:(0,Pt.jsx)("div",{className:"card border-0 shadow-sm ".concat(i.aFavorCliente?"border-start border-4 border-success":i.aFavorEmpresa?"border-start border-4 border-danger":"border-start border-4 border-info"),children:(0,Pt.jsxs)("div",{className:"card-body p-3",children:[(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h6",{className:"card-title mb-1",children:[(0,Pt.jsx)("i",{className:"fa ".concat(i.aFavorCliente?"fa-arrow-up text-success":i.aFavorEmpresa?"fa-arrow-down text-danger":"fa-equals text-info"," me-2")}),"Diferencia en Movimiento"]}),(0,Pt.jsx)("p",{className:"card-text small text-muted mb-0",children:i.aFavorCliente?"Cliente debe pagar diferencia":i.aFavorEmpresa?"Empresa debe devolver diferencia":"Sin diferencia - Intercambio equitativo"})]}),(0,Pt.jsxs)("div",{className:"text-end",children:[(0,Pt.jsxs)("div",{className:"h5 mb-0 ".concat(i.aFavorCliente?"text-success":i.aFavorEmpresa?"text-danger":"text-info"),children:["$",Math.abs(i.diferencia).toFixed(2)]}),(0,Pt.jsx)("small",{className:"text-muted",children:i.aFavorCliente?"A favor del cliente":i.aFavorEmpresa?"A favor de la empresa":"Sin diferencia"})]})]}),(0,Pt.jsxs)("div",{className:"row mt-2 pt-2 border-top",children:[(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted d-block",children:"Valor Entrada:"}),(0,Pt.jsxs)("span",{className:"fw-bold",children:["$",i.valorEntrada.toFixed(2)]})]}),(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsx)("small",{className:"text-muted d-block",children:"Valor Salida:"}),(0,Pt.jsxs)("span",{className:"fw-bold",children:["$",i.valorSalida.toFixed(2)]})]})]})]})})})),(s.detalles_adicionales||e.detalles_adicionales)&&(0,Pt.jsxs)("div",{className:"mt-2",children:[(0,Pt.jsx)("strong",{children:"Detalles adicionales:"}),(0,Pt.jsx)("div",{className:"text-muted small",children:s.detalles_adicionales||e.detalles_adicionales})]}),(0,Pt.jsxs)("div",{className:"mt-3 pt-2 border-top",children:["APROBADA"===e.estatus&&!e.ejecutada&&(0,Pt.jsxs)("button",{className:"btn btn-success btn-sm me-2",onClick:function(){return $e(e)},disabled:f,children:[(0,Pt.jsx)("i",{className:"fa fa-play me-1"}),"Ejecutar Garanta"]}),(e.ejecutada||"FINALIZADA"===e.estatus)&&(0,Pt.jsxs)("button",{className:"btn btn-warning btn-sm me-2",onClick:function(){return Je(e)},disabled:f,children:[(0,Pt.jsx)("i",{className:"fa fa-print me-1"}),"Imprimir Ticket"]}),e.solicitud_central_id&&(0,Pt.jsxs)("button",{className:"btn btn-info btn-sm me-2",onClick:function(){return window.open("/api/garantias/redirect-central-dashboard/".concat(e.solicitud_central_id),"_blank")},children:[(0,Pt.jsx)("i",{className:"fa fa-external-link-alt me-1"}),"Ver en Central"]}),(0,Pt.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:function(){return g(e)},children:[(0,Pt.jsx)("i",{className:"fa fa-eye me-1"}),"Ver Detalles"]})]})]})}()})]})})},e.id);var t,r}))})]}),"inventario"===N&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"row mb-4",children:[(0,Pt.jsx)("div",{className:"col-md-3",children:(0,Pt.jsxs)("select",{className:"form-select",value:V,onChange:function(e){return z(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todos los tipos"}),T.map((function(e){return(0,Pt.jsx)("option",{value:e.nombre,children:e.descripcion},e.id)}))]})}),(0,Pt.jsx)("div",{className:"col-md-3",children:(0,Pt.jsxs)("select",{className:"form-select",value:F,onChange:function(e){return U(e.target.value)},children:[(0,Pt.jsx)("option",{value:"codigo_barras",children:"Cdigo de Barras"}),(0,Pt.jsx)("option",{value:"descripcion",children:"Descripcin"}),(0,Pt.jsx)("option",{value:"codigo_proveedor",children:"Cdigo Proveedor"})]})}),(0,Pt.jsx)("div",{className:"col-md-4",children:(0,Pt.jsx)("input",{type:"text",className:"form-control",placeholder:"Buscar producto...",value:R,onChange:function(e){return B(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&Ke()}})}),(0,Pt.jsx)("div",{className:"col-md-2",children:(0,Pt.jsxs)("button",{className:"btn btn-primary w-100",onClick:Ke,disabled:f,children:[(0,Pt.jsx)("i",{className:"fa fa-search me-1"}),"Buscar"]})})]}),f&&(0,Pt.jsx)("div",{className:"text-center py-3",children:(0,Pt.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,Pt.jsx)("span",{className:"visually-hidden",children:"Cargando..."})})}),!f&&0===P.length&&(0,Pt.jsxs)("div",{className:"alert alert-info text-center",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle me-2"}),"No se encontraron productos en inventario de garantas"]}),!f&&P.length>0&&(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-striped",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Cdigo"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{children:"Tipo"}),(0,Pt.jsx)("th",{children:"Disponible"}),(0,Pt.jsx)("th",{children:"Reservado"}),(0,Pt.jsx)("th",{children:"Recuperado"}),(0,Pt.jsx)("th",{children:"Acciones"})]})}),(0,Pt.jsx)("tbody",{children:P.map((function(e){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:e.codigo_barras}),(0,Pt.jsx)("td",{children:e.descripcion}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("span",{className:"badge ".concat("disponible"===e.tipo_inventario?"bg-success":"reservado"===e.tipo_inventario?"bg-warning":"bg-info"),children:e.tipo_inventario})}),(0,Pt.jsx)("td",{className:"text-center",children:(0,Pt.jsx)("span",{className:"badge bg-success",children:e.cantidad_disponible||0})}),(0,Pt.jsx)("td",{className:"text-center",children:(0,Pt.jsx)("span",{className:"badge bg-warning",children:e.cantidad_reservada||0})}),(0,Pt.jsx)("td",{className:"text-center",children:(0,Pt.jsx)("span",{className:"badge bg-info",children:e.cantidad_recuperada||0})}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("div",{className:"btn-group",role:"group",children:[(0,Pt.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:function(){Y(e),Z(!0)},children:[(0,Pt.jsx)("i",{className:"fa fa-exchange-alt me-1"}),"Transferir"]}),(0,Pt.jsxs)("button",{className:"btn btn-sm btn-outline-success",onClick:function(){Y(e),te(!0)},children:[(0,Pt.jsx)("i",{className:"fa fa-store me-1"}),"A Venta"]})]})})]},e.id)}))})]})})]}),Q&&(0,Pt.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Pt.jsx)("div",{className:"modal-dialog",children:(0,Pt.jsxs)("div",{className:"modal-content",children:[(0,Pt.jsxs)("div",{className:"modal-header",children:[(0,Pt.jsx)("h5",{className:"modal-title",children:"Transferir Producto"}),(0,Pt.jsx)("button",{type:"button",className:"btn-close",onClick:function(){return Z(!1)}})]}),(0,Pt.jsxs)("div",{className:"modal-body",children:[(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Producto:"}),(0,Pt.jsx)("p",{className:"form-control-plaintext",children:null==$?void 0:$.descripcion})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Sucursal Destino:"}),(0,Pt.jsxs)("select",{className:"form-select",value:Ne.sucursal_destino,onChange:function(e){return Ee(XN(XN({},Ne),{},{sucursal_destino:e.target.value}))},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccionar sucursal"}),G.map((function(e){return(0,Pt.jsx)("option",{value:e.codigo,children:e.nombre},e.id)}))]})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Cantidad:"}),(0,Pt.jsx)("input",{type:"number",className:"form-control",value:Ne.cantidad,onChange:function(e){return Ee(XN(XN({},Ne),{},{cantidad:parseInt(e.target.value)}))},min:"1"})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Motivo:"}),(0,Pt.jsx)("textarea",{className:"form-control",value:Ne.motivo,onChange:function(e){return Ee(XN(XN({},Ne),{},{motivo:e.target.value}))},rows:"3"})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Solicitado por:"}),(0,Pt.jsx)("input",{type:"text",className:"form-control",value:Ne.solicitado_por,onChange:function(e){return Ee(XN(XN({},Ne),{},{solicitado_por:e.target.value}))}})]})]}),(0,Pt.jsxs)("div",{className:"modal-footer",children:[(0,Pt.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return Z(!1)},children:"Cancelar"}),(0,Pt.jsx)("button",{type:"button",className:"btn btn-primary",onClick:Ge,disabled:f,children:"Transferir"})]})]})})}),ee&&(0,Pt.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Pt.jsx)("div",{className:"modal-dialog",children:(0,Pt.jsxs)("div",{className:"modal-content",children:[(0,Pt.jsxs)("div",{className:"modal-header",children:[(0,Pt.jsx)("h5",{className:"modal-title",children:"Transferir a Venta Normal"}),(0,Pt.jsx)("button",{type:"button",className:"btn-close",onClick:function(){return te(!1)}})]}),(0,Pt.jsxs)("div",{className:"modal-body",children:[(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Producto:"}),(0,Pt.jsx)("p",{className:"form-control-plaintext",children:null==$?void 0:$.descripcion})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Sucursal Destino:"}),(0,Pt.jsxs)("select",{className:"form-select",value:Ne.sucursal_destino,onChange:function(e){return Ee(XN(XN({},Ne),{},{sucursal_destino:e.target.value}))},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccionar sucursal"}),G.map((function(e){return(0,Pt.jsx)("option",{value:e.codigo,children:e.nombre},e.id)}))]})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Cantidad:"}),(0,Pt.jsx)("input",{type:"number",className:"form-control",value:Ne.cantidad,onChange:function(e){return Ee(XN(XN({},Ne),{},{cantidad:parseInt(e.target.value)}))},min:"1"})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Autorizado por:"}),(0,Pt.jsx)("input",{type:"text",className:"form-control",value:Ne.solicitado_por,onChange:function(e){return Ee(XN(XN({},Ne),{},{solicitado_por:e.target.value}))}})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("label",{className:"form-label",children:"Observaciones:"}),(0,Pt.jsx)("textarea",{className:"form-control",value:Ne.motivo,onChange:function(e){return Ee(XN(XN({},Ne),{},{motivo:e.target.value}))},rows:"3"})]})]}),(0,Pt.jsxs)("div",{className:"modal-footer",children:[(0,Pt.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return te(!1)},children:"Cancelar"}),(0,Pt.jsx)("button",{type:"button",className:"btn btn-success",onClick:qe,disabled:f,children:"Transferir a Venta"})]})]})})}),m&&(0,Pt.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Pt.jsx)("div",{className:"modal-dialog modal-fullscreen-lg-down",style:{maxWidth:"95%"},children:(0,Pt.jsxs)("div",{className:"modal-content",children:[(0,Pt.jsxs)("div",{className:"modal-header",children:[(0,Pt.jsxs)("h5",{className:"modal-title",children:["Detalles de Solicitud #",m.id]}),(0,Pt.jsx)("button",{type:"button",className:"btn-close",onClick:function(){return g(null)}})]}),(0,Pt.jsx)("div",{className:"modal-body",children:(Fe=C(m),Ue=E(m.metodos_devolucion,[]),(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-md-8",children:[(0,Pt.jsx)("h6",{children:"Informacin General"}),(0,Pt.jsx)("table",{className:"table table-sm",children:(0,Pt.jsxs)("tbody",{children:[(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:"Estado:"})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("span",{className:"badge ".concat(He(m.estatus)),children:m.estatus})})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:"Caso de uso:"})}),(0,Pt.jsx)("td",{children:S(m.caso_uso)})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:"Tipo:"})}),(0,Pt.jsx)("td",{children:m.tipo_solicitud})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:"Sucursal:"})}),(0,Pt.jsxs)("td",{children:[(null===(Ce=m.sucursal)||void 0===Ce?void 0:Ce.nombre)||"N/A"," (",(null===(Se=m.sucursal)||void 0===Se?void 0:Se.codigo)||"N/A",")"]})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:"Fecha creacin:"})}),(0,Pt.jsx)("td",{children:new Date(m.created_at).toLocaleString()})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:"Motivo:"})}),(0,Pt.jsx)("td",{children:Fe.motivo||m.motivo_devolucion||"N/A"})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:"Das desde compra:"})}),(0,Pt.jsx)("td",{children:Fe.dias_desdecompra||m.dias_transcurridos_compra||"N/A"})]}),(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:"Trajo factura:"})}),(0,Pt.jsx)("td",{children:m.trajo_factura?"S":"No"})]}),m.monto_devolucion_dinero&&(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:"Monto devolucin:"})}),(0,Pt.jsxs)("td",{children:["$",m.monto_devolucion_dinero]})]})]})}),(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsx)("h6",{children:"Responsables"}),(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Cliente:"})," ",O(m.cliente)," - ",(null===(Oe=m.cliente)||void 0===Oe?void 0:Oe.cedula)||"N/A"]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Cajero:"})," ",O(m.cajero)," - ",(null===(Ae=m.cajero)||void 0===Ae?void 0:Ae.cedula)||"N/A"]})]}),(0,Pt.jsxs)("div",{className:"col-6",children:[(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Supervisor:"})," ",O(m.supervisor)," - ",(null===(Pe=m.supervisor)||void 0===Pe?void 0:Pe.cedula)||"N/A"]}),m.dici&&(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"DICI:"})," ",O(m.dici)," - ",(null===(De=m.dici)||void 0===De?void 0:De.cedula)||"N/A"]})]})]})]}),Fe.productos&&Fe.productos.length>0&&(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsx)("h6",{children:"Productos"}),(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm table-striped",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Cdigo"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{children:"Estado"}),(0,Pt.jsx)("th",{children:"Tipo"}),(0,Pt.jsx)("th",{children:"Cantidad"}),(0,Pt.jsx)("th",{children:"Precio"}),(0,Pt.jsx)("th",{children:"Total"})]})}),(0,Pt.jsx)("tbody",{children:Fe.productos.map((function(e,t){var r,n,a,o,i,s=(null===(r=e.producto)||void 0===r?void 0:r.precio)||0,c=e.cantidad||1,l=s*c,u=E(m.productos_data,[]).find((function(t){return t.id_producto===e.id_producto})),d=(null==u?void 0:u.tipo)||"N/A";return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("span",{className:"badge bg-light text-dark",children:(null===(n=e.producto)||void 0===n?void 0:n.codigo_barras)||(null===(a=e.producto)||void 0===a?void 0:a.codigo_proveedor)||(null===(o=e.producto)||void 0===o?void 0:o.id)||"N/A"})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("strong",{children:(null===(i=e.producto)||void 0===i?void 0:i.descripcion)||"N/A"})}),(0,Pt.jsx)("td",{children:e.estado?(0,Pt.jsx)("span",{className:"badge ".concat("MALO"===e.estado||"DAADO"===e.estado?"bg-danger":"bg-success"),children:"MALO"===e.estado?"DAADO":e.estado}):(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"N/A"})}),(0,Pt.jsx)("td",{children:"N/A"!==d?(0,Pt.jsx)("span",{className:"badge ".concat("entrada"===d?"bg-success":"bg-danger"),children:d.toUpperCase()}):(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"N/A"})}),(0,Pt.jsx)("td",{children:(0,Pt.jsx)("span",{className:"badge bg-primary",children:c})}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("span",{className:"text-primary fw-bold",children:["$",s.toFixed(2)]})}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("strong",{className:"text-success",children:["$",l.toFixed(2)]})})]},t)}))})]})})]}),m.garantia_data&&(m.garantia_data.entradas||m.garantia_data.salidas)&&(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsxs)("h6",{children:[(0,Pt.jsx)("i",{className:"fa fa-shopping-cart me-2"}),"Carrito de ",m.tipo_solicitud," (Sistema Nuevo)",m.caso_uso&&(0,Pt.jsx)("span",{className:"badge bg-info ms-2",children:S(m.caso_uso)})]}),(0,Pt.jsxs)("div",{className:"row",children:[m.garantia_data.entradas&&m.garantia_data.entradas.length>0&&(0,Pt.jsx)("div",{className:"col-md-6",children:(0,Pt.jsxs)("div",{className:"card border-warning",children:[(0,Pt.jsxs)("div",{className:"card-header bg-warning text-dark",children:[(0,Pt.jsxs)("h6",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-arrow-down me-2"}),"Entradas (",m.garantia_data.entradas.length,")"]}),(0,Pt.jsx)("small",{children:"Lo que recibe la tienda"})]}),(0,Pt.jsx)("div",{className:"card-body p-2",children:(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm mb-0",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Tipo"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{children:"Estado"}),(0,Pt.jsx)("th",{children:"Movimiento"}),(0,Pt.jsx)("th",{children:"Cantidad/Monto"}),(0,Pt.jsx)("th",{children:"Valor"})]})}),(0,Pt.jsx)("tbody",{children:m.garantia_data.entradas.map((function(e,t){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("span",{className:"badge ".concat("PRODUCTO"===e.tipo?"bg-warning":"bg-success"),children:"PRODUCTO"===e.tipo?"PRODUCTO":"DINERO"})}),(0,Pt.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,Pt.jsx)("strong",{children:e.descripcion||"Producto #".concat(e.producto_id)}):(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"Pago Cliente"}),(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{className:"badge bg-info badge-sm",children:e.metodo||"EFECTIVO"})})]})}),(0,Pt.jsx)("td",{children:"PRODUCTO"===e.tipo?e.estado?(0,Pt.jsx)("span",{className:"badge ".concat("MALO"===e.estado||"DAADO"===e.estado?"bg-danger":"bg-success"),children:"MALO"===e.estado||"DAADO"===e.estado?"DAADO":"BUENO"}):(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"N/A"}):(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"-"})}),(0,Pt.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,Pt.jsx)("span",{className:"badge bg-success",children:" ENTRADA"}):(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"-"})}),(0,Pt.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,Pt.jsx)("span",{className:"badge bg-primary",children:e.cantidad}):(0,Pt.jsxs)("span",{className:"text-success fw-bold",children:["$",e.monto_usd]})}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("strong",{className:"text-warning",children:["$","PRODUCTO"===e.tipo?((e.cantidad||0)*(e.precio_unitario||0)).toFixed(2):(e.monto_usd||0).toFixed(2)]})})]},t)}))})]})})})]})}),m.garantia_data.salidas&&m.garantia_data.salidas.length>0&&(0,Pt.jsx)("div",{className:"col-md-6",children:(0,Pt.jsxs)("div",{className:"card border-success",children:[(0,Pt.jsxs)("div",{className:"card-header bg-success text-white",children:[(0,Pt.jsxs)("h6",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-arrow-up me-2"}),"Salidas (",m.garantia_data.salidas.length,")"]}),(0,Pt.jsx)("small",{children:"Lo que entrega la tienda"})]}),(0,Pt.jsx)("div",{className:"card-body p-2",children:(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm mb-0",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Tipo"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{children:"Estado"}),(0,Pt.jsx)("th",{children:"Movimiento"}),(0,Pt.jsx)("th",{children:"Cantidad/Monto"}),(0,Pt.jsx)("th",{children:"Valor"})]})}),(0,Pt.jsx)("tbody",{children:m.garantia_data.salidas.map((function(e,t){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("span",{className:"badge ".concat("PRODUCTO"===e.tipo?"bg-primary":"bg-danger"),children:"PRODUCTO"===e.tipo?"PRODUCTO":"DINERO"})}),(0,Pt.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,Pt.jsx)("strong",{children:e.descripcion||"Producto #".concat(e.producto_id)}):(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("strong",{children:"Devolucin"}),(0,Pt.jsx)("div",{children:(0,Pt.jsx)("span",{className:"badge bg-info badge-sm",children:e.metodo||"EFECTIVO"})})]})}),(0,Pt.jsx)("td",{children:"PRODUCTO"===e.tipo?e.estado?(0,Pt.jsx)("span",{className:"badge bg-success",children:e.estado}):(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"N/A"}):(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"-"})}),(0,Pt.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,Pt.jsx)("span",{className:"badge bg-danger",children:" SALIDA"}):(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"-"})}),(0,Pt.jsx)("td",{children:"PRODUCTO"===e.tipo?(0,Pt.jsx)("span",{className:"badge bg-primary",children:e.cantidad}):(0,Pt.jsxs)("span",{className:"text-danger fw-bold",children:["$",e.monto_usd]})}),(0,Pt.jsx)("td",{children:(0,Pt.jsxs)("strong",{className:"text-success",children:["$","PRODUCTO"===e.tipo?((e.cantidad||0)*(e.precio_unitario||0)).toFixed(2):(e.monto_usd||0).toFixed(2)]})})]},t)}))})]})})})]})})]}),m.garantia_data&&(m.garantia_data.entradas||m.garantia_data.salidas)&&(0,Pt.jsx)("div",{className:"mt-3",children:(0,Pt.jsxs)("div",{className:"card bg-light",children:[(0,Pt.jsx)("div",{className:"card-header",children:(0,Pt.jsxs)("h6",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-calculator me-2"}),"Resumen del Carrito"]})}),(0,Pt.jsx)("div",{className:"card-body",children:(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-md-4",children:[(0,Pt.jsx)("strong",{children:"Total Entradas:"}),(0,Pt.jsxs)("div",{className:"text-warning fs-5",children:["$",(m.garantia_data.entradas||[]).reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0).toFixed(2)]})]}),(0,Pt.jsxs)("div",{className:"col-md-4",children:[(0,Pt.jsx)("strong",{children:"Total Salidas:"}),(0,Pt.jsxs)("div",{className:"text-success fs-5",children:["$",(m.garantia_data.salidas||[]).reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0).toFixed(2)]})]}),(0,Pt.jsxs)("div",{className:"col-md-4",children:[(0,Pt.jsx)("strong",{children:"Balance:"}),(0,Pt.jsxs)("div",{className:"fs-5 ".concat((Re=m.garantia_data.entradas||[],Be=m.garantia_data.salidas||[],Le=Re.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0)-Be.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0),Math.abs(Le)<.01?"text-muted":Le>0?"text-primary":"text-danger")),children:["$",function(){var e=m.garantia_data.entradas||[],t=m.garantia_data.salidas||[];return(e.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0)-t.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0)).toFixed(2)}()]}),(0,Pt.jsx)("small",{className:"text-muted",children:function(){var e=m.garantia_data.entradas||[],t=m.garantia_data.salidas||[],r=e.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0)-t.reduce((function(e,t){return e+("PRODUCTO"===t.tipo?(t.cantidad||0)*(t.precio_unitario||0):t.monto_usd||0)}),0);return Math.abs(r)<.01?"Equilibrado":r>0?"A favor del cliente":"A favor de la empresa"}()})]})]})})]})})]}),Ue.length>0&&(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsx)("h6",{children:"Mtodos de Devolucin"}),(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-sm table-striped",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"Tipo"}),(0,Pt.jsx)("th",{children:"Monto"}),(0,Pt.jsx)("th",{children:"Moneda"})]})}),(0,Pt.jsx)("tbody",{children:Ue.map((function(e,t){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:e.tipo||"N/A"}),(0,Pt.jsx)("td",{children:e.monto_original||0}),(0,Pt.jsx)("td",{children:e.moneda_original||"N/A"})]},t)}))})]})})]}),(Fe.detalles_adicionales||m.detalles_adicionales)&&(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsx)("h6",{children:"Detalles Adicionales"}),(0,Pt.jsx)("div",{className:"alert alert-info",children:Fe.detalles_adicionales||m.detalles_adicionales})]}),Object.keys(Fe).length>0&&(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsxs)("h6",{children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle me-2"}),"Informacin de Garanta"]}),(0,Pt.jsxs)("div",{className:"row",children:[void 0!==Fe.dias_desdecompra&&(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsx)("strong",{children:"Das desde compra:"}),(0,Pt.jsxs)("span",{className:"badge bg-primary ms-2",children:[Fe.dias_desdecompra," das"]})]}),void 0!==Fe.cantidad_salida&&(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsx)("strong",{children:"Cantidad salida:"}),(0,Pt.jsx)("span",{className:"badge bg-info ms-2",children:Fe.cantidad_salida})]}),Fe.motivo_salida&&(0,Pt.jsxs)("div",{className:"col-md-12 mt-2",children:[(0,Pt.jsx)("strong",{children:"Motivo salida:"}),(0,Pt.jsx)("div",{className:"alert alert-secondary mt-1 mb-0 py-2",children:Fe.motivo_salida})]})]})]}),(void 0!==m.puede_ejecutarse||m.inventario_afectado)&&(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsxs)("h6",{children:[(0,Pt.jsx)("i",{className:"fa fa-cogs me-2"}),"Estado de Ejecucin"]}),(0,Pt.jsxs)("div",{className:"row",children:[void 0!==m.puede_ejecutarse&&(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsx)("strong",{children:"Puede Ejecutarse:"}),(0,Pt.jsx)("span",{className:"badge ms-2 ".concat(m.puede_ejecutarse?"bg-success":"bg-danger"),children:m.puede_ejecutarse?"S":"No"})]}),m.inventario_afectado&&(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsx)("strong",{children:"Inventario Afectado:"}),(0,Pt.jsx)("span",{className:"badge bg-warning ms-2",children:"S"})]}),m.fecha_ejecucion&&(0,Pt.jsxs)("div",{className:"col-md-12 mt-2",children:[(0,Pt.jsx)("strong",{children:"Fecha de Ejecucin:"}),(0,Pt.jsx)("span",{className:"text-success ms-2",children:new Date(m.fecha_ejecucion).toLocaleString()})]})]})]})]}),(0,Pt.jsxs)("div",{className:"col-md-4",children:[(0,Pt.jsxs)("h6",{children:[(0,Pt.jsx)("i",{className:"fa fa-images me-2"}),"Galera de Fotos"]}),m.foto_factura_url&&(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsxs)("h6",{className:"text-info",children:[(0,Pt.jsx)("i",{className:"fa fa-receipt me-2"}),"Foto de Factura"]}),(0,Pt.jsxs)("div",{className:"card",children:[(0,Pt.jsxs)("div",{className:"position-relative",children:[(0,Pt.jsx)("img",{src:"/api/garantias/proxy-central-storage?path=".concat(encodeURIComponent(m.foto_factura_url||"")),alt:"Foto de Factura",className:"card-img-top",style:{height:"200px",objectFit:"cover",cursor:"pointer"},onClick:function(){return window.open("/api/garantias/proxy-central-storage?path=".concat(encodeURIComponent(m.foto_factura_url||"")),"_blank")},onError:function(e){e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),(0,Pt.jsx)("div",{className:"d-none position-absolute top-0 start-0 w-100 h-100 bg-light d-flex align-items-center justify-content-center",style:{height:"200px"},children:(0,Pt.jsxs)("div",{className:"text-center text-muted",children:[(0,Pt.jsx)("i",{className:"fa fa-receipt fa-3x mb-2"}),(0,Pt.jsx)("p",{children:"Factura no disponible"}),(0,Pt.jsx)("small",{children:m.foto_factura_url})]})}),(0,Pt.jsx)("div",{className:"position-absolute top-0 end-0 m-2",children:(0,Pt.jsx)("span",{className:"badge bg-info",children:"Factura"})})]}),(0,Pt.jsx)("div",{className:"card-body p-2",children:(0,Pt.jsxs)("small",{className:"text-muted",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle me-1"}),"Factura #",m.factura_venta_id||"N/A"]})})]})]}),m.fotos&&m.fotos.length>0&&(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsxs)("h6",{className:"text-success",children:[(0,Pt.jsx)("i",{className:"fa fa-camera me-2"}),"Fotos de Productos (",m.fotos.length,")"]}),(0,Pt.jsx)("div",{className:"row",children:m.fotos.map((function(e,t){var r=e.url_completa||e.foto_url_completa||"/api/garantias/proxy-central-storage?path=".concat(encodeURIComponent(e.foto_url||""));return(0,Pt.jsx)("div",{className:"col-12 mb-3",children:(0,Pt.jsxs)("div",{className:"card",children:[(0,Pt.jsxs)("div",{className:"position-relative",children:[(0,Pt.jsx)("img",{src:r,alt:"Foto Producto ".concat(t+1),className:"card-img-top",style:{height:"200px",objectFit:"cover",cursor:"pointer"},onClick:function(){return window.open(r,"_blank")},onError:function(e){console.error("Error cargando foto de producto:",r),e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}),(0,Pt.jsx)("div",{className:"d-none position-absolute top-0 start-0 w-100 h-100 bg-light d-flex align-items-center justify-content-center",style:{height:"200px"},children:(0,Pt.jsxs)("div",{className:"text-center text-muted",children:[(0,Pt.jsx)("i",{className:"fa fa-image fa-3x mb-2"}),(0,Pt.jsx)("p",{children:"Imagen no disponible"}),(0,Pt.jsx)("small",{children:e.foto_url})]})}),(0,Pt.jsx)("div",{className:"position-absolute top-0 end-0 m-2",children:(0,Pt.jsxs)("span",{className:"badge bg-primary",children:["#",t+1]})})]}),e.descripcion&&(0,Pt.jsx)("div",{className:"card-body p-2",children:(0,Pt.jsxs)("small",{className:"text-muted",children:[(0,Pt.jsx)("i",{className:"fa fa-comment me-1"}),e.descripcion]})})]})},t)}))})]}),!m.foto_factura_url&&(!m.fotos||0===m.fotos.length)&&(0,Pt.jsx)("div",{className:"alert alert-info text-center",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("i",{className:"fa fa-camera fa-2x mb-2 text-muted"}),(0,Pt.jsx)("p",{className:"mb-1",children:"No hay fotos disponibles"}),(0,Pt.jsx)("small",{className:"text-muted",children:"Esta solicitud no incluye fotos de productos ni factura"})]})}),(m.foto_factura_url||m.fotos&&m.fotos.length>0)&&(0,Pt.jsx)("div",{className:"mt-3",children:(0,Pt.jsx)("div",{className:"alert alert-success text-center py-2",children:(0,Pt.jsxs)("small",{className:"text-success",children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle me-1"}),(Ie=m.foto_factura_url?1:0,Te=m.fotos?m.fotos.length:0,Me=Ie+Te,ke="".concat(Me," foto").concat(1!==Me?"s":""," disponible").concat(1!==Me?"s":""),Ie&&Te>0?ke+=" (1 factura + ".concat(Te," producto").concat(1!==Te?"s":"",")"):Ie?ke+=" (factura)":Te>0&&(ke+=" (producto".concat(1!==Te?"s":"",")")),ke)]})})})]})]}))}),(0,Pt.jsx)("div",{className:"modal-footer",children:(0,Pt.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return g(null)},children:"Cerrar"})})]})})}),le&&(0,Pt.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Pt.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-sm modal-md-lg modal-lg-xl modal-xl",children:(0,Pt.jsxs)("div",{className:"modal-content",children:[(0,Pt.jsxs)("div",{className:"modal-header bg-success text-white p-2 p-md-3",children:[(0,Pt.jsx)("div",{className:"flex-grow-1",children:(0,Pt.jsxs)("h5",{className:"modal-title mb-0 fs-6 fs-md-5 fw-bold",children:[(0,Pt.jsx)("i",{className:"fa fa-play me-1 me-md-2"}),(0,Pt.jsx)("span",{className:"d-none d-md-inline",children:"Seleccionar Caja para Ejecutar Garanta"}),(0,Pt.jsx)("span",{className:"d-inline d-md-none",children:"Ejecutar Garanta"})]})}),(0,Pt.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:function(){ue(!1),he(null)}})]}),(0,Pt.jsxs)("div",{className:"modal-body p-2 p-sm-3 p-md-4",children:[fe&&(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsxs)("h6",{className:"fs-6 fs-md-5 fw-bold text-dark mb-2 mb-md-3 d-flex align-items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle me-1 me-md-2 text-success"}),(0,Pt.jsx)("span",{className:"d-none d-sm-inline",children:"Detalles de la Solicitud"}),(0,Pt.jsx)("span",{className:"d-inline d-sm-none",children:"Detalles"})]}),(0,Pt.jsx)("div",{className:"card shadow-sm border-0",children:(0,Pt.jsxs)("div",{className:"card-body p-2 p-sm-3 p-md-4",children:[(0,Pt.jsxs)("div",{className:"d-block d-md-none",children:[(0,Pt.jsxs)("div",{className:"text-center p-2 p-sm-3 bg-light rounded mb-3",children:[(0,Pt.jsxs)("div",{className:"h5 mb-1 text-success",children:["#",fe.id]}),(0,Pt.jsx)("small",{className:"text-muted",children:"Solicitud de Garanta"})]}),(0,Pt.jsxs)("div",{className:"row g-2",children:[(0,Pt.jsx)("div",{className:"col-12",children:(0,Pt.jsxs)("div",{className:"bg-light p-2 rounded",children:[(0,Pt.jsx)("small",{className:"text-muted d-block fw-bold",children:"Cliente"}),(0,Pt.jsxs)("div",{className:"fw-semibold text-truncate",title:"{selectedGarantiaForExecute.cliente?.nombre} {selectedGarantiaForExecute.cliente?.apellido}",children:[null===(t=fe.cliente)||void 0===t?void 0:t.nombre," ",null===(r=fe.cliente)||void 0===r?void 0:r.apellido]})]})}),(0,Pt.jsx)("div",{className:"col-12 col-sm-6",children:(0,Pt.jsxs)("div",{className:"bg-light p-2 rounded",children:[(0,Pt.jsx)("small",{className:"text-muted d-block fw-bold",children:"Estatus"}),(0,Pt.jsx)("span",{className:"badge ".concat(He(fe.estatus)),children:fe.estatus})]})}),(0,Pt.jsx)("div",{className:"col-12 col-sm-6",children:(0,Pt.jsxs)("div",{className:"bg-light p-2 rounded",children:[(0,Pt.jsx)("small",{className:"text-muted d-block fw-bold",children:"Caso de Uso"}),(0,Pt.jsx)("small",{className:"fw-semibold text-truncate d-block",title:"{getCasoUsoDescription(selectedGarantiaForExecute.caso_uso)}",children:S(fe.caso_uso)})]})})]})]}),(0,Pt.jsx)("div",{className:"d-none d-md-block",children:(0,Pt.jsxs)("div",{className:"row g-2 g-lg-3",children:[(0,Pt.jsxs)("div",{className:"col-lg-6",children:[(0,Pt.jsxs)("div",{className:"mb-2 mb-lg-3",children:[(0,Pt.jsx)("strong",{className:"text-primary",children:"Solicitud #:"}),(0,Pt.jsxs)("span",{className:"text-success ms-1 fw-bold",children:["#",fe.id]})]}),(0,Pt.jsxs)("div",{className:"mb-2 mb-lg-3",children:[(0,Pt.jsx)("strong",{className:"text-primary",children:"Cliente:"}),(0,Pt.jsxs)("span",{className:"ms-1 text-truncate d-inline-block",style:{maxWidth:"200px"},title:"{selectedGarantiaForExecute.cliente?.nombre} {selectedGarantiaForExecute.cliente?.apellido}",children:[null===(n=fe.cliente)||void 0===n?void 0:n.nombre," ",null===(a=fe.cliente)||void 0===a?void 0:a.apellido]})]})]}),(0,Pt.jsxs)("div",{className:"col-lg-6",children:[(0,Pt.jsxs)("div",{className:"mb-2 mb-lg-3",children:[(0,Pt.jsx)("strong",{className:"text-primary",children:"Estatus:"}),(0,Pt.jsx)("span",{className:"badge ms-2 ".concat(He(fe.estatus)),children:fe.estatus})]}),(0,Pt.jsxs)("div",{className:"mb-2 mb-lg-3",children:[(0,Pt.jsx)("strong",{className:"text-primary",children:"Caso de uso:"}),(0,Pt.jsx)("span",{className:"ms-1 text-truncate d-inline-block",style:{maxWidth:"200px"},title:"{getCasoUsoDescription(selectedGarantiaForExecute.caso_uso)}",children:S(fe.caso_uso)})]})]})]})})]})})]}),(0,Pt.jsxs)("div",{className:"mb-3 mb-md-4",children:[(0,Pt.jsxs)("label",{htmlFor:"cajaExecuteSelect",className:"form-label fw-bold text-dark d-flex align-items-center flex-wrap",children:[(0,Pt.jsx)("i",{className:"fa fa-user me-1 me-md-2 text-primary"}),(0,Pt.jsx)("span",{className:"d-none d-md-inline",children:"Seleccione el Usuario de Caja:"}),(0,Pt.jsx)("span",{className:"d-inline d-md-none",children:"Usuario de Caja:"})]}),(0,Pt.jsx)("select",{id:"cajaExecuteSelect",className:"form-select form-select-lg shadow-sm",value:_e,onChange:function(e){return je(parseInt(e.target.value))},children:ve.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre},e.id)}))}),0===ve.length&&(0,Pt.jsxs)("div",{className:"alert alert-warning mt-2 mt-md-3 d-flex align-items-start flex-column flex-sm-row",children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-triangle me-0 me-sm-2 mb-1 mb-sm-0"}),(0,Pt.jsx)("span",{className:"small text-center text-sm-start",children:"No hay usuarios de caja disponibles en el sistema"})]})]}),(0,Pt.jsx)("div",{className:"alert alert-info border-0 shadow-sm",children:(0,Pt.jsxs)("div",{className:"d-flex align-items-start",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle me-2 mt-1 text-info flex-shrink-0"}),(0,Pt.jsxs)("div",{className:"flex-grow-1",children:[(0,Pt.jsx)("strong",{className:"d-block d-md-inline",children:"Nota Importante:"}),(0,Pt.jsx)("span",{className:"small d-block d-md-inline",children:" Este usuario de caja ser utilizado para facturar los pedidos generados por la ejecucin de la garanta."})]})]})})]}),(0,Pt.jsxs)("div",{className:"modal-footer bg-light p-2 p-sm-3",children:[(0,Pt.jsx)("div",{className:"d-block d-md-none w-100",children:(0,Pt.jsxs)("div",{className:"d-grid gap-2",children:[(0,Pt.jsx)("button",{type:"button",className:"btn btn-success btn-lg py-3 shadow-sm",onClick:Ye,disabled:f||0===ve.length,children:f?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),(0,Pt.jsx)("span",{className:"d-none d-sm-inline",children:"Ejecutando Garanta..."}),(0,Pt.jsx)("span",{className:"d-inline d-sm-none",children:"Ejecutando..."})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-play me-2"}),(0,Pt.jsx)("span",{className:"d-none d-sm-inline",children:"Ejecutar Garanta"}),(0,Pt.jsx)("span",{className:"d-inline d-sm-none",children:"Ejecutar"})]})}),(0,Pt.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-lg py-2 shadow-sm",onClick:function(){ue(!1),he(null)},disabled:f,children:[(0,Pt.jsx)("i",{className:"fa fa-times me-2"}),"Cancelar"]})]})}),(0,Pt.jsxs)("div",{className:"d-none d-md-flex justify-content-end gap-2 w-100",children:[(0,Pt.jsxs)("button",{type:"button",className:"btn btn-outline-secondary px-3 py-2 shadow-sm",onClick:function(){ue(!1),he(null)},disabled:f,children:[(0,Pt.jsx)("i",{className:"fa fa-times me-1 me-lg-2"}),(0,Pt.jsx)("span",{className:"d-none d-lg-inline",children:"Cancelar"}),(0,Pt.jsx)("span",{className:"d-inline d-lg-none",children:"Cancelar"})]}),(0,Pt.jsx)("button",{type:"button",className:"btn btn-success px-3 px-lg-4 py-2 shadow-sm",onClick:Ye,disabled:f||0===ve.length,children:f?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"spinner-border spinner-border-sm me-1 me-lg-2",role:"status","aria-hidden":"true"}),(0,Pt.jsx)("span",{className:"d-none d-lg-inline",children:"Ejecutando Garanta..."}),(0,Pt.jsx)("span",{className:"d-inline d-lg-none",children:"Ejecutando..."})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-play me-1 me-lg-2"}),(0,Pt.jsx)("span",{className:"d-none d-lg-inline",children:"Ejecutar Garanta"}),(0,Pt.jsx)("span",{className:"d-inline d-lg-none",children:"Ejecutar"})]})})]})]})]})})}),ne&&(0,Pt.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,Pt.jsx)("div",{className:"modal-dialog",children:(0,Pt.jsxs)("div",{className:"modal-content",children:[(0,Pt.jsxs)("div",{className:"modal-header",children:[(0,Pt.jsxs)("h5",{className:"modal-title",children:[(0,Pt.jsx)("i",{className:"fa fa-print me-2"}),"Seleccionar Caja para Imprimir"]}),(0,Pt.jsx)("button",{type:"button",className:"btn-close",onClick:function(){ae(!1),se(null)}})]}),(0,Pt.jsxs)("div",{className:"modal-body",children:[ie&&(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("h6",{children:"Detalles de la Solicitud:"}),(0,Pt.jsx)("div",{className:"card",children:(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Solicitud #:"})," ",ie.id]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Cliente:"})," ",null===(i=ie.cliente)||void 0===i?void 0:i.nombre," ",null===(s=ie.cliente)||void 0===s?void 0:s.apellido]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Estatus:"}),(0,Pt.jsx)("span",{className:"badge ms-2 ".concat(He(ie.estatus)),children:ie.estatus})]})]})})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsxs)("label",{htmlFor:"cajaSelect",className:"form-label",children:[(0,Pt.jsx)("i",{className:"fa fa-cash-register me-2"}),"Seleccione la Caja:"]}),(0,Pt.jsx)("select",{id:"cajaSelect",className:"form-select",value:_e,onChange:function(e){return je(parseInt(e.target.value))},children:me.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre},e.id)}))}),0===me.length&&(0,Pt.jsxs)("div",{className:"alert alert-warning mt-2",children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-triangle me-2"}),"No hay cajas configuradas en el sistema"]})]}),(0,Pt.jsxs)("div",{className:"alert alert-info",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle me-2"}),(0,Pt.jsx)("strong",{children:"Nota:"})," El ticket se imprimir en la caja seleccionada. Asegrese de que la impresora est conectada y funcionando."]})]}),(0,Pt.jsxs)("div",{className:"modal-footer",children:[(0,Pt.jsx)("button",{type:"button",className:"btn",onClick:function(){ae(!1),se(null)},children:"Cancelar"}),(0,Pt.jsx)("button",{type:"button",className:"btn bg-sinapsis",onClick:et,disabled:f||0===me.length,children:f?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Imprimiendo..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-print me-2"}),"Imprimir Ticket"]})})]})]})})})]})};function tE(e){return tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tE(e)}function rE(){rE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==tE(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(tE(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function nE(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function aE(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){nE(o,n,a,i,s,"next",e)}function s(e){nE(o,n,a,i,s,"throw",e)}i(void 0)}))}}function oE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iE(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iE(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const sE=function(e){var t=e.config,r=(e.onSave,e.db),n=oE((0,o.useState)(!1),2),a=n[0],i=n[1],s=oE((0,o.useState)({connected:!1,central_url:"",last_check:null,error:null}),2),c=s[0],l=s[1],u=oE((0,o.useState)({total:0,pendientes:0,aprobadas:0,rechazadas:0,finalizadas:0}),2),d=u[0],f=u[1],h=oE((0,o.useState)(null),2),p=h[0],m=h[1];(0,o.useEffect)((function(){g(),x()}),[]);var g=function(){var e=aE(rE().mark((function e(){var t;return rE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,r.checkGarantiaConnection();case 4:200===(t=e.sent).status&&l({connected:t.data.connected||!1,central_url:t.data.central_url||"",last_check:(new Date).toLocaleString(),error:null}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al verificar conexin:",e.t0),l({connected:!1,central_url:"",last_check:(new Date).toLocaleString(),error:"Error de conexin"});case 12:return e.prev=12,i(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=aE(rE().mark((function e(){var t;return rE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getGarantiaStats();case 3:200===(t=e.sent).status&&t.data.success&&f(t.data.estadisticas||{total:0,pendientes:0,aprobadas:0,rechazadas:0,finalizadas:0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar estadsticas:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=aE(rE().mark((function e(){var t,n,a,o;return rE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),m(null),e.prev=2,e.next=5,r.checkGarantiaConnection();case 5:if(200!==(t=e.sent).status||!t.data.connected){e.next=13;break}return e.next=9,r.syncGarantias();case 9:200===(n=e.sent).status&&n.data.success?m({success:!0,message:"Conexin exitosa. Sincronizacin funcionando correctamente.",details:{garantias_sincronizadas:(null===(a=n.data.garantias)||void 0===a?void 0:a.length)||0,pendientes_central:(null===(o=n.data.pendientes_central)||void 0===o?void 0:o.length)||0}}):m({success:!1,message:"Conexin establecida pero fall la sincronizacin",details:{error:n.data.error||"Error desconocido"}}),e.next=14;break;case 13:m({success:!1,message:"No se pudo establecer conexin con arabitocentral",details:{error:t.data.error||"Servidor no disponible"}});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),m({success:!1,message:"Error durante la prueba de conexin",details:{error:e.t0.message}});case 19:return e.prev=19,i(!1),g(),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[2,16,19,23]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=aE(rE().mark((function e(){var t;return rE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,r.syncGarantias();case 4:200===(t=e.sent).status&&t.data.success?(alert("Sincronizacin forzada completada exitosamente"),x()):alert("Error en sincronizacin: "+(t.data.error||"Error desconocido")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error en sincronizacin forzada:",e.t0),alert("Error de conexin durante sincronizacin");case 12:return e.prev=12,i(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,Pt.jsxs)("div",{className:"garantia-config",children:[(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsxs)("div",{className:"card",children:[(0,Pt.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Pt.jsxs)("h5",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-link me-2"}),"Estado de Conexin"]}),(0,Pt.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:g,disabled:a,children:[(0,Pt.jsx)("i",{className:"fa fa-refresh me-1"}),"Verificar"]})]}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("strong",{children:"Estado:"}),(0,Pt.jsx)("span",{className:"badge ms-2 ".concat(c.connected?"bg-success":"bg-danger"),children:c.connected?"Conectado":"Desconectado"})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("strong",{children:"URL Central:"}),(0,Pt.jsx)("div",{className:"text-muted small",children:c.central_url||"No configurada"})]}),(0,Pt.jsxs)("div",{className:"mb-3",children:[(0,Pt.jsx)("strong",{children:"ltima verificacin:"}),(0,Pt.jsx)("div",{className:"text-muted small",children:c.last_check||"Nunca"})]}),c.error&&(0,Pt.jsx)("div",{className:"alert alert-danger py-2",children:(0,Pt.jsx)("small",{children:c.error})}),(0,Pt.jsxs)("div",{className:"d-grid gap-2",children:[(0,Pt.jsx)("button",{className:"btn btn-primary",onClick:v,disabled:a,children:a?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("span",{className:"spinner-border spinner-border-sm me-2"}),"Probando..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-flask me-2"}),"Probar Conexin"]})}),(0,Pt.jsxs)("button",{className:"btn btn-info",onClick:b,disabled:a||!c.connected,children:[(0,Pt.jsx)("i",{className:"fa fa-sync me-2"}),"Sincronizacin Forzada"]})]})]})]}),p&&(0,Pt.jsxs)("div",{className:"card mt-3",children:[(0,Pt.jsx)("div",{className:"card-header",children:(0,Pt.jsxs)("h6",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-test-tube me-2"}),"Resultado del Test"]})}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("div",{className:"alert ".concat(p.success?"alert-success":"alert-danger"," py-2"),children:(0,Pt.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pt.jsx)("i",{className:"fa ".concat(p.success?"fa-check-circle":"fa-exclamation-triangle"," me-2")}),(0,Pt.jsx)("strong",{children:p.message})]})}),p.details&&(0,Pt.jsxs)("div",{className:"mt-2",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Detalles:"}),(0,Pt.jsx)("ul",{className:"list-unstyled small",children:Object.entries(p.details).map((function(e){var t=oE(e,2),r=t[0],n=t[1];return(0,Pt.jsxs)("li",{children:[(0,Pt.jsxs)("strong",{children:[r.replace(/_/g," "),":"]})," ",String(n)]},r)}))})]})]})]})]}),(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsxs)("div",{className:"card",children:[(0,Pt.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Pt.jsxs)("h5",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-chart-bar me-2"}),"Estadsticas"]}),(0,Pt.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:x,disabled:a,children:[(0,Pt.jsx)("i",{className:"fa fa-refresh me-1"}),"Actualizar"]})]}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsxs)("div",{className:"row text-center",children:[(0,Pt.jsx)("div",{className:"col-6 mb-3",children:(0,Pt.jsxs)("div",{className:"border rounded p-3",children:[(0,Pt.jsx)("div",{className:"h4 text-primary mb-0",children:d.total}),(0,Pt.jsx)("small",{className:"text-muted",children:"Total"})]})}),(0,Pt.jsx)("div",{className:"col-6 mb-3",children:(0,Pt.jsxs)("div",{className:"border rounded p-3",children:[(0,Pt.jsx)("div",{className:"h4 text-sinapsis mb-0",children:d.pendientes}),(0,Pt.jsx)("small",{className:"text-muted",children:"Pendientes"})]})}),(0,Pt.jsx)("div",{className:"col-6 mb-3",children:(0,Pt.jsxs)("div",{className:"border rounded p-3",children:[(0,Pt.jsx)("div",{className:"h4 text-success mb-0",children:d.aprobadas}),(0,Pt.jsx)("small",{className:"text-muted",children:"Aprobadas"})]})}),(0,Pt.jsx)("div",{className:"col-6 mb-3",children:(0,Pt.jsxs)("div",{className:"border rounded p-3",children:[(0,Pt.jsx)("div",{className:"h4 text-secondary mb-0",children:d.finalizadas}),(0,Pt.jsx)("small",{className:"text-muted",children:"Finalizadas"})]})})]}),d.rechazadas>0&&(0,Pt.jsx)("div",{className:"mt-2 text-center",children:(0,Pt.jsxs)("div",{className:"border rounded p-2 bg-light",children:[(0,Pt.jsx)("div",{className:"h6 text-danger mb-0",children:d.rechazadas}),(0,Pt.jsx)("small",{className:"text-muted",children:"Rechazadas"})]})})]})]}),(0,Pt.jsxs)("div",{className:"card mt-3",children:[(0,Pt.jsx)("div",{className:"card-header",children:(0,Pt.jsxs)("h6",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle me-2"}),"Informacin del Sistema"]})}),(0,Pt.jsxs)("div",{className:"card-body",children:[(0,Pt.jsx)("div",{className:"row",children:(0,Pt.jsxs)("div",{className:"col-12",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Sucursal:"}),(0,Pt.jsx)("div",{children:t.nombre||"No configurada"})]})}),(0,Pt.jsx)("hr",{className:"my-3"}),(0,Pt.jsx)("h6",{children:"Funcionalidades Disponibles:"}),(0,Pt.jsxs)("ul",{className:"list-unstyled small",children:[(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("i",{className:"fa fa-check text-success me-2"}),"Creacin de solicitudes de garanta"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("i",{className:"fa fa-check text-success me-2"}),"Sincronizacin automtica con central"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("i",{className:"fa fa-check text-success me-2"}),"Ejecucin local de garantas aprobadas"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("i",{className:"fa fa-check text-success me-2"}),"5 casos de uso de garanta/devolucin"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("i",{className:"fa fa-check text-success me-2"}),"Gestin de inventario automtica"]})]})]})]})]})]}),(0,Pt.jsx)("div",{className:"row mt-4",children:(0,Pt.jsx)("div",{className:"col-12",children:(0,Pt.jsxs)("div",{className:"card",children:[(0,Pt.jsx)("div",{className:"card-header",children:(0,Pt.jsxs)("h6",{className:"mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-question-circle me-2"}),"Ayuda y Solucin de Problemas"]})}),(0,Pt.jsx)("div",{className:"card-body",children:(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsx)("h6",{children:"Problemas Comunes:"}),(0,Pt.jsxs)("ul",{className:"small",children:[(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Conexin fallida:"})," Verificar conectividad a internet"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Sincronizacin lenta:"})," Usar sincronizacin forzada"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("strong",{children:"Garantas no aparecen:"})," Verificar estado de conexin"]})]})]}),(0,Pt.jsxs)("div",{className:"col-md-6",children:[(0,Pt.jsx)("h6",{children:"Estados de Garanta:"}),(0,Pt.jsxs)("ul",{className:"small",children:[(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("span",{className:"badge bg-warning text-dark",children:"PENDIENTE"})," - Esperando aprobacin"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("span",{className:"badge bg-success",children:"APROBADA"})," - Lista para ejecutar"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("span",{className:"badge bg-danger",children:"RECHAZADA"})," - No aprobada"]}),(0,Pt.jsxs)("li",{children:[(0,Pt.jsx)("span",{className:"badge bg-secondary",children:"FINALIZADA"})," - Ejecutada completamente"]})]})]})]})})]})})})]})};function cE(e){return cE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cE(e)}function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lE(Object(r),!0).forEach((function(t){dE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=cE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cE(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fE(){fE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==cE(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(cE(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function hE(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function pE(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){hE(o,n,a,i,s,"next",e)}function s(e){hE(o,n,a,i,s,"throw",e)}i(void 0)}))}}function mE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gE(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gE(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const xE=function(e){e.sucursalConfig;var t=mE((0,o.useState)([]),2),r=t[0],n=t[1],a=mE((0,o.useState)([]),2),i=(a[0],a[1]),c=mE((0,o.useState)([]),2),l=c[0],u=c[1],d=mE((0,o.useState)(!1),2),f=d[0],h=d[1],p=mE((0,o.useState)(!1),2),m=p[0],g=p[1],x=mE((0,o.useState)(null),2),v=(x[0],x[1]),b=mE((0,o.useState)(""),2),y=b[0],_=b[1],j=mE((0,o.useState)([]),2),w=j[0],N=j[1],E=mE((0,o.useState)(!1),2),C=E[0],S=E[1],O=mE((0,o.useState)({producto_nombre:"",proveedor_id:"",tipo_inventario:"",limit:50}),2),A=O[0],P=O[1],D=mE((0,o.useState)({total:0,por_tipo:{DAADO:0,RECUPERADO:0,TRANSFERIDO_AL_PROVEEDOR:0,DEVOLUCION:0},valor_total_base:{DAADO:0,RECUPERADO:0,TRANSFERIDO_AL_PROVEEDOR:0,DEVOLUCION:0},valor_total_venta:{DAADO:0,RECUPERADO:0,TRANSFERIDO_AL_PROVEEDOR:0,DEVOLUCION:0}}),2),I=D[0],T=D[1],M=mE((0,o.useState)([]),2),k=M[0],R=M[1];(0,o.useEffect)((function(){B(),L(),F()}),[]),(0,o.useEffect)((function(){B()}),[A]);var B=function(){var e=pE(fE().mark((function e(){var t,r;return fE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,s().get("/api/garantias/inventarios",{params:A});case 4:t=e.sent,(r=t.data).success?(n(r.data.data||[]),T(r.estadisticas||{}),R(r.resumen_proveedores||[])):(console.warn("Error al cargar inventarios:",r.message),n([])),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error al cargar inventarios:",e.t0),n([]),alert("Error al cargar inventarios de garanta");case 14:return e.prev=14,h(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,9,14,17]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=pE(fE().mark((function e(){var t,r;return fE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("/api/garantias/sucursales");case 3:t=e.sent,(r=t.data).success&&i(r.data||[]),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error al cargar sucursales:",e.t0),i([]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=pE(fE().mark((function e(){var t,r;return fE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("/api/garantias/proveedores");case 3:t=e.sent,(r=t.data).success&&u(r.data||[]),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error al cargar proveedores:",e.t0),u([]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),U=function(e,t){P((function(r){return uE(uE({},r),{},dE({},e,t))}))},W=function(){var e=pE(fE().mark((function e(t){var r,n,a,o,i,c;return fE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(null===(r=t.producto)||void 0===r?void 0:r.id),_((null===(n=t.producto)||void 0===n?void 0:n.descripcion)||""),g(!0),S(!0),e.prev=4,e.next=7,s().get("/api/garantias/movimientos",{params:{producto_id:null===(a=t.producto)||void 0===a?void 0:a.id}});case 7:(o=e.sent).data.success?(c=(null===(i=o.data.data)||void 0===i?void 0:i.data)||[],N(c)):(N([]),alert("Error al cargar movimientos: "+o.data.message)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error al cargar movimientos:",e.t0),N([]),alert("Error al cargar movimientos");case 16:return e.prev=16,S(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,11,16,19]])})));return function(t){return e.apply(this,arguments)}}(),V=function(e){switch(e){case"DAADO":return"bg-danger text-white";case"RECUPERADO":return"bg-success text-white";case"TRANSFERIDO_AL_PROVEEDOR":case"ENVIADO_PROVEEDOR":return"bg-info text-white";case"DEVOLUCION":return"bg-warning text-dark";default:return"bg-secondary text-white"}},z=function(e){switch(e){case"DAADO":return"Daado";case"RECUPERADO":return"Recuperado";case"TRANSFERIDO_AL_PROVEEDOR":return"Transferido al Proveedor";case"DEVOLUCION":return"Devolucin";case"ENVIADO_PROVEEDOR":return"Enviado a Proveedor";default:return e}},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e||0)},G=function(e){return new Date(e).toLocaleDateString("es-VE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},q=Array.isArray(r)?r:[];return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Pt.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Pt.jsx)("div",{className:"w-full px-4 py-3",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h1",{className:"text-lg md:text-xl font-bold text-gray-900 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-warehouse mr-2 text-blue-600"}),"Inventario de Garantas"]}),(0,Pt.jsx)("p",{className:"mt-1 text-xs text-gray-600",children:"Gestin de inventarios por sucursal"})]}),(0,Pt.jsxs)("button",{className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-md shadow-sm text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",onClick:B,disabled:f,children:[(0,Pt.jsx)("i",{className:"fa fa-refresh mr-1"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Actualizar"}),(0,Pt.jsx)("span",{className:"sm:hidden",children:"Ref"})]})]})})}),(0,Pt.jsxs)("div",{className:"w-full px-3 py-3",children:[(0,Pt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 mb-3",children:[(0,Pt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 text-center",children:[(0,Pt.jsx)("div",{className:"text-lg md:text-xl font-bold text-blue-600",children:I.total}),(0,Pt.jsx)("div",{className:"text-xs text-gray-600",children:"Total"})]}),(0,Pt.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2 text-center",children:[(0,Pt.jsx)("div",{className:"text-lg md:text-xl font-bold text-green-600",children:I.por_tipo.RECUPERADO}),(0,Pt.jsx)("div",{className:"text-xs text-gray-600",children:"Recuperados"})]}),(0,Pt.jsxs)("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-2 text-center",children:[(0,Pt.jsx)("div",{className:"text-lg md:text-xl font-bold text-cyan-600",children:I.por_tipo.TRANSFERIDO_AL_PROVEEDOR}),(0,Pt.jsx)("div",{className:"text-xs text-gray-600",children:"Enviados"})]}),(0,Pt.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 text-center",children:[(0,Pt.jsx)("div",{className:"text-lg md:text-xl font-bold text-red-600",children:I.por_tipo.DAADO}),(0,Pt.jsx)("div",{className:"text-xs text-gray-600",children:"Daados"})]}),(0,Pt.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-2 text-center",children:[(0,Pt.jsx)("div",{className:"text-lg md:text-xl font-bold text-yellow-600",children:I.por_tipo.DEVOLUCION}),(0,Pt.jsx)("div",{className:"text-xs text-gray-600",children:"Devoluciones"})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg border",children:[(0,Pt.jsx)("span",{className:"px-2 text-xs text-gray-600 bg-gray-100 rounded-l-lg py-1.5",children:"Producto:"}),(0,Pt.jsx)("input",{type:"text",className:"flex-1 px-2 py-1.5 text-xs border-0 bg-transparent focus:outline-none",placeholder:"Buscar...",value:A.producto_nombre,onChange:function(e){return U("producto_nombre",e.target.value)}})]}),(0,Pt.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg border",children:[(0,Pt.jsx)("span",{className:"px-2 text-xs text-gray-600 bg-gray-100 rounded-l-lg py-1.5",children:"Proveedor:"}),(0,Pt.jsxs)("select",{className:"flex-1 px-2 py-1.5 text-xs border-0 bg-transparent focus:outline-none",value:A.proveedor_id,onChange:function(e){return U("proveedor_id",e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todos"}),l.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]})]}),(0,Pt.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg border",children:[(0,Pt.jsx)("span",{className:"px-2 text-xs text-gray-600 bg-gray-100 rounded-l-lg py-1.5",children:"Tipo:"}),(0,Pt.jsxs)("select",{className:"flex-1 px-2 py-1.5 text-xs border-0 bg-transparent focus:outline-none",value:A.tipo_inventario,onChange:function(e){return U("tipo_inventario",e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todos"}),(0,Pt.jsx)("option",{value:"RECUPERADO",children:"Recuperado"}),(0,Pt.jsx)("option",{value:"TRANSFERIDO_AL_PROVEEDOR",children:"Enviado"}),(0,Pt.jsx)("option",{value:"DAADO",children:"Daado"}),(0,Pt.jsx)("option",{value:"DEVOLUCION",children:"Devolucin"})]})]}),(0,Pt.jsx)("button",{className:"px-3 py-1.5 text-xs bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors disabled:opacity-50",onClick:function(){P({producto_nombre:"",proveedor_id:"",tipo_inventario:"",limit:50})},disabled:""===A.producto_nombre&&""===A.proveedor_id&&""===A.tipo_inventario,children:"Limpiar"})]}),f&&(0,Pt.jsxs)("div",{className:"text-center py-3",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,Pt.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:"Cargando..."})]}),!f&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg border",children:[(0,Pt.jsx)("div",{className:"px-3 py-2 border-b bg-gray-50",children:(0,Pt.jsxs)("h6",{className:"text-sm font-medium text-gray-700 mb-0",children:["Inventarios de Garanta",(0,Pt.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:q.length})]})}),(0,Pt.jsx)("div",{className:"p-0",children:0===q.length?(0,Pt.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,Pt.jsx)("i",{className:"fa fa-inbox text-2xl mb-2"}),(0,Pt.jsx)("div",{className:"text-xs",children:"No hay inventarios de garanta"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full text-xs",children:[(0,Pt.jsx)("thead",{className:"bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"ID"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Suc"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Cdigo"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Producto"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Prov"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Tipo"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Cant"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Base"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Venta"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Acciones"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-gray-100",children:q.map((function(e){var t,r,n,a,o;return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Pt.jsxs)("td",{className:"px-2 py-2 text-gray-900",children:["#",e.id]}),(0,Pt.jsx)("td",{className:"px-2 py-2",children:(0,Pt.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:(null===(t=e.sucursal)||void 0===t?void 0:t.codigo)||"N/A"})}),(0,Pt.jsx)("td",{className:"px-2 py-2",children:(0,Pt.jsx)("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-700 text-xs rounded font-mono",children:(null===(r=e.producto)||void 0===r?void 0:r.codigo_barras)||"N/A"})}),(0,Pt.jsx)("td",{className:"px-2 py-2 text-gray-900 truncate max-w-24",title:(null===(n=e.producto)||void 0===n?void 0:n.descripcion)||"N/A",children:(null===(a=e.producto)||void 0===a?void 0:a.descripcion)||"N/A"}),(0,Pt.jsx)("td",{className:"px-2 py-2 text-gray-600 text-xs truncate max-w-20",children:(null===(o=e.producto)||void 0===o||null===(o=o.proveedor)||void 0===o?void 0:o.descripcion)||"N/A"}),(0,Pt.jsx)("td",{className:"px-2 py-2",children:(0,Pt.jsx)("span",{className:"px-1.5 py-0.5 text-xs rounded ".concat(V(e.tipo_inventario)),children:z(e.tipo_inventario)})}),(0,Pt.jsx)("td",{className:"px-2 py-2 text-gray-900",children:e.cantidad}),(0,Pt.jsxs)("td",{className:"px-2 py-2 text-green-600 font-medium",children:["$",e.valor_total_formateado_base||"0.00"]}),(0,Pt.jsxs)("td",{className:"px-2 py-2 text-blue-600 font-medium",children:["$",e.valor_total_formateado_venta||"0.00"]}),(0,Pt.jsx)("td",{className:"px-2 py-2",children:(0,Pt.jsxs)("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",title:"Ver movimientos",onClick:function(){return W(e)},children:[(0,Pt.jsx)("i",{className:"fa fa-history mr-1"})," Mov"]})})]},e.id)}))})]})}),(0,Pt.jsx)("div",{className:"md:hidden space-y-3",children:q.map((function(e){var t,r,n,a;return(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pt.jsxs)("span",{className:"text-xs font-medium text-gray-500",children:["#",e.id]}),(0,Pt.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:(null===(t=e.sucursal)||void 0===t?void 0:t.codigo)||"N/A"}),(0,Pt.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full ".concat(V(e.tipo_inventario)),children:z(e.tipo_inventario)})]}),(0,Pt.jsx)("button",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded-full hover:bg-blue-200 transition-colors",title:"Ver movimientos",onClick:function(){return W(e)},children:(0,Pt.jsx)("i",{className:"fa fa-history"})})]}),(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1",children:(null===(r=e.producto)||void 0===r?void 0:r.descripcion)||"N/A"}),(0,Pt.jsx)("div",{className:"text-xs text-gray-600 mb-1",children:(null===(n=e.producto)||void 0===n||null===(n=n.proveedor)||void 0===n?void 0:n.descripcion)||"N/A"}),(0,Pt.jsxs)("div",{className:"text-xs",children:[(0,Pt.jsx)("span",{className:"text-gray-500",children:"Cdigo:"}),(0,Pt.jsx)("span",{className:"ml-1 font-mono text-gray-700 bg-gray-100 px-1.5 py-0.5 rounded",children:(null===(a=e.producto)||void 0===a?void 0:a.codigo_barras)||"N/A"})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-gray-500",children:"Cantidad"}),(0,Pt.jsx)("div",{className:"font-medium text-gray-900",children:e.cantidad})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-gray-500",children:"Base"}),(0,Pt.jsxs)("div",{className:"font-medium text-green-600",children:["$",e.valor_total_formateado_base||"0.00"]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-gray-500",children:"Venta"}),(0,Pt.jsxs)("div",{className:"font-medium text-blue-600",children:["$",e.valor_total_formateado_venta||"0.00"]})]})]})]},e.id)}))})]})})]}),!f&&k.length>0&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg border mt-3",children:[(0,Pt.jsx)("div",{className:"px-3 py-2 border-b bg-gray-50",children:(0,Pt.jsxs)("h6",{className:"text-sm font-medium text-gray-700 mb-0",children:[(0,Pt.jsx)("i",{className:"fa fa-chart-pie mr-1"}),"Resumen por Proveedores"]})}),(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full text-xs",children:[(0,Pt.jsx)("thead",{className:"bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Proveedor"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"RIF"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Items"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Cant"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Base"}),(0,Pt.jsx)("th",{className:"px-2 py-2 text-left font-medium text-gray-700",children:"Venta"})]})}),(0,Pt.jsx)("tbody",{className:"divide-y divide-gray-100",children:k.map((function(e){return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Pt.jsx)("td",{className:"px-2 py-2 font-medium text-gray-900",children:e.proveedor_nombre}),(0,Pt.jsx)("td",{className:"px-2 py-2 text-gray-600",children:e.proveedor_rif}),(0,Pt.jsx)("td",{className:"px-2 py-2",children:(0,Pt.jsx)("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 text-xs rounded",children:e.total_items})}),(0,Pt.jsx)("td",{className:"px-2 py-2",children:(0,Pt.jsx)("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-800 text-xs rounded",children:e.total_cantidad})}),(0,Pt.jsxs)("td",{className:"px-2 py-2 text-green-600 font-medium",children:["$",K(e.valor_total_base,2)]}),(0,Pt.jsxs)("td",{className:"px-2 py-2 text-blue-600 font-medium",children:["$",K(e.valor_total_venta,2)]})]},e.id)}))})]})}),(0,Pt.jsx)("div",{className:"md:hidden space-y-3",children:k.map((function(e){return(0,Pt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-3 shadow-sm",children:[(0,Pt.jsxs)("div",{className:"mb-2",children:[(0,Pt.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1",children:e.proveedor_nombre}),(0,Pt.jsxs)("div",{className:"text-xs text-gray-600",children:["RIF: ",e.proveedor_rif]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-gray-500 mb-1",children:"Items"}),(0,Pt.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:e.total_items})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-gray-500 mb-1",children:"Cantidad"}),(0,Pt.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full",children:e.total_cantidad})]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-3 text-xs",children:[(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-gray-500 mb-1",children:"Valor Base"}),(0,Pt.jsxs)("div",{className:"font-medium text-green-600",children:["$",K(e.valor_total_base,2)]})]}),(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"text-gray-500 mb-1",children:"Valor Venta"}),(0,Pt.jsxs)("div",{className:"font-medium text-blue-600",children:["$",K(e.valor_total_venta,2)]})]})]})]},e.id)}))})]})]})]}),m&&(0,Pt.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col",onClick:function(e){return e.stopPropagation()},children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h2",{className:"text-lg md:text-xl font-bold text-gray-900 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-history mr-2 text-blue-600"}),"Movimientos de Garanta"]}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:y})]}),(0,Pt.jsx)("button",{onClick:function(){return g(!1)},className:"text-gray-400 hover:text-gray-600 text-2xl font-bold p-2 hover:bg-gray-100 rounded-full transition-colors",children:""})]}),(0,Pt.jsx)("div",{className:"p-4 overflow-y-auto flex-1",children:C?(0,Pt.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Pt.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:"Cargando movimientos..."})]})}):0===w.length?(0,Pt.jsxs)("div",{className:"text-center py-8",children:[(0,Pt.jsx)("div",{className:"text-gray-400 mb-4",children:(0,Pt.jsx)("i",{className:"fa fa-inbox text-4xl"})}),(0,Pt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay movimientos"}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600",children:"No se encontraron movimientos para este producto"})]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,Pt.jsx)("thead",{className:"bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Fecha"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Tipo"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Sucursal Origen"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Sucursal Destino"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Cantidad"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Motivo"}),(0,Pt.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Usuario"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((function(e,t){var r,n;return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Pt.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:G(e.created_at)}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(V(e.tipo_movimiento)),children:z(e.tipo_movimiento)})}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:(null===(r=e.sucursal_origen)||void 0===r?void 0:r.nombre)||"N/A"}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:(null===(n=e.sucursal_destino)||void 0===n?void 0:n.nombre)||"N/A"}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:e.cantidad}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs truncate",title:e.motivo,children:e.motivo||"N/A"}),(0,Pt.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.usuario_nombre||"N/A"})]},t)}))})]})}),(0,Pt.jsx)("div",{className:"md:hidden space-y-3",children:w.map((function(e,t){var r,n;return(0,Pt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:(0,Pt.jsxs)("div",{className:"space-y-3",children:[(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Pt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(V(e.tipo_movimiento)),children:z(e.tipo_movimiento)}),(0,Pt.jsx)("span",{className:"text-xs text-gray-500",children:G(e.created_at)})]}),(0,Pt.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Cant: ",e.cantidad]})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-gray-500",children:"Origen:"}),(0,Pt.jsx)("div",{className:"font-medium text-gray-900",children:(null===(r=e.sucursal_origen)||void 0===r?void 0:r.nombre)||"N/A"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-gray-500",children:"Destino:"}),(0,Pt.jsx)("div",{className:"font-medium text-gray-900",children:(null===(n=e.sucursal_destino)||void 0===n?void 0:n.nombre)||"N/A"})]})]}),(0,Pt.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-gray-500",children:"Motivo:"}),(0,Pt.jsx)("div",{className:"text-gray-900 mt-1",children:e.motivo||"N/A"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-gray-500",children:"Usuario:"}),(0,Pt.jsx)("div",{className:"font-medium text-gray-900",children:e.usuario_nombre||"N/A"})]})]})]})},t)}))})]})}),(0,Pt.jsx)("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:(0,Pt.jsx)("button",{onClick:function(){return g(!1)},className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors text-sm font-medium",children:"Cerrar"})})]})})]})};function vE(e){return vE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vE(e)}function bE(){bE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==vE(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(vE(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function yE(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function _E(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){yE(o,n,a,i,s,"next",e)}function s(e){yE(o,n,a,i,s,"throw",e)}i(void 0)}))}}function jE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wE(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wE(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const NE=function(){var e=jE((0,o.useState)(""),2),t=e[0],r=e[1],n=jE((0,o.useState)(null),2),a=n[0],i=n[1],s=jE((0,o.useState)(!1),2),c=s[0],l=s[1],u=jE((0,o.useState)(""),2),d=u[0],f=u[1],h=jE((0,o.useState)(""),2),p=h[0],m=h[1],g=jE((0,o.useState)(""),2),x=g[0],v=g[1],b=jE((0,o.useState)(""),2),y=b[0],_=b[1],j=function(){var e=_E(bE().mark((function e(){var r,n;return bE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.trim()){e.next=3;break}return f("Debe ingresar un nmero de solicitud"),e.abrupt("return");case 3:return l(!0),f(""),i(null),e.prev=6,e.next=9,ke.A.buscarSolicitudGarantia({numero:t});case 9:200===(r=e.sent).status&&r.data.success?(i(r.data.solicitud),m("Solicitud encontrada. Puede proceder con la solicitud de reverso.")):f(r.data.message||"No se encontr la solicitud"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.error("Error buscando solicitud:",e.t0),f((null===(n=e.t0.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||"Error al buscar la solicitud");case 17:return e.prev=17,l(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[6,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=_E(bE().mark((function e(){var t;return bE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return f("Debe buscar una solicitud primero"),e.abrupt("return");case 3:if(x.trim()){e.next=6;break}return f("Debe especificar un motivo para el reverso"),e.abrupt("return");case 6:return l(!0),f(""),e.prev=8,e.next=11,ke.A.solicitarReversoGarantia({solicitud_id:a.id,motivo:x,detalles:y,datos_originales:{solicitud:a,fecha_solicitud:(new Date).toISOString()}});case 11:200===(t=e.sent).status&&t.data.success?(m("Solicitud de reverso enviada exitosamente. Esperando aprobacin de central."),i(null),r(""),v(""),_("")):f(t.data.message||"Error al solicitar el reverso"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.error("Error solicitando reverso:",e.t0),f("Error al solicitar el reverso");case 19:return e.prev=19,l(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[8,15,19,22]])})));return function(){return e.apply(this,arguments)}}();return(0,Pt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,Pt.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Pt.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 mb-6",children:(0,Pt.jsxs)("div",{className:"px-6 py-4",children:[(0,Pt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-undo mr-3 text-red-600"}),"Reverso de Garantas"]}),(0,Pt.jsx)("p",{className:"text-gray-600 mt-2",children:"Solicite la reversin de una garanta ejecutada. El proceso requiere aprobacin de central."})]})}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,Pt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Pt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:[(0,Pt.jsx)("i",{className:"fa fa-search mr-2 text-blue-600"}),"Buscar Solicitud de Garanta"]})}),(0,Pt.jsx)("div",{className:"p-6",children:(0,Pt.jsxs)("div",{className:"flex gap-4",children:[(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nmero de Solicitud"}),(0,Pt.jsx)("input",{type:"text",value:t,onChange:function(e){return r(e.target.value)},placeholder:"Ingrese el nmero de solicitud",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),(0,Pt.jsx)("div",{className:"flex items-end",children:(0,Pt.jsxs)("button",{onClick:j,disabled:c||!t.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin mr-2"}):(0,Pt.jsx)("i",{className:"fa fa-search mr-2"}),"Buscar"]})})]})})]}),a&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,Pt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-green-50",children:(0,Pt.jsxs)("h2",{className:"text-lg font-semibold text-green-900",children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle mr-2"}),"Solicitud Encontrada"]})}),(0,Pt.jsx)("div",{className:"p-6",children:(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Informacin General"}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs text-gray-500",children:"ID:"}),(0,Pt.jsx)("div",{className:"font-mono text-sm",children:a.id})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs text-gray-500",children:"Tipo:"}),(0,Pt.jsx)("div",{className:"text-sm",children:a.tipo_solicitud})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs text-gray-500",children:"Estatus:"}),(0,Pt.jsx)("div",{className:"text-sm",children:(0,Pt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("FINALIZADA"===a.estatus?"bg-green-100 text-green-800":"PENDIENTE"===a.estatus?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:a.estatus})})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs text-gray-500",children:"Fecha Solicitud:"}),(0,Pt.jsx)("div",{className:"text-sm",children:new Date(a.fecha_solicitud).toLocaleDateString()})]})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Detalles de Productos"}),(0,Pt.jsxs)("div",{className:"space-y-2",children:[a.productos_data&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs text-gray-500",children:"Productos:"}),(0,Pt.jsxs)("div",{className:"text-sm",children:[JSON.parse(a.productos_data).length," producto(s)"]})]}),a.monto_total_devolucion&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-xs text-gray-500",children:"Monto Total:"}),(0,Pt.jsxs)("div",{className:"text-sm font-semibold",children:["$",a.monto_total_devolucion]})]})]})]})]})})]}),a&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,Pt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-red-50",children:(0,Pt.jsxs)("h2",{className:"text-lg font-semibold text-red-900",children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-triangle mr-2"}),"Solicitar Reverso"]})}),(0,Pt.jsx)("div",{className:"p-6",children:(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Motivo del Reverso ",(0,Pt.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Pt.jsxs)("select",{value:x,onChange:function(e){return v(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500",children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione un motivo"}),(0,Pt.jsx)("option",{value:"ERROR_EN_EJECUCION",children:"Error en la ejecucin"}),(0,Pt.jsx)("option",{value:"PRODUCTO_INCORRECTO",children:"Producto incorrecto entregado"}),(0,Pt.jsx)("option",{value:"CLIENTE_ARREPENTIDO",children:"Cliente se arrepinti"}),(0,Pt.jsx)("option",{value:"PROBLEMA_TECNICO",children:"Problema tcnico"}),(0,Pt.jsx)("option",{value:"OTRO",children:"Otro motivo"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detalles Adicionales"}),(0,Pt.jsx)("textarea",{value:y,onChange:function(e){return _(e.target.value)},rows:4,placeholder:"Describa los detalles del reverso...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500"})]}),(0,Pt.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle text-yellow-500 mr-2 mt-1"}),(0,Pt.jsxs)("div",{className:"text-sm text-yellow-700",children:[(0,Pt.jsx)("p",{className:"font-medium",children:"Importante:"}),(0,Pt.jsxs)("ul",{className:"mt-1 list-disc list-inside",children:[(0,Pt.jsx)("li",{children:"El reverso requiere aprobacin de central"}),(0,Pt.jsx)("li",{children:"Se eliminarn todos los registros relacionados (pedidos, pagos, inventario)"}),(0,Pt.jsx)("li",{children:"Los productos se devolvern al inventario original"}),(0,Pt.jsx)("li",{children:"Esta accin no se puede deshacer una vez aprobada"})]})]})]})}),(0,Pt.jsxs)("div",{className:"flex gap-3",children:[(0,Pt.jsxs)("button",{onClick:w,disabled:c||!x.trim(),className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin mr-2"}):(0,Pt.jsx)("i",{className:"fa fa-undo mr-2"}),"Solicitar Reverso"]}),(0,Pt.jsxs)("button",{onClick:function(){r(""),i(null),v(""),_(""),f(""),m("")},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[(0,Pt.jsx)("i",{className:"fa fa-times mr-2"}),"Limpiar"]})]})]})})]}),d&&(0,Pt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-circle text-red-500 mr-2 mt-1"}),(0,Pt.jsx)("div",{className:"text-sm text-red-700",children:d})]})}),p&&(0,Pt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-4 mb-6",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle text-green-500 mr-2 mt-1"}),(0,Pt.jsx)("div",{className:"text-sm text-green-700",children:p})]})}),(0,Pt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle text-blue-500 mr-2 mt-1"}),(0,Pt.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,Pt.jsx)("p",{className:"font-medium",children:"Proceso de Reverso:"}),(0,Pt.jsxs)("ol",{className:"mt-1 list-decimal list-inside space-y-1",children:[(0,Pt.jsx)("li",{children:"Busque la solicitud de garanta por nmero"}),(0,Pt.jsx)("li",{children:"Complete el formulario de solicitud de reverso"}),(0,Pt.jsx)("li",{children:"La solicitud se enva a central para aprobacin"}),(0,Pt.jsx)("li",{children:"Una vez aprobada, se ejecuta automticamente el reverso"}),(0,Pt.jsx)("li",{children:"Se eliminan pedidos, pagos y se restaura inventario"})]})]})]})})]})})};function EE(e){return EE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EE(e)}function CE(){CE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==EE(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(EE(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function SE(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function OE(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){SE(o,n,a,i,s,"next",e)}function s(e){SE(o,n,a,i,s,"throw",e)}i(void 0)}))}}function AE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return PE(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?PE(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const DE=function(){var e=AE((0,o.useState)([]),2),t=e[0],r=e[1],n=AE((0,o.useState)(!1),2),a=n[0],i=n[1],s=AE((0,o.useState)(""),2),c=s[0],l=s[1],u=AE((0,o.useState)(""),2),d=u[0],f=u[1],h=AE((0,o.useState)(null),2),p=h[0],m=h[1],g=function(){var e=OE(CE().mark((function e(){var t,n,a;return CE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),l(""),f(""),e.prev=3,e.next=6,fetch("/garantia-reverso/listar-solicitudes-aprobadas",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(t=document.querySelector('meta[name="csrf-token"]'))||void 0===t?void 0:t.getAttribute("content"))||""}});case 6:return n=e.sent,e.next=9,n.json();case 9:(a=e.sent).success?(r(a.data||[]),a.data&&a.data.length>0?f("Se encontraron ".concat(a.data.length," solicitudes de reverso aprobadas")):f("No hay solicitudes de reverso aprobadas pendientes de ejecucin")):l(a.message||"Error al obtener las solicitudes de reverso"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error buscando solicitudes:",e.t0),l("Error al buscar las solicitudes de reverso");case 17:return e.prev=17,i(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=OE(CE().mark((function e(t){var n,a,o;return CE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),l(""),f(""),e.prev=3,e.next=6,fetch("/garantia-reverso/ejecutar-reverso-completo",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(null===(n=document.querySelector('meta[name="csrf-token"]'))||void 0===n?void 0:n.getAttribute("content"))||""},body:JSON.stringify({solicitud_reverso_id:t})});case 6:return a=e.sent,e.next=9,a.json();case 9:(o=e.sent).success?(f("Reverso ejecutado exitosamente"),r((function(e){return e.filter((function(e){return e.id!==t}))}))):l(o.message||"Error al ejecutar el reverso"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error ejecutando reverso:",e.t0),l("Error al ejecutar el reverso");case 17:return e.prev=17,m(null),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){l(""),f("")},b=function(e){try{return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return e}};return(0,Pt.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,Pt.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Pt.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 mb-6",children:(0,Pt.jsxs)("div",{className:"px-6 py-4",children:[(0,Pt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle mr-3 text-green-600"}),"Solicitudes de Reverso Aprobadas"]}),(0,Pt.jsx)("p",{className:"text-gray-600 mt-2",children:"Ejecute las solicitudes de reverso que han sido aprobadas por central."})]})}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,Pt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Pt.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:[(0,Pt.jsx)("i",{className:"fa fa-search mr-2 text-blue-600"}),"Buscar Solicitudes Aprobadas"]})}),(0,Pt.jsxs)("div",{className:"p-6",children:[(0,Pt.jsx)("div",{className:"flex justify-center",children:(0,Pt.jsxs)("button",{onClick:g,disabled:a,className:"px-8 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium",children:[a?(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin mr-2"}):(0,Pt.jsx)("i",{className:"fa fa-search mr-2"}),"Buscar Solicitudes Aprobadas"]})}),(0,Pt.jsx)("p",{className:"text-sm text-gray-600 text-center mt-3",children:"El sistema obtendr automticamente las solicitudes de reverso aprobadas para esta sucursal"})]})]}),t.length>0&&(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,Pt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-green-50",children:(0,Pt.jsxs)("h2",{className:"text-lg font-semibold text-green-900",children:[(0,Pt.jsx)("i",{className:"fa fa-list mr-2"}),"Solicitudes de Reverso Aprobadas (",t.length,")"]})}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pt.jsx)("thead",{className:"bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Solicitud Garanta"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Motivo"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Solicitud"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Aprobacin"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((function(e){return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Pt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id]}),(0,Pt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["#",e.solicitud_garantia_id]}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Pt.jsxs)("div",{className:"max-w-xs",children:[(0,Pt.jsx)("div",{className:"font-medium",children:e.motivo_solicitud}),e.detalles&&(0,Pt.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.detalles})]})}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b(e.fecha_solicitud)}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b(e.fecha_aprobacion)}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Pt.jsxs)("button",{onClick:function(){return x(e.id)},disabled:p===e.id,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[p===e.id?(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin mr-2"}):(0,Pt.jsx)("i",{className:"fa fa-play mr-2"}),p===e.id?"Ejecutando...":"Ejecutar Reverso"]})})]},e.id)}))})]})})]}),c&&(0,Pt.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-circle text-red-500 mr-2 mt-1"}),(0,Pt.jsx)("div",{className:"text-sm text-red-700",children:c})]}),(0,Pt.jsx)("button",{onClick:v,className:"text-red-400 hover:text-red-600",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]})}),d&&(0,Pt.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-4 mb-6",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle text-green-500 mr-2 mt-1"}),(0,Pt.jsx)("div",{className:"text-sm text-green-700",children:d})]}),(0,Pt.jsx)("button",{onClick:v,className:"text-green-400 hover:text-green-600",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]})}),(0,Pt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:(0,Pt.jsxs)("div",{className:"flex",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle text-blue-500 mr-2 mt-1"}),(0,Pt.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,Pt.jsx)("p",{className:"font-medium",children:"Proceso de Ejecucin de Reversos:"}),(0,Pt.jsxs)("ol",{className:"mt-1 list-decimal list-inside space-y-1",children:[(0,Pt.jsx)("li",{children:"Las solicitudes de reverso se aprueban en arabitocentral"}),(0,Pt.jsx)("li",{children:'Use el botn "Buscar Solicitudes Aprobadas" para obtener la lista actualizada'}),(0,Pt.jsx)("li",{children:'Haga click en "Ejecutar Reverso" para cada solicitud aprobada'}),(0,Pt.jsx)("li",{children:"El sistema ejecutar automticamente el reverso completo"}),(0,Pt.jsx)("li",{children:"Se eliminarn pedidos, pagos y se restaurar el inventario"}),(0,Pt.jsx)("li",{children:"La solicitud se marcar como ejecutada en central"})]})]})]})})]})})};function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function TE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IE(Object(r),!0).forEach((function(t){ME(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ME(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=BE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=BE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BE(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kE(e){return function(e){if(Array.isArray(e))return VE(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||WE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RE(){RE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==BE(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(BE(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function BE(e){return BE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BE(e)}function LE(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function FE(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){LE(o,n,a,i,s,"next",e)}function s(e){LE(o,n,a,i,s,"throw",e)}i(void 0)}))}}function UE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||WE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WE(e,t){if(e){if("string"==typeof e)return VE(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VE(e,t):void 0}}function VE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function zE(e){if(!e)return"bg-gray-200 text-gray-700";var t=String(e).toUpperCase();return"DAADO"===t?"bg-red-200 text-red-800 font-semibold":"RECUPERADO"===t?"bg-green-200 text-green-800 font-semibold":"TRANSFERIDO_AL_PROVEEDOR"===t?"bg-amber-200 text-amber-800 font-semibold":"DEVOLUCION"===t?"bg-blue-200 text-blue-800 font-semibold":"DISPONIBLE_EN_TIENDA"===t?"bg-emerald-200 text-emerald-800 font-semibold":"bg-gray-200 text-gray-700 font-medium"}function KE(e){if(!e)return"";var t=String(e).toUpperCase();return"DAADO"===t?"Daado":"RECUPERADO"===t?"Recuperado":"TRANSFERIDO_AL_PROVEEDOR"===t?"Transf. proveedor":"DEVOLUCION"===t?"Devolucin":"DISPONIBLE_EN_TIENDA"===t?"Disp. tienda":e}function GE(e){var t,r,n,a,i,s,c,l,u,d,f,h=e.sucursalConfig,p=e.db,m=UE((0,o.useState)([]),2),g=m[0],x=m[1],v=UE((0,o.useState)(!1),2),b=v[0],y=v[1],_=UE((0,o.useState)([]),2),j=_[0],w=_[1],N=UE((0,o.useState)([]),2),E=N[0],C=N[1],S=UE((0,o.useState)([]),2),O=S[0],A=S[1],P=UE((0,o.useState)(!1),2),D=P[0],I=P[1],T=UE((0,o.useState)(null),2),M=T[0],k=T[1],R=UE((0,o.useState)({}),2),B=R[0],L=R[1],F=UE((0,o.useState)({}),2),U=F[0],W=F[1],V=UE((0,o.useState)([]),2),z=V[0],K=V[1],G=UE((0,o.useState)(""),2),q=G[0],H=G[1],$=UE((0,o.useState)(""),2),Y=$[0],X=$[1],Q=UE((0,o.useState)(""),2),Z=Q[0],J=Q[1],ee=UE((0,o.useState)(""),2),te=ee[0],re=ee[1],ne=UE((0,o.useState)(""),2),ae=ne[0],oe=ne[1],ie=UE((0,o.useState)(""),2),se=ie[0],ce=ie[1],le=UE((0,o.useState)(""),2),ue=le[0],de=le[1],fe=UE((0,o.useState)(""),2),he=fe[0],pe=fe[1],me=UE((0,o.useState)(""),2),ge=me[0],xe=me[1],ve=UE((0,o.useState)(""),2),be=ve[0],ye=ve[1],_e=UE((0,o.useState)([]),2),je=_e[0],we=_e[1],Ne=UE((0,o.useState)(""),2),Ee=Ne[0],Ce=Ne[1],Se=UE((0,o.useState)(""),2),Oe=Se[0],Ae=Se[1],Pe=UE((0,o.useState)(null),2),De=Pe[0],Ie=Pe[1],Te=UE((0,o.useState)(1),2),Me=Te[0],ke=Te[1],Re=UE((0,o.useState)(""),2),Be=Re[0],Le=Re[1],Fe=UE((0,o.useState)(""),2),Ue=Fe[0],We=Fe[1],Ve=String((null==h?void 0:h.codigo)||Ue||"").trim().toLowerCase(),ze=function(e){return String(e||"").trim().toLowerCase()},Ke=O.find((function(e){return ze(e.codigo)===Ve})),Ge=null!=Ke&&Ke.id?String(Ke.id):"",qe=z.some((function(e){return"DISPONIBLE_EN_TIENDA"===String(e.tipo_inventario_destino||"").toUpperCase()})),He=z.some((function(e){return"TRANSFERIDO_AL_PROVEEDOR"===String(e.tipo_inventario_destino||"").toUpperCase()})),$e=qe||He,Ye=z.length>0?{origen:z[0].tipo_inventario_origen,destino:z[0].tipo_inventario_destino}:null;(0,o.useEffect)((function(){Ze(),Je(),et(),null!=p&&p.getProveedoresGarantia&&p.getProveedoresGarantia().then((function(e){var t=null==e?void 0:e.data;null!=t&&t.success&&Array.isArray(null==t?void 0:t.data)&&we(t.data)})).catch((function(){return we([])}))}),[]),(0,o.useEffect)((function(){$e&&Ge&&q!==Ge&&H(Ge)}),[$e,Ge,q]),(0,o.useEffect)((function(){var e;if(null!=M&&M.id){var t=null!==(e=null==M?void 0:M.sucursal_destino)&&void 0!==e?e:null==M?void 0:M.sucursalDestino,r="ACEPTADA"===M.estado&&ze(null==t?void 0:t.codigo)===Ve&&!M.devolucion_proveedor_confirmada_at,n=(M.items||[]).filter((function(e){return"TRANSFERIDO_AL_PROVEEDOR"===String(e.tipo_inventario_destino||"").toUpperCase()}));if(r&&n.length>0){var a={},o={};n.forEach((function(e){a[e.id]="DISPONIBLE_EN_TIENDA",o[e.id]=e.cantidad})),L(a),W(o)}else L({}),W({})}}),[null==M?void 0:M.id,null==M?void 0:M.estado,null==M?void 0:M.devolucion_proveedor_confirmada_at,null==M?void 0:M.items,Ve]),(0,o.useEffect)((function(){null!=p&&p.checkGarantiaConnection&&p.checkGarantiaConnection().then((function(e){var t,r=null==e||null===(t=e.data)||void 0===t?void 0:t.sucursal_codigo;r&&We(String(r).trim())})).catch((function(){}))}),[p]);var Xe,Qe,Ze=function(){var e=FE(RE().mark((function e(){var t,r,n,a,o,i,s,c,l=arguments;return RE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:null,null!=p&&p.getOrdenesTransferenciaGarantia){e.next=3;break}return e.abrupt("return");case 3:return y(!0),e.prev=4,null==t||"object"!==BE(t)||Array.isArray(t)?(o={},Z&&(o.estado=String(Z)),te&&(o.fecha_desde=String(te)),ae&&(o.fecha_hasta=String(ae)),se&&(o.sucursal_destino_id=Number(se)),ue&&(o.tipo_inventario_destino=String(ue)),he&&(o.tipo_inventario_origen=String(he)),ge&&(o.proveedor_id=Number(ge)),null!=be&&be.trim()&&(o.producto_search=String(be.trim()))):(o={},null!=t.estado&&(o.estado=String(t.estado)),null!=t.fecha_desde&&(o.fecha_desde=String(t.fecha_desde)),null!=t.fecha_hasta&&(o.fecha_hasta=String(t.fecha_hasta)),null!=t.sucursal_destino_id&&(o.sucursal_destino_id=Number(t.sucursal_destino_id)),null!=t.tipo_inventario_destino&&(o.tipo_inventario_destino=String(t.tipo_inventario_destino)),null!=t.tipo_inventario_origen&&(o.tipo_inventario_origen=String(t.tipo_inventario_origen)),null!=t.proveedor_id&&(o.proveedor_id=Number(t.proveedor_id)),null!=t.producto_search&&(o.producto_search=String(t.producto_search))),e.next=8,p.getOrdenesTransferenciaGarantia(o);case 8:i=e.sent,null!=(s=null!==(r=null==i?void 0:i.data)&&void 0!==r?r:{}).sucursal_codigo_actual&&""!==s.sucursal_codigo_actual&&We(String(s.sucursal_codigo_actual).trim()),c=null!==(n=null==s?void 0:s.data)&&void 0!==n?n:s,x(Array.isArray(c)?c:null!==(a=null==c?void 0:c.data)&&void 0!==a?a:[]),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0),x([]);case 19:return e.prev=19,y(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,15,19,22]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=FE(RE().mark((function e(){var t,r,n,a;return RE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=p&&p.tiposInventarioTransferenciaGarantia){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,p.tiposInventarioTransferenciaGarantia();case 5:n=e.sent,a=null!==(t=null==n||null===(r=n.data)||void 0===r?void 0:r.data)&&void 0!==t?t:null==n?void 0:n.data,C(Array.isArray(a)?a:[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),C([]);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=FE(RE().mark((function e(){var t,r,n,a;return RE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=p&&p.getSucursales){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,p.getSucursales({});case 5:n=e.sent,a=null!==(t=null==n||null===(r=n.data)||void 0===r?void 0:r.msj)&&void 0!==t?t:null==n?void 0:n.msj,A(Array.isArray(a)?a:[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),A([]);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=FE(RE().mark((function e(){var t,r,n,a,o,i,s=arguments;return RE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},null!=p&&p.inventarioDisponibleTransferenciaGarantia){e.next=3;break}return e.abrupt("return");case 3:return y(!0),e.prev=4,e.next=7,p.inventarioDisponibleTransferenciaGarantia(t);case 7:a=e.sent,o=null!==(r=null==a||null===(n=a.data)||void 0===n?void 0:n.data)&&void 0!==r?r:null==a?void 0:a.data,i=Array.isArray(o)?o:[],w(i.filter((function(e){return"DISPONIBLE_EN_TIENDA"!==String(e.tipo_inventario||"").toUpperCase()}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),w([]);case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=(Oe||"").trim();tt(e?{producto_search:e}:{})},nt=function(){var e=FE(RE().mark((function e(){var t,r,n,a,o,i,s,c,l;return RE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$e?Ge:q,!$e||Ge){e.next=4;break}return alert("No se pudo identificar su sucursal. Con Disponible en tienda o Transferido al proveedor el destino debe ser su misma sucursal."),e.abrupt("return");case 4:if(t&&0!==z.length){e.next=7;break}return alert("Seleccione sucursal destino y al menos un tem."),e.abrupt("return");case 7:return y(!0),e.prev=8,o={sucursal_destino_id:parseInt(t,10),observaciones:Y,usuario_creacion_nombre:"Usuario",items:z.map((function(e){return{producto_id:e.producto_id,tipo_inventario_origen:e.tipo_inventario_origen,tipo_inventario_destino:e.tipo_inventario_destino,cantidad:e.cantidad}}))},He&&Ee&&(o.proveedor_id=parseInt(Ee,10)),e.next=13,p.createOrdenTransferenciaGarantia(o);case 13:i=e.sent,s=null!==(r=null==i||null===(n=i.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.id)&&void 0!==r?r:null==i||null===(a=i.data)||void 0===a?void 0:a.id,alert("Orden creada. Pendiente de aprobacin en central."),I(!1),Ce(""),Ze(),s&&(c="".concat(window.location.origin,"/reportes/transferencia-garantia/").concat(s),window.open(c,"_blank","noopener,noreferrer")),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(8),alert("Error: "+((null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)||e.t0.message));case 25:return e.prev=25,y(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[8,22,25,28]])})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=FE(RE().mark((function e(t){var r;return RE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.id){e.next=2;break}return e.abrupt("return");case 2:if(confirm("Aceptar esta orden? Se descontar en origen y sumar en su sucursal (todos los tems pendientes).")){e.next=4;break}return e.abrupt("return");case 4:return y(!0),e.prev=5,e.next=8,p.aceptarOrdenTransferenciaGarantia(t.id,{sucursal_destino_codigo:Ve,usuario_aceptacion_nombre:"Usuario"});case 8:alert("Orden aceptada correctamente."),k(null),Ze(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),alert("Error: "+((null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||e.t0.message));case 16:return e.prev=16,y(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=FE(RE().mark((function e(t,r){var n,a,o,i,s;return RE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.id&&null!=r&&r.id&&null!=p&&p.recibirItemTransferenciaGarantia){e.next=2;break}return e.abrupt("return");case 2:if(a=Number(null!==(n=r.cantidad_recibida)&&void 0!==n?n:0),!(r.cantidad-a<=0)){e.next=6;break}return e.abrupt("return");case 6:return y(!0),e.prev=7,e.next=10,p.recibirItemTransferenciaGarantia(t.id,{item_id:r.id,usuario_aceptacion_nombre:"Usuario"});case 10:o=e.sent,null!=(i=null==o?void 0:o.data)&&i.data&&k(i.data),null!=i&&i.orden_completa?(alert("Recepcin registrada. Orden totalmente recibida."),k(null)):alert("Recepcin del tem registrada."),Ze(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),alert("Error: "+((null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.message)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)||e.t0));case 20:return e.prev=20,y(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[7,17,20,23]])})));return function(t,r){return e.apply(this,arguments)}}(),it=function(){var e=FE(RE().mark((function e(t){var r,n,a,o;return RE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.getOrdenTransferenciaGarantia(t);case 3:a=e.sent,o=null!==(r=null==a||null===(n=a.data)||void 0===n?void 0:n.data)&&void 0!==r?r:null==a?void 0:a.data,k(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k(null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=FE(RE().mark((function e(){var t,r,n,a,o,i,s,c;return RE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=M)&&t.id&&null!=p&&p.confirmarDevolucionProveedorTransferenciaGarantia){e.next=3;break}return e.abrupt("return");case 3:if(0!==(r=(t.items||[]).filter((function(e){return"TRANSFERIDO_AL_PROVEEDOR"===String(e.tipo_inventario_destino||"").toUpperCase()}))).length){e.next=7;break}return alert("No hay tems con destino Transferido al proveedor."),e.abrupt("return");case 7:return n=r.map((function(e){var t,r=null!==(t=B[e.id])&&void 0!==t?t:"DISPONIBLE_EN_TIENDA",n=parseInt(U[e.id],10);return(isNaN(n)||n<1)&&(n=e.cantidad),n=Math.min(n,e.cantidad),{item_id:e.id,nuevo_tipo:ct.includes(r)?r:"DISPONIBLE_EN_TIENDA",cantidad:n}})),y(!0),e.prev=9,e.next=12,p.confirmarDevolucionProveedorTransferenciaGarantia(t.id,{items:n,usuario_nombre:"Usuario"});case 12:return alert("Devolucin por proveedor confirmada."),L({}),W({}),e.next=17,p.getOrdenTransferenciaGarantia(t.id);case 17:i=e.sent,(s=null!==(a=null==i||null===(o=i.data)||void 0===o?void 0:o.data)&&void 0!==a?a:null==i?void 0:i.data)&&k(s),null!=s&&s.devolucion_proveedor_confirmada_at&&k(null),Ze({}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(9),alert("Error: "+((null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.message)||(null===e.t0||void 0===e.t0?void 0:e.t0.message)||e.t0));case 27:return e.prev=27,y(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[9,24,27,30]])})));return function(){return e.apply(this,arguments)}}(),ct=["DISPONIBLE_EN_TIENDA","RECUPERADO","DAADO","DEVOLUCION"],lt=function(e){return{DISPONIBLE_EN_TIENDA:"Disponible en tienda",RECUPERADO:"Recuperado",DAADO:"Daado",DEVOLUCION:"Devolucin"}[e]||e},ut=(E||[]).filter((function(e){return"TRANSFERIDO_AL_PROVEEDOR"!==String(e).toUpperCase()})),dt=(ut.length,(E||[]).filter((function(e){return"DEVOLUCION"!==String(e).toUpperCase()}))),ft=Ye?Ye.destino:dt.includes(Be)?Be:dt[0]||"",ht=function(e){var t,r;return null!==(t=null!==(r=null==e?void 0:e.sucursal_destino)&&void 0!==r?r:null==e?void 0:e.sucursalDestino)&&void 0!==t?t:null},pt=function(e){var t,r;return null!==(t=null!==(r=null==e?void 0:e.sucursal_origen)&&void 0!==r?r:null==e?void 0:e.sucursalOrigen)&&void 0!==t?t:null},mt=function(e){var t;return ze(null===(t=ht(e))||void 0===t?void 0:t.codigo)===Ve},gt=function(e){return"APROBADA"===(null==e?void 0:e.estado)&&mt(e)},xt=function(e){return ze(null===(t=pt(e))||void 0===t?void 0:t.codigo)===Ve?{label:"Enviada por m",badge:"bg-blue-100 text-blue-800"}:mt(e)?"ACEPTADA"===e.estado?{label:"Recibida",badge:"bg-green-100 text-green-800"}:{label:"Para recibir",badge:"bg-amber-100 text-amber-800"}:{label:"",badge:"bg-gray-100 text-gray-600"};var t};return(0,Pt.jsxs)("div",{className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"flex flex-wrap items-center gap-2 justify-between",children:[(0,Pt.jsx)("h2",{className:"text-lg font-semibold",children:"Transferencia de Garanta"}),(0,Pt.jsx)("button",{type:"button",className:"bg-green-600 text-white px-3 py-1.5 rounded text-sm",onClick:function(){K([]),H(""),X(""),Ae(""),Ie(null),w([]),I(!0)},children:"Nueva orden"})]}),(0,Pt.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[(0,Pt.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filtros"}),(0,Pt.jsxs)("div",{className:"flex flex-wrap items-end gap-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Estado"}),(0,Pt.jsxs)("select",{className:"border rounded px-3 py-2 text-sm min-w-[160px]",value:Z,onChange:function(e){return J(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todos"}),(0,Pt.jsx)("option",{value:"PENDIENTE_APROBACION",children:"Pendiente aprobacin"}),(0,Pt.jsx)("option",{value:"APROBADA",children:"Aprobada"}),(0,Pt.jsx)("option",{value:"ACEPTADA",children:"Aceptada"}),(0,Pt.jsx)("option",{value:"RECHAZADA",children:"Rechazada"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Sucursal destino"}),(0,Pt.jsxs)("select",{className:"border rounded px-3 py-2 text-sm min-w-[160px]",value:se,onChange:function(e){return ce(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todas"}),O.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre||e.codigo},e.id)}))]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Tipo destino"}),(0,Pt.jsxs)("select",{className:"border rounded px-3 py-2 text-sm min-w-[180px]",value:ue,onChange:function(e){return de(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todos"}),(0,Pt.jsx)("option",{value:"DISPONIBLE_EN_TIENDA",children:"Disponible en tienda"}),(0,Pt.jsx)("option",{value:"DAADO",children:"Daado"}),(0,Pt.jsx)("option",{value:"RECUPERADO",children:"Recuperado"}),(0,Pt.jsx)("option",{value:"TRANSFERIDO_AL_PROVEEDOR",children:"Transferido a proveedor"}),(0,Pt.jsx)("option",{value:"DEVOLUCION",children:"Devolucin"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Tipo origen"}),(0,Pt.jsxs)("select",{className:"border rounded px-3 py-2 text-sm min-w-[180px]",value:he,onChange:function(e){return pe(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todos"}),(0,Pt.jsx)("option",{value:"DISPONIBLE_EN_TIENDA",children:"Disponible en tienda"}),(0,Pt.jsx)("option",{value:"DAADO",children:"Daado"}),(0,Pt.jsx)("option",{value:"RECUPERADO",children:"Recuperado"}),(0,Pt.jsx)("option",{value:"TRANSFERIDO_AL_PROVEEDOR",children:"Transferido a proveedor"}),(0,Pt.jsx)("option",{value:"DEVOLUCION",children:"Devolucin"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Proveedor"}),(0,Pt.jsxs)("select",{className:"border rounded px-3 py-2 text-sm min-w-[180px]",value:ge,onChange:function(e){return xe(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Todos"}),je.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.descripcion||e.nombre||e.id},e.id)}))]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Fecha desde"}),(0,Pt.jsx)("input",{type:"date",className:"border rounded px-3 py-2 text-sm",value:te,onChange:function(e){return re(e.target.value)}})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Fecha hasta"}),(0,Pt.jsx)("input",{type:"date",className:"border rounded px-3 py-2 text-sm",value:ae,onChange:function(e){return oe(e.target.value)}})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"tem (cdigo o descripcin)"}),(0,Pt.jsx)("input",{type:"text",className:"border rounded px-3 py-2 text-sm w-48",placeholder:"Buscar por tem...",value:be,onChange:function(e){return ye(e.target.value)}})]}),(0,Pt.jsx)("button",{type:"button",className:"bg-blue-600 text-white px-4 py-2 rounded text-sm",onClick:Ze,disabled:b,children:b?"Cargando...":"Buscar"}),(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 border rounded text-sm",onClick:function(){J(""),re(""),oe(""),ce(""),de(""),pe(""),xe(""),ye(""),Ze({})},children:"Limpiar"})]})]}),!Ve&&g.length>0&&(0,Pt.jsx)("p",{className:"text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded px-3 py-2 mb-2",children:'Cargando cdigo de tu sucursal Si ves rdenes aqu, en el servidor ya se reconoce tu sucursal; el botn "Aceptar orden" debera mostrarse en un momento. Si no aparece, pulsa "Buscar".'}),Ve&&(Qe=g.filter((function(e){return gt(e)})),0===Qe.length?null:(0,Pt.jsxs)("div",{className:"mb-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,Pt.jsxs)("p",{className:"text-sm font-medium text-green-800",children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle mr-2"}),"Tienes ",Qe.length," orden(es) aprobada(s) por central pendiente(s) de aceptar. Como sucursal destino, acepta la orden para que los inventarios se recarguen."]}),(0,Pt.jsx)("p",{className:"text-xs text-green-700 mt-1",children:'Usa el botn "Aceptar orden" en la fila o abre "Ver" y acepta desde el detalle.'})]})),b&&(0,Pt.jsx)("p",{className:"text-sm text-gray-500",children:"Cargando..."}),(0,Pt.jsx)("div",{className:"overflow-x-auto border rounded",children:(0,Pt.jsxs)("table",{className:"w-full border text-sm table-fixed",style:{minWidth:"850px"},children:[(0,Pt.jsxs)("colgroup",{children:[(0,Pt.jsx)("col",{style:{width:"50px"}}),(0,Pt.jsx)("col",{style:{width:"90px"}}),(0,Pt.jsx)("col",{style:{width:"130px"}}),(0,Pt.jsx)("col",{style:{width:"130px"}}),(0,Pt.jsx)("col",{style:{width:"95px"}}),(0,Pt.jsx)("col",{style:{width:"95px"}}),(0,Pt.jsx)("col",{style:{width:"100px"}}),(0,Pt.jsx)("col",{style:{width:"100px"}}),(0,Pt.jsx)("col",{style:{width:"90px"}}),(0,Pt.jsx)("col",{style:{width:"120px"}}),(0,Pt.jsx)("col",{style:{width:"120px"}})]}),(0,Pt.jsx)("thead",{className:"bg-gray-100",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-left p-2",children:"#"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Mi rol"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Origen"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Destino"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Tipo origen"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Tipo destino"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Proveedor"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Estado"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Fecha"}),(0,Pt.jsx)("th",{className:"text-left p-2",children:"Acciones"})]})}),(0,Pt.jsx)("tbody",{children:g.map((function(e){var t,r,n,a,o,i,s,c,l,u,d=xt(e),f=null===(t=e.items)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.tipo_inventario_origen,h=null===(r=e.items)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.tipo_inventario_destino;return(0,Pt.jsxs)("tr",{className:"border-t",children:[(0,Pt.jsx)("td",{className:"p-2",children:e.id}),(0,Pt.jsx)("td",{className:"p-2",children:(0,Pt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat(d.badge),children:d.label})}),(0,Pt.jsx)("td",{className:"p-2 overflow-hidden",children:(0,Pt.jsx)("span",{className:"block truncate max-w-full",title:null!==(n=null===(a=pt(e))||void 0===a?void 0:a.nombre)&&void 0!==n?n:"",children:null!==(o=null===(i=pt(e))||void 0===i?void 0:i.nombre)&&void 0!==o?o:e.sucursal_origen_id})}),(0,Pt.jsx)("td",{className:"p-2 overflow-hidden",children:(0,Pt.jsx)("span",{className:"block truncate max-w-full",title:null!==(s=null===(c=ht(e))||void 0===c?void 0:c.nombre)&&void 0!==s?s:"",children:null!==(l=null===(u=ht(e))||void 0===u?void 0:u.nombre)&&void 0!==l?l:e.sucursal_destino_id})}),(0,Pt.jsx)("td",{className:"p-2 overflow-hidden",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-xs ".concat(zE(f)),title:f,children:KE(f)})}),(0,Pt.jsx)("td",{className:"p-2 overflow-hidden",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-xs ".concat(zE(h)),title:h,children:KE(h)})}),(0,Pt.jsx)("td",{className:"p-2 overflow-hidden",children:e.proveedor?(0,Pt.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-xs bg-amber-100 text-amber-800 font-medium",title:e.proveedor.rif||"",children:e.proveedor.descripcion||e.proveedor.id}):(0,Pt.jsx)("span",{className:"text-gray-400",children:""})}),(0,Pt.jsx)("td",{className:"p-2 overflow-hidden",children:(0,Pt.jsx)("span",{className:"px-2 py-0.5 rounded text-xs truncate inline-block max-w-full ".concat("ACEPTADA"===e.estado?"bg-green-200":"APROBADA"===e.estado?"bg-blue-200":"RECHAZADA"===e.estado?"bg-red-200":"bg-yellow-200"),title:e.estado,children:e.estado})}),(0,Pt.jsx)("td",{className:"p-2",children:e.created_at?new Date(e.created_at).toLocaleDateString():""}),(0,Pt.jsxs)("td",{className:"p-2 whitespace-nowrap",children:[(0,Pt.jsx)("button",{type:"button",className:"text-blue-600 mr-2",onClick:function(){return it(e.id)},children:"Ver"}),(0,Pt.jsx)("a",{href:"/reportes/transferencia-garantia/".concat(e.id),target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:underline mr-2",children:"Reporte"}),gt(e)&&(0,Pt.jsx)("button",{type:"button",className:"bg-green-600 text-white px-2 py-1 rounded text-xs font-medium",onClick:function(){return at(e)},title:"Aceptar y recargar inventario",children:"Aceptar orden"})]})]},e.id)}))})]})}),0===g.length&&!b&&(0,Pt.jsx)("p",{className:"text-gray-500 text-sm",children:"No hay rdenes."}),D&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-auto p-5",children:[(0,Pt.jsx)("h3",{className:"font-semibold mb-3 text-lg",children:"Nueva orden de transferencia"}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500 mb-3",children:["Origen: esta sucursal (",Ve||"configure cdigo",")"]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Sucursal destino *"}),$e?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("div",{className:"w-full border rounded px-2 py-1.5 bg-gray-100 text-gray-700",children:["Mi sucursal (",(null==Ke?void 0:Ke.nombre)||(null==Ke?void 0:Ke.codigo)||Ve,")  obligatorio para Disponible en tienda o Transferido al proveedor"]}),(0,Pt.jsx)("input",{type:"hidden",value:Ge,readOnly:!0})]}):(0,Pt.jsxs)("select",{className:"w-full border rounded px-2 py-1.5",value:q,onChange:function(e){return H(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione"}),O.filter((function(e){return ze(e.codigo)!==Ve})).map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.nombre||e.codigo},e.id)}))]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Observaciones"}),(0,Pt.jsx)("input",{className:"w-full border rounded px-2 py-1.5",value:Y,onChange:function(e){return X(e.target.value)},placeholder:"Opcional"})]}),He&&(0,Pt.jsxs)("div",{className:"md:col-span-2",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Proveedor (transferido a proveedor)"}),(0,Pt.jsxs)("select",{className:"w-full border rounded px-2 py-1.5 max-w-md",value:Ee,onChange:function(e){return Ce(e.target.value)},children:[(0,Pt.jsx)("option",{value:"",children:"Seleccione proveedor (opcional)"}),je.map((function(e){return(0,Pt.jsx)("option",{value:e.id,children:e.descripcion||e.nombre||e.id},e.id)}))]})]})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Inventario disponible (agregar tems)"}),Ye&&(0,Pt.jsxs)("p",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded px-2 py-1.5 mb-2",children:["Todos los tems deben ser mismo origen y mismo destino. Origen: ",(0,Pt.jsx)("strong",{children:Ye.origen}),"  Destino: ",(0,Pt.jsx)("strong",{children:Ye.destino})]}),(0,Pt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Pt.jsx)("input",{className:"flex-1 border rounded px-3 py-2",placeholder:"Buscar por cdigo o descripcin...",value:Oe,onChange:function(e){return Ae(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&rt()}}),(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 bg-blue-600 text-white rounded",onClick:rt,disabled:b,children:b?"Buscando...":"Buscar"})]}),(0,Pt.jsxs)("div",{className:"border rounded p-2 max-h-48 overflow-y-auto space-y-1 bg-gray-50",children:[0===j.length&&!b&&(0,Pt.jsx)("p",{className:"text-gray-500 text-sm py-2",children:"Escriba y pulse Buscar o Enter para buscar tems."}),(Ye?j.filter((function(e){return String(e.tipo_inventario||"").toUpperCase()===String(Ye.origen||"").toUpperCase()})):j).map((function(e,t){var r,n,a,o,i;return(0,Pt.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm py-2 px-2 rounded cursor-pointer hover:bg-blue-50 ".concat(De===e?"bg-blue-100 ring-1 ring-blue-300":""),onClick:function(){Ie(e),ke(1),Le(Ye?Ye.destino:e.tipo_inventario||E[0]||"")},children:[(0,Pt.jsx)("span",{className:"flex-1 font-medium",children:null!==(r=null===(n=e.producto)||void 0===n?void 0:n.descripcion)&&void 0!==r?r:e.producto_id}),(0,Pt.jsxs)("span",{className:"text-gray-600 text-xs",children:["Cd. proveedor: ",(null===(a=e.producto)||void 0===a?void 0:a.codigo_proveedor)||""]}),(null===(o=e.producto)||void 0===o?void 0:o.codigo_barras)&&(0,Pt.jsxs)("span",{className:"text-gray-500 text-xs ml-1",children:["| ",e.producto.codigo_barras]}),(0,Pt.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs ".concat(zE(e.tipo_inventario)),title:"Tipo origen",children:["Origen: ",e.tipo_inventario]}),(0,Pt.jsxs)("span",{className:"text-green-600",children:["Disp: ",null!==(i=e.cantidad_disponible)&&void 0!==i?i:0]}),(0,Pt.jsx)("button",{type:"button",className:"bg-gray-200 hover:bg-gray-300 px-2 py-0.5 rounded text-xs",onClick:function(t){t.stopPropagation(),Ie(e),ke(1),Le(Ye?Ye.destino:e.tipo_inventario||E[0]||"")},children:"Seleccionar"})]},t)}))]}),De&&(0,Pt.jsxs)("div",{className:"mt-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Pt.jsx)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Producto seleccionado"}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-800 mb-3",children:[(0,Pt.jsx)("span",{className:"font-medium",children:null!==(t=null===(r=De.producto)||void 0===r?void 0:r.descripcion)&&void 0!==t?t:De.producto_id}),(null===(n=De.producto)||void 0===n?void 0:n.codigo_proveedor)&&(0,Pt.jsxs)("span",{className:"text-gray-600 ml-2",children:[" Cd. proveedor: ",De.producto.codigo_proveedor]}),(0,Pt.jsxs)("span",{className:"ml-2 inline-flex items-center",children:[(0,Pt.jsxs)("span",{className:"px-2 py-0.5 rounded text-xs ".concat(zE(De.tipo_inventario)),children:["Origen: ",De.tipo_inventario]}),(0,Pt.jsxs)("span",{className:"text-gray-500 ml-2",children:[" Disponible: ",null!==(a=De.cantidad_disponible)&&void 0!==a?a:0]})]})]}),(0,Pt.jsxs)("div",{className:"flex flex-wrap items-end gap-4",children:[(0,Pt.jsxs)("div",{className:"min-w-[140px]",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo destino"}),Ye?(0,Pt.jsx)("div",{className:"border border-gray-300 rounded-md px-3 py-2 text-sm bg-gray-100 text-gray-700",children:Ye.destino}):(0,Pt.jsx)("select",{className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",value:ft,onChange:function(e){return Le(e.target.value)},children:dt.map((function(e){return(0,Pt.jsx)("option",{value:e,children:e},e)}))})]}),(0,Pt.jsxs)("div",{className:"min-w-[120px]",children:[(0,Pt.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cantidad ",(0,Pt.jsxs)("span",{className:"text-gray-500 font-normal",children:["(mx. ",null!==(i=De.cantidad_disponible)&&void 0!==i?i:0,")"]})]}),(0,Pt.jsx)("input",{type:"number",min:1,max:null!==(s=De.cantidad_disponible)&&void 0!==s?s:1,className:"w-full border border-gray-300 rounded-md px-3 py-2 font-medium",value:Me,onChange:function(e){var t;return ke(Math.max(1,Math.min(null!==(t=De.cantidad_disponible)&&void 0!==t?t:1,parseInt(e.target.value,10)||1)))}})]}),(0,Pt.jsxs)("div",{className:"flex gap-2",children:[(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700",onClick:function(){return function(e,t,r){var n,a=Math.min(parseInt(t,10)||0,null!==(n=e.cantidad_disponible)&&void 0!==n?n:0);if(!(a<=0)){var o=e.tipo_inventario,i=r||e.tipo_inventario;if(z.length>0){var s=z[0];if(String(o||"").toUpperCase()!==String(s.tipo_inventario_origen||"").toUpperCase())return void alert("Todos los tems de la orden deben tener el mismo tipo de origen. Ya tiene tems con origen "+s.tipo_inventario_origen+".");if(String(i||"").toUpperCase()!==String(s.tipo_inventario_destino||"").toUpperCase())return void alert("Todos los tems de la orden deben tener el mismo tipo de destino. Ya tiene tems con destino "+s.tipo_inventario_destino+".")}K((function(t){var r=t.findIndex((function(t){return t.producto_id===e.producto_id&&t.tipo_inventario_origen===e.tipo_inventario})),n={producto_id:e.producto_id,tipo_inventario_origen:o,tipo_inventario_destino:i,cantidad:a,producto:e.producto};if(r>=0){var s=kE(t);return s[r]=n,s}return[].concat(kE(t),[n])})),Ie(null),ke(1),Le("")}}(De,Me,ft)},children:"Agregar al carrito"}),(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md text-sm hover:bg-gray-100",onClick:function(){Ie(null),ke(1),Le("")},children:"Cancelar"})]})]})]})]}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium mb-2",children:"tems de la orden"}),(0,Pt.jsx)("div",{className:"border rounded overflow-hidden max-h-48 overflow-y-auto",children:0===z.length?(0,Pt.jsx)("p",{className:"text-sm text-gray-500 p-4 text-center",children:"No hay tems. Busque productos arriba y agregue al carrito."}):(0,Pt.jsxs)("table",{className:"w-full text-sm",children:[(0,Pt.jsx)("thead",{className:"bg-gray-100 sticky top-0",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-left p-2 font-medium text-gray-700",children:"Cdigos"}),(0,Pt.jsx)("th",{className:"text-left p-2 font-medium text-gray-700",children:"Descripcin"}),(0,Pt.jsx)("th",{className:"text-left p-2 font-medium text-gray-700",children:"Origen"}),(0,Pt.jsx)("th",{className:"text-left p-2 font-medium text-gray-700",children:"Destino"}),(0,Pt.jsx)("th",{className:"text-center p-2 font-medium text-gray-700 w-20",children:"Cant."}),(0,Pt.jsx)("th",{className:"text-right p-2 font-medium text-gray-700 w-20",children:"Accin"})]})}),(0,Pt.jsx)("tbody",{children:z.map((function(e,t){var r,n,a,o,i,s;return(0,Pt.jsxs)("tr",{className:"border-t border-gray-100 hover:bg-gray-50",children:[(0,Pt.jsxs)("td",{className:"p-2 text-gray-600 whitespace-nowrap",children:[(0,Pt.jsx)("span",{className:"text-xs",children:null!==(r=null===(n=e.producto)||void 0===n?void 0:n.codigo_barras)&&void 0!==r?r:""}),null!=(null===(a=e.producto)||void 0===a?void 0:a.codigo_proveedor)&&(0,Pt.jsx)("span",{className:"block text-xs text-gray-500",children:e.producto.codigo_proveedor})]}),(0,Pt.jsx)("td",{className:"p-2 font-medium max-w-[200px] truncate",title:null===(o=e.producto)||void 0===o?void 0:o.descripcion,children:null!==(i=null===(s=e.producto)||void 0===s?void 0:s.descripcion)&&void 0!==i?i:e.producto_id}),(0,Pt.jsx)("td",{className:"p-2",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-xs ".concat(zE(e.tipo_inventario_origen)),children:e.tipo_inventario_origen})}),(0,Pt.jsx)("td",{className:"p-2",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded text-xs ".concat(zE(e.tipo_inventario_destino)),children:e.tipo_inventario_destino})}),(0,Pt.jsx)("td",{className:"p-2 text-center font-medium",children:e.cantidad}),(0,Pt.jsx)("td",{className:"p-2 text-right",children:(0,Pt.jsx)("button",{type:"button",className:"text-red-600 hover:underline text-xs font-medium",onClick:function(){return e=t,void K((function(t){return t.filter((function(t,r){return r!==e}))}));var e},children:"Quitar"})})]},t)}))})]})})]}),(0,Pt.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 border rounded",onClick:function(){I(!1),Ce("")},children:"Cancelar"}),(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 bg-green-600 text-white rounded",onClick:nt,disabled:0===z.length||!($e?Ge:q)||b,children:"Enviar orden"})]})]})}),M&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-auto p-5",children:[(0,Pt.jsxs)("h3",{className:"font-semibold mb-2",children:["Orden #",M.id]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Origen:"})," ",null!==(c=null===(l=pt(M))||void 0===l?void 0:l.nombre)&&void 0!==c?c:M.sucursal_origen_id," | ",(0,Pt.jsx)("strong",{children:"Destino:"})," ",null!==(u=null===(d=ht(M))||void 0===d?void 0:d.nombre)&&void 0!==u?u:M.sucursal_destino_id]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Estado:"})," ",M.estado]}),(0,Pt.jsxs)("div",{className:"my-3",children:[(0,Pt.jsx)("strong",{children:"tems:"}),(0,Pt.jsxs)("table",{className:"w-full text-sm border border-gray-200 rounded mt-2",children:[(0,Pt.jsx)("thead",{className:"bg-gray-100",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-left p-2",children:"Producto"}),(0,Pt.jsx)("th",{className:"text-center p-2 w-24",children:"Recibido"}),(0,Pt.jsx)("th",{className:"text-center p-2 w-28",children:"Accin"})]})}),(0,Pt.jsx)("tbody",{children:null===(f=M.items)||void 0===f?void 0:f.map((function(e){var t,r,n,a=Number(null!==(t=e.cantidad_recibida)&&void 0!==t?t:0),o=e.cantidad-a<=0;return(0,Pt.jsxs)("tr",{className:"border-t border-gray-100",children:[(0,Pt.jsxs)("td",{className:"p-2",children:[(0,Pt.jsx)("span",{className:"font-medium",children:null!==(r=null===(n=e.producto)||void 0===n?void 0:n.descripcion)&&void 0!==r?r:e.producto_id}),(0,Pt.jsxs)("span",{className:"text-gray-500 text-xs block",children:["x",e.cantidad," (",e.tipo_inventario_origen,"  ",e.tipo_inventario_destino,")"]})]}),(0,Pt.jsx)("td",{className:"p-2 text-center",children:o?(0,Pt.jsxs)("span",{className:"text-green-700 font-medium",children:[a,"/",e.cantidad]}):(0,Pt.jsxs)("span",{children:[a,"/",e.cantidad]})}),(0,Pt.jsxs)("td",{className:"p-2 text-center",children:[gt(M)&&!o&&(0,Pt.jsx)("button",{type:"button",className:"px-2 py-1 bg-green-600 text-white rounded text-xs",onClick:function(){return ot(M,e)},disabled:b,children:"Confirmar recepcin"}),o&&(0,Pt.jsx)("span",{className:"text-green-600 text-xs",children:"Recibido"})]})]},e.id)}))})]})]}),gt(M)&&(0,Pt.jsxs)("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,Pt.jsx)("p",{className:"text-sm text-green-800 mb-2",children:"Como sucursal destino, acepta la orden para que los inventarios se recarguen."}),(0,Pt.jsx)("button",{type:"button",className:"px-3 py-1.5 bg-green-600 text-white rounded font-medium",onClick:function(){return at(M)},children:"Aceptar orden y recargar inventario"})]}),(null==M?void 0:M.devolucion_proveedor_confirmada_at)&&(0,Pt.jsx)("p",{className:"mt-2 text-sm text-green-700",children:"Devolucin por proveedor confirmada"}),function(e){if(!e||"ACEPTADA"!==e.estado||!mt(e))return!1;if(e.devolucion_proveedor_confirmada_at)return!1;var t=e.items||[];return t.length>0&&t.every((function(e){return"TRANSFERIDO_AL_PROVEEDOR"===String(e.tipo_inventario_destino||"").toUpperCase()}))}(M)&&(Xe=(M.items||[]).filter((function(e){return"TRANSFERIDO_AL_PROVEEDOR"===String(e.tipo_inventario_destino||"").toUpperCase()})),(0,Pt.jsxs)("div",{className:"mt-4 p-4 border border-amber-200 rounded-lg bg-amber-50",children:[(0,Pt.jsx)("h4",{className:"font-semibold text-amber-900 mb-2",children:"Confirmar devolucin por proveedor"}),(0,Pt.jsx)("p",{className:"text-sm text-amber-800 mb-3",children:"Indique la cantidad a confirmar y el destino final de cada tem devuelto por el proveedor."}),(0,Pt.jsxs)("table",{className:"w-full text-sm border border-amber-200 rounded mb-3",children:[(0,Pt.jsx)("thead",{className:"bg-amber-100",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-left p-2",children:"Producto"}),(0,Pt.jsx)("th",{className:"text-center p-2 w-20",children:"Cant. total"}),(0,Pt.jsx)("th",{className:"text-center p-2 w-28",children:"Cant. a confirmar"}),(0,Pt.jsx)("th",{className:"text-left p-2 min-w-[160px]",children:"Destino final"})]})}),(0,Pt.jsx)("tbody",{children:Xe.map((function(e){var t,r,n,a;return(0,Pt.jsxs)("tr",{className:"border-t border-amber-100",children:[(0,Pt.jsx)("td",{className:"p-2",children:null!==(t=null===(r=e.producto)||void 0===r?void 0:r.descripcion)&&void 0!==t?t:e.producto_id}),(0,Pt.jsx)("td",{className:"p-2 text-center font-medium",children:e.cantidad}),(0,Pt.jsx)("td",{className:"p-2",children:(0,Pt.jsx)("input",{type:"number",min:1,max:e.cantidad,className:"w-full border border-amber-300 rounded px-2 py-1 text-sm text-center",value:null!==(n=U[e.id])&&void 0!==n?n:e.cantidad,onChange:function(t){return W((function(r){return TE(TE({},r),{},ME({},e.id,t.target.value))}))}})}),(0,Pt.jsx)("td",{className:"p-2",children:(0,Pt.jsx)("select",{className:"w-full border border-amber-300 rounded px-2 py-1.5 text-sm",value:null!==(a=B[e.id])&&void 0!==a?a:"DISPONIBLE_EN_TIENDA",onChange:function(t){return L((function(r){return TE(TE({},r),{},ME({},e.id,t.target.value))}))},children:ct.map((function(e){return(0,Pt.jsx)("option",{value:e,children:lt(e)},e)}))})})]},e.id)}))})]}),(0,Pt.jsx)("button",{type:"button",className:"px-4 py-2 bg-amber-600 text-white rounded text-sm",onClick:st,disabled:b,children:b?"Procesando...":"Confirmar devolucin"})]})),(0,Pt.jsx)("a",{href:M?"/reportes/transferencia-garantia/".concat(M.id):"#",target:"_blank",rel:"noopener noreferrer",className:"mt-2 ml-2 px-3 py-1.5 border rounded inline-block",children:"Ver reporte"}),(0,Pt.jsx)("button",{type:"button",className:"mt-2 ml-2 px-3 py-1.5 border rounded",onClick:function(){return k(null)},children:"Cerrar"})]})})]})}function qE(e){return qE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qE(e)}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HE(Object(r),!0).forEach((function(t){YE(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function YE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=qE(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=qE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qE(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XE(){XE=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==qE(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(qE(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function QE(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function ZE(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){QE(o,n,a,i,s,"next",e)}function s(e){QE(o,n,a,i,s,"throw",e)}i(void 0)}))}}function JE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eC(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const tC=function(){var e=JE((0,o.useState)("list"),2),t=e[0],r=e[1],n=JE((0,o.useState)("solicitar"),2),a=n[0],i=n[1],s=JE((0,o.useState)([]),2),c=s[0],l=s[1],u=JE((0,o.useState)(!1),2),d=u[0],f=u[1],h=JE((0,o.useState)(10),2),p=h[0],m=h[1],g=JE((0,o.useState)({id:1,nombre:"Sucursal Principal",central_api_url:"http://localhost:8000/api"}),2),x=g[0],v=g[1];(0,o.useEffect)((function(){b(),y()}),[]),(0,o.useEffect)((function(){b()}),[p]);var b=function(){var e=ZE(XE().mark((function e(){var t;return XE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,ke.A.syncGarantias({per_page:p});case 4:200===(t=e.sent).status&&t.data.success&&l(t.data.garantias||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al cargar garantas:",e.t0);case 11:return e.prev=11,f(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=ZE(XE().mark((function e(){var t,r;return XE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.A.checkGarantiaConnection();case 3:200===(t=e.sent).status&&(r=t.data,v((function(e){var t;return $E($E({},e),{},{connected:r.connected||!1,central_url:r.central_url||e.central_api_url,codigo:null!==(t=r.sucursal_codigo)&&void 0!==t?t:e.codigo})}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar configuracin:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Pt.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Pt.jsx)("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:(0,Pt.jsx)("div",{className:"py-2 sm:py-3 md:py-4",children:(0,Pt.jsxs)("div",{className:"mb-2 sm:mb-3 md:mb-4",children:[(0,Pt.jsxs)("h1",{className:"text-lg md:text-xl font-bold text-gray-900 flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-shield-alt mr-2 text-blue-600"}),"Sistema de Garantas"]}),(0,Pt.jsx)("p",{className:"text-xs md:text-sm text-gray-600 mt-1",children:x.nombre})]})})})}),(0,Pt.jsx)("div",{className:"bg-white border-b",children:(0,Pt.jsx)("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsxs)("nav",{className:"flex items-center justify-center md:justify-start space-x-1 md:space-x-2 lg:space-x-4 bg-gray-50 rounded-lg p-1 md:p-2",children:[(0,Pt.jsxs)("button",{onClick:function(){return r("inventario")},className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-xs md:text-sm transition-all duration-200 ".concat("inventario"===t?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:[(0,Pt.jsx)("i",{className:"fa fa-warehouse text-sm"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Inventario"}),(0,Pt.jsx)("span",{className:"sm:hidden",children:"Inv"})]}),(0,Pt.jsxs)("button",{onClick:function(){return r("list")},className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-xs md:text-sm transition-all duration-200 ".concat("list"===t?"bg-white text-blue-600 shadow-sm border border-blue-200":"text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:[(0,Pt.jsx)("i",{className:"fa fa-list-alt text-sm"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Solicitudes"}),(0,Pt.jsx)("span",{className:"sm:hidden",children:"Sol"})]}),(0,Pt.jsxs)("button",{onClick:function(){return r("wizard")},className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-xs md:text-sm transition-all duration-200 ".concat("wizard"===t?"bg-white text-blue-600 shadow-sm border border-blue-200":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:[(0,Pt.jsx)("i",{className:"fa fa-plus-circle text-sm"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Nueva Garanta"}),(0,Pt.jsx)("span",{className:"sm:hidden",children:"Nueva"})]}),(0,Pt.jsxs)("button",{onClick:function(){return r("reverso")},className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-xs md:text-sm transition-all duration-200 ".concat("reverso"===t?"bg-white text-blue-600 shadow-sm border border-blue-200":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:[(0,Pt.jsx)("i",{className:"fa fa-undo text-sm"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Reverso"}),(0,Pt.jsx)("span",{className:"sm:hidden",children:"Rev"})]}),(0,Pt.jsxs)("button",{onClick:function(){return r("transferencias")},className:"flex items-center gap-2 px-3 py-2 rounded-md font-medium text-xs md:text-sm transition-all duration-200 ".concat("transferencias"===t?"bg-white text-blue-600 shadow-sm border border-blue-200":"border-transparent text-gray-600 hover:text-gray-800 hover:bg-white/50"),children:[(0,Pt.jsx)("i",{className:"fa fa-exchange-alt text-sm"}),(0,Pt.jsx)("span",{className:"hidden sm:inline",children:"Transferencia Garanta"}),(0,Pt.jsx)("span",{className:"sm:hidden",children:"Transf"})]})]}),"list"===t&&(0,Pt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Pt.jsxs)("select",{value:p,onChange:function(e){return m(parseInt(e.target.value))},className:"text-sm border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[(0,Pt.jsx)("option",{value:10,children:"10"}),(0,Pt.jsx)("option",{value:25,children:"25"}),(0,Pt.jsx)("option",{value:50,children:"50"}),(0,Pt.jsx)("option",{value:100,children:"100"}),(0,Pt.jsx)("option",{value:200,children:"200"})]})})]})})}),(0,Pt.jsxs)("div",{className:"w-full px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[d&&(0,Pt.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Pt.jsx)("span",{className:"ml-2 text-gray-600",children:"Cargando..."})]}),!d&&"list"===t&&(0,Pt.jsx)(eE,{garantias:c,onReload:b,sucursalConfig:x,db:ke.A}),!d&&"wizard"===t&&(0,Pt.jsx)(KN,{onSuccess:function(){b(),r("list")},sucursalConfig:x,db:ke.A}),!d&&"config"===t&&(0,Pt.jsx)(sE,{config:x,onSave:function(e){v(e),y()},db:ke.A}),!d&&"inventario"===t&&(0,Pt.jsx)(xE,{sucursalConfig:x}),!d&&"reverso"===t&&(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("div",{className:"mb-4 flex gap-2 border-b border-gray-200 pb-2",children:[(0,Pt.jsxs)("button",{onClick:function(){return i("solicitar")},className:"flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all ".concat("solicitar"===a?"bg-blue-100 text-blue-700 border border-blue-300":"text-gray-600 hover:bg-gray-100 border border-transparent"),children:[(0,Pt.jsx)("i",{className:"fa fa-undo text-sm"}),"Solicitar Reverso"]}),(0,Pt.jsxs)("button",{onClick:function(){return i("aprobados")},className:"flex items-center gap-2 px-4 py-2 rounded-md font-medium text-sm transition-all ".concat("aprobados"===a?"bg-blue-100 text-blue-700 border border-blue-300":"text-gray-600 hover:bg-gray-100 border border-transparent"),children:[(0,Pt.jsx)("i",{className:"fa fa-check-circle text-sm"}),"Reversos Aprobados"]})]}),"solicitar"===a&&(0,Pt.jsx)(NE,{}),"aprobados"===a&&(0,Pt.jsx)(DE,{})]}),!d&&"transferencias"===t&&(0,Pt.jsx)(GE,{sucursalConfig:x,db:ke.A})]})]})};function rC(e){return rC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rC(e)}function nC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function aC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nC(Object(r),!0).forEach((function(t){oC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=rC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rC(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iC(){iC=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==rC(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(rC(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function sC(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function cC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lC(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const uC=function(e){var t=e.onClose,r=e.onPlanillaCreated,n=e.sucursalConfig,a=e.user,i=cC((0,o.useState)({notas_generales:""}),2),c=i[0],l=i[1],u=cC((0,o.useState)(!1),2),d=u[0],f=u[1],h=cC((0,o.useState)(""),2),p=h[0],m=h[1],g=function(){var e,t=(e=iC().mark((function e(t){var o,i;return iC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f(!0),m(""),e.prev=3,e.next=6,s().post("/api/inventario-ciclico/planillas",{sucursal_codigo:null==n?void 0:n.codigo,id_usuario_creador:(null==a?void 0:a.id)||1,notas_generales:c.notas_generales});case 6:(o=e.sent).data.success?r(o.data.data):m(o.data.message||"Error al crear la planilla"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error al crear planilla:",e.t0),m((null===(i=e.t0.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)||"Error de conexin");case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){sC(o,n,a,i,s,"next",e)}function s(e){sC(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Pt.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,Pt.jsxs)("div",{className:"mt-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:[(0,Pt.jsx)("i",{className:"fa fa-plus mr-2 text-blue-600"}),"Nueva Planilla de Inventario"]}),(0,Pt.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]}),(0,Pt.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,Pt.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,Pt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Pt.jsx)("strong",{children:"Sucursal:"})," ",null==n?void 0:n.nombre]}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Pt.jsx)("strong",{children:"Cdigo:"})," ",null==n?void 0:n.codigo]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas Generales (Opcional)"}),(0,Pt.jsx)("textarea",{value:c.notas_generales,onChange:function(e){return function(e,t){l((function(r){return aC(aC({},r),{},oC({},e,t))}))}("notas_generales",e.target.value)},rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones generales sobre esta planilla..."})]}),p&&(0,Pt.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:[(0,Pt.jsx)("i",{className:"fa fa-exclamation-triangle mr-2"}),p]}),(0,Pt.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Pt.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:d,children:"Cancelar"}),(0,Pt.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",disabled:d,children:d?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin mr-2"}),"Creando..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-check mr-2"}),"Crear Planilla"]})})]})]})]})})})};function dC(e){return dC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dC(e)}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fC(Object(r),!0).forEach((function(t){pC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=dC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=dC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dC(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mC(){mC=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==dC(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(dC(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function gC(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function xC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vC(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const bC=function(e){var t=e.onPlanillaSelect,r=e.sucursalConfig,n=e.user,a=xC((0,o.useState)([]),2),i=a[0],c=a[1],l=xC((0,o.useState)(!1),2),u=l[0],d=l[1],f=xC((0,o.useState)(!1),2),h=f[0],p=f[1],m=xC((0,o.useState)({fecha_inicio:"",fecha_fin:"",estatus:"",producto_nombre:"",limit:25}),2),g=m[0],x=m[1];(0,o.useEffect)((function(){v()}),[g]);var v=function(){var e,t=(e=mC().mark((function e(){var t;return mC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,s().get("/api/inventario-ciclico/planillas",{params:g});case 4:(t=e.sent).data.success?c(t.data.data.data||[]):(console.warn("Error al cargar planillas:",t.data.message),c([])),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al cargar planillas:",e.t0),c([]),alert("Error al cargar planillas de inventario");case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,8,13,16]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){gC(o,n,a,i,s,"next",e)}function s(e){gC(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),b=function(e,t){x((function(r){return hC(hC({},r),{},pC({},e,t))}))},y=function(e){switch(e){case"Abierta":return"bg-green-100 text-green-800";case"Cerrada":return"bg-blue-100 text-blue-800";case"Cancelada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,Pt.jsxs)("div",{className:"space-y-6",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Pt.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Planillas de Inventario"}),(0,Pt.jsxs)("button",{onClick:function(){return p(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center",children:[(0,Pt.jsx)("i",{className:"fa fa-plus mr-2"}),"Nueva Planilla"]})]}),(0,Pt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[(0,Pt.jsx)("i",{className:"fa fa-filter mr-2"}),"Filtros"]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Inicio"}),(0,Pt.jsx)("input",{type:"date",value:g.fecha_inicio,onChange:function(e){return b("fecha_inicio",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha Fin"}),(0,Pt.jsx)("input",{type:"date",value:g.fecha_fin,onChange:function(e){return b("fecha_fin",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estatus"}),(0,Pt.jsxs)("select",{value:g.estatus,onChange:function(e){return b("estatus",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Pt.jsx)("option",{value:"",children:"Todos"}),(0,Pt.jsx)("option",{value:"Abierta",children:"Abierta"}),(0,Pt.jsx)("option",{value:"Cerrada",children:"Cerrada"}),(0,Pt.jsx)("option",{value:"Cancelada",children:"Cancelada"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Producto"}),(0,Pt.jsx)("input",{type:"text",placeholder:"Buscar por producto...",value:g.producto_nombre,onChange:function(e){return b("producto_nombre",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,Pt.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,Pt.jsx)("div",{className:"flex items-center space-x-4",children:(0,Pt.jsxs)("select",{value:g.limit,onChange:function(e){return b("limit",parseInt(e.target.value))},className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Pt.jsx)("option",{value:10,children:"10"}),(0,Pt.jsx)("option",{value:25,children:"25"}),(0,Pt.jsx)("option",{value:50,children:"50"})]})}),(0,Pt.jsxs)("button",{onClick:function(){x({fecha_inicio:"",fecha_fin:"",estatus:"",producto_nombre:"",limit:25})},className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:[(0,Pt.jsx)("i",{className:"fa fa-times mr-1"}),"Limpiar Filtros"]})]})]}),(0,Pt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:u?(0,Pt.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0===i.length?(0,Pt.jsxs)("div",{className:"text-center py-12",children:[(0,Pt.jsx)("i",{className:"fa fa-clipboard-list text-4xl text-gray-400 mb-4"}),(0,Pt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay planillas"}),(0,Pt.jsx)("p",{className:"text-gray-500",children:g.fecha_inicio||g.fecha_fin||g.estatus||g.producto_nombre?"No se encontraron planillas con los filtros aplicados.":"Crea tu primera planilla de inventario para comenzar."})]}):(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pt.jsx)("thead",{className:"bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Creacin"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sucursal"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estatus"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Productos"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map((function(e){var r,n,a,o,i;return(0,Pt.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:function(){return t(e)},children:[(0,Pt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.id]}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(i=e.fecha_creacion,new Date(i).toLocaleDateString("es-VE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(r=e.usuarioCreador)||void 0===r?void 0:r.usuario)||"ID: ".concat(e.id_usuario_creador)}),(0,Pt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[null===(n=e.sucursal)||void 0===n?void 0:n.codigo," - ",null===(a=e.sucursal)||void 0===a?void 0:a.nombre]}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(y(e.estatus)),children:e.estatus})}),(0,Pt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[(null===(o=e.tareas)||void 0===o?void 0:o.length)||0," productos"]}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Pt.jsx)("i",{className:"fa fa-chevron-right text-gray-400"})})]},e.id)}))})]})})}),h&&(0,Pt.jsx)(uC,{onClose:function(){return p(!1)},onPlanillaCreated:function(e){p(!1),v(),t(e)},sucursalConfig:r,user:n})]})};function yC(e){return yC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yC(e)}function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_C(Object(r),!0).forEach((function(t){wC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=yC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=yC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yC(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NC(e){return function(e){if(Array.isArray(e))return AC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||OC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EC(){EC=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==yC(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(yC(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function CC(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function SC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||OC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OC(e,t){if(e){if("string"==typeof e)return AC(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AC(e,t):void 0}}function AC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var PC=function(e){return"inventario_ciclico_pendientes_".concat(e)};const DC=function(e){var t=e.onClose,r=e.onProductoSelected,n=e.planillaId,a=(e.sucursalConfig,SC((0,o.useState)(""),2)),i=a[0],c=a[1],l=SC((0,o.useState)([]),2),u=l[0],d=l[1],f=SC((0,o.useState)(!1),2),h=f[0],p=f[1],m=SC((0,o.useState)(null),2),g=m[0],x=m[1],v=SC((0,o.useState)({cantidad_fisica:"",observaciones:""}),2),b=v[0],y=v[1],_=SC((0,o.useState)(!1),2),j=(_[0],_[1],SC((0,o.useState)(null),2)),w=j[0],N=j[1],E=function(e){localStorage.setItem(PC(n),JSON.stringify(e))};(0,o.useEffect)((function(){i.length>=2?C():d([])}),[i]);var C=function(){var e,t=(e=EC().mark((function e(){var t;return EC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,s().get("/api/inventario-ciclico/productos/buscar",{params:{termino:i,limit:20}});case 4:(t=e.sent).data.success?d(t.data.data||[]):d([]),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al buscar productos:",e.t0),d([]);case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){CC(o,n,a,i,s,"next",e)}function s(e){CC(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e||0)};return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-stretch p-2",children:(0,Pt.jsx)("div",{className:"relative mx-auto w-full max-w-4xl border shadow-lg rounded-md bg-white flex flex-col h-[100vh] max-h-[100vh]",children:(0,Pt.jsxs)("div",{className:"flex-1 min-h-0 flex flex-col p-2",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-shrink-0",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:[(0,Pt.jsx)("i",{className:"fa fa-search mr-2 text-blue-600"}),"Buscar y Agregar Producto"]}),(0,Pt.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 flex-1 min-h-0",children:[(0,Pt.jsxs)("div",{className:"flex flex-col min-h-0",children:[(0,Pt.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-1",children:"Buscar Producto"}),(0,Pt.jsx)("div",{className:"mb-2",children:(0,Pt.jsx)("input",{type:"text",placeholder:"Buscar por nombre, cdigo de barras o cdigo proveedor...",value:i,onChange:function(e){return c(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),(0,Pt.jsx)("div",{className:"border border-gray-200 rounded-md flex-1 min-h-0 overflow-y-auto",children:h?(0,Pt.jsx)("div",{className:"flex justify-center items-center py-4",children:(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):0===u.length?(0,Pt.jsx)("div",{className:"text-center py-4 text-gray-500",children:i.length>=2?"No se encontraron productos":"Ingresa al menos 2 caracteres para buscar"}):(0,Pt.jsx)("div",{className:"divide-y divide-gray-200",children:u.map((function(e){return(0,Pt.jsx)("div",{className:"p-2 cursor-pointer hover:bg-gray-50 ".concat((null==g?void 0:g.id)===e.id?"bg-blue-50 border-l-4 border-blue-500":""),onClick:function(){return function(e){var t;x(e),y({cantidad_fisica:(null===(t=e.cantidad)||void 0===t?void 0:t.toString())||"0",observaciones:""})}(e)},children:(0,Pt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsx)("h5",{className:"text-sm font-medium text-gray-900",children:e.descripcion}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Cdigo: ",e.codigo_barras]}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500",children:["Proveedor: ",e.codigo_proveedor]})]}),(0,Pt.jsxs)("div",{className:"text-right ml-4",children:[(0,Pt.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["Cant: ",e.cantidad]}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-500",children:["$",S(e.precio)]})]})]})},e.id)}))})})]}),(0,Pt.jsxs)("div",{className:"flex flex-col min-h-0 overflow-y-auto",children:[(0,Pt.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-1",children:"Detalles del Producto"}),g?(0,Pt.jsxs)("div",{className:"space-y-2",children:[(0,Pt.jsxs)("div",{className:"bg-gray-50 p-2 rounded-md",children:[(0,Pt.jsx)("h5",{className:"font-medium text-gray-900 mb-1",children:g.descripcion}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Cdigo de Barras:"}),(0,Pt.jsx)("p",{className:"font-medium",children:g.codigo_barras})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Cdigo Proveedor:"}),(0,Pt.jsx)("p",{className:"font-medium",children:g.codigo_proveedor})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Cantidad en Sistema:"}),(0,Pt.jsx)("p",{className:"font-medium",children:g.cantidad})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("span",{className:"text-gray-600",children:"Precio:"}),(0,Pt.jsxs)("p",{className:"font-medium",children:["$",S(g.precio)]})]})]})]}),(0,Pt.jsxs)("form",{onSubmit:function(e){var a;e.preventDefault(),N(null);var o=parseInt(b.cantidad_fisica,10)||0,i=function(){try{var e=localStorage.getItem(PC(n));return e?JSON.parse(e):[]}catch(e){return[]}}(),s=i.find((function(e){return e.id_producto===g.id}));if(s){var c,l=s.cantidad_fisica+o;return s.cantidad_fisica=l,s.fecha_agregado=(new Date).toISOString(),null!==(c=b.observaciones)&&void 0!==c&&c.trim()&&(s.observaciones=[s.observaciones,b.observaciones].filter(Boolean).join(" | ")),E(NC(i)),N("Producto ya estaba en la planilla. Se sumaron ".concat(o," unidades. Total en planilla: ").concat(l," unidades.")),r(g),void t()}var u={id_producto:g.id,cantidad_fisica:o,cantidad_sistema:null!==(a=g.cantidad)&&void 0!==a?a:0,fecha_agregado:(new Date).toISOString(),observaciones:b.observaciones||"",producto:{id:g.id,descripcion:g.descripcion,codigo_barras:g.codigo_barras,codigo_proveedor:g.codigo_proveedor,cantidad:g.cantidad,precio:g.precio,precio_base:g.precio_base}};E([].concat(NC(i),[u])),r(g),t()},className:"space-y-2",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad Fsica Encontrada *"}),(0,Pt.jsx)("input",{type:"number",value:b.cantidad_fisica,onChange:function(e){return y((function(t){return jC(jC({},t),{},{cantidad_fisica:e.target.value})}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",required:!0})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaciones (Opcional)"}),(0,Pt.jsx)("textarea",{value:b.observaciones,onChange:function(e){return y((function(t){return jC(jC({},t),{},{observaciones:e.target.value})}))},rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Observaciones sobre este producto..."})]}),(0,Pt.jsxs)("div",{className:"bg-blue-50 p-2 rounded-md",children:[(0,Pt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Pt.jsx)("strong",{children:"Diferencia:"})," ",parseInt(b.cantidad_fisica||0)-(g.cantidad||0)," unidades"]}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Pt.jsx)("strong",{children:"Valor Diferencia:"})," $",S((parseInt(b.cantidad_fisica||0)-(g.cantidad||0))*(g.precio||0))]})]}),w&&(0,Pt.jsx)("div",{className:"bg-amber-50 border border-amber-200 p-2 rounded-md",children:(0,Pt.jsxs)("p",{className:"text-sm text-amber-800",children:[(0,Pt.jsx)("i",{className:"fa fa-info-circle mr-2"}),w]})}),(0,Pt.jsxs)("div",{className:"flex justify-end space-x-2 pt-2",children:[(0,Pt.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancelar"}),(0,Pt.jsxs)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:!b.cantidad_fisica,children:[(0,Pt.jsx)("i",{className:"fa fa-plus mr-2"}),"Agregar a Planilla (local)"]})]})]})]}):(0,Pt.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,Pt.jsx)("i",{className:"fa fa-box text-4xl mb-4"}),(0,Pt.jsx)("p",{children:"Selecciona un producto de la lista para ver sus detalles"})]})]})]})]})})})};function IC(e){return IC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IC(e)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function MC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TC(Object(r),!0).forEach((function(t){kC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=IC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=IC(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IC(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RC(e){return function(e){if(Array.isArray(e))return VC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||WC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BC(){BC=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==IC(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(IC(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function LC(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function FC(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){LC(o,n,a,i,s,"next",e)}function s(e){LC(o,n,a,i,s,"throw",e)}i(void 0)}))}}function UC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||WC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WC(e,t){if(e){if("string"==typeof e)return VC(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VC(e,t):void 0}}function VC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var zC=function(e){return"inventario_ciclico_pendientes_".concat(e)};const KC=function(e){var t,r,n,a,i,c,l,u,d,f,h,p=e.planilla,m=(e.onBack,e.sucursalConfig),g=UC((0,o.useState)(p),2),x=g[0],v=g[1],b=UC((0,o.useState)(!1),2),y=b[0],_=b[1],j=UC((0,o.useState)(!1),2),w=j[0],N=j[1],E=UC((0,o.useState)(null),2),C=E[0],S=E[1],O=UC((0,o.useState)({cantidad_fisica:"",observaciones:""}),2),A=O[0],P=O[1],D=UC((0,o.useState)([]),2),I=D[0],T=D[1],M=UC((0,o.useState)(!1),2),k=M[0],R=M[1],B=UC((0,o.useState)(null),2),L=B[0],F=B[1],U=UC((0,o.useState)(""),2),W=U[0],V=U[1],z=UC((0,o.useState)(!1),2),K=z[0],G=z[1],q=(0,o.useCallback)((function(){try{var e=localStorage.getItem(zC(p.id));T(e?JSON.parse(e):[])}catch(e){T([])}}),[p.id]);(0,o.useEffect)((function(){H()}),[p.id]),(0,o.useEffect)((function(){q()}),[q]);var H=function(){var e=FC(BC().mark((function e(){var t;return BC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,s().get("/api/inventario-ciclico/planillas/".concat(p.id));case 4:(t=e.sent).data.success&&v(t.data.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error al cargar detalle de planilla:",e.t0),alert("Error al cargar los detalles de la planilla");case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=FC(BC().mark((function e(){var t,r;return BC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==I.length){e.next=2;break}return e.abrupt("return");case 2:if(confirm("Enviar ".concat(I.length," producto(s) a Central? Esta accin enviar todas las tareas pendientes."))){e.next=4;break}return e.abrupt("return");case 4:return R(!0),e.prev=5,e.next=8,s().post("/api/inventario-ciclico/planillas/".concat(p.id,"/enviar-tareas"),{tareas:I.map((function(e){return{id_producto:e.id_producto,cantidad_fisica:e.cantidad_fisica,observaciones:e.observaciones||""}}))});case 8:(t=e.sent).data.success?(localStorage.removeItem(zC(p.id)),q(),H(),alert(t.data.message||"Tareas enviadas a Central correctamente.")):alert(t.data.message||"Error al enviar."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Error al enviar tareas:",e.t0),alert((null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message)||"Error al enviar las tareas a Central.");case 16:return e.prev=16,R(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,12,16,19]])})));return function(){return e.apply(this,arguments)}}(),Y=function(e){var t=parseInt(W,10);if(isNaN(t)||t<0)return F(null),void V("");var r=RC(I);r[e]=MC(MC({},r[e]),{},{cantidad_fisica:t}),localStorage.setItem(zC(p.id),JSON.stringify(r)),T(r),F(null),V("")},X=function(){var e=FC(BC().mark((function e(){return BC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().put("/api/inventario-ciclico/planillas/".concat(p.id,"/productos/").concat(C.id),{cantidad_fisica:parseInt(A.cantidad_fisica),observaciones:A.observaciones});case 3:e.sent.data.success&&(S(null),P({cantidad_fisica:"",observaciones:""}),H()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al actualizar cantidad:",e.t0),alert("Error al actualizar la cantidad");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){S(null),P({cantidad_fisica:"",observaciones:""})},Z=function(){var e=FC(BC().mark((function e(){var t;return BC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Est seguro de que desea cerrar esta planilla? Esta accin no se puede deshacer.")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,s().post("/api/inventario-ciclico/planillas/".concat(p.id,"/cerrar"));case 5:e.sent.data.success&&(alert("Planilla cerrada exitosamente"),H()),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error al cerrar planilla:",e.t0),alert((null===(t=e.t0.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Error al cerrar la planilla");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=FC(BC().mark((function e(){return BC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().post("/api/inventario-ciclico/planillas/".concat(p.id,"/refrescar-tareas"));case 3:e.sent.data.success&&H(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al refrescar tareas:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ee=function(e){"pdf"!==e?s().get("/api/inventario-ciclico/planillas/".concat(p.id,"/reporte-excel"),{responseType:"blob"}).then((function(e){var t=new Blob([e.data]),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="Planilla_Inventario_".concat(p.id,"_").concat((new Date).toISOString().split("T")[0],".xlsx"),document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n)})).catch((function(e){console.error("Error:",e),alert("Error al generar el reporte Excel")})):G(!0)},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e||0)},re=function(e){return new Date(e).toLocaleDateString("es-VE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},ne="Abierta"==(null==x?void 0:x.estatus)&&(null==x||null===(t=x.tareas)||void 0===t?void 0:t.every((function(e){return 1==e.estado})));return(0,Pt.jsxs)("div",{className:"",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Planilla #",null==x?void 0:x.id]}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Creada el ",re(null==x?void 0:x.fecha_creacion)," por ",null==x||null===(r=x.usuarioCreador)||void 0===r?void 0:r.usuario]}),(null==x?void 0:x.notas_generales)&&(0,Pt.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[(0,Pt.jsx)("strong",{children:"Notas:"})," ",x.notas_generales]})]}),(0,Pt.jsxs)("div",{className:"flex space-x-3",children:[(0,Pt.jsxs)("button",{onClick:J,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,Pt.jsx)("i",{className:"fa fa-refresh mr-2"}),"Refrescar"]}),"Abierta"==(null==x?void 0:x.estatus)&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("button",{onClick:function(){return ee("pdf")},className:"px-4 py-2 text-sm font-medium text-white bg-amber-600 border border-transparent rounded-md hover:bg-amber-700",title:"Reporte pendiente (no cerrada): cant. sistema y cant. entrantes",children:[(0,Pt.jsx)("i",{className:"fa fa-file-text-o mr-2"}),"Reporte pendiente"]}),(0,Pt.jsxs)("button",{onClick:function(){return N(!0)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:[(0,Pt.jsx)("i",{className:"fa fa-plus mr-2"}),"Agregar Producto"]}),I.length>0&&(0,Pt.jsx)("button",{onClick:$,disabled:k,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 disabled:opacity-50",children:k?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-spinner fa-spin mr-2"}),"Enviando..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("i",{className:"fa fa-paper-plane mr-2"}),"Enviar a Central (",I.length,")"]})})]}),ne&&(0,Pt.jsxs)("button",{onClick:Z,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:[(0,Pt.jsx)("i",{className:"fa fa-check mr-2"}),"Cerrar Planilla"]}),"Cerrada"==(null==x?void 0:x.estatus)&&(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsxs)("button",{onClick:function(){return ee("pdf")},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700",children:[(0,Pt.jsx)("i",{className:"fa fa-file-pdf-o mr-2"}),"Reporte PDF"]}),(0,Pt.jsxs)("button",{onClick:function(){return ee("excel")},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:[(0,Pt.jsx)("i",{className:"fa fa-file-excel-o mr-2"}),"Reporte Excel"]})]})]})]}),I.length>0&&(0,Pt.jsxs)("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-lg shadow-sm",children:[(0,Pt.jsxs)("h3",{className:"text-sm font-semibold text-amber-900 mb-2",children:[(0,Pt.jsx)("i",{className:"fa fa-clock-o mr-2"}),"Pendientes de envo a Central (",I.length,")"]}),(0,Pt.jsx)("p",{className:"text-xs text-amber-800 mb-3",children:'Estos productos se guardaron localmente. Use "Enviar a Central" para enviarlos todos de una vez.'}),(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"w-full divide-y divide-amber-200 text-sm table-fixed",style:{minWidth:"520px"},children:[(0,Pt.jsxs)("colgroup",{children:[(0,Pt.jsx)("col",{style:{width:"32%"}}),(0,Pt.jsx)("col",{style:{width:"10%"}}),(0,Pt.jsx)("col",{style:{width:"12%"}}),(0,Pt.jsx)("col",{style:{width:"12%"}}),(0,Pt.jsx)("col",{style:{width:"24%"}}),(0,Pt.jsx)("col",{style:{width:"10%"}})]}),(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"text-left py-2 text-amber-900",children:"Producto"}),(0,Pt.jsx)("th",{className:"text-right py-2 text-amber-900",children:"Cant. sistema"}),(0,Pt.jsx)("th",{className:"text-right py-2 text-amber-900",children:"Cant. fsica"}),(0,Pt.jsx)("th",{className:"text-right py-2 text-amber-900",children:"Diferencia"}),(0,Pt.jsx)("th",{className:"text-left py-2 text-amber-900",children:"Hora agregado"}),(0,Pt.jsx)("th",{className:"text-center py-2 text-amber-900 w-12"})]})}),(0,Pt.jsx)("tbody",{children:I.map((function(e,t){var r,n,a,o,i,s,c,l,u,d,f,h,m,g,x,v;return(0,Pt.jsxs)("tr",{className:"border-t border-amber-200",children:[(0,Pt.jsxs)("td",{className:"py-2 overflow-hidden",children:[(0,Pt.jsx)("div",{className:"font-medium text-gray-900 truncate",title:null===(r=e.producto)||void 0===r?void 0:r.descripcion,children:null===(n=e.producto)||void 0===n?void 0:n.descripcion}),(0,Pt.jsxs)("div",{className:"text-xs text-gray-500 truncate",title:"Barras: ".concat(null!==(a=null===(o=e.producto)||void 0===o?void 0:o.codigo_barras)&&void 0!==a?a:"-"," | Proveedor: ").concat(null!==(i=null===(s=e.producto)||void 0===s?void 0:s.codigo_proveedor)&&void 0!==i?i:"-"),children:["Barras: ",null!==(c=null===(l=e.producto)||void 0===l?void 0:l.codigo_barras)&&void 0!==c?c:"-",null!=(null===(u=e.producto)||void 0===u?void 0:u.codigo_proveedor)&&""!==(null===(d=e.producto)||void 0===d?void 0:d.codigo_proveedor)&&(0,Pt.jsxs)("span",{className:"ml-2",children:["| Proveedor: ",e.producto.codigo_proveedor]})]})]}),(0,Pt.jsx)("td",{className:"text-right py-2 whitespace-nowrap",children:null!==(f=null!==(h=e.cantidad_sistema)&&void 0!==h?h:null===(m=e.producto)||void 0===m?void 0:m.cantidad)&&void 0!==f?f:"-"}),(0,Pt.jsx)("td",{className:"text-right py-2 whitespace-nowrap",children:L===t?(0,Pt.jsx)("input",{type:"number",min:"0",value:W,onChange:function(e){return V(e.target.value)},onBlur:function(){return Y(t)},onKeyDown:function(e){"Enter"===e.key&&Y(t),"Escape"===e.key&&(F(null),V(""))},className:"w-20 px-2 py-1 border border-amber-400 rounded text-right text-sm",autoFocus:!0}):(0,Pt.jsxs)("button",{type:"button",onClick:function(){return function(e){var t;F(e),V(String(null!==(t=I[e].cantidad_fisica)&&void 0!==t?t:""))}(t)},className:"text-right hover:bg-amber-100 px-2 py-1 rounded inline-flex items-center gap-1 min-w-[3rem]",title:"Editar cantidad fsica",children:[e.cantidad_fisica,(0,Pt.jsx)("i",{className:"fa fa-pencil text-xs text-amber-700"})]})}),(0,Pt.jsx)("td",{className:"text-right py-2 whitespace-nowrap",children:null!=(null!==(g=e.cantidad_sistema)&&void 0!==g?g:null===(x=e.producto)||void 0===x?void 0:x.cantidad)?e.cantidad_fisica-(null!==(v=e.cantidad_sistema)&&void 0!==v?v:e.producto.cantidad):"-"}),(0,Pt.jsx)("td",{className:"py-2 text-gray-600 whitespace-nowrap overflow-hidden",children:e.fecha_agregado?new Date(e.fecha_agregado).toLocaleString("es-VE",{dateStyle:"short",timeStyle:"short"}):"-"}),(0,Pt.jsx)("td",{className:"py-2 text-center",children:(0,Pt.jsx)("button",{type:"button",onClick:function(){return e=t,r=I.filter((function(t,r){return r!==e})),localStorage.setItem(zC(p.id),JSON.stringify(r)),T(r),void(L===e?F(null):null!=L&&L>e&&F(L-1));var e,r},className:"text-red-600 hover:text-red-800 text-xs inline-flex",title:"Quitar de pendientes",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})})]},"".concat(e.id_producto,"-").concat(t))}))})]})})]}),(0,Pt.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Pt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Pt.jsx)("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full ".concat(function(e){switch(e){case"Confirmado":return"bg-green-100 text-green-800";case"Pendiente Aprobacin":return"bg-yellow-100 text-yellow-800";case"Aprobada":return"bg-blue-100 text-blue-800";case"Rechazada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}(null==x?void 0:x.estatus)),children:null==x?void 0:x.estatus}),(0,Pt.jsxs)("span",{className:"text-sm text-gray-600",children:[(null==x||null===(n=x.tareas)||void 0===n?void 0:n.length)||0," productos"]})]}),"Cerrada"==(null==x?void 0:x.estatus)&&(0,Pt.jsxs)("div",{className:"text-sm text-gray-600",children:["Cerrada el ",re(null==x?void 0:x.fecha_cierre)]})]})}),(0,Pt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:y?(0,Pt.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):0==(null==x||null===(a=x.tareas)||void 0===a?void 0:a.length)?(0,Pt.jsxs)("div",{className:"text-center py-12",children:[(0,Pt.jsx)("i",{className:"fa fa-box text-4xl text-gray-400 mb-4"}),(0,Pt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay productos en esta planilla"}),(0,Pt.jsx)("p",{className:"text-gray-500",children:"Agrega productos para comenzar el conteo de inventario."})]}):(0,Pt.jsx)("div",{className:"overflow-x-auto",children:(0,Pt.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Pt.jsx)("thead",{className:"bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto / Cdigos"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cant. Sistema"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cant. Fsica"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diferencia"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor Diferencia"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID Tarea"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Envo"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aprobacin Central"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Aprobacin"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),(0,Pt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:null==x||null===(i=x.tareas)||void 0===i?void 0:i.map((function(e){var t,r,n;return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{className:"px-6 py-4",children:(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{className:"text-sm font-medium text-gray-900",children:null===(t=e.producto)||void 0===t?void 0:t.descripcion}),(0,Pt.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,Pt.jsx)("span",{className:"font-medium",children:"Barras:"})," ",(null===(r=e.producto)||void 0===r?void 0:r.codigo_barras)||"N/A"]}),(0,Pt.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,Pt.jsx)("span",{className:"font-medium",children:"Proveedor:"})," ",(null===(n=e.producto)||void 0===n?void 0:n.codigo_proveedor)||"N/A"]})]})}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.cantidad_sistema}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(null==C?void 0:C.id)==e.id?(0,Pt.jsx)("input",{type:"number",value:A.cantidad_fisica,onChange:function(e){return P((function(t){return MC(MC({},t),{},{cantidad_fisica:e.target.value})}))},className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",min:"0"}):(0,Pt.jsx)("span",{className:"text-sm text-gray-900",children:e.cantidad_fisica})}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pt.jsxs)("span",{className:"text-sm font-medium ".concat(e.diferencia_cantidad>0?"text-green-600":e.diferencia_cantidad<0?"text-red-600":"text-gray-600"),children:[e.diferencia_cantidad>0?"+":"",e.diferencia_cantidad]})}),(0,Pt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",te(e.diferencia_valor)]}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.id||"-"}),(0,Pt.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.created_at?(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{children:new Date(e.created_at).toLocaleDateString("es-VE")}),(0,Pt.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleTimeString("es-VE",{hour:"2-digit",minute:"2-digit"})})]}):"-"}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(1==e.permiso?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:1==e.permiso?"Aprobado":"Pendiente"})}),(0,Pt.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.fecha_aprobacion?(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("div",{children:new Date(e.fecha_aprobacion).toLocaleDateString("es-VE")}),(0,Pt.jsx)("div",{className:"text-xs text-gray-400",children:new Date(e.fecha_aprobacion).toLocaleTimeString("es-VE",{hour:"2-digit",minute:"2-digit"})})]}):"-"}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Pt.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(1==e.estado?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:1==e.estado?"Ejecutado":"Pendiente"})}),(0,Pt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(null==C?void 0:C.id)==e.id?(0,Pt.jsxs)("div",{className:"flex space-x-2",children:[(0,Pt.jsx)("button",{onClick:X,className:"text-green-600 hover:text-green-900",children:(0,Pt.jsx)("i",{className:"fa fa-check"})}),(0,Pt.jsx)("button",{onClick:Q,className:"text-red-600 hover:text-red-900",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]}):"Abierta"==(null==x?void 0:x.estatus)?(0,Pt.jsx)("button",{onClick:function(){return function(e){S(e),P({cantidad_fisica:e.cantidad_fisica.toString(),observaciones:e.observaciones||""})}(e)},className:"text-blue-600 hover:text-blue-900",children:(0,Pt.jsx)("i",{className:"fa fa-edit"})}):null})]},e.id)}))})]})})}),K&&(0,Pt.jsxs)("div",{className:"fixed inset-0 z-[9999] bg-white overflow-auto",style:{fontFamily:"Arial, sans-serif"},children:[(0,Pt.jsx)("style",{children:"\n                        @media print {\n                            .reporte-no-print { display: none !important; }\n                            .reporte-print-container { box-shadow: none; border: none; max-width: 100%; }\n                        }\n                        .reporte-print-container { max-width: 215.9mm; margin: 0 auto; padding: 14px; }\n                        .reporte-tabla { width: 100%; border-collapse: collapse; font-size: 10px; }\n                        .reporte-tabla th, .reporte-tabla td { border: 1px solid #000; padding: 4px 6px; }\n                        .reporte-tabla th { background: #e0e0e0; font-weight: bold; }\n                    "}),(0,Pt.jsxs)("div",{className:"reporte-no-print flex gap-3 items-center p-4 bg-gray-100 border-b border-gray-300 sticky top-0 z-10",children:[(0,Pt.jsxs)("button",{type:"button",onClick:function(){return window.print()},className:"px-4 py-2 bg-blue-600 text-white rounded font-medium text-sm hover:bg-blue-700",children:[(0,Pt.jsx)("i",{className:"fa fa-print mr-2"}),"Imprimir"]}),(0,Pt.jsxs)("button",{type:"button",onClick:function(){return window.print()},className:"px-4 py-2 bg-red-600 text-white rounded font-medium text-sm hover:bg-red-700",children:[(0,Pt.jsx)("i",{className:"fa fa-file-pdf-o mr-2"}),"Guardar como PDF"]}),(0,Pt.jsxs)("button",{type:"button",onClick:function(){return G(!1)},className:"px-4 py-2 bg-gray-600 text-white rounded font-medium text-sm hover:bg-gray-700",children:[(0,Pt.jsx)("i",{className:"fa fa-times mr-2"}),"Cerrar reporte"]})]}),(0,Pt.jsxs)("div",{className:"reporte-print-container p-4",children:[(0,Pt.jsxs)("div",{className:"mb-4 pb-2 border-b border-gray-300",children:[(0,Pt.jsxs)("p",{className:"text-base font-bold m-0",children:["Planilla ","Cerrada"===(null==x?void 0:x.estatus)?"cerrada":"pendiente"," #",null!==(c=null==x?void 0:x.id)&&void 0!==c?c:p.id]}),(0,Pt.jsxs)("p",{className:"text-xs text-gray-600 mt-1",children:[null!==(l=null==x||null===(u=x.sucursal)||void 0===u?void 0:u.nombre)&&void 0!==l?l:"","  ",null!==(d=null==x||null===(f=x.sucursal)||void 0===f?void 0:f.codigo)&&void 0!==d?d:"",(null==x?void 0:x.fecha_creacion)&&"  ".concat(new Date(x.fecha_creacion).toLocaleDateString("es-VE"))]})]}),(0,Pt.jsxs)("table",{className:"reporte-tabla",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"#"}),(0,Pt.jsx)("th",{children:"Producto"}),(0,Pt.jsx)("th",{children:"Cd. barras"}),(0,Pt.jsx)("th",{children:"Cd. proveedor"}),(0,Pt.jsx)("th",{className:"text-right",children:"Cant. sistema"}),(0,Pt.jsx)("th",{className:"text-center",children:"Cant. fsica"})]})}),(0,Pt.jsx)("tbody",{children:(null!==(h=null==x?void 0:x.tareas)&&void 0!==h?h:[]).map((function(e,t){var r,n,a,o,i,s,c,l=null!==(r=e.producto)&&void 0!==r?r:{};return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:null!==(a=e.id)&&void 0!==a?a:t+1}),(0,Pt.jsx)("td",{children:null!==(o=l.descripcion)&&void 0!==o?o:""}),(0,Pt.jsx)("td",{children:null!==(i=l.codigo_barras)&&void 0!==i?i:""}),(0,Pt.jsx)("td",{children:null!==(s=l.codigo_proveedor)&&void 0!==s?s:""}),(0,Pt.jsx)("td",{className:"text-right",children:Number(null!==(c=e.cantidad_sistema)&&void 0!==c?c:0).toLocaleString()}),(0,Pt.jsx)("td",{className:"text-center",children:""})]},null!==(n=e.id)&&void 0!==n?n:t)}))})]}),I.length>0&&(0,Pt.jsxs)("div",{className:"mt-6",children:[(0,Pt.jsx)("p",{className:"text-sm font-bold mb-2",children:"Solo en local (pendientes envo)"}),(0,Pt.jsxs)("table",{className:"reporte-tabla",children:[(0,Pt.jsx)("thead",{children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{children:"#"}),(0,Pt.jsx)("th",{children:"Producto"}),(0,Pt.jsx)("th",{children:"Cd. barras"}),(0,Pt.jsx)("th",{children:"Cd. proveedor"}),(0,Pt.jsx)("th",{className:"text-right",children:"Cant. sistema"}),(0,Pt.jsx)("th",{className:"text-center",children:"Cant. fsica"})]})}),(0,Pt.jsx)("tbody",{children:I.map((function(e,t){var r,n,a,o,i,s,c=null!==(r=e.producto)&&void 0!==r?r:{},l=null!==(n=null!==(a=e.cantidad_sistema)&&void 0!==a?a:c.cantidad)&&void 0!==n?n:"";return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:t+1}),(0,Pt.jsx)("td",{children:null!==(o=c.descripcion)&&void 0!==o?o:""}),(0,Pt.jsx)("td",{children:null!==(i=c.codigo_barras)&&void 0!==i?i:""}),(0,Pt.jsx)("td",{children:null!==(s=c.codigo_proveedor)&&void 0!==s?s:""}),(0,Pt.jsx)("td",{className:"text-right",children:"number"==typeof l?l.toLocaleString():l}),(0,Pt.jsx)("td",{className:"text-center",children:""})]},"p-".concat(e.id_producto,"-").concat(t))}))})]})]})]})]}),w&&(0,Pt.jsx)(DC,{onClose:function(){return N(!1)},onProductoSelected:function(){q()},planillaId:p.id,sucursalConfig:m})]})};function GC(e){return GC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GC(e)}function qC(){qC=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==GC(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(GC(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function HC(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function $C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return YC(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?YC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const XC=function(e){var t=e.user,r=$C((0,o.useState)("list"),2),n=r[0],a=r[1],i=$C((0,o.useState)(null),2),c=i[0],l=i[1],u=$C((0,o.useState)(!1),2),d=u[0],f=(u[1],$C((0,o.useState)(null),2)),h=f[0],p=f[1];(0,o.useEffect)((function(){m()}),[]);var m=function(){var e,t=(e=qC().mark((function e(){var t;return qC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("/api/sucursal-config");case 3:(t=e.sent).data.success&&p(t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error al cargar configuracin de sucursal:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){HC(o,n,a,i,s,"next",e)}function s(e){HC(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),g=function(){l(null),a("list")};return(0,Pt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Pt.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Pt.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:(0,Pt.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[(0,Pt.jsx)("i",{className:"fa fa-clipboard-list mr-3 text-blue-600"}),"Inventario Cclico"]}),(0,Pt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Gestin de planillas de inventario fsico"})]}),h&&(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("p",{className:"text-sm font-medium text-gray-900",children:h.nombre}),(0,Pt.jsxs)("p",{className:"text-sm text-gray-500",children:["Cdigo: ",h.codigo]})]})]})})}),(0,Pt.jsx)("div",{className:"bg-white border-b",children:(0,Pt.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:(0,Pt.jsxs)("nav",{className:"flex space-x-8",children:[(0,Pt.jsxs)("button",{onClick:function(){return a("list")},className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("list"===n?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,Pt.jsx)("i",{className:"fa fa-list mr-2"}),"Planillas"]}),"detalle"===n&&(0,Pt.jsxs)("button",{onClick:g,className:"py-4 px-1 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-medium text-sm",children:[(0,Pt.jsx)("i",{className:"fa fa-arrow-left mr-2"}),"Volver"]})]})})}),(0,Pt.jsx)("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:d?(0,Pt.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Pt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):"list"===n?(0,Pt.jsx)(bC,{onPlanillaSelect:function(e){l(e),a("detalle")},sucursalConfig:h,user:t}):"detalle"===n&&c?(0,Pt.jsx)(KC,{planilla:c,onBack:g,sucursalConfig:h}):null})]})};function QC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ZC(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ZC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function JC(e){var t=e.user,r=e.productos,n=e.moneda,a=e.inputbusquedaProductosref,i=e.presupuestocarrito,s=e.getProductos,c=(e.showOptionQMain,e.setshowOptionQMain,e.num,e.setNum,e.itemCero,e.setpresupuestocarrito),l=e.toggleImprimirTicket,u=e.delitempresupuestocarrito,d=e.editCantidadPresupuestoCarrito,f=e.sumsubtotalespresupuesto,h=e.auth,p=e.addCarrito,m=e.clickSetOrderColumn,x=e.orderColumn,v=e.orderBy,b=e.counterListProductos,y=e.setCounterListProductos,_=e.tbodyproductosref,j=e.focusCtMain,w=e.selectProductoFast,N=(e.setpresupuestocarritotopedido,e.setpresupuestoAPedidoFront),E=(e.openBarcodeScan,e.number),C=e.dolar,S=QC((0,o.useState)(!0),2),O=S[0],A=S[1],P=QC((0,o.useState)(0),2),D=P[0],I=P[1],T=QC((0,o.useState)(!0),2),M=T[0],k=(T[1],QC((0,o.useState)(null),2)),R=k[0],B=k[1],L=QC((0,o.useState)(""),2),F=L[0],U=L[1];(0,o.useEffect)((function(){var e=function(){var e=window.scrollY;A(!(e>D&&e>100)),I(e)};return window.addEventListener("scroll",e,{passive:!0}),function(){window.removeEventListener("scroll",e)}}),[D]),(0,g.v)("down",(function(){var e=b+1;_&&_.current&&_.current.rows[e]&&(y(e),_.current.rows[e].focus())}),{enableOnTags:["INPUT","SELECT"]},[]),(0,g.v)("up",(function(){if(b>0){var e=b-1;_&&_.current&&_.current.rows[e]&&(_.current.rows[e].focus(),y(e))}}),{enableOnTags:["INPUT","SELECT"]},[]);var W=function(e,t){try{return"P/U. Bs."+n(E(e)*C)+"\nTotal Bs."+n(E(t)*C)}catch(e){return""}},V=function(e){F&&parseFloat(F)>0&&d(e,parseFloat(F)),B(null),U("")},z=function(){B(null),U("")};return(0,Pt.jsx)("div",{className:"container-fluid",style:{minHeight:"100vh"},children:(0,Pt.jsxs)("div",{className:"row h-100",children:[(0,Pt.jsxs)("div",{className:"col-lg-7",style:{height:"100vh",overflowY:"auto",paddingRight:"8px"},children:[(0,Pt.jsx)("div",{className:"mt-3 d-flex justify-content-center",children:(0,Pt.jsx)("div",{className:"mb-4 input-group",children:(0,Pt.jsx)("input",{type:"text",className:"form-control fs-2",ref:a,placeholder:"Buscar productos para presupuesto... Presiona (ESC)",onChange:function(e){return s(e.target.value)}})})}),(0,Pt.jsx)(Ow,{user:t,moneda:n,auth:h,productos:r,addCarrito:p,clickSetOrderColumn:m,orderColumn:x,orderBy:v,counterListProductos:b,setCounterListProductos:y,tbodyproductosref:_,focusCtMain:j,selectProductoFast:w})]}),(0,Pt.jsx)("div",{className:"col-lg-5",style:{height:"100vh",overflowY:"auto",paddingLeft:"8px"},children:i.length?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"relative mt-2",children:(0,Pt.jsxs)("div",{className:"flex justify-between p-3 mb-3 border border-blue-200 rounded bg-blue-50",children:[(0,Pt.jsxs)("div",{className:"flex items-center",children:[(0,Pt.jsx)("div",{className:"mr-3",children:(0,Pt.jsx)("i",{className:"text-2xl text-blue-500 fa fa-file-text-o"})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("h4",{className:"mb-0 text-sm font-medium text-gray-800",children:"Presupuesto"}),(0,Pt.jsx)("small",{className:"text-xs text-gray-500",children:(new Date).toLocaleDateString()})]})]}),(0,Pt.jsxs)("div",{className:"text-right",children:[(0,Pt.jsx)("h5",{className:"mb-1 text-xs font-medium text-orange-600",children:"Total Estimado"}),(0,Pt.jsxs)("h3",{className:"mb-0 text-lg font-bold text-gray-800",children:["Ref ",f()]})]})]})}),(0,Pt.jsx)("div",{className:"mb-3 overflow-hidden bg-white border border-gray-200 rounded",children:(0,Pt.jsxs)("table",{className:"w-full text-xs table-fixed",children:[(0,Pt.jsxs)("colgroup",{children:[(0,Pt.jsx)("col",{className:"!w-[60%]"}),(0,Pt.jsx)("col",{className:"!w-[10%]"}),(0,Pt.jsx)("col",{className:"!w-[15%]"}),(0,Pt.jsx)("col",{className:"!w-[15%]"})]}),(0,Pt.jsx)("thead",{className:"border-b border-gray-200 bg-gray-50",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{className:"px-2 py-3 text-xs font-medium tracking-wider text-left text-gray-600 uppercase",children:"Producto"}),(0,Pt.jsxs)("th",{className:"px-2 py-3 text-xs font-medium tracking-wider text-center text-gray-600 uppercase",children:["Ct ",(0,Pt.jsx)("i",{className:"fa fa-pencil text-blue-500",title:"Editable"})]}),(0,Pt.jsx)("th",{className:"px-2 py-3 text-xs font-medium tracking-wider text-right text-gray-600 uppercase",children:"Precio"}),(0,Pt.jsx)("th",{className:"px-2 py-3 text-xs font-medium tracking-wider text-right text-gray-600 uppercase",children:"Subtotal"})]})}),(0,Pt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map((function(e,t){return(0,Pt.jsxs)("tr",{className:"cursor-pointer hover:bg-gray-50",onClick:function(){return u(t)},title:W(e.precio,e.subtotal),children:[(0,Pt.jsx)("td",{className:"px-2 py-1",children:(0,Pt.jsx)("div",{className:"flex items-center space-x-2",children:(0,Pt.jsxs)("span",{className:"text-xs",children:[(0,Pt.jsx)("div",{className:"font-mono text-gray-600",children:e.codigo_barras||"N/A"}),(0,Pt.jsx)("div",{className:"font-medium text-gray-900",title:e.descripcion,children:e.descripcion})]})})}),(0,Pt.jsx)("td",{className:"px-2 py-1 text-center",onClick:function(r){return function(e,t,r){r.stopPropagation(),B(e),U(t.toString())}(t,e.cantidad,r)},children:R===t?(0,Pt.jsxs)("div",{className:"flex items-center justify-center gap-1",onClick:function(e){return e.stopPropagation()},children:[(0,Pt.jsx)("input",{type:"number",className:"w-16 px-1 text-xs text-center border border-blue-400 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",value:F,onChange:function(e){return U(e.target.value)},onKeyDown:function(e){return function(e,t){"Enter"===e.key?V(t):"Escape"===e.key&&z()}(e,t)},onBlur:function(){return V(t)},autoFocus:!0,min:"0.01",step:"0.01"}),(0,Pt.jsx)("button",{className:"px-1 text-green-600 hover:text-green-800",onClick:function(){return V(t)},title:"Guardar",children:(0,Pt.jsx)("i",{className:"text-xs fa fa-check"})}),(0,Pt.jsx)("button",{className:"px-1 text-red-600 hover:text-red-800",onClick:z,title:"Cancelar",children:(0,Pt.jsx)("i",{className:"text-xs fa fa-times"})})]}):(0,Pt.jsx)("span",{className:"text-xs font-medium cursor-pointer hover:text-blue-600 hover:underline",title:"Clic para editar",children:e.cantidad})}),(0,Pt.jsx)("td",{className:"px-2 py-1 text-right",children:(0,Pt.jsx)("span",{className:"text-xs font-medium",children:n(e.precio)})}),(0,Pt.jsx)("td",{className:"px-2 py-1 text-right",children:(0,Pt.jsx)("span",{className:"text-xs font-bold text-blue-600",children:n(e.subtotal)})})]},t)}))})]})}),(0,Pt.jsxs)("div",{className:"mb-3 overflow-hidden bg-white border border-gray-200 rounded",children:[(0,Pt.jsx)("div",{className:"p-3 border-b bg-gray-50",children:(0,Pt.jsx)("h6",{className:"mb-0 text-sm font-medium text-gray-800",children:"Resumen del Presupuesto"})}),(0,Pt.jsxs)("div",{className:"p-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Pt.jsx)("span",{className:"text-sm text-gray-600",children:"Items:"}),(0,Pt.jsx)("span",{className:"text-sm font-medium",children:i.length})]}),(0,Pt.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[(0,Pt.jsx)("span",{className:"text-base font-semibold text-gray-800",children:"Total:"}),(0,Pt.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["Ref ",f()]})]}),C&&(0,Pt.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,Pt.jsx)("span",{className:"text-xs text-gray-500",children:"En Bolvares:"}),(0,Pt.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["Bs."," ",(parseFloat(f().replace(",","."))*C).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")]})]})]})]}),(0,Pt.jsxs)("div",{className:"sticky bottom-0 p-3 bg-white border border-gray-200 rounded",children:[(0,Pt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Pt.jsxs)("button",{className:"flex-1 px-4 py-2 text-sm font-medium text-white transition-colors bg-orange-500 rounded hover:bg-orange-600 min-w-[140px]",onClick:function(){return l("presupuesto")},children:[(0,Pt.jsx)("i",{className:"mr-2 fa fa-print"}),"Imprimir Presupuesto"]}),N&&(0,Pt.jsxs)("button",{className:"flex-1 px-4 py-2 text-sm font-medium text-white transition-colors bg-blue-500 rounded hover:bg-blue-600 min-w-[140px]",onClick:N,title:"Crea un pedido solo en pantalla (tipo front) sin guardar en backend hasta el pago",children:[(0,Pt.jsx)("i",{className:"mr-2 fa fa-file-text-o"}),"Convertir a Pedido (Front)"]})]}),(0,Pt.jsxs)("button",{className:"w-full px-4 py-2 mt-2 text-sm font-medium text-gray-700 transition-colors bg-gray-200 rounded hover:bg-gray-300",onClick:function(){return c([])},children:[(0,Pt.jsx)("i",{className:"mr-2 fa fa-times"}),"Limpiar Presupuesto"]})]}),M&&(0,Pt.jsx)("div",{className:"fixed z-50 transform -translate-x-1/2 bottom-2 left-1/2 transition-all duration-300 ".concat(O?"translate-y-0 opacity-100":"translate-y-full opacity-0 pointer-events-none"),children:(0,Pt.jsx)("div",{className:"px-4 py-2 border border-gray-200 rounded-full shadow-lg bg-white/90 backdrop-blur-sm",children:(0,Pt.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Pt.jsx)("button",{className:"flex items-center justify-center w-8 h-8 text-white transition-colors bg-orange-500 rounded-full hover:bg-orange-600",onClick:function(){return l("presupuesto")},title:"Imprimir Presupuesto",children:(0,Pt.jsx)("i",{className:"text-xs fa fa-print"})}),N&&(0,Pt.jsx)("button",{className:"flex items-center justify-center w-8 h-8 text-white transition-colors bg-blue-500 rounded-full hover:bg-blue-600",onClick:N,title:"Convertir a Pedido (Front)",children:(0,Pt.jsx)("i",{className:"text-xs fa fa-file-text-o"})}),(0,Pt.jsx)("button",{className:"flex items-center justify-center w-8 h-8 text-white transition-colors bg-gray-500 rounded-full hover:bg-gray-600",onClick:function(){return c([])},title:"Limpiar Presupuesto",children:(0,Pt.jsx)("i",{className:"text-xs fa fa-times"})})]})})})]}):(0,Pt.jsxs)("div",{className:"p-5 text-center d-flex flex-column align-items-center justify-content-center",style:{height:"100%"},children:[(0,Pt.jsx)("div",{className:"mb-4",children:(0,Pt.jsx)("div",{className:"mb-3 bg-light rounded-circle d-flex align-items-center justify-content-center",style:{width:"120px",height:"120px"},children:(0,Pt.jsx)("i",{className:"fa fa-file-text-o text-muted",style:{fontSize:"3.5rem"}})})}),(0,Pt.jsxs)("div",{className:"mb-4",children:[(0,Pt.jsx)("h3",{className:"mb-2 text-muted fw-normal",children:"Presupuesto vaco"}),(0,Pt.jsx)("p",{className:"mb-0 text-muted",style:{maxWidth:"300px",lineHeight:"1.5"},children:"Busca y selecciona productos de la lista de la izquierda para crear un presupuesto para tu cliente."})]}),(0,Pt.jsxs)("div",{className:"gap-2 d-flex flex-column",children:[(0,Pt.jsxs)("div",{className:"d-flex align-items-center text-muted small",children:[(0,Pt.jsx)("i",{className:"fa fa-lightbulb-o me-2 text-warning"}),(0,Pt.jsx)("span",{children:"Haz clic en cualquier producto para agregarlo"})]}),(0,Pt.jsxs)("div",{className:"d-flex align-items-center text-muted small",children:[(0,Pt.jsx)("i",{className:"fa fa-search me-2 text-info"}),(0,Pt.jsx)("span",{children:"Usa la barra de bsqueda para encontrar productos especficos"})]})]})]})})]})})}function eS(){eS=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(t,r,n,a){var o=r&&r.prototype instanceof f?r:f,i=Object.create(o.prototype);return c(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=_(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=u(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new N(a||[])),!0),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var d={};function f(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(E([])));x&&x!==r&&n.call(x,o)&&(m=x);var v=p.prototype=f.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function r(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==aS(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var a;c(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function _(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=u(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function j(e){this.tryEntries.push(e)}function w(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function N(e){this.tryEntries=[[-1]],e.forEach(j,this),this.reset(!0)}function E(t){if(null!=t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(aS(t)+" is not iterable")}return h.prototype=p,c(v,"constructor",p),c(p,"constructor",h),h.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},t.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,i,(function(){return this})),t.AsyncIterator=y,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new y(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),c(v,s,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=E,N.prototype={constructor:N,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),w(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;w(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:E(t),r,n},"next"===this.method&&(this.arg=e),d}},t}function tS(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function rS(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){tS(o,n,a,i,s,"next",e)}function s(e){tS(o,n,a,i,s,"throw",e)}i(void 0)}))}}function nS(e){return function(e){if(Array.isArray(e))return uS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aS(e){return aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aS(e)}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oS(Object(r),!0).forEach((function(t){sS(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=aS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=aS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aS(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||lS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lS(e,t){if(e){if("string"==typeof e)return uS(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uS(e,t):void 0}}function uS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function dS(e){var t=e.user,r=e.notificar,n=e.setLoading,i=e.showHeaderAndMenu,s=e.setShowHeaderAndMenu,c=(0,Ct.nm)(),l=(c.searchCompleted,c.setSearchCompleted),u=(0,o.useState)(""),d=cS(u,2),f=d[0],h=d[1],m=(0,o.useState)(""),x=cS(m,2),v=x[0],b=(x[1],(0,o.useState)([])),y=cS(b,2),_=(y[0],y[1]),j=(0,o.useState)([]),w=cS(j,2),N=w[0],E=w[1],C=(0,o.useState)(1),S=cS(C,2),O=S[0],A=S[1],P=(0,o.useState)("bs"),D=cS(P,2),I=D[0],T=D[1],M=(0,o.useState)(!1),k=cS(M,2),R=k[0],B=k[1],L=(0,o.useState)(10),F=cS(L,2),U=F[0],W=F[1],V=(0,o.useState)(!1),z=cS(V,2),K=z[0],G=z[1],q=(0,o.useState)(!0),H=cS(q,2),$=H[0],Y=(H[1],(0,o.useState)("")),X=cS(Y,2),Q=X[0],Z=X[1],J=(0,o.useState)("cantidad"),ee=cS(J,2),te=ee[0],re=ee[1],ne=(0,o.useState)("desc"),ae=cS(ne,2),oe=ae[0],ie=ae[1],se=(0,o.useState)(""),ce=cS(se,2),le=(ce[0],ce[1],(0,o.useState)("pagar")),ue=cS(le,2),de=ue[0],fe=ue[1],he=(0,o.useState)(null),pe=cS(he,2),me=pe[0],ge=pe[1],xe=(0,o.useState)(null),ve=cS(xe,2),be=ve[0],ye=ve[1],_e=(0,o.useState)({}),je=cS(_e,2),we=je[0],Ne=je[1],Ee=(0,o.useState)(""),Ce=cS(Ee,2),Se=Ce[0],Oe=Ce[1],Ae=cS((0,o.useState)(""),2),Pe=Ae[0],De=Ae[1],Ie=cS((0,o.useState)(""),2),Re=Ie[0],Be=Ie[1],Le=cS((0,o.useState)("nuevo"),2),Fe=Le[0],Ue=Le[1],We=cS((0,o.useState)(0),2),Ve=We[0],ze=We[1],Ke=cS((0,o.useState)(!1),2),Ge=Ke[0],qe=(Ke[1],cS((0,o.useState)([]),2)),He=qe[0],$e=qe[1],Ye=cS((0,o.useState)([]),2),Xe=Ye[0],Qe=Ye[1],Ze=cS((0,o.useState)(""),2),Je=Ze[0],et=Ze[1],tt=cS((0,o.useState)(null),2),rt=tt[0],nt=tt[1],at=cS((0,o.useState)(""),2),ot=at[0],it=at[1],st=cS((0,o.useState)(""),2),ct=st[0],lt=st[1],ut=cS((0,o.useState)(""),2),dt=ut[0],ft=ut[1],ht=cS((0,o.useState)("UND"),2),pt=ht[0],gt=ht[1],vt=cS((0,o.useState)("24"),2),yt=vt[0],wt=vt[1],Et=cS((0,o.useState)(""),2),St=Et[0],Dt=Et[1],It=cS((0,o.useState)(""),2),kt=It[0],Rt=It[1],Bt=cS((0,o.useState)(""),2),Lt=Bt[0],Ft=Bt[1],Ut=cS((0,o.useState)("0"),2),Vt=Ut[0],Kt=Ut[1],Gt=cS((0,o.useState)("0"),2),qt=Gt[0],Ht=(Gt[1],cS((0,o.useState)([]),2)),$t=Ht[0],Yt=Ht[1],Xt=cS((0,o.useState)(""),2),Qt=Xt[0],er=Xt[1],tr=cS((0,o.useState)(""),2),rr=tr[0],nr=tr[1],ar=cS((0,o.useState)(""),2),or=ar[0],ir=ar[1],lr=cS((0,o.useState)([]),2),ur=lr[0],dr=lr[1],fr=cS((0,o.useState)([]),2),hr=fr[0],pr=(fr[1],cS((0,o.useState)(25),2)),mr=pr[0],gr=pr[1],xr=cS((0,o.useState)("id"),2),vr=xr[0],br=xr[1],yr=cS((0,o.useState)("desc"),2),_r=yr[0],jr=yr[1],wr=cS((0,o.useState)(""),2),Nr=wr[0],Er=wr[1],Cr=cS((0,o.useState)(""),2),Sr=Cr[0],Or=Cr[1],Ar=cS((0,o.useState)(""),2),Pr=Ar[0],Dr=Ar[1],Ir=cS((0,o.useState)(""),2),Tr=Ir[0],Mr=Ir[1],kr=cS((0,o.useState)("inventario"),2),Rr=kr[0],Br=kr[1],Lr=cS((0,o.useState)(null),2),Fr=Lr[0],Ur=Lr[1],Wr=cS((0,o.useState)(""),2),Vr=Wr[0],zr=Wr[1],Kr=cS((0,o.useState)([]),2),Gr=Kr[0],qr=Kr[1],Hr=cS((0,o.useState)([]),2),$r=(Hr[0],Hr[1],cS((0,o.useState)(!0),2)),Yr=$r[0],Xr=$r[1],Qr=cS((0,o.useState)("id"),2),Zr=Qr[0],Jr=Qr[1],en=cS((0,o.useState)("desc"),2),tn=en[0],rn=en[1],nn=cS((0,o.useState)(""),2),an=nn[0],on=nn[1],sn=cS((0,o.useState)(""),2),cn=sn[0],ln=sn[1],un=cS((0,o.useState)(!1),2),dn=un[0],fn=un[1],hn=cS((0,o.useState)([{monto:"",referencia:"",bloqueado:!1,posData:null}]),2),pn=hn[0],mn=hn[1],gn=cS((0,o.useState)(!1),2),xn=gn[0],vn=gn[1],bn=cS((0,o.useState)((function(){try{var e=localStorage.getItem("debitosPorPedido");return e?JSON.parse(e):{}}catch(e){return console.error("Error cargando dbitos desde localStorage:",e),{}}})),2),yn=bn[0],_n=bn[1],jn=cS((0,o.useState)({}),2),wn=jn[0],Nn=jn[1],En=cS((0,o.useState)(!1),2),Cn=En[0],Sn=En[1],On=cS((0,o.useState)((function(){try{var e=localStorage.getItem("posTransaccionesPorPedido");return e?JSON.parse(e):{}}catch(e){return console.error("Error cargando transacciones POS desde localStorage:",e),{}}})),2),An=On[0],Pn=On[1],Dn=(0,o.useRef)(null),In=(0,o.useRef)(null);(0,o.useEffect)((function(){if(Bn(""),ca(""),fa(""),ga(""),Wn(""),Gn(""),ea(""),null!=we&&we.id){Object.keys(yn).find((function(e){return yn[e]&&e!==String(we.id)}));yn[we.id]?mn(yn[we.id]):mn([{monto:"",referencia:"",bloqueado:!1,posData:null}])}else mn([{monto:"",referencia:"",bloqueado:!1,posData:null}])}),[null==we?void 0:we.id]),(0,o.useEffect)((function(){if(null!=we&&we.id){var e=(we.items||[]).length,t=null!=we.clean_total?String(we.clean_total):"",r="".concat(e,"-").concat(t),n=In.current===we.id,a=null!=Dn.current&&Dn.current!==r;Dn.current=r,In.current=we.id,n&&a&&(Bn(""),ca(""),fa(""),ga(""),Wn(""),Gn(""),ea(""),mn((function(e){var t=e.map((function(e){return e.bloqueado?e:iS(iS({},e),{},{monto:"",referencia:""})}));return!t.some((function(e){return e.monto&&parseFloat(e.monto)||e.referencia&&e.referencia.length>0}))&&t.every((function(e){return!e.bloqueado}))?[{monto:"",referencia:"",bloqueado:!1,posData:null}]:t})))}}),[null==we?void 0:we.id,null==we?void 0:we.items,null==we?void 0:we.clean_total]);var Tn=function(e,t){_n((function(r){var n=iS(iS({},r),{},sS({},e,t));try{localStorage.setItem("debitosPorPedido",JSON.stringify(n))}catch(e){console.error("Error guardando dbitos en localStorage:",e)}return n}))},Mn=(0,o.useState)(""),kn=cS(Mn,2),Rn=kn[0],Bn=kn[1],Ln=(0,o.useState)(""),Fn=cS(Ln,2),Un=Fn[0],Wn=Fn[1],Vn=(0,o.useState)(""),zn=cS(Vn,2),Kn=zn[0],Gn=zn[1],qn=(0,o.useState)(""),Hn=cS(qn,2),$n=Hn[0],Yn=Hn[1],Xn=(0,o.useState)(""),Zn=cS(Xn,2),Jn=Zn[0],ea=Zn[1],ta=(0,o.useState)(null),ra=cS(ta,2),na=ra[0],aa=ra[1],oa=(0,o.useState)(""),ia=cS(oa,2),sa=ia[0],ca=ia[1],la=(0,o.useState)(""),ua=cS(la,2),da=ua[0],fa=ua[1],ha=(0,o.useState)(""),pa=cS(ha,2),ma=pa[0],ga=pa[1],xa=(0,o.useState)("1"),va=cS(xa,2),ba=va[0],ya=va[1],_a=(0,o.useState)(""),ja=cS(_a,2),Na=ja[0],Ea=ja[1],Ca=(0,o.useState)(""),Sa=cS(Ca,2),Oa=Sa[0],Aa=Sa[1],Pa=(0,o.useState)(""),Da=cS(Pa,2),Ia=Da[0],Ta=Da[1],Ma=(0,o.useState)(""),ka=cS(Ma,2),Ra=ka[0],Ba=ka[1],La=(0,o.useState)("0108"),Fa=cS(La,2),Ua=Fa[0],Wa=Fa[1],Va=(0,o.useState)(""),za=cS(Va,2),Ka=za[0],Ga=za[1],qa=(0,o.useState)([]),Ha=cS(qa,2),$a=Ha[0],Ya=Ha[1],Xa=(0,o.useState)(!1),Qa=cS(Xa,2),Za=Qa[0],Ja=Qa[1],eo=(0,o.useState)(!1),to=cS(eo,2),ro=to[0],no=to[1],ao=(0,o.useState)(""),oo=cS(ao,2),io=oo[0],so=oo[1],co=(0,o.useState)(""),lo=cS(co,2),uo=lo[0],fo=lo[1],ho=(0,o.useState)(1),po=cS(ho,2),mo=po[0],go=po[1],xo=(0,o.useState)({}),vo=cS(xo,2),bo=vo[0],yo=vo[1],_o=(0,o.useState)(0),jo=cS(_o,2),wo=(jo[0],jo[1]),No=(0,o.useState)(!1),Eo=cS(No,2),Co=Eo[0],So=Eo[1],Oo=(0,o.useState)(!1),Ao=cS(Oo,2),Po=Ao[0],Do=Ao[1],Io=(0,o.useState)([]),To=cS(Io,2),Mo=To[0],ko=To[1],Ro=(0,o.useState)([]),Bo=cS(Ro,2),Lo=Bo[0],Fo=Bo[1],Uo=(0,o.useState)([]),Wo=cS(Uo,2),Vo=(Wo[0],Wo[1],(0,o.useState)([])),zo=cS(Vo,2),Ko=(zo[0],zo[1],(0,o.useState)("fact")),Go=cS(Ko,2),qo=Go[0],Ho=Go[1],$o=(0,o.useState)("todos"),Yo=cS($o,2),Xo=Yo[0],Qo=Yo[1],Zo=(0,o.useState)(""),Jo=cS(Zo,2),ei=Jo[0],ti=Jo[1],ri=(0,o.useState)(""),ni=cS(ri,2),ai=ni[0],oi=ni[1],ii=(0,o.useState)(""),si=cS(ii,2),ci=si[0],li=si[1],ui=(0,o.useState)(""),di=cS(ui,2),fi=di[0],hi=di[1],pi=(0,o.useState)(""),mi=cS(pi,2),gi=mi[0],xi=mi[1],vi=(0,o.useState)(""),bi=cS(vi,2),yi=bi[0],_i=bi[1],ji=(0,o.useState)(""),wi=cS(ji,2),Ni=wi[0],Ei=wi[1],Ci=(0,o.useState)(""),Si=cS(Ci,2),Oi=Si[0],Ai=Si[1],Pi=(0,o.useState)(""),Di=cS(Pi,2),Ii=Di[0],Ti=Di[1],Mi=(0,o.useState)(""),ki=cS(Mi,2),Ri=ki[0],Bi=ki[1],Li=(0,o.useState)(""),Fi=cS(Li,2),Ui=Fi[0],Wi=Fi[1],Vi=(0,o.useState)([]),zi=cS(Vi,2),Ki=zi[0],Gi=zi[1],qi=(0,o.useState)([]),Hi=cS(qi,2),$i=Hi[0],Yi=Hi[1],Xi=(0,o.useState)([]),Qi=cS(Xi,2),Zi=Qi[0],Ji=Qi[1],es=(0,o.useState)({}),ts=cS(es,2),rs=ts[0],ns=ts[1],as=(0,o.useState)(!1),os=cS(as,2),is=os[0],ss=os[1],cs=(0,o.useState)(""),ls=cS(cs,2),us=ls[0],ds=ls[1],fs=(0,o.useState)(""),hs=cS(fs,2),ps=hs[0],ms=hs[1],gs=(0,o.useState)("cuadre"),xs=cS(gs,2),vs=xs[0],bs=xs[1],ys=(0,o.useState)(0),_s=cS(ys,2),js=_s[0],ws=_s[1],Ns=(0,o.useState)("todos"),Es=cS(Ns,2),Cs=Es[0],Ss=Es[1],Os=(0,o.useState)(""),As=cS(Os,2),Ps=As[0],Ds=As[1],Is=(0,o.useState)(""),Ts=cS(Is,2),Ms=Ts[0],ks=Ts[1],Rs=(0,o.useState)("saldo"),Bs=cS(Rs,2),Ls=Bs[0],Fs=Bs[1],Us=(0,o.useState)("asc"),Ws=cS(Us,2),Vs=Ws[0],zs=Ws[1],Ks=(0,o.useState)(25),Gs=cS(Ks,2),qs=Gs[0],Hs=Gs[1],$s=(0,o.useState)([]),Ys=cS($s,2),Xs=Ys[0],Qs=Ys[1],Zs=(0,o.useState)({}),Js=cS(Zs,2),ec=Js[0],tc=Js[1],rc=(0,o.useState)(null),nc=cS(rc,2),ac=nc[0],oc=nc[1],ic=(0,o.useState)("3"),sc=cS(ic,2),cc=sc[0],lc=sc[1],uc=(0,o.useState)(""),dc=cS(uc,2),fc=dc[0],hc=dc[1],pc=(0,o.useState)([]),mc=cS(pc,2),gc=mc[0],xc=mc[1],vc=(0,o.useState)(0),bc=cS(vc,2),yc=bc[0],_c=bc[1],jc=(0,o.useState)(0),wc=cS(jc,2),Nc=wc[0],Ec=wc[1],Cc=(0,o.useState)(0),Sc=cS(Cc,2),Oc=Sc[0],Ac=(Sc[1],(0,o.useState)(!1)),Pc=cS(Ac,2),Dc=Pc[0],Ic=Pc[1],Tc=(0,o.useState)(""),Mc=cS(Tc,2),kc=(Mc[0],Mc[1],(0,o.useState)(1)),Rc=cS(kc,2),Bc=(Rc[0],Rc[1],(0,o.useState)(5)),Lc=cS(Bc,2),Fc=(Lc[0],Lc[1],(0,o.useState)("")),Uc=cS(Fc,2),Wc=(Uc[0],Uc[1],(0,o.useState)("")),Vc=cS(Wc,2),zc=(Vc[0],Vc[1]),Kc=(0,o.useRef)(null),Gc=(0,o.useRef)(null),qc=(0,o.useRef)(null),Hc=(0,o.useRef)(null),$c=(0,o.useRef)(null),Yc=(0,o.useRef)(null),Xc=(0,o.useRef)(null),Qc=(0,o.useRef)(null),Zc=((0,o.useRef)(null),(0,o.useRef)(null),(0,o.useState)(0)),Jc=cS(Zc,2),el=Jc[0],tl=Jc[1],rl=(0,o.useState)(""),nl=cS(rl,2),al=nl[0],ol=nl[1],il=(0,o.useState)(!1),sl=cS(il,2),cl=sl[0],ll=sl[1],ul=(0,o.useState)([]),dl=cS(ul,2),fl=(dl[0],dl[1],(0,o.useState)("nuevo")),hl=cS(fl,2),pl=(hl[0],hl[1],(0,o.useState)(!1)),ml=cS(pl,2),gl=ml[0],xl=ml[1],vl=(0,o.useState)([]),bl=cS(vl,2),yl=bl[0],_l=bl[1],jl=(0,o.useState)(""),wl=cS(jl,2),Nl=wl[0],El=wl[1],Cl=(0,o.useState)(""),Sl=cS(Cl,2),Ol=Sl[0],Al=Sl[1],Pl=(0,o.useState)("id"),Dl=cS(Pl,2),Il=Dl[0],Tl=Dl[1],Ml=(0,o.useState)("desc"),kl=cS(Ml,2),Rl=kl[0],Bl=kl[1],Ll=(0,o.useState)("buscar"),Fl=cS(Ll,2),Ul=Fl[0],Wl=Fl[1],Vl=(0,o.useState)(null),zl=cS(Vl,2),Kl=zl[0],Gl=zl[1],ql=(0,o.useState)(""),Hl=cS(ql,2),$l=Hl[0],Yl=Hl[1],Xl=(0,o.useState)(""),Ql=cS(Xl,2),Zl=Ql[0],Jl=Ql[1],eu=(0,o.useState)(""),tu=cS(eu,2),ru=tu[0],nu=tu[1],au=(0,o.useState)(""),ou=cS(au,2),iu=ou[0],su=ou[1],cu=(0,o.useState)(""),lu=cS(cu,2),uu=lu[0],du=lu[1],fu=(0,o.useState)(""),hu=cS(fu,2),pu=hu[0],mu=hu[1],gu=(0,o.useState)(""),xu=cS(gu,2),vu=xu[0],bu=xu[1],yu=(0,o.useState)(""),_u=cS(yu,2),ju=_u[0],wu=_u[1],Nu=(0,o.useState)(""),Eu=cS(Nu,2),Cu=Eu[0],Su=Eu[1],Ou=(0,o.useState)(""),Au=cS(Ou,2),Pu=Au[0],Du=Au[1],Iu=(0,o.useState)(""),Tu=cS(Iu,2),Mu=Tu[0],ku=Tu[1],Ru=(0,o.useState)(""),Bu=cS(Ru,2),Lu=Bu[0],Fu=Bu[1],Uu=(0,o.useState)(""),Wu=cS(Uu,2),Vu=Wu[0],zu=Wu[1],Ku=(0,o.useState)(""),Gu=cS(Ku,2),qu=Gu[0],Hu=Gu[1],$u=(0,o.useState)(""),Yu=cS($u,2),Xu=Yu[0],Qu=Yu[1],Zu=(0,o.useState)(0),Ju=cS(Zu,2),ed=Ju[0],td=Ju[1],rd=(0,o.useState)(""),nd=cS(rd,2),ad=nd[0],od=nd[1],id=(0,o.useState)(25),sd=cS(id,2),cd=sd[0],ld=(sd[1],(0,o.useState)([])),ud=cS(ld,2),dd=ud[0],fd=ud[1],hd=(0,o.useState)(null),pd=cS(hd,2),md=pd[0],gd=pd[1],xd=(0,o.useState)(""),vd=cS(xd,2),bd=vd[0],yd=vd[1],_d=(0,o.useState)(""),jd=cS(_d,2),wd=jd[0],Nd=jd[1],Ed=(0,o.useState)(""),Cd=cS(Ed,2),Sd=Cd[0],Od=Cd[1],Ad=(0,o.useState)(""),Pd=cS(Ad,2),Dd=Pd[0],Id=Pd[1],Td=(0,o.useState)(""),Md=cS(Td,2),kd=Md[0],Rd=Md[1],Bd=(0,o.useState)(""),Ld=cS(Bd,2),Fd=Ld[0],Ud=Ld[1],Wd=(0,o.useState)(""),Vd=cS(Wd,2),zd=Vd[0],Kd=Vd[1],Gd=(0,o.useState)([]),qd=cS(Gd,2),Hd=qd[0],$d=qd[1],Yd=(0,o.useState)(""),Xd=cS(Yd,2),Qd=Xd[0],Zd=Xd[1],Jd=(0,o.useState)(""),ef=cS(Jd,2),tf=ef[0],rf=ef[1],nf=(0,o.useState)(""),af=cS(nf,2),of=af[0],sf=af[1],cf=(0,o.useState)(""),lf=cS(cf,2),uf=lf[0],df=lf[1],ff=(0,o.useState)("30"),hf=cS(ff,2),pf=hf[0],mf=hf[1],gf=(0,o.useState)("43"),xf=cS(gf,2),vf=xf[0],bf=xf[1],yf=(0,o.useState)(!1),_f=cS(yf,2),jf=_f[0],wf=_f[1],Nf=(0,o.useState)([]),Ef=cS(Nf,2),Cf=Ef[0],Sf=Ef[1],Of=(0,o.useState)(1),Af=cS(Of,2),Pf=Af[0],Df=Af[1],If=(0,o.useState)(null),Tf=cS(If,2),Mf=Tf[0],kf=Tf[1],Rf=(0,o.useState)(""),Bf=cS(Rf,2),Lf=Bf[0],Ff=Bf[1],Uf=(0,o.useState)(""),Wf=cS(Uf,2),Vf=Wf[0],zf=Wf[1],Kf=(0,o.useState)(""),Gf=cS(Kf,2),qf=Gf[0],Hf=Gf[1],$f=(0,o.useState)(""),Yf=cS($f,2),Xf=Yf[0],Qf=Yf[1],Zf=(0,o.useState)(""),Jf=cS(Zf,2),eh=Jf[0],th=Jf[1],rh=(0,o.useState)(""),nh=cS(rh,2),ah=nh[0],oh=nh[1],ih=(0,o.useState)(""),sh=cS(ih,2),ch=sh[0],lh=sh[1],uh=(0,o.useState)(""),dh=cS(uh,2),fh=dh[0],hh=dh[1],ph=(0,o.useState)(""),mh=cS(ph,2),gh=mh[0],xh=mh[1],vh=(0,o.useState)("proveedor"),bh=cS(vh,2),yh=bh[0],_h=bh[1],jh=(0,o.useState)("todos"),wh=cS(jh,2),Nh=wh[0],Eh=wh[1],Ch=(0,o.useState)(""),Sh=cS(Ch,2),Oh=Sh[0],Ah=Sh[1],Ph=(0,o.useState)([]),Dh=cS(Ph,2),Ih=Dh[0],Th=Dh[1],Mh=(0,o.useState)(!0),kh=cS(Mh,2),Rh=kh[0],Bh=kh[1],Lh=(0,o.useState)([]),Fh=cS(Lh,2),Uh=Fh[0],Wh=Fh[1],Vh=(0,o.useState)(null),zh=cS(Vh,2),Kh=zh[0],Gh=zh[1],qh=(0,o.useState)(!1),Hh=cS(qh,2),$h=Hh[0],Yh=Hh[1],Xh=(0,o.useState)(!1),Qh=cS(Xh,2),Zh=Qh[0],Jh=Qh[1],ep=(0,o.useState)(!0),tp=cS(ep,2),rp=tp[0],np=(tp[1],(0,o.useState)("")),ap=cS(np,2),op=ap[0],ip=ap[1],sp=(0,o.useState)(""),cp=cS(sp,2),lp=cp[0],up=cp[1],dp=(0,o.useState)(""),fp=cS(dp,2),hp=fp[0],pp=fp[1],mp=(0,o.useState)(""),gp=cS(mp,2),xp=gp[0],vp=gp[1],bp=(0,o.useState)([]),yp=cS(bp,2),_p=yp[0],jp=yp[1],wp=(0,o.useState)(""),Np=cS(wp,2),Ep=Np[0],Cp=Np[1],Sp=(0,o.useState)([]),Op=cS(Sp,2),Ap=Op[0],Pp=Op[1],Dp=(0,o.useState)({}),Ip=cS(Dp,2),Tp=Ip[0],Mp=Ip[1],kp=(0,o.useRef)(!1),Rp=(0,o.useState)(null),Bp=cS(Rp,2),Lp=Bp[0],Fp=Bp[1],Up=(0,o.useRef)(null),Wp=(0,o.useState)([]),Vp=cS(Wp,2),zp=Vp[0],Kp=Vp[1],Gp=(0,o.useState)(null),qp=cS(Gp,2),Hp=qp[0],$p=qp[1],Yp=(0,o.useState)(null),Xp=cS(Yp,2),Qp=Xp[0],Zp=(Xp[1],(0,o.useState)(null)),Jp=cS(Zp,2),em=Jp[0],tm=Jp[1],rm=(0,o.useState)(null),nm=cS(rm,2),am=nm[0],om=nm[1],im=(0,o.useState)(""),sm=cS(im,2),cm=sm[0],lm=sm[1],um=(0,o.useState)({}),dm=cS(um,2),fm=dm[0],hm=(dm[1],(0,o.useState)({})),pm=cS(hm,2),mm=pm[0],gm=pm[1],xm=(0,o.useState)(null),vm=cS(xm,2),bm=vm[0],ym=vm[1],_m=(0,o.useState)(""),jm=cS(_m,2),wm=jm[0],Nm=jm[1],Em=(0,o.useState)(!1),Cm=cS(Em,2),Sm=Cm[0],Om=Cm[1],Am=(0,o.useState)(!1),Pm=cS(Am,2),Dm=Pm[0],Im=Pm[1],Tm=(0,o.useState)({}),Mm=cS(Tm,2),km=Mm[0],Rm=Mm[1],Bm=(0,o.useState)(!1),Lm=cS(Bm,2),Fm=Lm[0],Um=Lm[1],Wm=(0,o.useState)(!1),Vm=cS(Wm,2),zm=Vm[0],Km=Vm[1],Gm=(0,o.useState)(!1),qm=cS(Gm,2),Hm=qm[0],$m=qm[1],Ym=(0,o.useState)({}),Xm=cS(Ym,2),Qm=Xm[0],Zm=Xm[1],Jm=(0,o.useState)({}),eg=cS(Jm,2),tg=eg[0],rg=eg[1],ng=(0,o.useRef)({}),ag=(0,o.useState)(""),og=cS(ag,2),ig=og[0],sg=og[1],cg=(0,o.useState)(""),lg=cS(cg,2),ug=lg[0],dg=lg[1],fg=(0,o.useState)(""),hg=cS(fg,2),pg=hg[0],mg=hg[1],gg=(0,o.useState)(""),xg=cS(gg,2),vg=xg[0],bg=xg[1],yg=(0,o.useState)(""),_g=cS(yg,2),jg=_g[0],wg=_g[1],Ng=(0,o.useState)(""),Eg=cS(Ng,2),Cg=Eg[0],Sg=Eg[1],Og=(0,o.useState)(""),Ag=cS(Og,2),Pg=Ag[0],Dg=Ag[1],Ig=(0,o.useState)(""),Tg=cS(Ig,2),Mg=Tg[0],kg=Tg[1],Rg=(0,o.useState)([]),Bg=cS(Rg,2),Lg=Bg[0],Fg=(Bg[1],(0,o.useState)([])),Ug=cS(Fg,2),Wg=Ug[0],Vg=Ug[1],zg=(0,o.useState)(""),Kg=cS(zg,2),Gg=Kg[0],qg=Kg[1],Hg=(0,o.useState)(""),$g=cS(Hg,2),Yg=$g[0],Xg=$g[1],Qg=(0,o.useState)(""),Zg=cS(Qg,2),Jg=Zg[0],ex=Zg[1],tx=(0,o.useState)(""),rx=cS(tx,2),nx=rx[0],ax=rx[1],ox=(0,o.useState)(""),ix=cS(ox,2),sx=ix[0],cx=ix[1],lx=(0,o.useState)(""),ux=cS(lx,2),dx=ux[0],fx=ux[1],hx=(0,o.useState)(null),px=cS(hx,2),mx=px[0],gx=px[1],xx=(0,o.useState)(!1),vx=cS(xx,2),bx=vx[0],yx=vx[1],_x=(0,o.useState)("list"),jx=cS(_x,2),wx=jx[0],Nx=jx[1],Ex=(0,o.useState)(null),Cx=cS(Ex,2),Sx=Cx[0],Ox=(Cx[1],(0,o.useRef)(null)),Ax=(0,o.useState)("12340005ARAMCAL"),Px=cS(Ax,2),Dx=Px[0],Ix=Px[1],Tx=(0,o.useState)("12341238123456123456123451234123712345612345612345123412361234561234561234512341235123456123456123451234123412345612345612345"),Mx=cS(Tx,2),kx=Mx[0],Rx=Mx[1],Bx=(0,o.useState)(""),Lx=cS(Bx,2),Fx=Lx[0],Ux=Lx[1],Wx=(0,o.useState)(""),Vx=cS(Wx,2),zx=Vx[0],Kx=Vx[1],Gx=(0,o.useState)(""),qx=cS(Gx,2),Hx=qx[0],$x=qx[1],Yx=(0,o.useState)("0"),Xx=cS(Yx,2),Qx=Xx[0],Zx=Xx[1],Jx=(0,o.useState)("0"),ev=cS(Jx,2),tv=ev[0],rv=ev[1],nv=(0,o.useState)("0"),av=cS(nv,2),ov=av[0],iv=av[1],sv=(0,o.useState)("0"),cv=cS(sv,2),lv=cv[0],uv=cv[1],dv=(0,o.useState)("0"),fv=cS(dv,2),hv=fv[0],pv=fv[1],mv=(0,o.useState)("0"),gv=cS(mv,2),xv=gv[0],vv=gv[1],bv=cS((0,o.useState)(""),2),yv=bv[0],_v=bv[1],jv=cS((0,o.useState)("factura"),2),wv=jv[0],Nv=jv[1],Ev=cS((0,o.useState)(""),2),Cv=Ev[0],Sv=Ev[1],Ov=cS((0,o.useState)([]),2),Av=Ov[0],Pv=Ov[1],Dv=cS((0,o.useState)(""),2),Iv=Dv[0],Tv=Dv[1],Mv=cS((0,o.useState)(""),2),kv=Mv[0],Rv=Mv[1],Bv=cS((0,o.useState)(""),2),Lv=Bv[0],Fv=Bv[1],Uv=cS((0,o.useState)(""),2),Wv=Uv[0],Vv=Uv[1],zv=cS((0,o.useState)("desc"),2),Kv=zv[0],Gv=zv[1],qv=cS((0,o.useState)("cantidadtotal"),2),Hv=qv[0],$v=qv[1],Yv=cS((0,o.useState)([]),2),Xv=Yv[0],Qv=Yv[1],Zv=cS((0,o.useState)(""),2),Jv=Zv[0],eb=Zv[1],tb=cS((0,o.useState)(""),2),rb=tb[0],nb=tb[1],ab=cS((0,o.useState)([]),2),ob=ab[0],ib=ab[1],sb=cS((0,o.useState)(!1),2),cb=sb[0],lb=sb[1],ub=cS((0,o.useState)(null),2),db=ub[0],fb=ub[1],hb=cS((0,o.useState)([]),2),pb=hb[0],mb=hb[1],gb=cS((0,o.useState)([]),2),xb=gb[0],vb=gb[1],bb=cS((0,o.useState)({numinventario:25,novinculados:"novinculados"}),2),yb=bb[0],_b=bb[1],jb=cS((0,o.useState)(""),2),wb=jb[0],Nb=jb[1],Eb=cS((0,o.useState)([]),2),Cb=Eb[0],Sb=Eb[1],Ob=cS((0,o.useState)({}),2),Ab=Ob[0],Pb=Ob[1],Db=cS((0,o.useState)([]),2),Ib=Db[0],Tb=Db[1],Mb=cS((0,o.useState)([]),2),kb=Mb[0],Rb=Mb[1],Bb=cS((0,o.useState)([]),2),Lb=Bb[0],Fb=Bb[1],Ub=cS((0,o.useState)([]),2),Wb=Ub[0],Vb=Ub[1],zb=cS((0,o.useState)([]),2),Kb=zb[0],Gb=zb[1],qb=cS((0,o.useState)([]),2),Hb=qb[0],$b=qb[1],Yb=cS((0,o.useState)({codigo_barras:"",codigo_proveedor:"",id_proveedor:"",id_categoria:"",unidad:"",descripcion:"",iva:"",precio_base:"",precio:"",cantidad:""}),2),Xb=Yb[0],Qb=Yb[1],Zb=cS((0,o.useState)({este:null,poreste:null}),2),Jb=Zb[0],ey=Zb[1],ty=cS((0,o.useState)(""),2),ry=ty[0],ny=ty[1],ay=[{value:"",text:"--Seleccione Banco--"},{value:"0134",text:"0134 BANESCO (TRANSFERENCIAS)"},{value:"0134 BANESCO TITANIO",text:"0134 BANESCO TITANIO"},{value:"0134 BANESCO ARABITO PUNTOS 9935",text:"0134 BANESCO ARABITO PUNTOS 9935"},{value:"0134 BANESCO TITANIO EL HENAOUI 2765",text:"0134 BANESCO TITANIO EL HENAOUI 2765"},{value:"0108",text:"0108 PROVINCIAL"},{value:"0108 PROVINCIAL AMER 9483",text:"0108 PROVINCIAL AMER 9483"},{value:"0191",text:"0191 BANCO NACIONAL DE CRDITO BNC"},{value:"0191 BNC EL HENAOUI TITANIO 7402",text:"0191 BNC EL HENAOUI TITANIO 7402"},{value:"0191 BNC AMER PERSONAL 9783",text:"0191 BNC AMER PERSONAL 9783 (TRANSFERENCIAS EL HENAOUI TITANIO)"},{value:"0171 ACTIVO ARABITO 0194",text:"0171 ACTIVO ARABITO 0194"},{value:"0171 ACTIVO EL HENAOUI 0176",text:"0171 ACTIVO EL HENAOUI 0176"},{value:"0171 ACTIVO TITANIO 0229",text:"0171 ACTIVO TITANIO 0229"},{value:"0105",text:"0105 MERCANTIL"},{value:"0105 MERCANTIL TITANIO 6669",text:"0105 MERCANTIL TITANIO 6669"},{value:"0105 MERCANTIL EL HENAOUI TITANIO 7894",text:"0105 MERCANTIL EL HENAOUI TITANIO 7894"},{value:"0114",text:"0114 BANCO DEL CARIBE"},{value:"0114 BANCARIBE TITANIO FP 6042",text:"0114 BANCARIBE TITANIO FP 6042"},{value:"0102",text:"0102 BANCO DE VENEZUELA"},{value:"0151",text:"0151 BANCO FONDO COMN BFC"},{value:"0175",text:"0175 BICENTENARIO"},{value:"0115",text:"0115 EXTERIOR"},{value:"ZELLE",text:"ZELLE"},{value:"BINANCE",text:"BINANCE"},{value:"AirTM",text:"AirTM"}],oy=function(){ke.A.getControlEfec({controlefecQ:Qd,controlefecQDesde:tf,controlefecQHasta:of,controlefecQCategoria:uf,controlefecSelectGeneral:Pf}).then((function(e){Sf(e.data)}))},iy=cS((0,o.useState)("usuarios"),2),sy=iy[0],cy=iy[1],ly=function(){ke.A.getSucursales({}).then((function(e){e.data.estado?(mb(e.data.msj),n(!1)):r(e.data.msj,!1)}))},uy=cS((0,o.useState)(0),2),dy=uy[0],fy=uy[1],hy=cS((0,o.useState)(0),2),py=hy[0],my=hy[1],gy=cS((0,o.useState)(!1),2),xy=gy[0],vy=gy[1],by=cS((0,o.useState)({index:null,id:null}),2),yy=by[0],_y=by[1],jy=(0,o.useRef)(null),wy=cS((0,o.useState)({}),2),Ny=wy[0],Ey=wy[1],Cy=cS((0,o.useState)(""),2),Sy=Cy[0],Oy=Cy[1],Ay=cS((0,o.useState)([]),2),Py=Ay[0],Dy=Ay[1],Iy=function(){n(!0),ke.A.getTareasLocal({fecha:Sy}).then((function(e){n(!1),Dy(e.data)}))},Ty=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"aprobar";n(!0),ke.A.resolverTareaLocal({id:e,tipo:t}).then((function(e){n(!1),Iy()}))},My=cS((0,o.useState)([]),2),ky=My[0],Ry=My[1],By=(0,o.useRef)(null),Ly=function(e,t){var r;(console.log(t,"idinsucursal"),console.log(e,"idinsucursal e"),t.index==yy.index&&xy)?vy(!1):(vy(!0),By&&By.current&&(null===(r=By.current)||void 0===r||r.scrollIntoView({block:"nearest",behavior:"smooth"})));var n=e.currentTarget.getBoundingClientRect(),a=n.top+window.scrollY,o=n.left;my(a),fy(o),_y({index:t.index,id:t.id})},Fy=function(e){var t=yy.index,r=(0,Me.cloneDeep)(Uh);r[Kh].items[t].vinculo_real=e,Wh(r),vy(!1)},Uy=function(){if(Cb)return!Cb.filter((function(e){return 1==e.estatus})).length},Wy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(n(!0),e){case"cierrespanelcentroacopio":break;case"inventarioSucursalFromCentralmodify":var t=Cb.filter((function(e){return 1==e.estatus}));ke.A.getInventarioSucursalFromCentral({type:"inventarioSucursalFromCentralmodify",id_tarea:Ny.inventarioSucursalFromCentral,productos:t,codigo_destino:db}).then((function(e){e.data.estado&&Sb([]),r(e.data.msj,!0),n(!1)}));break;case"inventarioSucursalFromCentral":if(Uy()){var a="";"pedido"===yb.novinculados&&(a=window.prompt("ID PEDIDO")),ke.A.getInventarioSucursalFromCentral({pedidonum:a,codigo_destino:db,type:e||wb,parametros:yb}).then((function(e){r(e.data.msj,!0),n(!1)}))}}},Vy=cS((0,o.useState)({}),2),zy=Vy[0],Ky=Vy[1],Gy=cS((0,o.useState)(!1),2),qy=Gy[0],Hy=Gy[1],$y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0];n(!0),Pv([]),ke.A.getTareasCentral({estado:e}).then((function(e){Pv(e.data),n(!1)}))},Yy=function(){n(!0),ke.A.getInventarioFromSucursal({}).then((function(e){e.data&&(e.data.length?"function"==typeof e.data[Symbol.iterator]&&(!1==!e.data.estado?vb([]):vb(e.data)):vb([])),!1===e.data.estado&&r(e),n(!1)}))};(0,g.v)("down",(function(e){}),{enableOnTags:["INPUT","SELECT"]},[de,yc,Nc,Oc,Rr,wx]),(0,g.v)("up",(function(e){}),{enableOnTags:["INPUT","SELECT"]},[de,yc,Nc,Oc,Rr,wx]);var Xy=cS((0,o.useState)([]),2),Qy=Xy[0],Zy=Xy[1],Jy=cS((0,o.useState)({}),2),e_=Jy[0],t_=Jy[1];(0,o.useEffect)((function(){null!=we&&we._frontOnly&&null!=we&&we.id&&Zy(e_[we.id]||[])}),[null==we?void 0:we._frontOnly,null==we?void 0:we.id,e_]);var r_=(0,o.useRef)(null),n_=(0,o.useRef)(!1),a_=function(){n_.current||(r_.current&&(clearTimeout(r_.current),r_.current=null),n_.current=!0,r_.current=setTimeout((function(){r_.current=null,ke.A.addNewPedido({}).then((function(e){n_.current=!1,e.data&&!1===e.data.estado?r(e):JN(null,e.data)})).catch((function(e){var t;n_.current=!1;var n=(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.msj)||"Error al crear el pedido";r({msj:n,estado:!1})}))}),300))},o_=function(){var e=p(),t=(new Date).toISOString().slice(0,19).replace("T"," "),r={id:e,items:[],created_at:t,clean_total:0,clean_subtotal:0,bs:0,estado:0,cliente:null,referencias:[],pagos:[],_frontOnly:!0};Mp((function(t){return iS(iS({},t),{},sS({},e,r))})),Ne(r),ye(e),fe("pagar")};(0,o.useEffect)((function(){return function(){r_.current&&(clearTimeout(r_.current),r_.current=null),GE.current&&(clearTimeout(GE.current),GE.current=null)}}),[]),(0,o.useEffect)((function(){Promise.all([mt(),bt(),jt()]).then((function(e){var t=cS(e,3),r=t[0],n=t[1],a=t[2],o=r&&"object"===aS(r)?r:{};if(Object.keys(o).length>0){Mp(o);var i={};Object.keys(o).forEach((function(e){Array.isArray(o[e].referencias)&&o[e].referencias.length>0&&(i[e]=o[e].referencias)})),Object.keys(i).length>0&&t_((function(e){return iS(iS({},e),i)}))}if(n&&"object"===aS(n)&&Object.keys(n).length>0){var s={};Object.keys(n).forEach((function(e){o[e]&&(s[e]=n[e])})),Object.keys(s).length>0&&Rm(s)}if(a&&"object"===aS(a)&&Object.keys(a).length>0){var c={},l={};Object.keys(a).forEach((function(e){o[e]&&Array.isArray(a[e])&&a[e].length>0&&(c[e]=a[e],l[e]=!0)})),Object.keys(c).length>0&&(rg(c),Zm(l))}kp.current=!0}))}),[]),(0,o.useEffect)((function(){kp.current&&Mp((function(e){var t=!1,r=iS({},e);return Object.keys(e_).forEach((function(n){var a=e_[n];if(Array.isArray(a)){var o=e[n]&&e[n].referencias||[];JSON.stringify(o)!==JSON.stringify(a)&&(r[n]=iS(iS({},e[n]||{}),{},{referencias:a}),t=!0)}})),t?r:e}))}),[e_]),(0,o.useEffect)((function(){kp.current&&xt(Tp)}),[Tp]),(0,o.useEffect)((function(){kp.current&&function(e){_t.apply(this,arguments)}(km)}),[km]),(0,o.useEffect)((function(){kp.current&&Nt(tg)}),[tg]),(0,g.v)("f5",(function(e){return e.preventDefault()}),{enableOnTags:["INPUT","SELECT","TEXTAREA"]});var i_=cS((0,o.useState)([]),2),s_=i_[0],c_=i_[1],l_=cS((0,o.useState)([]),2),u_=l_[0],d_=l_[1],f_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"central",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if("toggle"==e&&(Ga(!Ka),ya(n),Aa((t*Se).toFixed(2))),"recargar"==e&&(QN(null,null,!1),Ga(!1),ya(""),Ea(""),Aa(""),Wa(""),Ta(""),Ba("")),"cerrar"==e&&(Ga(!1),ya(""),Ea(""),Aa(""),Wa(""),Ta(""),Ba("")),"enviar"==e){if(null==we||!we.id||!Oa)return;var i=we._frontOnly?we.id:null;if(i){var s,c,l,u="autovalidar"===a?"aprobada":"pendiente",d=Na,f=iS({_localId:"front_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2)),tipo:ba,descripcion:d,monto:Oa,banco:Ua,cedula:Ia,telefono:Ra,categoria:a||"central",estatus:u},o);if(t_((function(e){var t=e[i]||[];return iS(iS({},e),{},sS({},i,[].concat(nS(t),[f])))})),Zy((function(e){return[].concat(nS(e),[f])})),Ga(!1),ya(""),Ea(""),Aa(""),Wa(""),Ta(""),Ba(""),r({data:{msj:"Referencia agregada (se guardar al procesar el pago).",estado:!0}}),"central"===(a||"central"))ke.A.registrarRefCentralFront({id_pedido:i,descripcion:f.descripcion,banco:f.banco,monto:f.monto,cedula:null!==(s=f.cedula)&&void 0!==s?s:null,telefono:null!==(c=f.telefono)&&void 0!==c?c:null,tipo:null!==(l=f.tipo)&&void 0!==l?l:1}).catch((function(){}));return}var h=Na;ke.A.addRefPago(iS({tipo:ba,descripcion:h,monto:Oa,banco:Ua,cedula:Ia,telefono:Ra,id_pedido:we.id,categoria:a},o)).then((function(e){QN(null,null,!1),r(e),Ga(!1),ya(""),Ea(""),Aa(""),Wa(""),Ta(""),Ba(""),e.data&&e.data.estado&&e.data.id_referencia&&("pagomovil"===a||"banesco"===a||"interbancaria"===a)&&ke.A.sendRefToMerchant({id_ref:e.data.id_referencia}).then((function(e){console.log("Referencia enviada a merchant:",e),r(e)})).catch((function(e){console.error("Error al enviar a merchant:",e)}))}))}},h_=cS((0,o.useState)(""),2),p_=h_[0],m_=h_[1],g_=cS((0,o.useState)(""),2),x_=g_[0],v_=g_[1],b_=cS((0,o.useState)(""),2),y_=b_[0],__=b_[1],j_=cS((0,o.useState)(""),2),w_=j_[0],N_=j_[1],E_=cS((0,o.useState)(""),2),C_=E_[0],S_=E_[1],O_=cS((0,o.useState)("3"),2),A_=O_[0],P_=O_[1],D_=cS((0,o.useState)(""),2),I_=D_[0],T_=D_[1],M_=cS((0,o.useState)({}),2),k_=M_[0],R_=M_[1],B_=function(){ke.A.getGastos({qgastosfecha1:p_,qgastosfecha2:x_,qgastos:y_,qcatgastos:w_}).then((function(e){e.data&&(e.data.gastos?R_(e.data):R_({}))}))},L_=cS((0,o.useState)(!1),2),F_=L_[0],U_=L_[1],W_=cS((0,o.useState)(""),2),V_=W_[0],z_=W_[1],K_=cS((0,o.useState)(""),2),G_=K_[0],q_=K_[1],H_=cS((0,o.useState)(""),2),$_=H_[0],Y_=H_[1],X_=cS((0,o.useState)([]),2),Q_=X_[0],Z_=X_[1],J_=cS((0,o.useState)(null),2),ej=J_[0],tj=J_[1],rj=function(e){ke.A.getmovientoinventariounitario({id:e||ej,fecha1modalhistoricoproducto:V_,fecha2modalhistoricoproducto:G_,usuariomodalhistoricoproducto:$_}).then((function(e){Array.isArray(e.data)?Z_(e.data):r(e.data)}))},nj=cS((0,o.useState)(""),2),aj=nj[0],oj=nj[1],ij=cS((0,o.useState)(""),2),sj=ij[0],cj=ij[1],lj=cS((0,o.useState)(""),2),uj=lj[0],dj=lj[1],fj=cS((0,o.useState)("desc"),2),hj=fj[0],pj=fj[1],mj=cS((0,o.useState)(""),2),gj=mj[0],xj=mj[1],vj=cS((0,o.useState)([]),2),bj=vj[0],yj=vj[1],_j=cS((0,o.useState)(""),2),jj=_j[0],wj=_j[1],Nj=cS((0,o.useState)([]),2),Ej=Nj[0],Cj=Nj[1],Sj=cS((0,o.useState)(""),2),Oj=Sj[0],Aj=Sj[1],Pj=cS((0,o.useState)(null),2),Dj=Pj[0],Ij=Pj[1],Tj=function(){ke.A.getCategorias({q:jj}).then((function(e){e.data&&(e.data.length?Cj(e.data):Cj([]))}))};(0,o.useEffect)((function(){if(t.usuario){var e=t.usuario.slice(-1);1!=e&&2!=e&&3!=e&&4!=e&&5!=e&&6!=e&&7!=e&&8!=e&&9!=e&&10!=e||A(e)}}),[]),(0,o.useEffect)((function(){!function(){if(Dj){var e=Ej[Dj];e&&Aj(e.descripcion)}}()}),[Dj]);var Mj=(0,o.useRef)(!0);(0,o.useEffect)((function(){Mj.current?Mj.current=!1:bO()}),[dx]),(0,o.useEffect)((function(){vO()}),[mx]),(0,o.useEffect)((function(){tw(),Qj(),Vj()}),[]);var kj=(0,o.useRef)(!0);(0,o.useEffect)((function(){kj.current?kj.current=!1:$S()}),[ad]),(0,o.useEffect)((function(){$j()}),[me]),(0,o.useEffect)((function(){"devoluciones"==de&&qN()}),[v,de,al]),(0,o.useEffect)((function(){"inventario"==de&&("inventario"==Rr?pw():"proveedores"==Rr?oS():"facturasItems"==Rr&&LS(!1))}),[de,Rr]),(0,o.useEffect)((function(){"credito"!=de&&"vueltos"!=de||(ZC(),Xj())}),[de,Ls,Vs]),(0,o.useEffect)((function(){lS()}),[rt]),(0,o.useEffect)((function(){"proveedores"==Rr?uS():"facturas"==Rr&&OO()}),[Rr,Fr]),(0,o.useEffect)((function(){xO()}),[ug,pg,vg,jg,Cg,Pg]);var Rj=(parseFloat(fi||0)+parseFloat(gi||0)/parseFloat(Pe)+parseFloat(yi||0)/parseFloat(Se)).toFixed(2),Bj=Rj&&"NaN"!=Rj?Rj:0,Lj=(parseFloat(Ii||0)+parseFloat(Ri||0)/parseFloat(Pe)+parseFloat(Ui||0)/parseFloat(Se)).toFixed(2),Fj=Lj&&"NaN"!=Lj?Lj:0,Uj=Se&&Ni?(Ni/Se).toFixed(2):0,Wj=Se&&Oi?(Oi/Se).toFixed(2):0,Vj=function(){ke.A.getSucursal({}).then((function(e){e.data.codigo&&sg(e.data)})).catch((function(e){}))},zj=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;switch(e){case"setCajaFuerteEntradaCierreDolar":Zx(t),n=parseFloat(op-t).toFixed(2),r&&uv(n);break;case"setCajaFuerteEntradaCierreCop":rv(t),n=parseFloat(lp-t).toFixed(2),r&&pv(n);break;case"setCajaFuerteEntradaCierreBs":iv(t),n=parseFloat(hp-t).toFixed(2),r&&vv(n)}},Kj=cS((0,o.useState)([]),2),Gj=Kj[0],qj=Kj[1],Hj=function(e,t,r){var n=At(r.efectivo_guardado);if("setguardar_cop"==e){up(t),zj("setCajaFuerteEntradaCierreCop",t,!1);var a=n-At((t/Pe).toFixed(1));pp(""),zj("setCajaFuerteEntradaCierreBs","",!1),ip(a),zj("setCajaFuerteEntradaCierreDolar",a,!1)}if("setguardar_bs"==e)if(pp(t),zj("setCajaFuerteEntradaCierreBs",t,!1),t){var o=(n-At((lp/Pe).toFixed(1))-At((t/Se).toFixed(1))).toFixed(1);ip(o),zj("setCajaFuerteEntradaCierreDolar",o,!1)}else{var i=n-At((lp/Pe).toFixed(1));ip(i),zj("setCajaFuerteEntradaCierreDolar",i,!1)}},$j=function(){Yc.current&&Yc.current.focus()},Yj=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Do(e),t&&t()},Xj=function(){try{Xs[ac]&&(n(!0),ke.A.getDeudor({onlyVueltos:Ve,id:Xs[ac].id}).then((function(e){xc(e.data),n(!1)})))}catch(e){}},Qj=function(){ke.A.today({}).then((function(e){var t=e.data;ds(t),oi(t),li(t),ol(t),zc(t),Cp(t),m_(t),v_(t),so(t),rf(t),sf(t),rf(t),sf(t),Al(t)}))},Zj=function(e){var t,r=e.currentTarget.attributes.name.value;switch(t="notaCierre"==r||"tipo_pago_deudor"==r||"qDeudores"==r?e.currentTarget.value:"NaN"!=(t=At(e.currentTarget.value))&&t?t:"",r){case"caja_usd":hi(t);break;case"caja_cop":xi(t),up(t);break;case"caja_bs":_i(t),pp(t);break;case"dejar_usd":Ti(t);break;case"dejar_cop":Bi(t),up(gi-t);break;case"dejar_bs":Wi(t),pp(yi-t);break;case"caja_punto":Ei(t);break;case"notaCierre":Ds(t);break;case"tipo_pago_deudor":lc(t);break;case"monto_pago_deudor":hc(t);break;case"qDeudores":ks(t);break;case"caja_biopago":Ai(t)}},Jj=function(){var e=rS(eS().mark((function e(t){var n,a,o,i;return eS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.currentTarget.attributes["data-type"].value,a="1"===n?"Dlar":"Peso Colombiano",!(o=window.prompt("Nuevo valor del ".concat(a)))){e.next=15;break}return e.prev=4,e.next=7,ke.A.setMoneda({tipo:n,valor:o});case 7:(i=e.sent).data.estado?(r(" ".concat(a," actualizado: ").concat(o,". Recargando sistema...")),setTimeout(rS(eS().mark((function e(){return eS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/logout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Logout error:",e.t0);case 8:return e.prev=8,window.location.reload(!0),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])}))),2e3)):r(" Error: ".concat(i.data.msj)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),r(" Error al actualizar ".concat(a)),console.error("Error updating currency:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),ew=function(){var e=rS(eS().mark((function e(t){var n,a,o,i,s;return eS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("1"!==t.currentTarget.attributes["data-type"].value){e.next=54;break}return e.prev=2,e.next=5,ke.A.updateDollarRate();case 5:if(!(n=e.sent).data.estado){e.next=11;break}r(" Dlar actualizado: $".concat(n.data.valor," Bs. Recargando sistema...")),setTimeout(rS(eS().mark((function e(){return eS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/logout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Logout error:",e.t0);case 8:return e.prev=8,window.location.reload(!0),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])}))),2e3),e.next=29;break;case 11:if(r(" Error: ".concat(n.data.msj)),!window.confirm("Desea actualizar manualmente el valor del dlar?")){e.next=29;break}if(!((a=window.prompt(" Ingrese el nuevo valor del dlar en Bolvares (Bs):\n\nEjemplo: 109.50"))&&!isNaN(a)&&parseFloat(a)>0)){e.next=28;break}return e.prev=15,e.next=18,ke.A.setMoneda({tipo:1,valor:parseFloat(a)});case 18:(o=e.sent).data.estado?(r(" Dlar actualizado manualmente: $".concat(a," Bs. Recargando sistema...")),setTimeout(rS(eS().mark((function e(){return eS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("/logout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Logout error:",e.t0);case 8:return e.prev=8,window.location.reload(!0),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])}))),2e3)):r(" Error al actualizar manualmente: ".concat(o.data.msj)),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(15),r(" Error al actualizar el dlar manualmente"),console.error("Error updating dollar manually:",e.t0);case 26:e.next=29;break;case 28:null!==a&&r(" Por favor ingrese un valor vlido mayor a 0");case 29:e.next=52;break;case 31:if(e.prev=31,e.t1=e.catch(2),r(" Error al actualizar el dlar automticamente"),console.error("Error updating dollar:",e.t1),!window.confirm("Desea actualizar manualmente el valor del dlar?")){e.next=52;break}if(!((i=window.prompt(" Ingrese el nuevo valor del dlar en Bolvares (Bs):\n\nEjemplo: 109.50"))&&!isNaN(i)&&parseFloat(i)>0)){e.next=51;break}return e.prev=38,e.next=41,ke.A.setMoneda({tipo:1,valor:parseFloat(i)});case 41:(s=e.sent).data.estado?(r(" Dlar actualizado manualmente: $".concat(i," Bs")),tw()):r(" Error al actualizar manualmente: ".concat(s.data.msj)),e.next=49;break;case 45:e.prev=45,e.t2=e.catch(38),r(" Error al actualizar el dlar manualmente"),console.error("Error updating dollar manually:",e.t2);case 49:e.next=52;break;case 51:null!==i&&r(" Por favor ingrese un valor vlido mayor a 0");case 52:e.next=55;break;case 54:Jj(t);case 55:case"end":return e.stop()}}),e,null,[[2,31],[15,22],[38,45]])})));return function(t){return e.apply(this,arguments)}}(),tw=function(){n(!0),ke.A.getMoneda().then((function(e){e.data.peso&&De(e.data.peso),e.data.dolar&&Oe(e.data.dolar),n(!1)}))},rw=cS((0,o.useState)(!1),2),iw=rw[0],sw=rw[1],cw=cS((0,o.useState)(null),2),lw=cw[0],uw=cw[1],dw=function(){var e=rS(eS().mark((function e(t){var n;return eS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.A.resetPrintingState({id:t});case 3:(n=e.sent).data.estado?(r("Estado de impresin reseteado"),sw(!1),uw(null)):r("Error al resetear estado: "+n.data.msj),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r("Error al resetear estado: "+e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),fw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(iw)lw&&window.confirm("Hubo un error en la impresin anterior. Desea resetear el estado de impresin?")&&dw(e||we.id);else if(we)if(sw(!0),uw(null),"presupuesto"==e){var t=window.prompt("(Nombre y Apellido) o (Razn Social)"),n=window.prompt("CI o RIF"),a={id:e||we.id,moneda:I,printer:O,presupuestocarrito:N,nombres:t,identificacion:n};ke.A.imprimirTicked(a).then((function(e){!1===e.data.estado?(uw(e.data.msj),e.data.msj.includes("est siendo impreso")?window.confirm("El ticket parece estar atascado. Desea resetear el estado de impresin?")&&dw(a.id):e.data.id_tarea&&(YO({dbFunction:ke.A.imprimirTicked,params:a}),qO(e.data.id_tarea))):r(e.data.msj),sw(!1)})).catch((function(e){uw(e.message),sw(!1),r("Error al imprimir: "+e.message)}))}else{var o={id:e||we.id,moneda:I,printer:O};ke.A.imprimirTicked(o).then((function(e){!1===e.data.estado?(uw(e.data.msj),e.data.msj.includes("est siendo impreso")?window.confirm("El ticket parece estar atascado. Desea resetear el estado de impresin?")&&dw(o.id):e.data.id_tarea&&(YO({dbFunction:ke.A.imprimirTicked,params:o}),qO(e.data.id_tarea))):r(e.data.msj),sw(!1)})).catch((function(e){uw(e.message),sw(!1),r("Error al imprimir: "+e.message)}))}else console.log("NO pedidoData",fw),sw(!1)},hw=function(e){e&&e.preventDefault(),n(!0),Fo([]),0!=r&&clearTimeout(el);var r=window.setTimeout((function(){ke.A.getPedidos({vendedor:Yr?[t.id_usuario]:[],busquedaPedido:ei,fecha1pedido:ai,fecha2pedido:ci,tipobusquedapedido:qo,tipoestadopedido:Xo,filterMetodoPagoToggle:Cs,orderbycolumpedidos:Zr,orderbyorderpedidos:tn}).then((function(e){e.data?Fo(e.data):Fo([]),n(!1)}))}),150);tl(r)},pw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l(!1),el&&clearTimeout(el);var a=setTimeout((function(){ke.A.getinventario({vendedor:Yr?[t.id_usuario]:[],num:U,itemCero:n||$,qProductosMain:e||Q,orderColumn:te,orderBy:oe}).then((function(e){if(e.data){!1===e.data.estado&&r(e.data.msj,!1);var t=e.data.length;if(t&&$e(e.data),t||$e([]),e.data[yc]||(_c(0),Ec(0)),Ge&&1==t){Z("");var n=null;Co&&we.id&&(n=we.id),ZN("agregar",e.data[0].id,n)}}setTimeout((function(){l(!0)}),100)})).catch((function(e){setTimeout((function(){l(!0)}),100),console.error("Error en getProductos:",e)}))}),100);tl(a)},mw=function(e){n(!0),0!=t&&clearTimeout(el);var t=window.setTimeout((function(){ke.A.getpersona({q:e}).then((function(t){t.data&&("OK"==t.statusText&&(t.data.length?ko(t.data):ko([])),t.data.length||yd(e),n(!1))}))}),100);tl(t)},gw=cS((0,o.useState)([]),2),xw=gw[0],vw=gw[1],bw=cS((0,o.useState)(""),2),yw=bw[0],_w=bw[1],jw=cS((0,o.useState)("sumpendiente"),2),ww=jw[0],Nw=jw[1],Ew=cS((0,o.useState)("desc"),2),Cw=Ew[0],Ow=Ew[1],Aw=cS((0,o.useState)("pendiente"),2),Pw=Aw[0],Dw=Aw[1],Iw=function(){ke.A.getGarantias({qgarantia:yw,garantiaorderCampo:ww,garantiaorder:Cw,garantiaEstado:Pw}).then((function(e){vw(e.data)}))},Tw=cS((0,o.useState)(null),2),Mw=(Tw[0],Tw[1],cS((0,o.useState)("cliente"),2)),kw=(Mw[0],Mw[1],cS((0,o.useState)(null),2)),Rw=(kw[0],kw[1],cS((0,o.useState)([]),2)),Bw=(Rw[0],Rw[1],cS((0,o.useState)({}),2)),Lw=(Bw[0],Bw[1],cS((0,o.useState)(null),2)),Fw=(Lw[0],Lw[1],cS((0,o.useState)(null),2)),Uw=Fw[0],Ww=Fw[1],Vw=cS((0,o.useState)(""),2),zw=(Vw[0],Vw[1],cS((0,o.useState)(""),2)),Kw=zw[0],Gw=zw[1],qw=cS((0,o.useState)(""),2),Hw=qw[0],$w=qw[1],Yw=cS((0,o.useState)(""),2),Xw=Yw[0],Zw=Yw[1],eN=cS((0,o.useState)(""),2),tN=eN[0],oN=eN[1],iN=cS((0,o.useState)(""),2),sN=iN[0],cN=iN[1],lN=cS((0,o.useState)(""),2),uN=lN[0],dN=lN[1],fN=cS((0,o.useState)(""),2),hN=fN[0],pN=fN[1],xN=cS((0,o.useState)(""),2),vN=xN[0],_N=xN[1],jN=cS((0,o.useState)(""),2),wN=jN[0],NN=jN[1],EN=cS((0,o.useState)(""),2),CN=EN[0],SN=EN[1],ON=cS((0,o.useState)(""),2),AN=ON[0],PN=ON[1],DN=cS((0,o.useState)(""),2),IN=DN[0],TN=DN[1],MN=cS((0,o.useState)(""),2),kN=MN[0],RN=MN[1],BN=cS((0,o.useState)(""),2),LN=BN[0],FN=BN[1],UN=cS((0,o.useState)(!1),2),WN=UN[0],VN=UN[1],zN=cS((0,o.useState)([]),2),KN=(zN[0],zN[1],cS((0,o.useState)(""),2)),GN=(KN[0],KN[1],cS((0,o.useState)(""),2)),qN=(GN[0],GN[1],function(){n(!0),ke.A.getBuscarDevolucionhistorico({q:v,num:10,orderColumn:"id",orderBy:"desc"}).then((function(e){_(e.data),n(!1)}))}),HN=function(e){e.preventDefault(),ke.A.setClienteCrud({id:null,clienteInpidentificacion:bd,clienteInpnombre:wd,clienteInpdireccion:Dd,clienteInptelefono:kd}).then((function(e){r(e),e.data&&e.data.estado&&e.data.id&&lE(e.data.id),n(!1)}))};var $N=cS((0,o.useState)(!1),2),YN=$N[0],XN=$N[1],QN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!KE){if(e?ye(e):e=be,Tp[e]){var o=Tp[e];return Zy(e_[e]||[]),Ne(o),void(t&&t())}n(!0),ke.A.getPedido({id:e}).then((function(e){if(n(!1),e.data){if(!1===e.data.estado&&r(e.data.msj,!1),Ne(e.data),yo({}),no(!1),a&&(Wn(""),on(""),ln(""),Sn(!1),Bn(""),ca(""),fa(""),ga(""),Gn(""),ea("")),Zy([]),mS(),e.data.referencias?e.data.referencias.length&&Zy(e.data.referencias):Zy([]),e.data.pagos){var o=e.data.pagos,i=o.find((function(e){return 1==e.tipo}));i&&"0.00"!=i.monto&&Wn(i.monto);var s=o.find((function(e){return 2==e.tipo}));if(s){var c=s.monto_original||s.monto;on(c),s.referencia&&ln(s.referencia)}o.filter((function(e){return 3==e.tipo})).forEach((function(e){if("0.00"!=e.monto){var t=e.monto_original||e.monto;"dolar"!==e.moneda&&e.moneda?"bs"===e.moneda?ca(t):"peso"===e.moneda&&(ga(t),setShowEfectivoPeso(!0)):fa(t)}}));var l=o.find((function(e){return 4==e.tipo}));l&&"0.00"!=l.monto&&Gn(l.monto);var u=o.find((function(e){return 5==e.tipo}));u&&"0.00"!=u.monto&&ea(u.monto);var d=o.find((function(e){return 6==e.tipo}));d&&"0.00"!=d.monto&&Yn(d.monto)}t&&t()}}))}},ZN=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{var i;n(!0),e.currentTarget?(i=e.currentTarget.attributes["data-type"].value,e.preventDefault()):i=e;var s=null;He[me]&&(s=He[me].id),t&&(s=t),ke.A.setCarrito({id:s,type:i,cantidad:o||Re,numero_factura:a||Fe,loteIdCarrito:Sx}).then((function(e){switch(e.data.msj&&r(e.data.msj),e.data.type){case"agregar":ge(null),r(e),Ge&&Co&&QN(e.data.num_pedido);break;case"agregar_procesar":QN(e.data.num_pedido,(function(){fe("pagar"),ge(null)}))}Be(""),Xc&&Xc.current&&(Xc.current.value="",Xc.current.focus()),n(!1)}))}catch(e){alert(e)}},JN=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t=!e&&r?r:e.currentTarget.attributes["data-id"].value,Tp[t])return Zy(e_[t]||[]),Ne(Tp[t]),ye(t),void fe("pagar");QN(t,(function(){fe("pagar")}))},eE=function(e){var t=e.currentTarget.attributes,n=t["data-id"].value;if(Tp[n])return Mp((function(e){var t=iS({},e);return delete t[n],t})),(null==we?void 0:we.id)===n&&(Ne({}),ye(null)),void r({msj:"Pedido eliminado",estado:!0});if(confirm("Seguro de eliminar?")){var a=window.prompt("Cul es el Motivo de eliminacin?");if(a){var o={id:n,motivo:a};ke.A.delpedido(o).then((function(e){switch(r(e),t["data-type"].value){case"getDeudor":Xj();break;case"getPedidos":hw()}!1===e.data.estado&&(YO({dbFunction:ke.A.delpedido,params:o}),qO(e.data.id_tarea))}))}}},tE=function(e,t){if(!Array.isArray(t)||0===t.length)return!1;if(!Array.isArray(e)||e.length!==t.length)return!1;for(var r=function(e){return e&&(e.moneda||e.moneda_original)?String(e.moneda||e.moneda_original):""},n=function(e){return nS(e).sort((function(e,t){return String(e.tipo).localeCompare(String(t.tipo))||r(e).localeCompare(r(t))||(parseFloat(e.monto)||0)-(parseFloat(t.monto)||0)}))},a=n(e),o=n(t),i=0;i<a.length;i++){if(a[i].tipo!==o[i].tipo)return!1;if(r(a[i])!==r(o[i]))return!1;if(Math.abs((parseFloat(a[i].monto)||0)-(parseFloat(o[i].monto)||0))>.02)return!1}return!0},rE=function(){var e=[],t=parseFloat(ME.current);Number.isNaN(t)||0===t||e.push({tipo:"efectivo",monto:t,moneda:"USD"});var r=IE.current||[];if(Array.isArray(r)&&r.length>0)r.forEach((function(t){var r=parseFloat(t.monto);Number.isNaN(r)||0===r||e.push({tipo:"debito",monto:r,moneda:t.moneda||"Bs"})}));else{var n=parseFloat(WE.current);Number.isNaN(n)||0===n||e.push({tipo:"debito",monto:n,moneda:"Bs"})}var a=parseFloat(BE.current);Number.isNaN(a)||0===a||e.push({tipo:"transferencia",monto:a,moneda:"USD"});var o=parseFloat(FE.current);Number.isNaN(o)||0===o||e.push({tipo:"biopago",monto:0,moneda:"USD"});var i=parseFloat(LE.current);Number.isNaN(i)||0===i||e.push({tipo:"credito",monto:i,moneda:"USD"});var s=parseFloat(kE.current);Number.isNaN(s)||0===s||e.push({tipo:"adicional",monto:s,moneda:"Bs"});var c=parseFloat(RE.current);return Number.isNaN(c)||0===c||e.push({tipo:"adicional",monto:c,moneda:"COP"}),e},nE=function(){var e=[];return da&&parseFloat(da)&&e.push({tipo:"efectivo",monto:parseFloat(da),moneda:"USD"}),pn&&Array.isArray(pn)&&pn.length>0?pn.forEach((function(t){var r=parseFloat(t.monto);Number.isNaN(r)||0===r||e.push({tipo:"debito",monto:r,moneda:t.moneda||"Bs"})})):an&&parseFloat(an)&&e.push({tipo:"debito",monto:parseFloat(an),moneda:"Bs"}),Un&&parseFloat(Un)&&e.push({tipo:"transferencia",monto:parseFloat(Un),moneda:"USD"}),Jn&&parseFloat(Jn)&&e.push({tipo:"biopago",monto:0,moneda:"USD"}),Kn&&parseFloat(Kn)&&e.push({tipo:"credito",monto:parseFloat(Kn),moneda:"USD"}),sa&&parseFloat(sa)&&e.push({tipo:"adicional",monto:parseFloat(sa),moneda:"Bs"}),ma&&parseFloat(ma)&&e.push({tipo:"adicional",monto:parseFloat(ma),moneda:"COP"}),e},aE=function(){var e;if(we._frontOnly&&we.id&&null!==(e=we.items)&&void 0!==e&&e.length)if(we.items.some((function(e){return null!=e.descuento&&parseFloat(e.descuento)>0})))if(we.id_cliente&&1!=we.id_cliente){var t=nE();if(0!==t.length)if(t.some((function(e){return Math.abs(parseFloat(e.monto)||0)>0}))){var a=(we.items||[]).reduce((function(e,t){var r,n;return e+(parseFloat(null!==(r=null===(n=t.producto)||void 0===n?void 0:n.precio)&&void 0!==r?r:t.precio)||0)*(parseFloat(t.cantidad)||0)}),0),o=0;(we.items||[]).forEach((function(e){var t,r,n=(parseFloat(null!==(t=null===(r=e.producto)||void 0===r?void 0:r.precio)&&void 0!==t?t:e.precio)||0)*(parseFloat(e.cantidad)||0),a=parseFloat(e.descuento)||0;a>0&&(o+=n*(a/100))}));var i=a-o,s=0!==a?o/a*100:0,c=(we.items||[]).map((function(e){var t,r,n,a,o,i,s,c,l=(parseFloat(null!==(t=null===(r=e.producto)||void 0===r?void 0:r.precio)&&void 0!==t?t:e.precio)||0)*(parseFloat(e.cantidad)||0),u=parseFloat(e.descuento)||0,d=l*(1-u/100);return{id_producto:null!==(n=null===(a=e.producto)||void 0===a?void 0:a.id)&&void 0!==n?n:e.id,cantidad:parseFloat(e.cantidad)||0,precio:parseFloat(null!==(o=null===(i=e.producto)||void 0===i?void 0:i.precio)&&void 0!==o?o:e.precio)||0,precio_base:null!==(s=null===(c=e.producto)||void 0===c?void 0:c.precio_base)&&void 0!==s?s:0,subtotal:l,subtotal_con_descuento:d,porcentaje_descuento:u}})),l=(we.items||[]).filter((function(e){return null!=e.descuento&&parseFloat(e.descuento)>0})).length;n(!0),ke.A.solicitudDescuentoFrontCrear({uuid_pedido_front:we.id,ids_productos:c,monto_bruto:a,monto_con_descuento:i,monto_descuento:o,porcentaje_descuento:s,tipo_descuento:"metodo_pago",metodos_pago:t,observaciones:"Solicitud de descuento por mtodo de pago: "+s.toFixed(2)+"%",id_cliente:we.id_cliente||void 0,data_cliente:we.cliente&&"object"===aS(we.cliente)?we.cliente:void 0}).then((function(e){n(!1);var a=e.data||e;if(!0===a.estado&&a.existe){var o;if("aprobado"===(null===(o=a.data)||void 0===o?void 0:o.estado)){var i;if(ng.current&&ng.current[we.id])return void r({data:{msj:"La solicitud fue cancelada por usted. Debe enviar una nueva solicitud de descuento (guardar de nuevo); cancele la solicitud en central si es necesario para poder crear una nueva.",estado:!1}});var s=(null===(i=a.data)||void 0===i?void 0:i.metodos_pago)||[];return tE(t,s)?(Rm((function(e){var t=iS({},e);return delete t[we.id],t})),Zm((function(e){return iS(iS({},e),{},sS({},we.id,!0))})),rg((function(e){return iS(iS({},e),{},sS({},we.id,s))})),r({data:{msj:"Solicitud ya aprobada en central. Guardando pedido",estado:!0}}),void(zE.current&&zE.current(null,null,null))):void r({data:{msj:"Los mtodos de pago no coinciden con los aprobados. Cancele la solicitud en central y enve una nueva con los mtodos que desea usar.",estado:!1}})}r({data:{msj:a.msj||"Ya existe una solicitud en espera de aprobacin",estado:!0}})}else{if(!0===a.estado)return ng.current&&ng.current[we.id]&&delete ng.current[we.id],Rm((function(e){return iS(iS({},e),{},sS({},we.id,{submittedAt:Date.now(),metodos_pago:t,numItemsConDescuento:l}))})),void r({data:{msj:"Se envi la solicitud de descuento de ".concat(l," tem(s) con sus descuentos y el mtodo de pago elegido. Use Verificar aprobacin cuando central apruebe."),estado:!0}});r({data:{msj:a.msj||"Error al enviar solicitud",estado:!1}})}})).catch((function(){n(!1),r({data:{msj:"Error de conexin con el servidor",estado:!1}})}))}else r({data:{msj:"Indique al menos un mtodo de pago con monto (mayor a cero en ventas, o el vuelto en devoluciones) para solicitar el descuento",estado:!1}});else r({data:{msj:"Indique al menos un mtodo de pago para solicitar el descuento",estado:!1}})}else r({data:{msj:"Debe seleccionar un cliente antes de enviar la solicitud de descuento.",estado:!1}});else r({data:{msj:"El pedido no tiene tems con descuento",estado:!1}})},oE=cS((0,o.useState)(null),2),iE=oE[0],sE=oE[1],cE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e&&e.preventDefault&&e.preventDefault(),1==Uw&&t)VN(!0);else{if(we._frontOnly&&we.id){var i,s,c,l;if(km[we.id])return void r({data:{msj:"Solicitud de descuento en espera. Verifique aprobacin o cancele la solicitud para agregar tems al pedido.",estado:!1}});var u,d=null!==(i=parseFloat(null!=a?a:Re))&&void 0!==i?i:0,f=d<0,p=parseFloat(iE.precio)||0,m=0,g=He.find((function(e){return e.id==iE.id})),x=null!=g&&parseFloat(g.cantidad)||0,v=we.items||[],b=v.findIndex((function(e){return e.producto&&e.producto.id==iE.id}));if(f){var y,_,j,w,N,E,C=Tp[we.id],S=null!==(y=null!==(_=null!==(j=o&&o.id_pedido_original)&&void 0!==j?j:we.isdevolucionOriginalid)&&void 0!==_?_:C&&C.isdevolucionOriginalid)&&void 0!==y?y:null;if(!S)return void r({data:{msj:"Asigne primero la factura original para realizar la devolucin.",estado:!1}});var O=null!==(w=iE.id)&&void 0!==w?w:iE.id_producto,A=Number(O),P=(null!==(N=null!==(E=iE.codigo_barras)&&void 0!==E?E:iE.codigo_proveedor)&&void 0!==N?N:"").toString().trim(),D=o&&Array.isArray(o.items_disponibles)?o.items_disponibles:zp||[],I=D.find((function(e){var t=Number(e.id_producto);return!Number.isNaN(A)&&!Number.isNaN(t)&&t===A||(String(e.id_producto)===String(O)||!(!P||(e.codigo_barras||"").toString().trim()!==P))}));if(!I)return D&&0!==D.length||!S?void r({data:{msj:"Este producto no fue facturado en la factura original #"+S+". Solo puede devolver tems de esa factura.",estado:!1}}):void ke.A.getItemsDisponiblesDevolucion({id_pedido_original:S}).then((function(e){var t;null!==(t=e.data)&&void 0!==t&&null!==(t=t.items_disponibles)&&void 0!==t&&t.length?(Kp(e.data.items_disponibles),r({data:{msj:"Lista de devolucin actualizada. Agregue el tem de nuevo.",estado:!0}})):r({data:{msj:"Este producto no fue facturado en la factura original #"+S+". Solo puede devolver tems de esa factura.",estado:!1}})})).catch((function(){r({data:{msj:"Este producto no fue facturado en la factura original #"+S+". Solo puede devolver tems de esa factura.",estado:!1}})}));p=parseFloat(I.precio_unitario)||p,m=parseFloat(I.descuento)||0;var T=parseFloat(I.cantidad_disponible)||0,M=v.reduce((function(e,t,r){if(r===b)return e;if(!t.producto||String(t.producto.id)!==String(iE.id))return e;var n=parseFloat(t.cantidad)||0;return n<0?e+Math.abs(n):e}),0);if(M+(b>=0?Math.max(0,-((parseFloat(v[b].cantidad)||0)+d)):Math.abs(d))>T)return void r({data:{msj:"Mximo a devolver para este producto: "+T+" (factura original #"+S+"). Ya tiene "+M+" en esta devolucin.",estado:!1}})}if(b>=0){var k,R=v[b];if(!f&&Qm[we.id]&&null!=R.descuento&&parseFloat(R.descuento)>0)return void r({msj:"No se puede agregar ms: el tem tiene descuento aprobado por central. Para cambiar cantidad, use Eliminar validacin y vuelva a solicitar.",estado:!1});if(f)k=(parseFloat(R.cantidad)||0)+d;else{var B=Math.max(0,x);if((k=Math.min(d,B))<=0)return void r({msj:"No hay cantidad disponible ("+x+")",estado:!1});k<d&&r({msj:"Solo hay "+x+" disponible(s). Se actualiz al mximo.",estado:!0})}var L=parseFloat(R.precio)||p,F=f?m:parseFloat(R.descuento)||0,U=k*L*(1-F/100);(u=v.slice())[b]=iS(iS({},R),{},{cantidad:k,descuento:F,total:U,total_des:U,cantidad_disponible_al_agregar:x})}else{var W,V,z,K,G,q,H;if(f)H=d;else{if((H=Math.min(d||1,Math.max(0,x)))<=0)return void r({msj:"No hay cantidad disponible ("+x+")",estado:!1});H<(d||1)&&r({msj:"Solo hay "+x+" disponible(s). Se agreg "+H+".",estado:!0})}var $="item-front-"+Date.now()+"-"+Math.random().toString(36).slice(2,9),Y=(null!==(W=null!==(V=null!==(z=null!==(K=iE.codigo_barras)&&void 0!==K?K:iE.codigo_proveedor)&&void 0!==z?z:null==g?void 0:g.codigo_barras)&&void 0!==V?V:null==g?void 0:g.codigo_proveedor)&&void 0!==W?W:"").toString().trim(),X={id:$,producto:{id:iE.id,codigo_barras:Y,codigo_proveedor:null!==(G=null!==(q=null==g?void 0:g.codigo_proveedor)&&void 0!==q?q:iE.codigo_proveedor)&&void 0!==G?G:"",descripcion:iE.descripcion||iE.nombre||"",precio:iE.precio,precio1:iE.precio1},codigo_barras:Y,cantidad:H,precio:p,tasa:parseFloat(Se)||0,tasa_cop:parseFloat(Pe)||0,descuento:m,total:H*p*(1-m/100),total_des:H*p*(1-m/100),cantidad_disponible_al_agregar:x};u=[].concat(nS(v),[X])}var Q=u.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),Z=Q,J=Z*(parseFloat(Se)||0),ee=o&&null!=o.id_pedido_original?o.id_pedido_original:null!==(s=we.isdevolucionOriginalid)&&void 0!==s?s:Tp[we.id]&&Tp[we.id].isdevolucionOriginalid,te=iS(iS(iS({},we),null!=ee?{isdevolucionOriginalid:ee}:{}),{},{items:u,clean_subtotal:Q,clean_total:Z,bs:J});Mp((function(e){return iS(iS({},e),{},sS({},we.id,te))})),Ne(te);var re=b>=0?v[b].id:null!==(c=null===(l=u[u.length-1])||void 0===l?void 0:l.id)&&void 0!==c?c:null;return Up.current&&clearTimeout(Up.current),Fp(re),Up.current=setTimeout((function(){Fp(null),Up.current=null}),900),h(""),sE(null),Be(""),fe("pagar"),VN(!1),Ww(null),Gw(""),$w(""),Zw(""),oN(""),cN(""),dN(""),pN(""),_N(""),NN(""),SN(""),PN(""),TN(""),RN(""),void FN("")}var ne={id:iE.id,type:"agregar",cantidad:Re,numero_factura:we.id,devolucionTipo:Uw,devolucionMotivo:Kw,devolucion_cantidad_salida:Hw,devolucion_motivo_salida:Xw,devolucion_ci_cajero:tN,devolucion_ci_autorizo:sN,devolucion_dias_desdecompra:uN,devolucion_ci_cliente:hN,devolucion_telefono_cliente:vN,devolucion_nombre_cliente:wN,devolucion_nombre_cajero:CN,devolucion_nombre_autorizo:AN,devolucion_trajo_factura:IN,devolucion_motivonotrajofact:kN,devolucion_numfactoriginal:LN};parseFloat(Re)<0&&null!=we&&we.isdevolucionOriginalid&&(ne.id_pedido_original=we.isdevolucionOriginalid),ke.A.setCarrito(ne).then((function(e){e.data.msj&&r(e.data.msj),QN(),n(!1),h(""),sE(null),fe("pagar"),VN(!1),Gw(""),$w(""),Zw(""),oN(""),cN(""),dN(""),pN(""),_N(""),NN(""),SN(""),PN(""),TN(""),RN(""),FN(""),!1===e.data.estado&&(YO({dbFunction:ke.A.setCarrito,params:ne}),qO(e.data.id_tarea))})),Ww(null),Be("")}},lE=function(e){var t,a=null;if(e&&e.currentTarget?t=e.currentTarget.attributes["data-index"].value:e&&"object"===aS(e)&&null!=e.id?(t=e.id,a={id:e.id,nombre:e.nombre,identificacion:e.identificacion,correo:e.correo,direccion:e.direccion,telefono:e.telefono}):t=e,we._frontOnly&&we.id){var o=iS(iS({},we),{},{id_cliente:parseInt(t,10),cliente:a||{id:t,nombre:"",identificacion:""}});return Ne(o),Mp((function(e){return iS(iS({},e),{},sS({},we.id,o))})),Do(!1),void r({data:{msj:"Cliente anclado a la orden",estado:!0}})}n(!0),we.id&&ke.A.setpersonacarrito({numero_factura:we.id,id_cliente:t}).then((function(e){QN(),Do(!1),n(!1),r(e)}))},uE=cS((0,o.useState)(""),2),dE=uE[0],fE=uE[1],hE=cS((0,o.useState)(""),2),pE=hE[0],mE=hE[1],gE=cS((0,o.useState)(0),2),xE=gE[0],vE=gE[1],bE=function(e){var t=new Te("reader",{fps:10,qrbox:{width:300,height:150}});t.render((function(r){"function"==typeof e&&(e(r),"qBuscarInventario"===e&&(qc.current.value=r,qc.current.focus(),t.clear()),"setbuscarDatosFact"===e&&(mE(r),t.clear()),"inputbusquedaProductosref"===e&&(Xc.current.value=r,Xc.current.focus(),t.clear()))}),(function(e){})),1===xE&&t.clear(),vE(0===xE?1:0)},yE=cS((0,o.useState)(!1),2),_E=yE[0],jE=yE[1],wE=cS((0,o.useState)({}),2),NE=wE[0],EE=wE[1],CE=function(){oC((function(){return fw()}),{imprimirDespues:!0})},SE=cS((0,o.useState)(!0),2),OE=(SE[0],SE[1],cS((0,o.useState)(null),2)),AE=(OE[0],OE[1],(0,o.useRef)({})),PE=(0,o.useRef)({}),DE=(0,o.useRef)({}),IE=(0,o.useRef)([]),TE=(0,o.useRef)(null),ME=(0,o.useRef)(""),kE=(0,o.useRef)(""),RE=(0,o.useRef)(""),BE=(0,o.useRef)(""),LE=(0,o.useRef)(""),FE=(0,o.useRef)(""),UE=(0,o.useRef)(""),WE=(0,o.useRef)(""),VE=(0,o.useRef)(""),zE=(0,o.useRef)(null);(0,o.useEffect)((function(){DE.current=yn}),[yn]),(0,o.useEffect)((function(){IE.current=pn}),[pn]),(0,o.useEffect)((function(){TE.current=we}),[we]),(0,o.useEffect)((function(){ME.current=da}),[da]),(0,o.useEffect)((function(){kE.current=sa}),[sa]),(0,o.useEffect)((function(){RE.current=ma}),[ma]),(0,o.useEffect)((function(){BE.current=Un}),[Un]),(0,o.useEffect)((function(){LE.current=Kn}),[Kn]),(0,o.useEffect)((function(){FE.current=Jn}),[Jn]),(0,o.useEffect)((function(){UE.current=cn}),[cn]),(0,o.useEffect)((function(){WE.current=an}),[an]),(0,o.useEffect)((function(){VE.current=$n}),[$n]);var KE=Object.keys(wn).length>0,GE=(0,o.useRef)(null),qE=(0,o.useRef)(null),HE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;GE.current&&(clearTimeout(GE.current),GE.current=null),GE.current=setTimeout((function(){var n;GE.current=null;var a=TE.current,o=IE.current||[],i=WE.current,s=null==a||null===(n=a.items)||void 0===n?void 0:n.some((function(e){return e.descuento&&parseFloat(e.descuento)>0})),c=!(null!=a&&a.id_cliente)||1==a.id_cliente;if(s&&c)return console.log("[setPagoPedido] BLOQUEADO: descuentos en tems pero sin cliente registrado",{pedidoActual:a}),Yj(!0,(function(){Nd(""),Rd(""),Id(""),setTimeout((function(){var e;return null==Qc||null===(e=Qc.current)||void 0===e?void 0:e.focus()}),100)})),void r({data:{msj:"Debe registrar un cliente para aplicar el descuento.",estado:!1}});i&&parseFloat(i)>0&&(!ig||"string"==typeof ig)&&Vj();var l=o.filter((function(e){return parseFloat(e.monto)>0}));if(l.length>0&&null!=ig&&ig.pinpad&&!Cn){var u=l.find((function(e){return!e.bloqueado||!e.referencia||4!==e.referencia.length}));if(u){var d=o.findIndex((function(e){return e===u}));return console.log("[setPagoPedido] BLOQUEADO: dbito sin procesar por PINPAD  abriendo modal POS",{debitoSinProcesar:u,index:d}),void QE(u.monto,d)}}if(l.length>0)for(var f=0;f<l.length;f++){var h=l[f];if(!h.referencia)return console.log("[setPagoPedido] BLOQUEADO: referencia de dbito faltante",{tarjeta:o.indexOf(h)+1,debito:h}),void(1===l.length&&null!=qE&&qE.current?qE.current():alert("Error: Debe ingresar la referencia para la tarjeta #".concat(o.indexOf(h)+1)));if(4!==h.referencia.length)return console.log("[setPagoPedido] BLOQUEADO: referencia de dbito con longitud incorrecta",{tarjeta:o.indexOf(h)+1,referencia:h.referencia}),void alert("Error: La referencia de la tarjeta #".concat(o.indexOf(h)+1," debe tener exactamente 4 dgitos."))}fn(!1);var p=Qy.filter((function(e){return"pendiente"===e.estatus}));if(p.length>0)return console.log("[setPagoPedido] BLOQUEADO: referencias bancarias pendientes de aprobacin en central",{refsPendientes:p}),void r({data:{msj:'No se puede procesar el pago: la referencia "'.concat(p[0].descripcion||p[0]._localId,'" est pendiente de aprobacin en central. Verifquela antes de continuar.'),estado:!1}});var m=BE.current,g=Qy.some((function(e){return 1==e.tipo||2==e.tipo})),x=0!==parseFloat(m||0);if(g&&!x)return console.log("[setPagoPedido] BLOQUEADO: referencia de transferencia cargada pero mtodo de pago no es transferencia",{refPago:Qy,transferencia:m}),void r({data:{msj:"Tiene una referencia de transferencia cargada pero no est usando el mtodo de pago Transferencia. Indique el monto en Transferencia o elimine la referencia para continuar.",estado:!1}});if(m&&!Qy.filter((function(e){return 1==e.tipo||2==e.tipo})).length)console.log("[setPagoPedido] BLOQUEADO: transferencia indicada pero sin referencia cargada",{transferencia:m,refPago:Qy}),alert("Error: Debe cargar referencia de transferencia electrnica.");else{var v=(null==a?void 0:a._frontOnly)&&(null==a?void 0:a.id)&&((null==a?void 0:a.items)||[]).some((function(e){return null!=e.descuento&&parseFloat(e.descuento)>0})),b=null==a?void 0:a.id,y=null!=(null==a?void 0:a.clean_total)&&Math.abs(parseFloat(a.clean_total))<.01;if(v&&b){var _=nE();if(0===_.length)return y?(console.log("[setPagoPedido] Pedido en cero (devolucin balance cero)  avanza sin mtodo de pago",{uuid:b,pedidoActual:a}),void $E(e,null,t||null)):(console.log("[setPagoPedido] BLOQUEADO: pedido front con descuento pero sin mtodos de pago",{uuid:b,pedidoActual:a}),void r({data:{msj:"Indique al menos un mtodo de pago antes de guardar.",estado:!1}}));if(km[b])return console.log("[setPagoPedido] BLOQUEADO: descuento por mtodo de pago pendiente de aprobacin",{uuid:b,pendienteDescuentoMetodoPago:km}),void r({data:{msj:"Descuento por mtodo de pago en espera. Use 'Verificar si ya est aprobado' y luego vuelva a guardar.",estado:!1}});if(Qm[b]){var j=tg[b];return tE(_,j)?(console.log("[setPagoPedido] Verificando en central que la solicitud siga aprobada antes de facturar",{uuid:b}),void ke.A.solicitudDescuentoFrontVerificar({uuid_pedido_front:b,tipo_descuento:"metodo_pago"}).then((function(n){var a,o=null==n?void 0:n.data;if(null!=o&&o.existe&&"aprobado"===(null==o||null===(a=o.data)||void 0===a?void 0:a.estado)){var i,s=rE(),c=(null==o||null===(i=o.data)||void 0===i?void 0:i.metodos_pago)||[];if(!tE(s,c))return Zm((function(e){var t=iS({},e);return delete t[b],t})),rg((function(e){var t=iS({},e);return delete t[b],Nt(t),t})),void r({data:{msj:"Los mtodos de pago no coinciden con los aprobados. Use los mtodos aprobados o cancele la solicitud y enve una nueva.",estado:!1}});$E(e,null,t||null)}else Zm((function(e){var t=iS({},e);return delete t[b],t})),rg((function(e){var t=iS({},e);return delete t[b],Nt(t),t})),r({data:{msj:"La solicitud ya no existe o fue eliminada. Debe enviar una nueva solicitud de descuento (guardar de nuevo el pedido) antes de facturar.",estado:!1}})})).catch((function(){r({data:{msj:"No se pudo verificar la solicitud. Intente de nuevo o enve una nueva solicitud guardando de nuevo.",estado:!1}})}))):(Zm((function(e){var t=iS({},e);return delete t[b],t})),rg((function(e){var t=iS({},e);return delete t[b],Nt(t),t})),void r({data:{msj:"Los mtodos de pago no coinciden con los aprobados. Use los mtodos aprobados o cancele la solicitud y enve una nueva.",estado:!1}}))}return console.log("[setPagoPedido] BLOQUEADO: pedido front con descuento  solicitando aprobacin de descuento por mtodo de pago",{uuid:b,metodos:_}),void aE()}console.log("[setPagoPedido] Avanzando a procesarPagoInterno",{pedidoActual:a}),$E(e,null,t||null)}}),300)},$E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log("[procesarPagoInterno] Iniciando construccin de params..."),n(!0);var o=TE.current,i=!(!o||!o._frontOnly),s=i?o.id:null;if(s&&Qm[s]){var c=rE(),l=tg[s];if(!tE(c,l))return n(!1),Zm((function(e){var t=iS({},e);return delete t[s],t})),rg((function(e){var t=iS({},e);return delete t[s],Nt(t),t})),void r({data:{msj:"Los mtodos de pago no coinciden con los aprobados. Use los mtodos aprobados o cancele la solicitud y enve una nueva.",estado:!1}})}var u=kE.current,d=RE.current,f=[];u&&0!=parseFloat(u)&&f.push({moneda:"bs",monto_original:parseFloat(u)}),d&&0!=parseFloat(d)&&f.push({moneda:"peso",monto_original:parseFloat(d)});var h=null!=(null==a?void 0:a.debitoOverride)?parseFloat(a.debitoOverride):parseFloat(WE.current)||0,p=Number.isNaN(h)?0:h,m=parseFloat(ME.current)||0,g=null!==t?t:UE.current,x=null,v=null,b=null;0!==p&&(x=p,v=g||null);var y=(null!=a&&a.debitosOverride&&Array.isArray(a.debitosOverride)?a.debitosOverride:IE.current||[]).filter((function(e){return 0!==parseFloat(e.monto)&&!Number.isNaN(parseFloat(e.monto))}));y.length>0&&(b=y.map((function(e){return{monto:parseFloat(e.monto),referencia:e.referencia,posData:e.posData||null}})));var _=i&&Array.isArray(o.items)&&o.items.length>0?o.items.map((function(e){var t,r;return{id:null!==(t=null===(r=e.producto)||void 0===r?void 0:r.id)&&void 0!==t?t:e.id_producto,cantidad:parseFloat(e.cantidad)||0,descuento:parseFloat(e.descuento)||0}})).filter((function(e){return e.id&&0!==e.cantidad})):null,j=i&&Qy&&Qy.length>0?Qy.map((function(e){var t,r,n,a,o,i,s;return{tipo:e.tipo,monto:e.monto,descripcion:null!==(t=e.descripcion)&&void 0!==t?t:null,banco:null!==(r=e.banco)&&void 0!==r?r:null,cedula:null!==(n=e.cedula)&&void 0!==n?n:null,telefono:null!==(a=e.telefono)&&void 0!==a?a:null,categoria:e.categoria||"central",estatus:e.estatus||"pendiente",fecha_pago:null!==(o=e.fecha_pago)&&void 0!==o?o:null,banco_origen:null!==(i=e.banco_origen)&&void 0!==i?i:null,monto_real:null!==(s=e.monto_real)&&void 0!==s?s:null}})):void 0,w=BE.current,N=LE.current,E=FE.current,C=VE.current,S={id:i?null:o&&o.id,front_only:i||void 0,uuid:s||void 0,total_pedido_usd:i&&o&&null!=o.clean_total?parseFloat(o.clean_total):void 0,id_cliente:i?o&&null!=o.id_cliente?o.id_cliente:1:void 0,data_cliente:i&&o&&o.cliente&&"object"===aS(o.cliente)?o.cliente:void 0,fecha_inicio:i&&o&&o.fecha_inicio?o.fecha_inicio:void 0,fecha_vence:i&&o&&o.fecha_vence?o.fecha_vence:void 0,formato_pago:i&&o&&null!=o.formato_pago?o.formato_pago:void 0,isdevolucionOriginalid:o&&o.isdevolucionOriginalid?o.isdevolucionOriginalid:void 0,items:_||void 0,debito:b&&b.length>0?null:x,debitoRef:b&&b.length>0?null:v,debitos:b,posData:null,efectivo:0!=m?m:null,transferencia:w,biopago:E,credito:N,vuelto:C,pagosAdicionales:f.length>0?f:null,referencias:j};null!=a&&a.imprimirDespues&&(S.imprimir_ticket=!0,S.imprimir_ticket_opciones={moneda:I,printer:O}),console.log("[procesarPagoInterno] Enviando setPagoPedido ",S),ke.A.setPagoPedido(S).then((function(t){if(console.log("[setPagoPedido] Respuesta del backend ",t.data),n(!1),r(t),t.data.estado){var a,o=null!==(a=t.data.id_pedido)&&void 0!==a?a:S.id;o&&eC(o),S.front_only&&S.uuid&&(t_((function(e){var t=iS({},e);return delete t[S.uuid],t})),Mp((function(e){var t=iS({},e);return delete t[S.uuid],t})),Rm((function(e){var t=iS({},e);return delete t[S.uuid],t})),Zm((function(e){var t=iS({},e);return delete t[S.uuid],t})),rg((function(e){var t=iS({},e);return delete t[S.uuid],t})),mt().then((function(e){var t=iS({},e||{});delete t[S.uuid],xt(t)}))),mS(),Ne({}),ge(null),no(!1);var i=S.imprimir_ticket&&!0===t.data.imprimir_ticket_ok;S.imprimir_ticket&&t.data.imprimir_ticket_msj&&r(t.data.imprimir_ticket_msj),e&&!i&&e()}if(!1===t.data.estado){if(t.data.uuid_ya_procesado&&S.front_only&&S.uuid)return t_((function(e){var t=iS({},e);return delete t[S.uuid],t})),Mp((function(e){var t=iS({},e);return delete t[S.uuid],t})),Rm((function(e){var t=iS({},e);return delete t[S.uuid],t})),Zm((function(e){var t=iS({},e);return delete t[S.uuid],t})),rg((function(e){var t=iS({},e);return delete t[S.uuid],t})),mt().then((function(e){var t=iS({},e||{});delete t[S.uuid],xt(t)})),mS(),Ne({}),ge(null),void no(!1);t.data.id_tarea&&S.front_only&&S.uuid&&(Mp((function(e){var t=iS({},e);return delete t[S.uuid],t})),Rm((function(e){var t=iS({},e);return delete t[S.uuid],t})),Zm((function(e){var t=iS({},e);return delete t[S.uuid],t})),mt().then((function(e){var t=iS({},e||{});delete t[S.uuid],xt(t)})),mS(),Ne({}),ge(null),no(!1)),YO({dbFunction:ke.A.setPagoPedido,params:S}),qO(t.data.id_tarea)}})).catch((function(e){var t,r,a,o;console.error("[setPagoPedido] Error en la peticin (catch):",null==e||null===(t=e.response)||void 0===t?void 0:t.status,null!==(r=null!==(a=null==e||null===(o=e.response)||void 0===o?void 0:o.data)&&void 0!==a?a:null==e?void 0:e.message)&&void 0!==r?r:e),n(!1)}))};zE.current=$E;var YE=function(e,t){Nn((function(r){var n=r[e];return n?iS(iS({},r),{},sS({},e,iS(iS({},n),t))):r}))},XE=function(){var e=rS(eS().mark((function e(n,o){var i,s,c,l,u,d,f,h,p,m,g,x,v,b,y,_,j,w,N,E,C,S,O,A,P,D,I,T,M,k,R,B,L,F,U;return eS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&!o.loading){e.next=2;break}return e.abrupt("return");case 2:if(o.cedulaTitular){e.next=5;break}return alert("Debe ingresar la cdula del titular"),e.abrupt("return");case 5:if(!((i=parseFloat(o.montoDebito)||0)<=0)){e.next=9;break}return alert("Debe ingresar un monto vlido"),e.abrupt("return");case 9:return PE.current[n]=!0,YE(n,{loading:!0}),s=Math.round(100*i),c=(null==ig?void 0:ig.codigo)||"SUC",l=(null==t?void 0:t.usuario)||(null==t?void 0:t.nombre)||"user",u="number"==typeof o.debitoIndex?o.debitoIndex:o.transaccionesAprobadas.length,d="".concat(c,"-").concat(l,"-").concat(o.pedidoId,"-").concat(s,"-").concat(u),f={operacion:"COMPRA",monto:s,cedula:o.cedulaTitular,numeroOrden:d,mensaje:"PowerBy:Ospino",tipoCuenta:o.tipoCuenta},e.prev=17,e.next=20,ke.A.enviarTransaccionPOS(f);case 20:if(h=e.sent,p=h.data.data||{},!(h.data.success&&p&&Object.keys(p).length>0)){e.next=55;break}if(g=String(p.reference||p.approval||"").trim(),x=g.replace(/\D/g,"").slice(-4).padStart(4,"0"),v={monto:i,cedula:o.cedulaTitular,referencia:g,refCorta:x,tipoCuenta:o.tipoCuenta,posData:{message:p.message,lote:p.lote,responsecode:p.responsecode,amount:p.amount,terminal:p.terminal,json_response:JSON.stringify(p)}},b=[].concat(nS(o.transaccionesAprobadas||[]),[v]),JE(o.pedidoId,b),y=o.pedidoId===(null===(m=TE.current)||void 0===m?void 0:m.id),_=y?IE.current||[]:DE.current[o.pedidoId]||[],"number"!=typeof o.debitoIndex){e.next=46;break}return N=o.debitoIndex,E=nS(_),C={message:p.message||null,lote:p.lote||null,responsecode:p.responsecode||null,amount:p.amount||null,terminal:p.terminal||null,json_response:JSON.stringify(p)},E[N]={monto:i.toFixed(2),referencia:x,bloqueado:!0,posData:C},Tn(o.pedidoId,E),y&&(0,a.flushSync)((function(){mn(E);var e=E.filter((function(e){return e.bloqueado})).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0);on(e.toFixed(2)),ln(x)})),S=parseFloat((null===(j=TE.current)||void 0===j?void 0:j.bs_clean)||(null===(w=TE.current)||void 0===w?void 0:w.bs)||0),O=E.filter((function(e){return e.bloqueado})).reduce((function(e,t){return e+parseFloat(t.monto||0)}),0),A=y&&Math.abs(O-S)<.01,r({data:{msj:"POS APROBADO - Ref: ".concat(g," - Bs ").concat(i.toFixed(2)),estado:!0}}),YE(n,{respuesta:{mensaje:" APROBADO - Ref: ".concat(g),exito:!0},loading:!1}),setTimeout((function(){Nn((function(e){var t=iS({},e);return delete t[n],t}))}),500),A&&(P=function(){return fw()},Un&&!Qy.filter((function(e){return 1==e.tipo})).length?alert("Error: Debe cargar referencia de transferencia electrnica."):$E(P,x,{debitoOverride:O,debitosOverride:E,imprimirDespues:!0})),PE.current[n]=!1,e.abrupt("return");case 46:D=b.reduce((function(e,t){return e+t.monto}),0),I=parseFloat(o.montoTotalOriginal)||0,YE(n,{transaccionesAprobadas:b,cedulaTitular:"",tipoCuenta:"CORRIENTE",montoDebito:(T=I-D)>0?T.toFixed(2):"0",respuesta:{mensaje:" APROBADO - Ref: ".concat(g),exito:!0},loading:!1}),r({data:{msj:"POS APROBADO - Ref: ".concat(g," - Bs ").concat(i.toFixed(2)),estado:!0}}),T<=0?(M=b[b.length-1],k=M.refCorta,R=b.reduce((function(e,t){return e+t.monto}),0),eC(o.pedidoId),Nn((function(e){var t=iS({},e);return delete t[n],t})),y?((0,a.flushSync)((function(){ln(k),on(R.toFixed(2))})),B=parseFloat((null==we?void 0:we.bs_clean)||(null==we?void 0:we.bs)||0),Math.abs(R-B)<.01?CE&&CE():(PE.current[n]=!1,$E(o.pendingCallback||null,k))):r({data:{msj:" POS Completado pedido #".concat(o.pedidoId,". Cambie al pedido para facturar."),estado:!0}})):setTimeout((function(){var e=document.getElementById("pos-cedula-input-".concat(n));e&&e.focus()}),100),PE.current[n]=!1,e.next=58;break;case 55:L=p.message||h.data.error||"Error en transaccin POS",YE(n,{respuesta:{mensaje:" ".concat(L),exito:!1},loading:!1}),p&&Object.keys(p).length>0&&ke.A.registrarPosRechazado(iS(iS({},p),{},{json_response:JSON.stringify(p),id_pedido:o.pedidoId||null})).catch((function(e){return console.error("Error al registrar POS rechazado:",e)}));case 58:e.next=65;break;case 60:e.prev=60,e.t0=e.catch(17),console.error("Error POS:",e.t0),U=(null===(F=e.t0.response)||void 0===F||null===(F=F.data)||void 0===F?void 0:F.error)||e.t0.message||"Error de conexin",YE(n,{respuesta:{mensaje:" ".concat(U),exito:!1},loading:!1});case 65:return e.prev=65,PE.current[n]=!1,e.finish(65);case 68:case"end":return e.stop()}}),e,null,[[17,60,65,68]])})));return function(t,r){return e.apply(this,arguments)}}(),QE=function(e,t){if(null!=ig&&ig.pinpad&&!Cn){var r=null==we?void 0:we.id;if(r){var n=parseFloat((null==we?void 0:we.bs_clean)||(null==we?void 0:we.bs)||0),a=parseFloat(e||"0")||0,o=Math.min(a,n).toFixed(2),i=String(r);Nn((function(e){return iS(iS({},e),{},sS({},i,{pedidoId:r,debitoIndex:t,montoTotalOriginal:o,transaccionesAprobadas:[],cedulaTitular:"",tipoCuenta:"CORRIENTE",montoDebito:o,loading:!1,respuesta:null,pendingCallback:null}))}))}}},ZE=(0,o.useRef)([]);(0,o.useEffect)((function(){var e=Object.keys(wn),t=ZE.current,r=e.find((function(e){return!t.includes(e)}));if(ZE.current=e,r){var n=setTimeout((function(){var e=document.getElementById("pos-cedula-input-".concat(r));e&&e.focus()}),150);return function(){return clearTimeout(n)}}}),[wn]);var JE=function(e,t){Pn((function(r){var n=iS(iS({},r),{},sS({},e,t));try{localStorage.setItem("posTransaccionesPorPedido",JSON.stringify(n))}catch(e){console.error("Error guardando transacciones POS en localStorage:",e)}return n}))},eC=function(e){Pn((function(t){var r=iS({},t);delete r[e];try{localStorage.setItem("posTransaccionesPorPedido",JSON.stringify(r))}catch(e){console.error("Error actualizando localStorage al limpiar transacciones:",e)}return r})),_n((function(t){var r=iS({},t);delete r[e];try{localStorage.setItem("debitosPorPedido",JSON.stringify(r))}catch(e){console.error("Error actualizando localStorage al limpiar dbitos:",e)}return r}))},rC=(0,o.useState)([]),nC=cS(rC,2),aC=(nC[0],nC[1],function(e){if(e.preventDefault(),we.id){if(we._frontOnly&&we.id){var t,a,o,i,s;if(!we.id_cliente||1===we.id_cliente||!we.cliente)return void r({data:{msj:"Debe anclar un cliente a la orden para solicitar crdito",estado:!1}});n(!0);var c={identificacion:null!==(t=we.cliente.identificacion)&&void 0!==t?t:"",nombre:null!==(a=we.cliente.nombre)&&void 0!==a?a:"Cliente",correo:null!==(o=we.cliente.correo)&&void 0!==o?o:null,direccion:null!==(i=we.cliente.direccion)&&void 0!==i?i:null,telefono:null!==(s=we.cliente.telefono)&&void 0!==s?s:null};return l=null,void ke.A.solicitudCreditoFrontCrear({uuid_pedido_front:we.id,saldo:parseFloat(Kn)||0,fecha_inicio:io,fecha_vence:uo,formato_pago:mo,cliente:c,deuda:l,fecha_ultimopago:null==l?void 0:l.fecha_ultimopago}).then((function(e){if(n(!1),r(e.data||e),e.data&&!1!==e.data.estado){var t=iS(iS({},we),{},{fecha_inicio:io,fecha_vence:uo,formato_pago:mo});Ne(t),Mp((function(e){return iS(iS({},e),{},sS({},we.id,t))})),no(!1)}})).catch((function(){n(!1),r({data:{msj:"Error al enviar solicitud de crdito a central",estado:!1}})}))}var l;n(!0),ke.A.setconfigcredito({fechainiciocredito:io,fechavencecredito:uo,formatopagocredito:mo,id_pedido:we.id}).then((function(e){r(e),n(!1)}))}}),oC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(we.id)if(Kn){if(we._frontOnly&&(!we.id_cliente||1===we.id_cliente))return void r({data:{msj:"Debe anclar un cliente a la orden para solicitar crdito",estado:!1}});HE(e,t)}else HE(e,t)},iC=(0,o.useState)(""),sC=cS(iC,2),cC=sC[0],lC=sC[1],uC=(0,o.useState)(""),dC=cS(uC,2),fC=dC[0],hC=dC[1],pC=(0,o.useState)(""),mC=cS(pC,2),gC=mC[0],xC=mC[1],vC=(0,o.useState)(""),bC=cS(vC,2),yC=bC[0],_C=bC[1],jC=(0,o.useState)(""),wC=cS(jC,2),NC=wC[0],EC=wC[1],CC=(0,o.useState)(""),SC=cS(CC,2),OC=SC[0],AC=SC[1],PC=(0,o.useState)(""),DC=cS(PC,2),IC=DC[0],TC=DC[1],MC=cS((0,o.useState)(""),2),kC=MC[0],RC=MC[1],BC=cS((0,o.useState)(""),2),LC=BC[0],FC=BC[1],UC=cS((0,o.useState)(""),2),WC=UC[0],VC=UC[1],zC=cS((0,o.useState)(!0),2),KC=zC[0],GC=zC[1],qC=cS((0,o.useState)(null),2),HC=qC[0],$C=qC[1],YC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ver",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=e||(null==rs?void 0:rs.fecha)||"";n?ke.A.openVerCierre({fechaCierre:n,type:t,usuario:r}):alert("Error: No se puede determinar la fecha del cierre")},QC=function(e){if(e.preventDefault(),Xs[ac]){if(!fc||0===parseFloat(fc))return void alert("Error: Debe ingresar un monto vlido para el abono.");var t=Xs[ac].id;n(!0),ke.A.setPagoCredito({id_cliente:t,monto_pago_deudor:fc}).then((function(e){r(e),n(!1),Xj(t)}))}},ZC=function(e){e&&e.preventDefault(),n(!0),0!=t&&clearTimeout(el);var t=window.setTimeout((function(){ke.A.getDeudores({qDeudores:Ms,view:de,orderbycolumdeudores:Ls,orderbyorderdeudores:Vs,limitdeudores:qs}).then((function(e){e.data&&(e.data.length?Qs(e.data):Qs([])),n(!1)}))}),150);tl(t)},tS=function(e){var t=null;null!=Kl&&yl[Kl]&&(t=yl[Kl].id);var r=Xe.filter((function(e){return e.type})).filter((function(e){return""==e.codigo_barras||""==e.descripcion||""==e.unidad}));if(r.length)alert("Hay productos pendientes en carga de Inventario List!");else{n(!0),0!=a&&clearTimeout(el);var a=window.setTimeout((function(){ke.A.getinventario({num:mr,itemCero:!0,qProductosMain:Je,orderColumn:vr,orderBy:_r,busquedaAvanazadaInv:cb,busqAvanzInputs:Xb,view:de,id_factura:t}).then((function(e){e.data&&(e.data.length?Qe(e.data):Qe([]),nt(null),1===e.data.length?nt(0):0==e.data.length&&it(Je)),n(!1)}))}),120);tl(a)}},oS=function(e){0!=t&&clearTimeout(el);var t=window.setTimeout((function(){n(!0),ke.A.getProveedores({q:Vr}).then((function(e){e.data.length?qr(e.data):qr([]),n(!1),1===e.data.length&&Ur(0)}))}),150);tl(t),Ej.length||Tj(),ur.length||ke.A.getDepositos({q:Vr}).then((function(e){dr(e.data)}))},lS=function(){if(Xe[rt]){var e=Xe[rt];it(e.codigo_barras?e.codigo_barras:""),lt(e.cantidad?e.cantidad:""),ft(e.codigo_proveedor?e.codigo_proveedor:""),gt(e.unidad?e.unidad:""),Dt(e.descripcion?e.descripcion:""),Rt(e.precio_base?e.precio_base:""),Ft(e.precio?e.precio:""),Kt(e.iva?e.iva:""),wt(e.id_categoria?e.id_categoria:""),er(e.id_proveedor?e.id_proveedor:""),nr(e.id_marca?e.id_marca:""),ir(e.id_deposito?e.id_deposito:""),Yt(e.lotes?e.lotes:[])}},uS=function(){if(Gr[Fr]){var e=Gr[Fr];Er(e.descripcion),Or(e.rif),Dr(e.direccion),Mr(e.telefono)}},dS=cS((0,o.useState)([]),2),fS=dS[0],hS=dS[1],pS=function(){ke.A.getInventarioNovedades({}).then((function(e){hS(e.data)}))},mS=function(){ke.A.getPedidosFast({vendedor:Yr?[t.id_usuario]:[],fecha1pedido:ai}).then((function(e){Pp(e.data)}))},gS=cS((0,o.useState)(!1),2),xS=gS[0],vS=gS[1],bS=cS((0,o.useState)(""),2),yS=bS[0],_S=(bS[1],cS((0,o.useState)(null),2)),jS=(_S[0],_S[1]),wS=cS((0,o.useState)(0),2),NS=wS[0],ES=wS[1],CS=cS((0,o.useState)(0),2),SS=CS[0],OS=CS[1],AS=cS((0,o.useState)(""),2),PS=AS[0],DS=AS[1],IS=cS((0,o.useState)(""),2),TS=IS[0],MS=IS[1],kS=function(e){n(!0),e.preventDefault();var t=null;null!=Fr&&Gr[Fr]&&(t=Gr[Fr].id),ke.A.setProveedor({proveedordescripcion:Nr,proveedorrif:Sr,proveedordireccion:Pr,proveedortelefono:Tr,id:t}).then((function(e){r(e),oS(),n(!1)}))},RS=function(e){var t;null!=Fr&&Gr[Fr]&&(t=Gr[Fr].id),confirm("Desea Eliminar?")&&(n(!0),ke.A.delProveedor({id:t}).then((function(e){n(!1),oS(),r(e),e.data.estado&&Ur(null)})))},BS=function(e){var t;null!=rt&&Xe[rt]&&(t=Xe[rt].id),confirm("Desea Eliminar?")&&(n(!0),ke.A.delProducto({id:t}).then((function(e){n(!1),tS(),r(e),e.data.estado&&nt(null)})))},LS=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];0!=t&&clearTimeout(el);var t=window.setTimeout((function(){n(!0),ke.A.getFacturas({factqBuscar:Nl,factqBuscarDate:Ol,factOrderBy:Il,factOrderDescAsc:Rl}).then((function(t){n(!1),_l(t.data),1===t.data.length&&Gl(0),e&&Gl(null)}))}),100);tl(t)},FS=function(e){e.preventDefault(),n(!0);var t=null;null!=Kl&&yl[Kl]&&(t=yl[Kl].id);var a=WS.filter((function(e){return e.id==$l}));if(a.length){var o=new FormData;o.append("id",t),o.append("factInpid_proveedor",$l),o.append("factInpnumfact",Zl),o.append("factInpdescripcion",ru),o.append("factInpmonto",iu),o.append("factInpfechavencimiento",uu),o.append("factInpestatus",ed),o.append("factInpnumnota",vu),o.append("factInpsubtotal",ju),o.append("factInpdescuento",Cu),o.append("factInpmonto_gravable",Pu),o.append("factInpmonto_exento",Mu),o.append("factInpiva",Lu),o.append("factInpfechaemision",Vu),o.append("factInpfecharecepcion",qu),o.append("factInpnota",Xu),o.append("proveedorCentraid",a[0].id),o.append("proveedorCentrarif",a[0].rif),o.append("proveedorCentradescripcion",a[0].descripcion),o.append("proveedorCentradireccion",a[0].direccion),o.append("proveedorCentratelefono",a[0].telefono),o.append("factInpImagen",pu),ke.A.setFactura(o).then((function(e){r(e),LS(),n(!1),e.data.estado&&(Wl("buscar"),Gl(null))}))}},US=cS((0,o.useState)([]),2),WS=US[0],VS=US[1],zS=function(){ke.A.getAllProveedores({}).then((function(e){e.data&&(e.data.length?VS(e.data):r(e.data))}))},KS=function(e){var t=null;null!=Kl&&yl[Kl]&&(t=yl[Kl].id),confirm("Desea Eliminar?")&&(n(!0),ke.A.delFactura({id:t}).then((function(e){n(!1),LS(),r(e),e.data.estado&&(Wl("buscar"),Gl(null))})))},GS=function(){if(yl[Kl]){var e=yl[Kl].id,t=yl[Kl].summonto_base_clean;ke.A.saveMontoFactura({id:e,monto:t}).then((function(e){LS(!1)}))}},qS=function(e){var t=null;null!=Kl&&yl[Kl]&&(t=yl[Kl].id,confirm("Desea Eliminar?")&&(n(!0),ke.A.delItemFact({id_producto:e,id_factura:t}).then((function(e){n(!1),r(e),e.data.estado&&LS(!1)}))))},HS=function(e){e.preventDefault(),n(!0);var t=null;null!=md&&dd[md]&&(t=dd[md].id),ke.A.setClienteCrud({id:t,clienteInpidentificacion:bd,clienteInpnombre:wd,clienteInpcorreo:Sd,clienteInpdireccion:Dd,clienteInptelefono:kd,clienteInpestado:Fd,clienteInpciudad:zd}).then((function(e){r(e),$S(),n(!1)}))},$S=function(){n(!0),ke.A.getClienteCrud({q:ad,num:cd}).then((function(e){n(!1),fd(e.data),gd(null)}))},YS=function(){var e=null;null!=md&&dd[md]&&(e=dd[md].id),confirm("Desea Eliminar?")&&(n(!0),ke.A.delCliente({id:e}).then((function(e){n(!1),$S(),r(e),e.data.estado&&gd(null)})))},XS=function(e){var t=e.currentTarget.attributes["data-tipo"].value,r=e.currentTarget.attributes["data-id"].value;"add"==t?Hd.indexOf(r)<0&&$d(Hd.concat(r)):$d(Hd.filter((function(e){return e!=r})))},QS=cS((0,o.useState)(""),2),ZS=QS[0],JS=QS[1],eO=cS((0,o.useState)("5"),2),tO=eO[0],rO=eO[1],nO=cS((0,o.useState)(""),2),aO=nO[0],oO=nO[1],iO=cS((0,o.useState)(""),2),sO=iO[0],cO=iO[1],lO=function(){n(!0),ke.A.reqpedidos({path:Mg,qpedidoscentralq:ZS,qpedidocentrallimit:tO,qpedidocentralestado:aO,qpedidocentralemisor:sO}).then((function(e){n(!1),Wh([]),e.data?(e.data.length?e.data[0]&&e.data[0].id&&Wh(e.data):Wh([]),e.data.msj&&r(e)):Wh([])}))},uO=function(){try{var e=Dx.substring(0,4).replace(/\b0*/g,""),t=Dx.substring(4,8).replace(/\b0*/g,""),r=Dx.substring(8),n={};if(!(e&&t&&r))throw"Error: Cabezera incorrecta!";ke.A.getSucursal({}).then((function(a){try{if(a.data&&a.data.codigo){if(a.data.codigo!=r)throw"Error: Pedido no pertenece a esta sucursal!";n.created_at=us,n.sucursal=r,n.id=e,n.base=0,n.venta=0,n.items=[];var o=kx.toString().replace(/[^0-9]/g,"");if(!o)throw"Error: Cuerpo incorrecto!";var i=o.match(/.{1,25}/g).map((function(e,t){if(25!=e.length)throw"Error: Lneas no tienen la longitud!";var r=e.substring(0,4).replace(/\b0*/g,"");return{id_producto:e.substring(4,8).replace(/\b0*/g,""),id_pedido:r,base:e.substring(8,12).replace(/\b0*/g,"")+"."+e.substring(12,14),venta:e.substring(14,18).replace(/\b0*/g,"")+"."+e.substring(18,20),cantidad:e.substring(20,24).replace(/\b0*/g,"")+"."+e.substring(24,25)}}));ke.A.getProductosSerial({count:t,ids_productos:i.map((function(e){return e.id_producto}))}).then((function(e){try{var t=e.data;if(t.estado){if(t.msj){t.msj.map((function(e,t){var r=i.filter((function(t){return t.id_producto==e.id}))[0],a=r.cantidad,o=r.base,s=r.venta,c=a*s;n.items.push({cantidad:a,producto:{precio_base:o,precio:s,codigo_barras:e.codigo_barras,codigo_proveedor:e.codigo_proveedor,descripcion:e.descripcion,id:e.id},id:t,monto:c}),n.base+=parseFloat(a*o),n.venta+=parseFloat(c)}));Wh(Uh.concat(n)),Jh(!1)}}else alert(t.msj)}catch(e){alert(e)}}))}}catch(e){alert(e)}}))}catch(e){alert(e)}},dO=function(e){try{var t=e.currentTarget.attributes["data-index"].value,r=e.currentTarget.attributes["data-tipo"].value,n=(0,Me.cloneDeep)(Uh);if("select"==r)!0===n[Kh].items[t].aprobado?delete n[Kh].items[t].aprobado:(!1===n[Kh].items[t].aprobado||void 0===n[Kh].items[t].aprobado)&&(n[Kh].items[t].aprobado=!0);else if("selectall"==r){var a=n[Kh].items.every((function(e){return!0===e.aprobado}));n[Kh].items.forEach((function(e,t){a?delete n[Kh].items[t].aprobado:n[Kh].items[t].aprobado=!0}))}else"changect_real"==r?n[Kh].items[t].ct_real=At(e.currentTarget.value,6):"changebarras_real"==r?n[Kh].items[t].barras_real=e.currentTarget.value:"changealterno_real"==r?n[Kh].items[t].alterno_real=e.currentTarget.value:"changedescripcion_real"==r?n[Kh].items[t].descripcion_real=e.currentTarget.value:"changevinculo_real"==r?n[Kh].items[t].vinculo_real=e.currentTarget.value:"changewarehouse"==r&&(n[Kh].items[t].warehouse_codigo=e.currentTarget.value);Wh(n)}catch(e){console.log(e)}},fO=function(e){ke.A.removeVinculoCentral({id:e}).then((function(e){if(e.data)if(!0===e.data.estado){var t=e.data.id_pedido,r=e.data.id_item,n=(0,Me.cloneDeep)(Uh);n=n.map((function(e){return e.id==t&&(e.items=e.items.map((function(e){return e.id==r&&(e.idinsucursal_vinculo=null,e.idinsucursal_producto=null,e.match=null),e}))),e})),Wh(n)}else console.log("ESTADO NOT TRUE removeVinculoCentral",e.data)}))},hO=function(){null!==Kh&&Uh&&Uh[Kh]&&(Yh(!0),n(!0),ke.A.checkPedidosCentral({pathcentral:Mg,pedido:Uh[Kh]}).then((function(e){n(!1),Yh(!1),r(e,!1),e.data.estado&&lO(),"enrevision"===e.data.proceso&&lO(),e.data&&!1===e.data.estado&&e.data.id_item&&fO(e.data.id_item)})).catch((function(){n(!1),Yh(!1)})))},pO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=yl[Kl];e&&(t=e),t&&ke.A.openVerFactura({id:yl[Kl].id})},mO=function(){n(!0),ke.A.getVentasRapido({fechaventas:Ep}).then((function(e){jp(e.data),n(!1)})).catch((function(e){console.error("Error obteniendo ventas:",e),n(!1)}))},gO=function(){mO()},xO=function(){var e;e=1*parseInt(ug||0)+5*parseInt(pg||0)+10*parseInt(vg||0)+20*parseInt(jg||0)+50*parseInt(Cg||0)+100*parseInt(Pg||0),hi(e)},vO=function(){if(mx){var e=Wg[mx];e&&(qg(e.nombre),Xg(e.usuario),ex(e.tipo_usuario),ax(e.clave),cx(e.ip_pinpad),console.log(e))}},bO=function(){n(!0),ke.A.getUsuarios({q:dx}).then((function(e){n(!1),Vg(e.data)}))},yO=cS((0,o.useState)([]),2),_O=yO[0],jO=yO[1],wO=cS((0,o.useState)([]),2),NO=wO[0],EO=wO[1],CO=function(e){if(t.iscentral){var a=null;null!=Kl&&yl[Kl]&&(a=yl[Kl].id);var o=Xe.filter((function(e){return e.type})),i=o.filter((function(e){return""==e.codigo_barras||""==e.descripcion||""==e.unidad}));if(o.length&&!i.length){n(!0);ke.A.guardarNuevoProductoLote({lotes:o,id_factura:a,motivo:null}).then((function(e){var t=e.data;t.msj?r(t.msj):r(t),t.estado&&(LS(null),tS()),n(!1)}))}else alert("Error con los campos! Algunos pueden estar vacos "+JSON.stringify(i))}else alert("No tiene permisos para gestionar Inventario")},SO=function(e){var t=e.target.attributes["data-id"].value;confirm("Seguro de eliminar?")&&ke.A.delPagoProveedor({id:t}).then((function(e){OO(),r(e)}))},OO=function(){Gr[Fr]&&(n(!0),ke.A.getPagoProveedor({id_proveedor:Gr[Fr].id}).then((function(e){n(!1),ib(e.data)})))},AO=function(e){e.preventDefault(),Jv&&rb&&Gr[Fr]&&ke.A.setPagoProveedor({tipo:Jv,monto:rb,id_proveedor:Gr[Fr].id}).then((function(e){OO(),r(e)}))},PO=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=(0,Me.cloneDeep)(Xe);switch(n){case"update":var i=!1;if("update"==o[t].type&&(delete o[t].type,i=!0),0!=o.filter((function(e){return e.type})).length)return;"new"!=o[t].type&&(i||(o[t].type="update"));break;case"delModeUpdateDelete":delete o[t].type;break;case"delNew":o=o.filter((function(e,r){return r!==t}));break;case"changeInput":o[t][a]=e;break;case"add":var s="";s=yl[Kl]?yl[Kl].proveedor.id:TS,o=[{id:null,codigo_proveedor:"",codigo_barras:"",descripcion:"",id_categoria:PS,id_marca:"",unidad:"UND",id_proveedor:s,cantidad:"",precio_base:"",precio3:"",precio:"",iva:"0",type:"new"}].concat(o);break;case"delMode":o[t].type="delete";o[t].id_replace=0}Qe(o)},DO=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=(0,Me.cloneDeep)(Cb);switch(n){case"update":"new"!=o[t].type&&(o[t].type="update",o[t].estatus=1);break;case"delModeUpdateDelete":o[t].id_vinculacion=null,o[t].estatus=0,delete o[t].type;break;case"delNew":o=o.filter((function(e,r){return r!==t}));break;case"changeInput":if(null===r){var i=He.filter((function(t){return t.id==e}))[0];o[t]={bulto:i.bulto,cantidad:"0.00",codigo_barras:i.codigo_barras,codigo_proveedor:i.codigo_proveedor,descripcion:i.descripcion,id_categoria:i.id_categoria,id_deposito:i.id_deposito,id_marca:i.id_marca,id_proveedor:i.id_proveedor,iva:i.iva,porcentaje_ganancia:i.porcentaje_ganancia,precio:i.precio,precio1:i.precio1,precio2:i.precio2,precio3:i.precio3,precio_base:i.precio_base,stockmax:i.stockmax,stockmin:i.stockmin,unidad:i.unidad,id_vinculacion:e,type:"new",estatus:1}}else if("id_vinculacion"==a&&"new"!=o[t].type){o[t].type="update",o[t].estatus=1;var s=He.filter((function(t){return t.id==e}));s.length&&(o[t].codigo_barras=s[0].codigo_barras,o[t].codigo_proveedor=s[0].codigo_proveedor,o[t].id_proveedor=s[0].id_proveedor,o[t].id_categoria=s[0].id_categoria,o[t].id_marca=s[0].id_marca,o[t].unidad=s[0].unidad,o[t].id_deposito=s[0].id_deposito,o[t].descripcion=s[0].descripcion,o[t].iva=s[0].iva,o[t].porcentaje_ganancia=s[0].porcentaje_ganancia,o[t].precio_base=s[0].precio_base,o[t].precio=s[0].precio,o[t].precio1=s[0].precio1,o[t].precio2=s[0].precio2,o[t].precio3=s[0].precio3,o[t].bulto=s[0].bulto,o[t].stockmin=s[0].stockmin,o[t].stockmax=s[0].stockmax)}o[t][a]=e;break;case"add":o=[sS({id:null,id_vinculacion:null,codigo_proveedor:"",codigo_barras:"",descripcion:"",id_categoria:1,id_marca:"",unidad:"UND",id_proveedor:1,cantidad:"",precio_base:"",precio:"",iva:"0",type:"new",estatus:1,precio1:0,precio2:0,precio3:0,stockmin:0,stockmax:0},"id_vinculacion",null)].concat(o);break;case"delMode":o[t].type="delete",o[t].estatus=1}Ry(o),Sb(o)},IO=function(e){if("super"==e)return"admin"==t.usuario;var r=t.nivel;return 1==e&&1==r||(2==e||(3==e||7==e))},TO=cS((0,o.useState)(!1),2),MO=TO[0],kO=TO[1],RO=(0,o.useRef)(null),BO=cS((0,o.useState)(!1),2),LO=BO[0],FO=BO[1],UO=cS((0,o.useState)(""),2),WO=UO[0],VO=UO[1],zO=cS((0,o.useState)(null),2),KO=zO[0],GO=zO[1],qO=function(e){e&&(FO(!0),GO(e))},HO=cS((0,o.useState)(null),2),$O=HO[0],YO=HO[1];return(0,Pt.jsxs)("div",{className:"h-[calc(100vh-56px)] mt-[56px] overflow-auto",children:[i&&(0,Pt.jsx)(Wt,{addNewPedido:a_,addNewPedidoFront:o_,pedidosFast:Ap,pedidosFrontPendientesList:Object.values(Tp).reverse(),onClickEditPedido:JN,pedidoData:we,updatetasasfromCentral:function(){n(!0),ke.A.updatetasasfromCentral({}).then((function(e){tw(),n(!1)}))},getip:function(){ke.A.getip({}).then((function(e){return alert(e.data)}))},auth:IO,logout:function(){console.log("Funcin logout ejecutada"),localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),console.log("localStorage limpiado"),ke.A.logout().then((function(e){console.log("Logout exitoso, redirigiendo..."),window.location.href="/"})).catch((function(e){console.log("Error en logout:",e),window.location.href="/"}))},user:t,dolar:Se,peso:Pe,setMoneda:ew,view:de,getPedidos:hw,setViewCaja:Ic,viewCaja:Dc,setShowModalMovimientos:ll,showModalMovimientos:cl,getVentasClick:gO,toggleClientesBtn:bx,settoggleClientesBtn:yx,setView:fe,isCierre:MO,getPermisoCierre:function(){if(MO)fe("cierres");else{ke.A.getPermisoCierre({}).then((function(e){r(e),!0===e.data.estado?(kO(!0),fe("cierres")):!1===e.data.estado&&qO(e.data.id_tarea)}))}},setsubViewInventario:Br,subViewInventario:Rr,showHeaderAndMenu:i,setShowHeaderAndMenu:s}),LO?(0,Pt.jsx)(bN,{inputsetclaveadminref:RO,valinputsetclaveadmin:WO,setvalinputsetclaveadmin:VO,closemodalsetclave:function(){FO(!1)},sendClavemodal:function(){KO?ke.A.sendClavemodal({valinputsetclaveadmin:WO,idtareatemp:KO}).then((function(e){if(!0===e.data.estado&&(FO(!1),VO(""),$O)){var t=$O.dbFunction===ke.A.setPagoPedido?iS(iS({},$O.params),{},{id_tarea_aprobado:KO}):$O.params;$O.dbFunction(t).then((function(e){r(e.data.msj),QN(),YO(null)}))}r(e)})):alert("idtareatemp no es Vlido "+KO)},typingTimeout:el,setTypingTimeout:tl}):(0,Pt.jsxs)(Pt.Fragment,{children:["tareas"==de?(0,Pt.jsxs)("div",{className:"px-2 container-fluid",children:[(0,Pt.jsx)("div",{className:"mb-3 row",children:(0,Pt.jsxs)("div",{className:"col-12",children:[(0,Pt.jsxs)("h1",{className:"mb-2 h4",children:["Tareas",(0,Pt.jsx)("button",{className:"btn btn-outline-success btn-sm ms-2",onClick:Iy,children:(0,Pt.jsx)("i",{className:"fa fa-search"})})]}),(0,Pt.jsx)("input",{type:"date",className:"mb-3 form-control",value:Sy,onChange:function(e){return Oy(e.target.value)}})]})}),(0,Pt.jsx)("div",{className:"d-md-none",children:Py.length?Py.map((function(e){return(0,Pt.jsx)("div",{className:"mb-3 shadow-sm card",children:(0,Pt.jsx)("div",{className:"p-3 card-body",children:(0,Pt.jsxs)("div",{className:"row",children:[(0,Pt.jsx)("div",{className:"mb-2 col-12",children:(0,Pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Pt.jsxs)("h6",{className:"mb-0 card-title text-primary",children:["#",e.id_pedido]}),(0,Pt.jsx)("span",{className:"badge ".concat(e.estado?"bg-success":"bg-warning"),children:e.estado?"Resuelta":"Pendiente"})]})}),(0,Pt.jsxs)("div",{className:"mb-2 col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Usuario:"}),(0,Pt.jsx)("div",{className:"fw-bold",children:e.usuario?e.usuario.usuario:"N/A"})]}),(0,Pt.jsxs)("div",{className:"mb-2 col-6",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Tipo:"}),(0,Pt.jsx)("div",{className:"fw-bold",children:e.tipo})]}),(0,Pt.jsxs)("div",{className:"mb-2 col-12",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Descripcin:"}),(0,Pt.jsx)("div",{className:"text-break",children:e.descripcion})]}),(0,Pt.jsxs)("div",{className:"mb-3 col-12",children:[(0,Pt.jsx)("small",{className:"text-muted",children:"Fecha:"}),(0,Pt.jsx)("div",{className:"small",children:e.created_at})]}),(0,Pt.jsx)("div",{className:"col-12",children:(0,Pt.jsxs)("div",{className:"gap-2 d-flex justify-content-end",children:[(0,Pt.jsxs)("button",{className:"btn btn-danger btn-sm",onClick:function(){return Ty(e.id,"rechazar")},children:[(0,Pt.jsx)("i",{className:"fa fa-times me-1"}),"Rechazar"]}),!e.estado&&(0,Pt.jsxs)("button",{className:"btn btn-warning btn-sm",onClick:function(){return Ty(e.id)},children:[(0,Pt.jsx)("i",{className:"fa fa-check me-1"}),"Resolver"]})]})})]})})},e.id)})):(0,Pt.jsx)("div",{className:"py-4 text-center",children:(0,Pt.jsxs)("div",{className:"text-muted",children:[(0,Pt.jsx)("i",{className:"mb-3 fa fa-tasks fa-3x"}),(0,Pt.jsx)("p",{children:"No hay tareas disponibles"})]})})}),(0,Pt.jsx)("div",{className:"d-none d-md-block",children:(0,Pt.jsx)("div",{className:"table-responsive",children:(0,Pt.jsxs)("table",{className:"table table-striped table-hover",children:[(0,Pt.jsx)("thead",{className:"table-dark",children:(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("th",{width:"100",children:"Accin"}),(0,Pt.jsx)("th",{children:"ID Pedido"}),(0,Pt.jsx)("th",{children:"Usuario"}),(0,Pt.jsx)("th",{children:"Tipo"}),(0,Pt.jsx)("th",{children:"Descripcin"}),(0,Pt.jsx)("th",{children:"Hora"}),(0,Pt.jsx)("th",{width:"100",children:"Estado"})]})}),(0,Pt.jsx)("tbody",{children:Py.length?Py.map((function(e){return(0,Pt.jsxs)("tr",{children:[(0,Pt.jsx)("td",{children:(0,Pt.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return Ty(e.id,"rechazar")},children:(0,Pt.jsx)("i",{className:"fa fa-times"})})}),(0,Pt.jsxs)("td",{className:"fw-bold text-primary",children:["#",e.id_pedido]}),(0,Pt.jsx)("td",{children:e.usuario?e.usuario.usuario:"N/A"}),(0,Pt.jsx)("td",{children:e.tipo}),(0,Pt.jsx)("td",{className:"text-break",children:e.descripcion}),(0,Pt.jsx)("td",{className:"small",children:e.created_at}),(0,Pt.jsx)("td",{children:e.estado?(0,Pt.jsx)("span",{className:"badge bg-success",children:"Resuelta"}):(0,Pt.jsx)("button",{className:"btn btn-warning btn-sm",onClick:function(){return Ty(e.id)},children:(0,Pt.jsx)("i",{className:"fa fa-check"})})})]},e.id)})):(0,Pt.jsx)("tr",{children:(0,Pt.jsx)("td",{colSpan:"7",className:"py-4 text-center",children:(0,Pt.jsxs)("div",{className:"text-muted",children:[(0,Pt.jsx)("i",{className:"mb-2 fa fa-tasks fa-2x"}),(0,Pt.jsx)("p",{className:"mb-0",children:"No hay tareas disponibles"})]})})})})]})})})]}):null,WN&&(0,Pt.jsx)(yN,{addCarritoRequestInterno:cE,setviewGarantiaFormato:VN,devolucionMotivo:Kw,setdevolucionMotivo:Gw,devolucion_cantidad_salida:Hw,setdevolucion_cantidad_salida:$w,devolucion_motivo_salida:Xw,setdevolucion_motivo_salida:Zw,devolucion_ci_cajero:tN,setdevolucion_ci_cajero:oN,devolucion_ci_autorizo:sN,setdevolucion_ci_autorizo:cN,devolucion_dias_desdecompra:uN,setdevolucion_dias_desdecompra:dN,devolucion_ci_cliente:hN,setdevolucion_ci_cliente:pN,devolucion_telefono_cliente:vN,setdevolucion_telefono_cliente:_N,devolucion_nombre_cliente:wN,setdevolucion_nombre_cliente:NN,devolucion_nombre_cajero:CN,setdevolucion_nombre_cajero:SN,devolucion_nombre_autorizo:AN,setdevolucion_nombre_autorizo:PN,devolucion_trajo_factura:IN,setdevolucion_trajo_factura:TN,devolucion_motivonotrajofact:kN,setdevolucion_motivonotrajofact:RN,devolucion_numfactoriginal:LN,setdevolucion_numfactoriginal:FN,number:At}),"pedidosCentral"==de?(0,Pt.jsx)(Qn,{openBarcodeScan:bE,buscarDatosFact:pE,setbuscarDatosFact:mE,getSucursales:ly,qpedidoscentralq:ZS,setqpedidoscentralq:JS,qpedidocentrallimit:tO,setqpedidocentrallimit:rO,qpedidocentralestado:aO,setqpedidocentralestado:oO,qpedidocentralemisor:sO,setqpedidocentralemisor:cO,sucursalesCentral:pb,saveChangeInvInSucurFromCentral:function(){n(!0),ke.A.saveChangeInvInSucurFromCentral({inventarioModifiedCentralImport:xb.filter((function(e){return"replace"===e.type}))}).then((function(e){r(e),Yy(),n(!1)}))},socketUrl:Cv,setSocketUrl:Sv,mastermachines:Lg,getmastermachine:function(){},setInventarioFromSucursal:function(){n(!0),ke.A.setInventarioFromSucursal({path:Mg}).then((function(e){console.log(e.data),r(e),n(!1)}))},getInventarioFromSucursal:Yy,pathcentral:Mg,setpathcentral:kg,getPedidosCentral:lO,selectPedidosCentral:dO,checkPedidosCentral:hO,savingPedidoVerificado:$h,removeVinculoCentral:fO,setinventarioModifiedCentralImport:vb,inventarioModifiedCentralImport:xb,pedidosCentral:Uh,setIndexPedidoCentral:Gh,indexPedidoCentral:Kh,moneda:Ot,showaddpedidocentral:Zh,setshowaddpedidocentral:Jh,valheaderpedidocentral:Dx,setvalheaderpedidocentral:Ix,valbodypedidocentral:kx,setvalbodypedidocentral:Rx,procesarImportPedidoCentral:uO,getTareasCentral:$y,settareasCentral:Pv,tareasCentral:Av,runTareaCentral:function(e){n(!0),ke.A.runTareaCentral({tarea:Av[e]}).then((function(e){var t=e.data;r(t.msj,!0),t.estado&&$y(),n(!1)}))},modalmovilRef:By,modalmovilx:dy,modalmovily:py,setmodalmovilshow:vy,modalmovilshow:xy,getProductos:pw,productos:He,linkproductocentralsucursal:Fy,inputbuscarcentralforvincular:jy,openVincularSucursalwithCentral:Ly,idselectproductoinsucursalforvicular:yy}):null,"ventas"==de?(0,Pt.jsx)(Qw,{ventasData:_p,getVentasClick:gO,setfechaventas:Cp,fechaventas:Ep,moneda:Ot,onClickEditPedido:JN,getVentas:mO}):null,"vueltos"==de?(0,Pt.jsx)(cr,{onchangecaja:Zj,qDeudores:Ms,deudoresList:Xs,selectDeudor:ac,setSelectDeudor:oc,tipo_pago_deudor:cc,monto_pago_deudor:fc,setPagoCredito:QC,onClickEditPedido:JN,onCLickDelPedido:eE,detallesDeudor:gc,onlyVueltos:Ve,setOnlyVueltos:ze,qBuscarCliente:ad,setqBuscarCliente:od,clientesCrud:dd,setindexSelectCliente:gd,indexSelectCliente:md,setClienteCrud:HS,delCliente:YS,clienteInpidentificacion:bd,setclienteInpidentificacion:yd,clienteInpnombre:wd,setclienteInpnombre:Nd,clienteInpcorreo:Sd,setclienteInpcorreo:Od,clienteInpdireccion:Dd,setclienteInpdireccion:Id,clienteInptelefono:kd,setclienteInptelefono:Rd,clienteInpestado:Fd,setclienteInpestado:Ud,clienteInpciudad:zd,setclienteInpciudad:Kd,sumPedidos:XS,sumPedidosArr:Hd,setsumPedidosArr:$d}):null,"clientes_crud"==de?(0,Pt.jsx)(Jt,{qBuscarCliente:ad,setqBuscarCliente:od,clientesCrud:dd,setindexSelectCliente:gd,indexSelectCliente:md,setClienteCrud:HS,delCliente:YS,clienteInpidentificacion:bd,setclienteInpidentificacion:yd,clienteInpnombre:wd,setclienteInpnombre:Nd,clienteInpcorreo:Sd,setclienteInpcorreo:Od,clienteInpdireccion:Dd,setclienteInpdireccion:Id,clienteInptelefono:kd,setclienteInptelefono:Rd,clienteInpestado:Fd,setclienteInpestado:Ud,clienteInpciudad:zd,setclienteInpciudad:Kd}):null,"historialVentasCierre"==de?(0,Pt.jsx)(nw,{onClose:function(){return fe("ventas")}}):"cierres"==de?(0,Pt.jsx)(wa,{bancos:ay,dataPuntosAdicionales:Gj,setdataPuntosAdicionales:qj,addTuplasPuntosAdicionales:function(e,t){switch(e){case"delete":qj(Gj.filter((function(e,r){return r!==t})));break;case"add":qj(Gj.concat({banco:"",monto:"",descripcion:"",categoria:""}))}},reversarCierre:function(){confirm(" ADVERTENCIA \n\nEst seguro que desea REVERSAR (ELIMINAR) el cierre?\n\nEsta accin eliminar el cierre del da y no se puede deshacer.\n\nDesea continuar?")&&ke.A.reversarCierre({}).then((function(e){location.reload()}))},serialbiopago:yv,setserialbiopago:_v,setCajaFuerteEntradaCierreDolar:Zx,CajaFuerteEntradaCierreDolar:Qx,setCajaFuerteEntradaCierreCop:rv,CajaFuerteEntradaCierreCop:tv,setCajaFuerteEntradaCierreBs:iv,CajaFuerteEntradaCierreBs:ov,setCajaChicaEntradaCierreDolar:uv,CajaChicaEntradaCierreDolar:lv,setCajaChicaEntradaCierreCop:pv,CajaChicaEntradaCierreCop:hv,setCajaChicaEntradaCierreBs:vv,CajaChicaEntradaCierreBs:xv,tipoUsuarioCierre:Hx,settipoUsuarioCierre:$x,cierrenumreportez:cC,setcierrenumreportez:lC,cierreventaexcento:fC,setcierreventaexcento:hC,cierreventagravadas:gC,setcierreventagravadas:xC,cierreivaventa:yC,setcierreivaventa:_C,cierretotalventa:NC,setcierretotalventa:EC,cierreultimafactura:OC,setcierreultimafactura:AC,cierreefecadiccajafbs:IC,setcierreefecadiccajafbs:TC,cierreefecadiccajafcop:kC,setcierreefecadiccajafcop:RC,cierreefecadiccajafdolar:LC,setcierreefecadiccajafdolar:FC,cierreefecadiccajafeuro:WC,setcierreefecadiccajafeuro:VC,getTotalizarCierre:function(){is||ke.A.getTotalizarCierre({}).then((function(e){if(e.data){var t=e.data;hi(t.caja_usd),xi(t.caja_cop),_i(t.caja_bs),Ei(t.caja_punto),Ai(t.caja_biopago),Ti(t.dejar_dolar),Bi(t.dejar_peso),Wi(t.dejar_bss),Gi(t.lotes),Yi(t.biopagos)}})),ss(!is)},totalizarcierre:is,setTotalizarcierre:ss,moneda:Ot,auth:IO,user:t,sendCuentasporCobrar:function(){ke.A.sendCuentasporCobrar({}).then((function(e){r(e)}))},fechaGetCierre2:zx,setfechaGetCierre2:Kx,verCierreReq:YC,fechaGetCierre:Fx,setfechaGetCierre:Ux,getCierres:function(){ke.A.getCierres({fechaGetCierre:Fx,fechaGetCierre2:zx,tipoUsuarioCierre:Hx}).then((function(e){e.data&&(e.data.cierres?tc(e.data):tc({}))}))},cierres:ec,number:At,guardar_usd:op,setguardar_usd:ip,guardar_cop:lp,setguardar_cop:up,guardar_bs:hp,setguardar_bs:pp,settipo_accionCierre:vp,tipo_accionCierre:xp,caja_usd:fi,setcaja_usd:hi,caja_cop:gi,setcaja_cop:xi,caja_bs:yi,setcaja_bs:_i,caja_punto:Ni,setCaja_punto:Ei,setcaja_biopago:Ai,caja_biopago:Oi,dejar_usd:Ii,dejar_cop:Ri,dejar_bs:Ui,setDejar_usd:Ti,setDejar_cop:Bi,setDejar_bs:Wi,lotespuntototalizar:Ki,biopagostotalizar:$i,cierre:rs,lotesPinpad:Zi,setLotesPinpad:Ji,cerrar_dia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&e.preventDefault(),n(!0),ke.A.cerrar({total_caja_neto:Bj,total_punto:Uj,dejar_usd:Ii,dejar_cop:Ri,dejar_bs:Ui,caja_usd:fi,caja_bs:yi,caja_cop:gi,dataPuntosAdicionales:Gj,lotesPinpad:Zi,totalizarcierre:is,total_biopago:Wj}).then((function(e){var t=e.data;if(e.data&&(ip(t.efectivo_guardado),Hj("setguardar_cop",lp,t),Hj("setguardar_bs",hp,t),vp(t.tipo_accion),ms(t.fecha),t.puntosAdicional&&t.puntosAdicional.length&&qj(t.puntosAdicional),t.lotes_pinpad)){var a=t.lotes_pinpad.map((function(e){var t=Zi.find((function(t){return t.terminal===e.terminal}));return iS(iS({},e),{},{banco:(null==t?void 0:t.banco)||e.banco})}));Ji(a)}ns(t),0==e.data.estado&&r(e),n(!1)}))},fun_setguardar:Hj,setcajaFuerteFun:zj,total_caja_neto:Bj,total_punto:Uj,total_biopago:Wj,total_dejar_caja_neto:Fj,viewCierre:vs,setViewCierre:bs,toggleDetallesCierre:js,setToggleDetallesCierre:ws,onchangecaja:Zj,fechaCierre:ps,setFechaCierre:ms,guardar_cierre:function(e){if(!Oi||is||yv){if(Zi&&Zi.length>0){var t=Zi.filter((function(e){var t=e.banco||e.bancoSeleccionado;return!t||""===t||null==t}));if(t.length>0){var a=t.map((function(e,r){return Zi.indexOf(t[r])+1}));return void alert("Error: Debe seleccionar un banco para todos los lotes Pinpad antes de guardar el cierre.\n\nLotes sin banco: ".concat(a.join(", ")))}}n(!0);var o={puntos:Gj,lotes_pinpad:Zi};ke.A.guardarCierre({fechaCierre:ps,caja_usd:fi,caja_cop:gi,caja_bs:yi,caja_punto:Ni,total_punto:Uj,caja_biopago:Oi,total_biopago:Wj,dejar_usd:Ii,dejar_cop:Ri,dejar_bs:Ui,dataPuntosAdicionales:o,serialbiopago:yv,notaCierre:Ps,totalizarcierre:is,tipo_accionCierre:xp,numreportez:cC,ventaexcento:fC,ventagravadas:gC,ivaventa:yC,totalventa:NC,ultimafactura:OC,efecadiccajafbs:IC,efecadiccajafcop:kC,efecadiccajafdolar:LC,efecadiccajafeuro:WC,CajaFuerteEntradaCierreDolar:Qx,CajaFuerteEntradaCierreCop:tv,CajaFuerteEntradaCierreBs:ov,CajaChicaEntradaCierreDolar:lv,CajaChicaEntradaCierreCop:hv,CajaChicaEntradaCierreBs:xv}).then((function(e){n(!1),e.data.estado||!e.data.msj||void 0===e.data.total_diferencia&&void 0===e.data.descuadre_general?r(e,!1):function(e){var t=e.msj||"Error al guardar el cierre",n=document.createElement("div");n.style.cssText="\n            position: fixed;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            background: white;\n            border: 3px solid #dc3545;\n            border-radius: 8px;\n            padding: 20px;\n            max-width: 600px;\n            max-height: 80vh;\n            overflow-y: auto;\n            z-index: 10000;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);\n            font-family: monospace;\n            font-size: 13px;\n            line-height: 1.6;\n            white-space: pre-wrap;\n        ";var a=document.createElement("div");a.style.cssText="font-weight: bold; font-size: 16px; color: #dc3545; margin-bottom: 15px; text-align: center;",a.textContent=" FALTANTE EN CIERRE",n.appendChild(a);var o=document.createElement("div");o.textContent=t,n.appendChild(o);var i=document.createElement("button");i.textContent="Cerrar",i.style.cssText="\n            margin-top: 15px;\n            padding: 10px 20px;\n            background: #dc3545;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            width: 100%;\n            font-size: 14px;\n            font-weight: bold;\n        ",i.onclick=function(){document.body.removeChild(n),document.body.removeChild(s)},n.appendChild(i);var s=document.createElement("div");s.style.cssText="\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0, 0, 0, 0.5);\n            z-index: 9999;\n        ",s.onclick=function(){document.body.removeChild(n),document.body.removeChild(s)},document.body.appendChild(s),document.body.appendChild(n),r({data:{msj:t,estado:!1}},!1)}(e.data),e.data.estado&&ke.A.getStatusCierre({fechaCierre:ps}).then((function(e){vp(e.data.tipo_accionCierre)}))})).catch((function(e){var t;n(!1);var a=(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.msj)||e.message||"Error al guardar el cierre";r({data:{msj:a,estado:!1}},!1)}))}else alert("Falta serial de Biopago")},veryenviarcierrefun:function(e){if(KC){GC(!1),clearTimeout(HC);var t=window.setTimeout((function(){GC(!0)}),2e4);$C(t);var a=e.currentTarget.attributes["data-type"].value;if("ver"==a){var o=ps||(null==rs?void 0:rs.fecha)||"";YC(o,a)}else"enviar"!=a&&"sync"!=a||(n(!0),axios.get(ke.A.getHost()+"sync/status").then((function(e){var t={};return e.data&&Object.keys(e.data).forEach((function(r){var n=e.data[r];t[r]={pendientes:n.pendientes||0,total:n.total||0,sincronizados:n.sincronizados||0}})),window.SyncModal&&(window.SyncModal.open(t),window.SyncModal.addLog("Obtenido estado de sincronizacin"),window.SyncModal.addLog("Iniciando envo de cierre...")),ke.A.sendCierre({type:"enviar",fecha:ps,totalizarcierre:is})})).then((function(e){if(n(!1),e.data&&e.data.estado){var t=e.data.registros_totales||0,a=e.data.tiempo_sync||"0s";e.data.tablas;window.SyncModal&&(window.SyncModal.addLog("Registros procesados: ".concat(t)),window.SyncModal.addLog("Tiempo total: ".concat(a)),window.SyncModal.complete(!0,"Sincronizacin completada: ".concat(t," registros en ").concat(a),e.data)),r(" Sincronizacin completada: ".concat(t," registros"),!1),ke.A.ejecutarPostSync({fecha:ps}).catch((function(e){console.log("Post-sync en background:",(null==e?void 0:e.message)||"completado")}))}else{var o="Proceso completado";"string"==typeof e.data?o=e.data:e.data&&e.data.mensaje?o=e.data.mensaje:Array.isArray(e.data)&&(o=e.data.join("\n")),window.SyncModal&&(e.data&&e.data.error?window.SyncModal.complete(!1,o):window.SyncModal.complete(!0,o,e.data)),r(o,!1)}})).catch((function(e){n(!1);var t="Error: "+(e.message||"Error desconocido");window.SyncModal&&!window.SyncModal.state.isOpen&&window.SyncModal.open(),window.SyncModal&&(window.SyncModal.addLog(t,"error"),window.SyncModal.complete(!1,t)),r(t,!1)})))}else alert("Debe esperar 20 SEGUNDOS PARA VOLVER A ENVIAR!")},notaCierre:Ps,billete1:ug,setbillete1:dg,billete5:pg,setbillete5:mg,billete10:vg,setbillete10:bg,billete20:jg,setbillete20:wg,billete50:Cg,setbillete50:Sg,billete100:Pg,setbillete100:Dg,dolar:Se,peso:Pe}):null,"pedidos"==de?(0,Pt.jsx)(Zt,{setView:fe,getReferenciasElec:function(){Ya([]),ke.A.getReferenciasElec({fecha1pedido:ai,fecha2pedido:ci}).then((function(e){Ya(e.data)}))},refrenciasElecData:$a,togleeReferenciasElec:Za,settogleeReferenciasElec:Ja,addNewPedidoFront:o_,setmodalchangepedido:vS,setseletIdChangePedidoUserHandle:function(e,t){jS(t),vS(!0);var r=e.currentTarget.getBoundingClientRect(),n=r.top+window.scrollY,a=r.left;ES(n),OS(a)},modalchangepedido:xS,modalchangepedidoy:NS,modalchangepedidox:SS,usuarioChangeUserPedido:yS,usuariosData:Wg,auth:IO,toggleImprimirTicket:fw,pedidoData:we,showModalPedidoFast:YN,setshowModalPedidoFast:XN,getPedidoFast:function(e){var t=e.currentTarget.attributes["data-id"].value;XN(!0),QN(t)},clickSetOrderColumnPedidos:function(e){var t=e.currentTarget.attributes["data-valor"].value;t==Zr?rn("desc"==tn?"asc":"desc"):Jr(t)},orderbycolumpedidos:Zr,setorderbycolumpedidos:Jr,orderbyorderpedidos:tn,setorderbyorderpedidos:rn,moneda:Ot,setshowMisPedido:Xr,showMisPedido:Yr,tipobusquedapedido:qo,setTipoBusqueda:Ho,busquedaPedido:ei,fecha1pedido:ai,fecha2pedido:ci,onChangePedidos:function(e){var t=e.currentTarget.attributes["data-type"].value,r=e.currentTarget.value;switch(t){case"busquedaPedido":ti(r);break;case"fecha1pedido":oi(r);break;case"fecha2pedido":li(r)}},onClickEditPedido:JN,onCLickDelPedido:eE,pedidos:Lo,getPedidos:hw,filterMetodoPago:function(e){var t=e.currentTarget.attributes["data-type"].value;Ss(t)},filterMetodoPagoToggle:Cs,tipoestadopedido:Xo,setTipoestadopedido:Qo}):null,"inventario"==de?(0,Pt.jsx)(Sw,{buscarInventario:tS,getFacturas:LS,openBarcodeScan:bE,sincInventario:function(){confirm("Seguro de sincronizar inventario, puede tardar varios minutos?")&&ke.A.sincInventario({})},numReporteZ:dE,setnumReporteZ:fE,reportefiscal:function(e){if(confirm("CONFIRME REPORTE "+e)){var t=prompt("Indique la Caja");t&&ke.A.reportefiscal({type:e,numReporteZ:dE,caja:t}).then((function(e){var t=e.data;r(t)}))}},exportPendientes:function(){ke.A.showcsvInventario({})},setSalidaGarantias:function(e){if(confirm("Confirme")){var t=window.prompt("Cantidad de SALIDA"),n=window.prompt("DESCRIPCION DE SALIDA");t&&n?ke.A.setSalidaGarantias({id:e,cantidad:At(t),motivo:n}).then((function(e){Iw(),r(e)})):alert("Error: Datos incorrectos")}},garantiaEstado:Pw,setgarantiaEstado:Dw,garantiasData:xw,getGarantias:Iw,setqgarantia:_w,qgarantia:yw,garantiaorderCampo:ww,setgarantiaorderCampo:Nw,garantiaorder:Cw,setgarantiaorder:Ow,dolar:Se,peso:Pe,inventarioNovedadesData:fS,setinventarioNovedadesData:hS,getInventarioNovedades:pS,resolveInventarioNovedades:function(e){ke.A.resolveInventarioNovedades({id:e}).then((function(e){pS(),r(e.data)}))},sendInventarioNovedades:function(e){ke.A.sendInventarioNovedades({id:e}).then((function(e){r(e.data)}))},delInventarioNovedades:function(e){confirm("Confirme")&&ke.A.delInventarioNovedades({id:e}).then((function(e){pS()}))},aprobarRecepcionCaja:function(e,t){confirm("Est seguro de "+t+" el movimiento?")&&ke.A.aprobarRecepcionCaja({id:e,type:t}).then((function(e){oy(),r(e)}))},reversarMovPendientes:function(){confirm("Realmente desea eliminar los movimientos pendientes?")&&confirm("Seguro/a, Seguro/a?")&&confirm("No hay marcha atrs!")&&ke.A.reversarMovPendientes({}).then((function(e){oy(),r(e.data)}))},getSucursales:ly,transferirpedidoa:ry,settransferirpedidoa:ny,sucursalesCentral:pb,getAlquileres:function(){ke.A.getAlquileres({}).then((function(e){e.data.length&&e.data[0].descripcion&&EO(e.data)}))},alquileresData:NO,getPorcentajeInventario:function(){ke.A.getPorcentajeInventario({}).then((function(e){var t=e.data;alert("INVENTARIADO: "+t.porcentaje)}))},cleanInventario:function(){confirm("LIMPIAR PRODUCTOS QUE NUNCA SE HAN VENDIDO Y SU CANTIDAD EST EN CERO")&&ke.A.cleanInventario({}).then((function(e){r(e.data)}))},allProveedoresCentral:WS,getAllProveedores:zS,setView:fe,verificarMovPenControlEfec:function(){confirm("Confirme")&&ke.A.verificarMovPenControlEfec({}).then((function(e){oy(),r(e)}))},verificarMovPenControlEfecTRANFTRABAJADOR:function(){confirm("Confirme")&&ke.A.verificarMovPenControlEfecTRANFTRABAJADOR({}).then((function(e){oy(),r(e.data)}))},openModalNuevoEfectivo:jf,setopenModalNuevoEfectivo:wf,controlefecResponsable:pf,setcontrolefecResponsable:mf,controlefecAsignar:vf,setcontrolefecAsignar:bf,personalNomina:_O,setpersonalNomina:jO,getNomina:function(){ke.A.getNomina({}).then((function(e){e.data.length&&e.data[0].nominacargo&&jO(e.data)}))},categoriasCajas:s_,departamentosCajas:u_,setcategoriasCajas:c_,getcatsCajas:function(){ke.A.getcatsCajas({}).then((function(e){e.data.categorias.length&&(c_(e.data.categorias),d_(e.data.departamentos))}))},getEstaInventario:function(){0!=e&&clearTimeout(el);var e=window.setTimeout((function(){n(!0),ke.A.getEstaInventario({fechaQEstaInve:kv,fechaFromEstaInve:Lv,fechaToEstaInve:Wv,orderByEstaInv:Kv,categoriaEstaInve:Iv,orderByColumEstaInv:Hv}).then((function(e){Qv(e.data),n(!1)}))}),150);tl(e)},controlefecQ:Qd,setcontrolefecQ:Zd,controlefecQDesde:tf,setcontrolefecQDesde:rf,controlefecQHasta:of,setcontrolefecQHasta:sf,controlefecData:Cf,setcontrolefecData:Sf,controlefecSelectGeneral:Pf,setcontrolefecSelectGeneral:Df,controlefecSelectUnitario:Mf,setcontrolefecSelectUnitario:kf,controlefecNewConcepto:Lf,setcontrolefecNewConcepto:Ff,controlefecNewCategoria:ch,setcontrolefecNewCategoria:lh,controlefecNewDepartamento:fh,setcontrolefecNewDepartamento:hh,controlefecNewMonto:Vf,setcontrolefecNewMonto:zf,controlefecNewMontoMoneda:qf,setcontrolefecNewMontoMoneda:Hf,setcontrolefecid_persona:Qf,controlefecid_persona:Xf,setcontrolefecid_alquiler:th,controlefecid_alquiler:eh,controlefecid_proveedor:ah,setcontrolefecid_proveedor:oh,controlefecQCategoria:uf,setcontrolefecQCategoria:df,getControlEfec:oy,setControlEfec:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];confirm("Realmente desea cargar el movimiento?")&&(Lf&&ch&&Vf&&fh&&qf?(wf(!1),ke.A.setControlEfec({concepto:Lf,categoria:ch,id_departamento:fh,monto:Vf,controlefecSelectGeneral:Pf,controlefecSelectUnitario:Mf,controlefecNewMontoMoneda:qf,sendCentralData:e,transferirpedidoa:ry,id_persona:Xf,id_alquiler:eh,id_proveedor:ah}).then((function(e){Ff(""),zf(""),Hf(""),lh(""),hh(""),Qf(""),th(""),oh(""),oy(),r(e.data.msj)}))):alert("Error: Campos Vacos!"))},delCaja:function(e){ke.A.delCaja({id:e}).then((function(e){r(e),oy()}))},saveReplaceProducto:function(){ke.A.saveReplaceProducto({replaceProducto:Jb}).then((function(e){var t=e.data;t.estado&&(tS(),ey({este:null,poreste:null})),r(t.msj)}))},selectRepleceProducto:function(e){Jb.este?ey(iS(iS({},Jb),{},{poreste:e})):ey(iS(iS({},Jb),{},{este:e}))},replaceProducto:Jb,setreplaceProducto:ey,user:t,setStockMin:function(e){var t=e.currentTarget.attributes["data-id"].value,n=window.prompt("Cantidad Mnima");n&&ke.A.setStockMin({id:t,min:n}).then((function(e){tS(),r(e)}))},datamodalhistoricoproducto:Q_,setdatamodalhistoricoproducto:Z_,getmovientoinventariounitario:rj,openmodalhistoricoproducto:function(e){rj(e),tj(e),U_(!0)},showmodalhistoricoproducto:F_,setshowmodalhistoricoproducto:U_,fecha1modalhistoricoproducto:V_,setfecha1modalhistoricoproducto:z_,fecha2modalhistoricoproducto:G_,setfecha2modalhistoricoproducto:q_,usuariomodalhistoricoproducto:$_,setusuariomodalhistoricoproducto:Y_,usuariosData:Wg,getUsuarios:bO,qhistoinven:aj,setqhistoinven:oj,fecha1histoinven:sj,setfecha1histoinven:cj,fecha2histoinven:uj,setfecha2histoinven:dj,orderByHistoInven:hj,setorderByHistoInven:pj,historicoInventario:bj,usuarioHistoInven:gj,setusuarioHistoInven:xj,getHistoricoInventario:function(){n(!0),ke.A.getHistoricoInventario({qhistoinven:aj,fecha1histoinven:sj,fecha2histoinven:uj,orderByHistoInven:hj,usuarioHistoInven:gj}).then((function(e){yj(e.data),n(!1)}))},categoriaEstaInve:Iv,setcategoriaEstaInve:Tv,printTickedPrecio:function(e){ke.A.printTickedPrecio({id:e})},sameCatValue:PS,sameProValue:TS,setdropprintprice:B,dropprintprice:R,printPrecios:function(e){Xe.length&&ke.A.printPrecios({type:e,ids:Xe.map((function(e){return e.id}))}).then((function(e){B(!1)}))},setCtxBulto:function(e){var t=e.currentTarget.attributes["data-id"].value,n=window.prompt("Cantidad por bulto");n&&ke.A.setCtxBulto({id:t,bulto:n}).then((function(e){tS(),r(e)}))},setPrecioAlterno:function(e){var t=e.currentTarget.attributes["data-id"].value,n=e.currentTarget.attributes["data-type"].value,a=window.prompt("PRECIO "+n);a&&ke.A.setPrecioAlterno({id:t,type:n,precio:a}).then((function(e){tS(),r(e)}))},qgastosfecha1:p_,setqgastosfecha1:m_,qgastosfecha2:x_,setqgastosfecha2:v_,qgastos:y_,setqgastos:__,qcatgastos:w_,setqcatgastos:N_,gastosdescripcion:C_,setgastosdescripcion:S_,gastoscategoria:A_,setgastoscategoria:P_,gastosmonto:I_,setgastosmonto:T_,gastosData:k_,delGastos:function(e){var t=e.currentTarget.attributes["data-id"].value;t&&confirm("Confirme eliminacin de gasto")&&ke.A.delGastos({id:t}).then((function(e){r(e),B_()}))},getGastos:B_,setGasto:function(e){e.preventDefault(),ke.A.setGasto({gastosdescripcion:C_,gastoscategoria:A_,gastosmonto:I_}).then((function(e){r(e),B_()}))},delPagoProveedor:SO,busqAvanzInputsFun:function(e,t){var r=(0,Me.cloneDeep)(Xb);r[t]=e.target.value,Qb(r)},busqAvanzInputs:Xb,buscarInvAvanz:function(){tS(null)},busquedaAvanazadaInv:cb,setbusquedaAvanazadaInv:lb,setSameGanancia:function(){var e=window.prompt("Porcentaje");if(e){var t=(0,Me.cloneDeep)(Xe);t.map((function(t){if(t.type){var r=(parseFloat(t.precio_base)+parseFloat(t.precio_base)*(parseFloat(e)/100)).toFixed(2);r&&(t.precio=r)}return t})),Qe(t)}},setSameCat:function(e){if(confirm("Confirma Generalizar categora?")){var t=(0,Me.cloneDeep)(Xe);t.map((function(t){return t.type&&(t.id_categoria=e),t})),Qe(t),DS(e)}},setSamePro:function(e){if(confirm("Confirma Generalizar proveeedor?")){var t=(0,Me.cloneDeep)(Xe);t.map((function(t){return t.type&&(t.id_proveedor=e),t})),Qe(t),MS(e)}},openReporteFalla:function(e){e&&ke.A.openReporteFalla(e)},getPagoProveedor:OO,setPagoProveedor:AO,pagosproveedor:ob,tipopagoproveedor:Jv,settipopagoproveedor:eb,montopagoproveedor:rb,setmontopagoproveedor:nb,setmodFact:Nv,modFact:wv,saveFactura:GS,categorias:Ej,setporcenganancia:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=window.prompt("Porcentaje");if(n&&At(n))if("unique"==e){var a=(parseFloat(kt)+parseFloat(kt)*(parseFloat(n)/100)).toFixed(2);a&&Ft(a)}else{var o=(parseFloat(t)+parseFloat(t)*(parseFloat(n)/100)).toFixed(2);o&&r(o)}},refsInpInvList:Ox,guardarNuevoProductoLote:CO,changeInventario:PO,reporteInventario:function(){ke.A.openReporteInventario()},addNewLote:function(e){Yt($t.concat({lote:"",creacion:"",vence:"",cantidad:"",type:"new",id:null}))},changeModLote:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=(0,Me.cloneDeep)($t);switch(n){case"update":"new"!=o[t].type&&(o[t].type="update");break;case"delModeUpdateDelete":delete o[t].type;break;case"delNew":o=o.filter((function(e,r){return r!==t}));break;case"changeInput":o[t][a]=e;break;case"delMode":o[t].type="delete";o[t].id_replace=0}Yt(o)},modViewInventario:wx,setmodViewInventario:Nx,setNewProducto:function(){nt(null),it(""),lt(""),ft(""),gt("UND"),Dt(""),Rt(""),Ft(""),Kt("0"),Yt([]),yl[Kl]&&er(yl[Kl].proveedor.id),nr("GENRICO"),ir(1)},verDetallesFactura:pO,showaddpedidocentral:Zh,setshowaddpedidocentral:Jh,valheaderpedidocentral:Dx,setvalheaderpedidocentral:Ix,valbodypedidocentral:kx,setvalbodypedidocentral:Rx,procesarImportPedidoCentral:uO,moneda:Ot,productosInventario:Xe,qBuscarInventario:Je,setQBuscarInventario:et,setIndexSelectInventario:nt,indexSelectInventario:rt,inputBuscarInventario:qc,inpInvbarras:ot,setinpInvbarras:it,inpInvcantidad:ct,setinpInvcantidad:lt,inpInvalterno:dt,setinpInvalterno:ft,inpInvunidad:pt,setinpInvunidad:gt,inpInvcategoria:yt,setinpInvcategoria:wt,inpInvdescripcion:St,setinpInvdescripcion:Dt,inpInvbase:kt,setinpInvbase:Rt,inpInvventa:Lt,setinpInvventa:Ft,inpInviva:Vt,setinpInviva:Kt,inpInvLotes:$t,number:At,guardarNuevoProducto:function(){n(!0),ke.A.guardarNuevoProducto({inpInvbarras:ot,inpInvcantidad:ct,inpInvalterno:dt,inpInvunidad:pt,inpInvcategoria:yt,inpInvdescripcion:St,inpInvbase:kt,inpInvventa:Lt,inpInviva:Vt,inpInvid_proveedor:Qt,inpInvid_marca:rr,inpInvid_deposito:or,inpInvporcentaje_ganancia:qt,inpInvLotes:$t}).then((function(e){r(e),n(!1),e.data.estado&&(it(""),lt(""),ft(""),gt("UND"),wt("24"),Dt(""),Rt(""),Ft(""),Kt("0"),nr(""))}))},setProveedor:kS,proveedordescripcion:Nr,setproveedordescripcion:Er,proveedorrif:Sr,setproveedorrif:Or,proveedordireccion:Pr,setproveedordireccion:Dr,proveedortelefono:Tr,setproveedortelefono:Mr,subViewInventario:Rr,setsubViewInventario:Br,setIndexSelectProveedores:Ur,indexSelectProveedores:Fr,qBuscarProveedor:Vr,setQBuscarProveedor:zr,proveedoresList:Gr,delProveedor:RS,delProducto:BS,inpInvid_proveedor:Qt,setinpInvid_proveedor:er,inpInvid_marca:rr,setinpInvid_marca:nr,inpInvid_deposito:or,setinpInvid_deposito:ir,depositosList:ur,marcasList:hr,setshowModalFacturas:xl,showModalFacturas:gl,facturas:yl,factqBuscar:Nl,setfactqBuscar:El,factqBuscarDate:Ol,setfactqBuscarDate:Al,factsubView:Ul,setfactsubView:Wl,factSelectIndex:Kl,setfactSelectIndex:Gl,factOrderBy:Il,setfactOrderBy:Tl,factOrderDescAsc:Rl,setfactOrderDescAsc:Bl,factInpid_proveedor:$l,setfactInpid_proveedor:Yl,factInpnumfact:Zl,setfactInpnumfact:Jl,factInpdescripcion:ru,setfactInpdescripcion:nu,factInpmonto:iu,setfactInpmonto:su,factInpfechavencimiento:uu,setfactInpfechavencimiento:du,factInpImagen:pu,factInpestatus:ed,setfactInpestatus:td,setFactura:FS,delFactura:KS,Invnum:mr,setInvnum:gr,InvorderColumn:vr,setInvorderColumn:br,InvorderBy:_r,setInvorderBy:jr,delItemFact:qS,qFallas:gh,setqFallas:xh,orderCatFallas:yh,setorderCatFallas:_h,orderSubCatFallas:Nh,setorderSubCatFallas:Eh,ascdescFallas:Oh,setascdescFallas:Ah,fallas:Ih,delFalla:function(e){if(confirm("Desea Eliminar?")){var t=e.currentTarget.attributes["data-id"].value;ke.A.delFalla({id:t}).then((function(e){r(e),n(!0),ke.A.getFallas({qFallas:gh,orderCatFallas:yh,orderSubCatFallas:Nh,ascdescFallas:Oh}).then((function(e){Th(e.data),n(!1)}))}))}},getPedidosCentral:lO,selectPedidosCentral:dO,checkPedidosCentral:hO,pedidosCentral:Uh,setIndexPedidoCentral:Gh,indexPedidoCentral:Kh,fechaQEstaInve:kv,setfechaQEstaInve:Rv,fechaFromEstaInve:Lv,setfechaFromEstaInve:Fv,fechaToEstaInve:Wv,setfechaToEstaInve:Vv,orderByEstaInv:Kv,setorderByEstaInv:Gv,orderByColumEstaInv:Hv,setorderByColumEstaInv:$v,dataEstaInven:Xv}):null,"SelectFacturasInventario"==de?(0,Pt.jsx)(ow,{setfactInpImagen:mu,allProveedoresCentral:WS,getAllProveedores:zS,setView:fe,subViewInventario:Rr,delPagoProveedor:SO,pagosproveedor:ob,getPagoProveedor:OO,setPagoProveedor:AO,tipopagoproveedor:Jv,settipopagoproveedor:eb,montopagoproveedor:rb,setmontopagoproveedor:nb,setmodFact:Nv,modFact:wv,qBuscarProveedor:Vr,setQBuscarProveedor:zr,setIndexSelectProveedores:Ur,indexSelectProveedores:Fr,moneda:Ot,saveFactura:GS,setsubViewInventario:Br,setshowModalFacturas:xl,facturas:yl,verDetallesFactura:pO,verDetallesImagenFactura:function(){ke.A.openverDetallesImagenFactura({id:yl[Kl].id}).then((function(e){window.open(e.data,"targed=blank"),console.log(e.data)}))},factqBuscar:Nl,setfactqBuscar:El,factqBuscarDate:Ol,setfactqBuscarDate:Al,factsubView:Ul,setfactsubView:Wl,factSelectIndex:Kl,setfactSelectIndex:Gl,factOrderBy:Il,setfactOrderBy:Tl,factOrderDescAsc:Rl,setfactOrderDescAsc:Bl,factInpid_proveedor:$l,setfactInpid_proveedor:Yl,factInpnumfact:Zl,setfactInpnumfact:Jl,factInpdescripcion:ru,setfactInpdescripcion:nu,factInpmonto:iu,setfactInpmonto:su,factInpfechavencimiento:uu,setfactInpfechavencimiento:du,setFactura:FS,proveedoresList:Gr,number:At,factInpestatus:ed,setfactInpestatus:td,delFactura:KS,delItemFact:qS,factInpnumnota:vu,setfactInpnumnota:bu,factInpsubtotal:ju,setfactInpsubtotal:wu,factInpdescuento:Cu,setfactInpdescuento:Su,factInpmonto_gravable:Pu,setfactInpmonto_gravable:Du,factInpmonto_exento:Mu,setfactInpmonto_exento:ku,factInpiva:Lu,setfactInpiva:Fu,factInpfechaemision:Vu,setfactInpfechaemision:zu,factInpfecharecepcion:qu,setfactInpfecharecepcion:Hu,factInpnota:Xu,setfactInpnota:Qu,sendFacturaCentral:function(e,t){confirm("Confirme envio y seleccin de factura")&&ke.A.sendFacturaCentral({id:e}).then((function(e){e.data&&e.data.estatus&&yl[t]&&(Gl(t),LS(),r(e.data.msj))}))},productosInventario:Xe,changeInventario:PO,buscarInventario:tS,guardarNuevoProductoLote:CO,inputBuscarInventario:qc,setQBuscarInventario:et,qBuscarInventario:Je,Invnum:mr,setInvnum:gr,InvorderBy:_r,setInvorderBy:jr,changeInventarioNewFact:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(null!=Kl&&yl[Kl]){yl[Kl].id;var o=(0,Me.cloneDeep)(yl);switch(n){case"update":"new"!=o[Kl].items[t].producto.type&&(o[Kl].items[t].producto.type="update");break;case"delModeUpdateDelete":delete o[Kl].items[t].producto.type;break;case"changeInput":o[Kl].items[t].producto[a]=e}_l(o)}},guardarNuevoProductoLoteFact:function(e){if(t.iscentral){if(null!=Kl&&yl[Kl]){var a=yl[Kl].id,o=yl[Kl].items,i=o.filter((function(e){return e.producto.type})),s=0;o.map((function(e){s+=parseFloat(e.producto.precio3)*parseFloat(e.cantidad)})),s<parseFloat(yl[Kl].monto)?i.length&&(n(!0),ke.A.guardarNuevoProductoLoteFact({items:i,id_factura:a}).then((function(e){var t=e.data;r(t.msj),t.estado&&LS(null),n(!1)}))):alert("BASE FACT o CANTIDADES incorrectas"),console.log(s,"sumTotal"),console.log(yl[Kl].monto,"facturas[factSelectIndex].monto")}}else alert("No tiene permisos para gestionar Inventario")}}):null,"ModalSelectProductoNewFact"==de?(0,Pt.jsx)(gN,{setView:fe,Invnum:mr,setInvnum:gr,InvorderColumn:vr,setInvorderColumn:br,InvorderBy:_r,setInvorderBy:jr,qBuscarInventario:Je,setQBuscarInventario:et,productosInventario:Xe,inputBuscarInventario:qc,changeInventario:PO,categorias:Ej,proveedoresList:Gr,guardarNuevoProductoLote:CO,addProductoFactInventario:function(e){var t=null;null!=Kl&&yl[Kl]&&(t=yl[Kl].id,ke.A.addProductoFactInventario({id_producto:e,id_factura:t}).then((function(e){e.data.estado&&(r(e.data.msj),fe("SelectFacturasInventario"),LS(!1))})))}}):null,"proveedores"==de?(0,Pt.jsx)(aw,{setView:fe,setProveedor:kS,proveedordescripcion:Nr,setproveedordescripcion:Er,proveedorrif:Sr,setproveedorrif:Or,proveedordireccion:Pr,setproveedordireccion:Dr,proveedortelefono:Tr,setproveedortelefono:Mr,subViewInventario:Rr,setsubViewInventario:Br,setIndexSelectProveedores:Ur,indexSelectProveedores:Fr,qBuscarProveedor:Vr,setQBuscarProveedor:zr,proveedoresList:Gr,delProveedor:RS,delProducto:BS,inpInvid_proveedor:Qt,setinpInvid_proveedor:er,inpInvid_marca:rr,setinpInvid_marca:nr,inpInvid_deposito:or,setinpInvid_deposito:ir}):null,"ViewPedidoVendedor"==de?(0,Pt.jsx)(Jw(),{}):null,"pagar"==de?(0,Pt.jsxs)(Mt,{children:[Po?(0,Pt.jsx)(rN,{number:At,setToggleAddPersona:Do,getPersona:mw,personas:Mo,setPersonas:lE,inputmodaladdpersonacarritoref:Qc,tbodypersoInterref:$c,countListPersoInter:Oc,setPersonaFast:HN,clienteInpidentificacion:bd,setclienteInpidentificacion:yd,clienteInpnombre:wd,setclienteInpnombre:Nd,clienteInptelefono:kd,setclienteInptelefono:Rd,clienteInpdireccion:Dd,setclienteInpdireccion:Id}):null,ro?(0,Pt.jsx)(nN,{pedidoData:we,lastAddedFrontItemId:Lp,setPagoPedido:HE,viewconfigcredito:ro,setviewconfigcredito:no,fechainiciocredito:io,setfechainiciocredito:so,fechavencecredito:uo,setfechavencecredito:fo,formatopagocredito:mo,setformatopagocredito:go,datadeudacredito:bo,setdatadeudacredito:yo,setconfigcredito:aC}):(0,Pt.jsx)(aN.A,{qProductosMain:Q,setLastDbRequest:YO,lastDbRequest:$O,openValidationTarea:qO,num:U,setNum:W,tbodyproducInterref:Hc,productos:He,countListInter:Nc,setProductoCarritoInterno:function(e){var t,r,n,a=He.filter((function(t){return t.id==e}))[0];sE({descripcion:a.descripcion,precio:a.precio,unidad:a.unidad,cantidad:a.cantidad,id:e,codigo_barras:null!==(t=null!==(r=a.codigo_barras)&&void 0!==r?r:a.codigo_proveedor)&&void 0!==t?t:"",codigo_proveedor:null!==(n=a.codigo_proveedor)&&void 0!==n?n:""}),Ww(null),So(!0)},setQProductosMain:Z,setCountListInter:Ec,toggleModalProductos:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;sE(e),t&&t()},inputCantidadCarritoref:Yc,setCantidad:Be,getProductos:pw,permisoExecuteEnter:rp,setproductoSelectinternouno:sE,devolucionMotivo:Kw,setdevolucionMotivo:Gw,devolucion_cantidad_salida:Hw,setdevolucion_cantidad_salida:$w,devolucion_motivo_salida:Xw,setdevolucion_motivo_salida:Zw,devolucion_ci_cajero:tN,setdevolucion_ci_cajero:oN,devolucion_ci_autorizo:sN,setdevolucion_ci_autorizo:cN,devolucion_dias_desdecompra:uN,setdevolucion_dias_desdecompra:dN,devolucion_ci_cliente:hN,setdevolucion_ci_cliente:pN,devolucion_telefono_cliente:vN,setdevolucion_telefono_cliente:_N,devolucion_nombre_cliente:wN,setdevolucion_nombre_cliente:NN,devolucion_nombre_cajero:CN,setdevolucion_nombre_cajero:SN,devolucion_nombre_autorizo:AN,setdevolucion_nombre_autorizo:PN,devolucion_trajo_factura:IN,setdevolucion_trajo_factura:TN,devolucion_motivonotrajofact:kN,setdevolucion_motivonotrajofact:RN,notificar:r,getPedidosFast:mS,addNewPedido:a_,addNewPedidoFront:o_,setModRetencion:function(){ke.A.setModRetencion({id:we.id}).then((function(e){QN(null,null,!1)}))},sendNotaCredito:function(){var e=prompt("Indique el nmero de Factura Fiscal que desea Afectar"),t=prompt("Indique el Serial de la Factura. Ejemplo: ZPA2000343"),n=confirm("Confirme los Datos introducidos. Si hay un error, cancele esta ventana. #Factura: "+e+" SerialDeFactura: "+t);e&&t&&n&&ke.A.sendNotaCredito({pedido:we.id,numfact:e,serial:t}).then((function(e){r(e)}))},sendReciboFiscal:function(){confirm("CONFIRME RECIBO FISCAL")&&ke.A.sendReciboFiscal({pedido:we.id}).then((function(e){r(e)}))},changeOnlyInputBulto:NE,setchangeOnlyInputBultoFun:function(e,t){var r=(0,Me.cloneDeep)(NE);r[t]=At(e,3),EE(r)},setshowXBulto:jE,showXBulto:_E,printBultos:function(){var e=window.prompt("Nmero de Bultos");e&&ke.A.printBultos(we.id,e)},delRetencionPago:function(e){confirm("Confirme eliminacin de Retencion")&&ke.A.delRetencionPago({id:e}).then((function(e){QN(),r(e)}))},addRetencionesPago:function(){var e=prompt("Descripcin"),t=prompt("Monto");we.id&&e&&t&&ke.A.addRetencionesPago({monto:parseFloat(t),id_pedido:we.id,descripcion:e,num:null}).then((function(e){QN(null,null,!1),r(e)}))},setGastoOperativo:function(){},user:t,setselectprinter:A,setmonedaToPrint:T,selectprinter:O,monedaToPrint:I,view:de,changeEntregado:function(e){var t=e.currentTarget.attributes["data-id"].value;confirm("Confirme Entrega de producto")&&ke.A.changeEntregado({id:t}).then((function(e){QN(),r(e)}))},setPagoPedido:HE,focusRefDebitoInputRef:qE,viewconfigcredito:ro,setviewconfigcredito:no,fechainiciocredito:io,setfechainiciocredito:so,fechavencecredito:uo,setfechavencecredito:fo,formatopagocredito:mo,setformatopagocredito:go,datadeudacredito:bo,setdatadeudacredito:yo,setconfigcredito:aC,setPrecioAlternoCarrito:function(e){var t=e.currentTarget.attributes["data-iditem"].value,n=window.prompt("p1 | p2","p1");"p1"!=n&&"p2"!=n||ke.A.setPrecioAlternoCarrito({iditem:t,p:n}).then((function(e){r(e),QN()}))},setCtxBultoCarrito:function(e){var t=e.currentTarget.attributes["data-iditem"].value,n=window.prompt("Cantidad por bulto");n&&ke.A.setCtxBultoCarrito({iditem:t,ct:n}).then((function(e){r(e),QN()}))},addRefPago:f_,delRefPago:function(e){var t=e.currentTarget.attributes["data-id"].value;if(confirm("Confirme eliminacin de referencia"))if(null!=we&&we._frontOnly&&null!=we&&we.id){var n=we.id,a=(e_[n]||[]).find((function(e){return String(e._localId||e.id)===String(t)})),o=(null==a?void 0:a.descripcion)||null;ke.A.delRefPago({descripcion_front:o,uuid_pedido_front:n}).then((function(e){var a;r(e),!0===(null==e||null===(a=e.data)||void 0===a?void 0:a.estado)&&(t_((function(e){var r=(e[n]||[]).filter((function(e){return String(e._localId||e.id)!==String(t)}));return iS(iS({},e),{},sS({},n,r))})),Zy((function(e){return e.filter((function(e){return String(e._localId||e.id)!==String(t)}))})))}))}else ke.A.delRefPago({id:t}).then((function(e){QN(),r(e)}))},refPago:Qy,setrefPago:Zy,pedidosFast:Ap,pedidosFrontPendientesList:Object.values(Tp).reverse(),pedidoData:we,getPedido:QN,debito:an,setDebito:on,debitoRef:cn,setDebitoRef:ln,debitoRefError:dn,setDebitoRefError:fn,debitos:pn,setDebitos:mn,usarMultiplesDebitos:xn,setUsarMultiplesDebitos:vn,abrirModalPosDebitoConMonto:QE,sucursaldata:ig,forzarReferenciaManual:Cn,guardarDebitosPorPedido:Tn,efectivo:Rn,setEfectivo:Bn,efectivo_bs:sa,setEfectivo_bs:ca,efectivo_dolar:da,setEfectivo_dolar:fa,efectivo_peso:ma,setEfectivo_peso:ga,transferencia:Un,setTransferencia:Wn,credito:Kn,setCredito:Gn,vuelto:$n,setVuelto:Yn,number:At,delItemPedido:function(e){var t=e.currentTarget.attributes["data-index"].value;if(we._frontOnly&&we.id){var a;if(km[we.id])return void r({data:{msj:"Solicitud de descuento en espera. Verifique aprobacin o cancele la solicitud para editar el pedido.",estado:!1}});var o=(we.items||[]).filter((function(e){return String(e.id)!==String(t)})),i=o.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),s=i,c=s*(parseFloat(null===(a=we.items)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.tasa)||parseFloat(Se)||0),l=iS(iS({},we),{},{items:o,clean_subtotal:i,clean_total:s,bs:c});return Mp((function(e){return iS(iS({},e),{},sS({},we.id,l))})),Ne(l),void r({msj:"tem quitado",estado:!0})}n(!0);var u={index:t};ke.A.delItemPedido(u).then((function(e){QN(),n(!1),r(e),!1===e.data.estado&&(YO({dbFunction:ke.A.delItemPedido,params:u}),qO(e.data.id_tarea))}))},setDescuento:wo,setDescuentoUnitario:function(e){var t,n,a=e.currentTarget.attributes["data-index"].value,o=null===(t=we.items)||void 0===t?void 0:t.find((function(e){return e.id==a}));if(o)if(parseFloat(o.cantidad)<0&&o.descuento&&parseFloat(o.descuento)>0)r({data:{msj:"Este tem tiene un descuento heredado del tem original y no puede ser modificado",estado:!1}});else{var i=parseFloat((null===(n=o.producto)||void 0===n?void 0:n.precio)||0)*Math.abs(parseFloat(o.cantidad||0));if(i<=0)r({data:{msj:"El item no tiene subtotal vlido",estado:!1}});else{if(we._frontOnly&&we.id){if(km[we.id])return void r({data:{msj:"Solicitud de descuento en espera. Verifique aprobacin o cancele la solicitud para editar descuentos.",estado:!1}});var s=null!=o.descuento&&parseFloat(o.descuento)>0,c=Qm[we.id];return s&&c?void tm((function(e){return e===String(a)?null:String(a)})):(tm(null),om({index:a,item:o,subtotalItem:i}),lm(""),void $p(String(a)))}om({index:a,item:o,subtotalItem:i}),lm(""),$p(String(a))}}else r({data:{msj:"Item no encontrado",estado:!1}})},descuentoUnitarioEditingId:Hp,descuentoUnitarioVerificandoId:Qp,descuentoUnitarioTooltipAprobadoId:em,descuentoUnitarioInputValue:cm,setDescuentoUnitarioInputValue:lm,pendientesDescuentoUnitario:fm,onDescuentoUnitarioSubmit:function(e){if(null!==e&&""!==e){var t=am||{},a=t.index,o=t.item,i=t.subtotalItem;if(a&&o){if($p(null),om(null),lm(""),we._frontOnly&&we.id){var s;if(km[we.id])return void r({data:{msj:"Solicitud de descuento en espera. Verifique aprobacin o cancele la solicitud para editar descuentos.",estado:!1}});if("0"===e||0===e){var c,l=(we.items||[]).map((function(e){return String(e.id)===String(a)?iS(iS({},e),{},{descuento:0,total:parseFloat(e.precio||0)*Math.abs(parseFloat(e.cantidad||0)),total_des:parseFloat(e.precio||0)*Math.abs(parseFloat(e.cantidad||0))}):e})),u=l.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),d=iS(iS({},we),{},{items:l,clean_subtotal:u,clean_total:u,bs:u*(parseFloat(null===(c=we.items)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.tasa)||parseFloat(Se)||0)});return Mp((function(e){return iS(iS({},e),{},sS({},we.id,d))})),Ne(d),void r({data:{msj:"Descuento eliminado",estado:!0}})}var f=parseFloat(e);if(isNaN(f)||f<0)return void r({data:{msj:"Monto invlido",estado:!1}});if(f>=i)return void r({data:{msj:"El monto final debe ser menor al subtotal",estado:!1}});var h=parseFloat((100-100*f/i).toFixed(4)),p=i*(1-h/100),m=(we.items||[]).map((function(e){return String(e.id)!==String(a)?e:iS(iS({},e),{},{descuento:h,total:p,total_des:p})})),g=m.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),x=iS(iS({},we),{},{items:m,clean_subtotal:g,clean_total:g,bs:g*(parseFloat(null===(s=we.items)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.tasa)||parseFloat(Se)||0)});return Ne(x),Mp((function(e){return iS(iS({},e),{},sS({},we.id,x))})),void r({data:{msj:"Descuento aplicado al tem. Al guardar el pedido se enviar la solicitud a central.",estado:!0}})}if(n(!0),"0"===e||0===e){var v={index:a,descuento:0};ke.A.setDescuentoUnitario(v).then((function(e){QN(),n(!1),r(e),!1===e.data.estado&&(YO({dbFunction:ke.A.setDescuentoUnitario,params:v}),qO(e.data.id_tarea))}))}else{var b=parseFloat(e);if(isNaN(b)||b<0)return r({data:{msj:"Monto invlido",estado:!1}}),void n(!1);if(b>=i)return r({data:{msj:"El monto final debe ser menor al subtotal",estado:!1}}),void n(!1);var y=(100-100*b/i).toFixed(4),_={index:a,descuento:y};ke.A.setDescuentoUnitario(_).then((function(e){QN(),n(!1),r(e),!1===e.data.estado&&(YO({dbFunction:ke.A.setDescuentoUnitario,params:_}),qO(e.data.id_tarea))}))}}}},onDescuentoUnitarioCancel:function(){$p(null),om(null),lm("")},pendienteDescuentoMetodoPago:km,solicitarDescuentoMetodoPagoFront:aE,verificarDescuentoMetodoPagoFront:function(){we._frontOnly&&we.id&&(Um(!0),ke.A.solicitudDescuentoFrontVerificar({uuid_pedido_front:we.id,tipo_descuento:"metodo_pago"}).then((function(e){var t,n,a;Um(!1);var o=null==e?void 0:e.data;if(null!=o&&o.existe&&"aprobado"===(null==o||null===(t=o.data)||void 0===t?void 0:t.estado)){var i,s=(null==o||null===(i=o.data)||void 0===i?void 0:i.metodos_pago)||[],c=rE();if(!tE(c,s))return void r({data:{msj:"Los mtodos de pago no coinciden con los aprobados. Use los mtodos aprobados o cancele la solicitud y enve una nueva.",estado:!1}});Rm((function(e){var t=iS({},e);return delete t[we.id],t})),Zm((function(e){return iS(iS({},e),{},sS({},we.id,!0))})),rg((function(e){return iS(iS({},e),{},sS({},we.id,s))})),r({data:{msj:"Descuento aprobado. Guardando pedido",estado:!0}}),zE.current&&zE.current(null,null,null)}else null!=o&&o.existe&&"enviado"===(null==o||null===(n=o.data)||void 0===n?void 0:n.estado)?r({data:{msj:"La solicitud sigue en espera de aprobacin",estado:!0}}):!1===(null==o?void 0:o.existe)||"rechazado"===(null==o||null===(a=o.data)||void 0===a?void 0:a.estado)?(Rm((function(e){var t=iS({},e);return delete t[we.id],t})),Zm((function(e){var t=iS({},e);return delete t[we.id],t})),rg((function(e){var t=iS({},e);return delete t[we.id],Nt(t),t})),r({data:{msj:"La solicitud ya no existe o fue rechazada. Puede volver a guardar el pedido para enviar una nueva solicitud.",estado:!0}})):(Rm((function(e){var t=iS({},e);return delete t[we.id],t})),Zm((function(e){var t=iS({},e);return delete t[we.id],t})),rg((function(e){var t=iS({},e);return delete t[we.id],Nt(t),t})),r({data:{msj:(null==o?void 0:o.msj)||"La solicitud ya no est disponible. Puede volver a guardar el pedido para enviar una nueva solicitud.",estado:!0}}))})).catch((function(){Um(!1),r({data:{msj:"Error al verificar",estado:!1}})})))},cancelarSolicitudDescuentoMetodoPagoFront:function(){if(we._frontOnly&&we.id){Km(!0);var e=we.id;ke.A.solicitudDescuentoFrontCancelar({uuid_pedido_front:e,tipo_descuento:"metodo_pago"}).then((function(t){var n;Km(!1);var a=null!==(n=null==t?void 0:t.data)&&void 0!==n?n:t;!0===(null==a?void 0:a.estado)?(Rm((function(t){var r=iS({},t);return delete r[e],r})),Zm((function(t){var r=iS({},t);return delete r[e],r})),rg((function(t){var r=iS({},t);return delete r[e],Nt(r),r})),ng.current&&(ng.current[e]=!0),r({data:{msj:a.msj||"Solicitud cancelada. Debe enviar de nuevo la solicitud con los mtodos de pago que vaya a usar.",estado:!0}})):r({data:{msj:(null==a?void 0:a.msj)||"No se pudo cancelar la solicitud",estado:!1}})})).catch((function(){Km(!1),r({data:{msj:"Error de conexin al cancelar",estado:!1}})}))}},eliminarValidacionDescuentoMetodoPagoFront:function(){if(we._frontOnly&&we.id){$m(!0);var e=we.id,t=function(){Zm((function(t){var r=iS({},t);return delete r[e],r})),rg((function(t){var r=iS({},t);return delete r[e],Nt(r),r}))};ke.A.solicitudDescuentoFrontCancelar({uuid_pedido_front:e,tipo_descuento:"metodo_pago"}).then((function(e){var n;$m(!1),t();var a=null!==(n=null==e?void 0:e.data)&&void 0!==n?n:e;r({data:{msj:!0===(null==a?void 0:a.estado)?"Validacin eliminada. Puede volver a solicitar el descuento si lo necesita.":"Validacin eliminada en este equipo. Puede volver a solicitar el descuento.",estado:!0}})})).catch((function(){$m(!1),t(),r({data:{msj:"Validacin eliminada localmente. Puede volver a solicitar el descuento.",estado:!0}})}))}},descuentoMetodoPagoVerificando:Fm,cancelandoDescuentoMetodoPago:zm,eliminandoValidacionDescuentoMetodoPago:Hm,actualizarCampoPedidoFront:function(e,t){e&&t&&(Mp((function(r){return r[e]?iS(iS({},r),{},sS({},e,iS(iS({},r[e]),t))):r})),Ne((function(r){return null!=r&&r._frontOnly&&(null==r?void 0:r.id)===e?iS(iS({},r),t):r})))},actualizarEstatusRefFront:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e&&t){var a=function(e){return e.map((function(e){return e._localId===t?iS(iS({},e),{},{estatus:r},n?{response:JSON.stringify(n)}:{}):e}))};t_((function(t){var r=t[e]||[];return iS(iS({},t),{},sS({},e,a(r)))})),Zy((function(e){return a(e)}))}},itemsDisponiblesDevolucion:zp,setItemsDisponiblesDevolucion:Kp,descuentoMetodoPagoAprobadoPorUuid:Qm,metodosPagoAprobadosPorUuid:tg,setDescuentoTotal:function(e){if(we._frontOnly&&we.id)return km[we.id]?void r({data:{msj:"Solicitud de descuento en espera. Verifique aprobacin o cancele la solicitud para editar descuentos.",estado:!1}}):(ym(String(we.id)),void Nm(""));var t=window.prompt("Descuento Total *0 para eliminar*"),a=e.currentTarget.attributes["data-index"].value;if(t)if("0"==t){var o={index:a,descuento:0};ke.A.setDescuentoTotal(o).then((function(e){QN(),n(!1),r(e),!1===e.data.estado&&(YO({dbFunction:ke.A.setDescuentoTotal,params:o}),qO(e.data.id_tarea))}))}else if("number"==typeof parseFloat(t)&&we.clean_subtotal){var i=parseFloat(we.clean_subtotal),s={index:a,descuento:t=100-(100*parseFloat(t)/i).toFixed(3)};ke.A.setDescuentoTotal(s).then((function(e){QN(),n(!1),r(e),!1===e.data.estado&&(YO({dbFunction:ke.A.setDescuentoTotal,params:s}),qO(e.data.id_tarea))}))}},pendientesDescuentoTotal:mm,descuentoTotalEditingId:bm,descuentoTotalInputValue:wm,setDescuentoTotalInputValue:Nm,onDescuentoTotalSubmit:function(e){var t;if(null!==e&&""!==e&&(ym(null),Nm(""),we._frontOnly&&we.id))if(km[we.id])r({data:{msj:"Solicitud de descuento en espera. Verifique aprobacin o cancele la solicitud para editar descuentos.",estado:!1}});else if((we.items||[]).filter((function(e){return parseFloat(e.cantidad)<0})).length>0)r({data:{msj:"No se puede aplicar descuento totalizado: hay tems con cantidad negativa",estado:!1}});else{if(n(!0),"0"===e||0===e){var a,o=(we.items||[]).map((function(e){var t,r=parseFloat((null===(t=e.producto)||void 0===t?void 0:t.precio)||e.precio||0)*Math.abs(parseFloat(e.cantidad||0));return iS(iS({},e),{},{descuento:0,total:r,total_des:r})})),i=o.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),s=iS(iS({},we),{},{items:o,clean_subtotal:i,clean_total:i,bs:i*(parseFloat(null===(a=we.items)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.tasa)||parseFloat(Se)||0)});return Mp((function(e){return iS(iS({},e),{},sS({},we.id,s))})),Ne(s),n(!1),void r({data:{msj:"Descuento total eliminado",estado:!0}})}var c=parseFloat(e),l=parseFloat(we.clean_subtotal)||0;if(isNaN(c)||c<0)return r({data:{msj:"Monto invlido",estado:!1}}),void n(!1);if(l<=0)return r({data:{msj:"El pedido no tiene subtotal vlido",estado:!1}}),void n(!1);if(c>=l)return r({data:{msj:"El monto final debe ser menor al subtotal",estado:!1}}),void n(!1);var u=parseFloat((100-100*c/l).toFixed(4)),d=(we.items||[]).map((function(e){var t,r=parseFloat((null===(t=e.producto)||void 0===t?void 0:t.precio)||0)*Math.abs(parseFloat(e.cantidad||0))*(1-u/100);return iS(iS({},e),{},{descuento:u,total:r,total_des:r})})),f=d.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),h=iS(iS({},we),{},{items:d,clean_subtotal:f,clean_total:f,bs:f*(parseFloat(null===(t=we.items)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.tasa)||parseFloat(Se)||0)});Ne(h),Mp((function(e){return iS(iS({},e),{},sS({},we.id,h))})),n(!1),r({data:{msj:"Descuento total aplicado. Al guardar el pedido se enviar la solicitud a central.",estado:!0}})}},onDescuentoTotalCancel:function(){ym(null),Nm("")},descuentoTotalVerificando:Sm,verificarDescuentoTotalFront:function(){if(we._frontOnly&&we.id){Om(!0);var e=Tp[we.id]||we;ke.A.solicitudDescuentoFrontVerificar({uuid_pedido_front:we.id,tipo_descuento:"monto_porcentaje"}).then((function(t){var n,a;if(Om(!1),null!==(n=t.data)&&void 0!==n&&n.existe&&"aprobado"===(null===(a=t.data)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.estado)&&Array.isArray(t.data.data.ids_productos)){var o,i={};(t.data.data.ids_productos||[]).forEach((function(e){i[e.id_producto]=parseFloat(e.porcentaje_descuento)||0}));var s=(e.items||[]).map((function(e){var t,r,n,a,o=null!==(t=null===(r=e.producto)||void 0===r?void 0:r.id)&&void 0!==t?t:e.id,s=null!==(n=i[o])&&void 0!==n?n:parseFloat(e.descuento)||0,c=parseFloat((null===(a=e.producto)||void 0===a?void 0:a.precio)||e.precio||0)*Math.abs(parseFloat(e.cantidad||0))*(1-s/100);return iS(iS({},e),{},{descuento:s,total:c,total_des:c})})),c=s.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),l=iS(iS({},e),{},{items:s,clean_subtotal:c,clean_total:c,bs:c*(parseFloat(null===(o=e.items)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.tasa)||parseFloat(Se)||0)});Ne(l),Mp((function(e){return iS(iS({},e),{},sS({},we.id,l))})),gm((function(e){var t=iS({},e);return delete t[we.id],t})),r({data:{msj:"Descuento total aprobado y aplicado",estado:!0}})}else r({data:{msj:"La solicitud an no ha sido aprobada",estado:!1}})})).catch((function(){Om(!1),r({data:{msj:"Error al verificar",estado:!1}})}))}},cancelarSolicitudDescuentoTotalFront:function(){we._frontOnly&&we.id&&(Im(!0),ke.A.solicitudDescuentoFrontCancelar({uuid_pedido_front:we.id,tipo_descuento:"monto_porcentaje"}).then((function(e){var t;Im(!1);var n=null!==(t=null==e?void 0:e.data)&&void 0!==t?t:e;!0===(null==n?void 0:n.estado)?(gm((function(e){var t=iS({},e);return delete t[we.id],t})),r({data:{msj:n.msj||"Solicitud de descuento cancelada. Puede enviar de nuevo.",estado:!0}})):r({data:{msj:(null==n?void 0:n.msj)||"No se pudo cancelar la solicitud",estado:!1}})})).catch((function(){Im(!1),r({data:{msj:"Error de conexin al cancelar",estado:!1}})})))},cancelandoDescuentoTotal:Dm,setCantidadCarrito:function(e){var t=window.prompt("Cantidad");if(t){var a=e.currentTarget.attributes["data-index"].value,o=parseFloat(t);if(isNaN(o)||o<0)return void r({msj:"Cantidad invlida",estado:!1});if(we._frontOnly&&we.id){var i,s;if(km[we.id])return void r({data:{msj:"Solicitud de descuento en espera. Verifique aprobacin o cancele la solicitud para editar cantidades.",estado:!1}});var c=(we.items||[]).find((function(e){return String(e.id)===String(a)}));if(!c||!c.producto)return;if(Qm[we.id]&&null!=c.descuento&&parseFloat(c.descuento)>0)return void r({msj:"No se puede editar la cantidad: el tem tiene descuento aprobado por central",estado:!1});var l=He.find((function(e){return e.id==c.producto.id})),u=null!=l&&parseFloat(l.cantidad)||0,d=Math.min(o,Math.max(0,u));d<o&&u>=0&&r({msj:"Solo hay "+u+" disponible(s). Se actualiz al mximo.",estado:!0});var f=parseFloat(c.precio)||parseFloat(null===(i=c.producto)||void 0===i?void 0:i.precio)||0,h=null!=c.descuento&&parseFloat(c.descuento)>0?parseFloat(c.descuento):0,p=h>0?d*f*(1-h/100):d*f,m=(we.items||[]).map((function(e){return String(e.id)===String(a)?iS(iS({},e),{},{cantidad:d,total:p,total_des:p}):e})),g=m.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),x=iS(iS({},we),{},{items:m,clean_subtotal:g,clean_total:g,bs:g*(parseFloat(null===(s=we.items)||void 0===s||null===(s=s[0])||void 0===s?void 0:s.tasa)||parseFloat(Se)||0)});return Mp((function(e){return iS(iS({},e),{},sS({},we.id,x))})),Ne(x),void r({msj:"Cantidad actualizada",estado:!0})}var v=(we.items||[]).find((function(e){return String(e.id)===String(a)}));if(v&&null!=v.descuento&&parseFloat(v.descuento)>0)return void r({msj:"No se puede editar la cantidad: el tem tiene descuento aprobado",estado:!1});n(!0);var b={index:a,cantidad:t};ke.A.setCantidad(b).then((function(e){QN(),n(!1),r(e),!1===e.data.estado&&(YO({dbFunction:ke.A.setCantidad,params:b}),qO(e.data.id_tarea))}))}},setCantidadCarritoFront:function(e,t){var n,a;if(we._frontOnly&&we.id)if(km[we.id])r({data:{msj:"Solicitud de descuento en espera. Verifique aprobacin o cancele la solicitud para editar cantidades.",estado:!1}});else{var o=(we.items||[]).find((function(t){return String(t.id)===String(e)}));if(o&&o.producto)if(Qm[we.id]&&null!=o.descuento&&parseFloat(o.descuento)>0)r({msj:"No se puede editar la cantidad: el tem tiene descuento aprobado por central",estado:!1});else{var i=parseFloat(t);if(isNaN(i)||i<0)r({msj:"Cantidad invlida",estado:!1});else{var s=null!=o.cantidad_disponible_al_agregar&&""!==o.cantidad_disponible_al_agregar,c=He.find((function(e){return e.id==o.producto.id})),l=s?parseFloat(o.cantidad_disponible_al_agregar)||0:null!=c&&parseFloat(c.cantidad)||0,u=Math.min(i,Math.max(0,l));u<i&&l>=0&&r({msj:"Solo hay "+l+" disponible(s). Se actualiz al mximo.",estado:!0});var d=parseFloat(o.precio)||parseFloat(null===(n=o.producto)||void 0===n?void 0:n.precio)||0,f=null!=o.descuento&&parseFloat(o.descuento)>0?parseFloat(o.descuento):0,h=f>0?u*d*(1-f/100):u*d,p=(we.items||[]).map((function(t){return String(t.id)===String(e)?iS(iS({},t),{},{cantidad:u,total:h,total_des:h}):t})),m=p.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),g=iS(iS({},we),{},{items:p,clean_subtotal:m,clean_total:m,bs:m*(parseFloat(null===(a=we.items)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.tasa)||parseFloat(Se)||0)});Mp((function(e){return iS(iS({},e),{},sS({},we.id,g))})),Ne(g),r({msj:"Cantidad actualizada",estado:!0})}}}},toggleAddPersona:Po,setToggleAddPersona:Do,getPersona:mw,personas:Mo,setPersonas:lE,ModaladdproductocarritoToggle:Co,toggleImprimirTicket:fw,del_pedido:function(){if(Qy&&Qy.length>0)r({data:{msj:"No se puede eliminar el pedido: tiene referencias bancarias cargadas. Elimnelas primero.",estado:!1}});else{if(we._frontOnly&&we.id){var e=we.id;return(e_[e]||[]).filter((function(e){return"aprobada"===e.estatus&&e.descripcion})).forEach((function(t){ke.A.delRefPago({descripcion_front:t.descripcion,uuid_pedido_front:e}).catch((function(){}))})),t_((function(t){var r=iS({},t);return delete r[e],r})),Zy([]),Mp((function(t){var r=iS({},t);return delete r[e],r})),Rm((function(t){var r=iS({},t);return delete r[e],r})),Zm((function(t){var r=iS({},t);return delete r[e],r})),rg((function(t){var r=iS({},t);return delete r[e],r})),Ne({}),ye(null),void r({msj:"Pedido eliminado",estado:!0})}if(confirm("Seguro de eliminar?"))if(we.id){var t=window.prompt("Cul es el Motivo de eliminacin?");if(t){var n={id:we.id,motivo:t};ke.A.delpedido(n).then((function(e){r(e),mS(),!1===e.data.estado&&(YO({dbFunction:ke.A.delpedido,params:n}),qO(e.data.id_tarea))}))}}else alert("No hay pedido seleccionado")}},facturar_pedido:oC,inputmodaladdpersonacarritoref:Qc,tbodypersoInterref:$c,countListPersoInter:Oc,entregarVuelto:function(){},setPersonaFast:HN,clienteInpidentificacion:bd,setclienteInpidentificacion:yd,clienteInpnombre:wd,setclienteInpnombre:Nd,clienteInptelefono:kd,setclienteInptelefono:Rd,clienteInpdireccion:Dd,setclienteInpdireccion:Id,viewReportPedido:function(){ke.A.openNotaentregapedido({id:we.id})},autoCorrector:Rh,setautoCorrector:Bh,getDebito:function(){var e,t,r=(null==we||null===(e=we.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa)||Se,n=(null==we||null===(t=we.items)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.tasa_cop)||Pe,a=parseFloat(Rn||0)+parseFloat(da||0)+parseFloat(sa||0)/r+parseFloat(ma||0)/n+parseFloat(Un||0)+parseFloat(Kn||0)+parseFloat(Jn||0),o=((0===a?parseFloat(we.clean_total):Math.max(0,we.clean_total-a))*r).toFixed(2);"debito"===na&&parseFloat(an||0).toFixed(2)===o?(on((parseFloat(we.clean_total)*r).toFixed(2)),Bn(""),ca(""),fa(""),ga(""),Wn(""),Gn(""),ea("")):on(o),aa("debito")},getCredito:function(){var e,t,r=(null==we||null===(e=we.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa)||Se,n=(null==we||null===(t=we.items)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.tasa_cop)||Pe,a=parseFloat(Rn||0)+parseFloat(da||0)+parseFloat(sa||0)/r+parseFloat(ma||0)/n+parseFloat(Un||0)+parseFloat(an||0)/r+parseFloat(Jn||0),o=0===a?parseFloat(we.clean_total).toFixed(2):Math.max(0,we.clean_total-a).toFixed(2);"credito"===na&&parseFloat(Kn||0).toFixed(2)===o?(Gn(parseFloat(we.clean_total).toFixed(2)),Bn(""),ca(""),fa(""),ga(""),Wn(""),on(""),ea("")):Gn(o),aa("credito")},getTransferencia:function(){var e,t,r=(null==we||null===(e=we.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa)||Se,n=(null==we||null===(t=we.items)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.tasa_cop)||Pe,a=parseFloat(Rn||0)+parseFloat(da||0)+parseFloat(sa||0)/r+parseFloat(ma||0)/n+parseFloat(an||0)/r+parseFloat(Kn||0)+parseFloat(Jn||0),o=0===a?parseFloat(we.clean_total).toFixed(2):Math.max(0,we.clean_total-a).toFixed(2);"transferencia"===na&&parseFloat(Un||0).toFixed(2)===o?(Wn(parseFloat(we.clean_total).toFixed(2)),Bn(""),ca(""),fa(""),ga(""),on(""),Gn(""),ea("")):Wn(o),aa("transferencia")},getEfectivo:function(){var e,t=(null==we||null===(e=we.items)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.tasa)||Se,r=parseFloat(an||0)/t+parseFloat(Un||0)+parseFloat(Kn||0)+parseFloat(Jn||0),n=0===r?parseFloat(we.clean_total).toFixed(2):Math.max(0,we.clean_total-r).toFixed(2);"efectivo"===na&&parseFloat(Rn||0).toFixed(2)===n?(Bn(parseFloat(we.clean_total).toFixed(2)),ca(""),fa(""),ga(""),on(""),Wn(""),Gn(""),ea("")):Bn(n),aa("efectivo")},onClickEditPedido:JN,setBiopago:ea,biopago:Jn,getBio:function(){},facturar_e_imprimir:CE,moneda:Ot,dolar:Se,peso:Pe,auth:IO,togglereferenciapago:Ka,tipo_referenciapago:ba,settipo_referenciapago:ya,descripcion_referenciapago:Na,setdescripcion_referenciapago:Ea,monto_referenciapago:Oa,setmonto_referenciapago:Aa,cedula_referenciapago:Ia,setcedula_referenciapago:Ta,telefono_referenciapago:Ra,settelefono_referenciapago:Ba,banco_referenciapago:Ua,setbanco_referenciapago:Wa,refaddfast:Kc,inputqinterno:f,setinputqinterno:h,productoSelectinternouno:iE,addCarritoRequestInterno:cE,cantidad:Re,devolucionTipo:Uw,setdevolucionTipo:Ww,setToggleAddPersonaFun:Yj,transferirpedidoa:ry,settransferirpedidoa:ny,sucursalesCentral:pb,setexportpedido:function(){var e=pb.filter((function(e){return e.id==ry}));if(e.length&&confirm("Realmente desea exportar los productos a "+e[0].nombre+"?")){if(we._frontOnly&&we.id){var t={uuid:we.id,items:we.items||[],id_cliente:we.id_cliente||1,id_sucursal_destino:ry};return void ke.A.transferirPedidoFrontSucursal(t).then((function(t){if(r(t),t.data.estado){var n=t.data.id;Mp((function(e){var t=iS({},e);return delete t[we.id],t})),Ne({}),ye(null),pw(),ge(null),r({data:{msj:"Pedido #".concat(n," creado en pendiente para sucursal ").concat(e[0].nombre,". Sin mtodo de pago."),estado:!0}})}}))}var n={transferirpedidoa:ry,id:we.id};ke.A.setexportpedido(n).then((function(e){r(e),e.data.estado&&(fe("pagar"),pw(),ge(null),ke.A.openTransferenciaPedido(we.id)),!1===e.data.estado&&(YO({dbFunction:ke.A.setexportpedido,params:n}),qO(e.data.id_tarea))}))}},getSucursales:ly,setView:fe,orderColumn:te,setOrderColumn:re,orderBy:oe,setOrderBy:ie,posTransaccionesPorPedido:An,showModalPosDebito:KE})]}):null,"panelcentrodeacopio"==de?(0,Pt.jsx)(zt,{guardarDeSucursalEnCentral:function(e,t){ke.A.guardarDeSucursalEnCentral({producto:Cb[e]}).then((function(n){var a=n.data;a.estado?(DO(a.id,e,t,"changeInput","id_vinculacion"),r(a.msj,!1)):(a.id&&DO(a.id,e,t,"changeInput","id_vinculacion"),r(a.msj,!1))}))},autovincularSucursalCentral:function(){var e=(0,Me.cloneDeep)(Cb);ke.A.getSyncProductosCentralSucursal({obj:e}).then((function(e){Sb(e.data)}))},datainventarioSucursalFromCentralcopy:ky,setdatainventarioSucursalFromCentralcopy:Ry,estadisticasinventarioSucursalFromCentral:Ab,uniqueproductofastshowbyid:zy,getUniqueProductoById:function(e,t){var r=e.currentTarget.getBoundingClientRect(),n=r.top+window.scrollY,a=r.left;my(n),fy(a),Hy(!0),Ky({}),ke.A.getUniqueProductoById({id:t}).then((function(e){Ky(e.data)}))},showdatafastproductobyid:qy,setshowdatafastproductobyid:Hy,puedoconsultarproductosinsucursalfromcentral:Uy,getProductos:pw,productos:He,idselectproductoinsucursalforvicular:yy,linkproductocentralsucursal:Fy,openVincularSucursalwithCentral:Ly,modalmovilRef:By,inputbuscarcentralforvincular:jy,modalmovilx:dy,modalmovily:py,modalmovilshow:xy,setmodalmovilshow:vy,getTareasCentral:$y,tareasCentral:Av,getSucursales:ly,sucursalesCentral:pb,setselectSucursalCentral:fb,selectSucursalCentral:db,getInventarioSucursalFromCentral:Wy,setInventarioSucursalFromCentral:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n(!0),ke.A.setInventarioSucursalFromCentral({codigo_destino:db,type:e||wb}).then((function(e){n(!1);var t=e.data;if(t.estado)switch(wb){case"inventarioSucursalFromCentral":if(Ey(iS(iS({},Ny),{},{inventarioSucursalFromCentral:t.msj.id})),t.msj.respuesta){var a=JSON.parse(t.msj.respuesta);Sb(a.respuesta?a.respuesta:a),Ry(a.respuesta?a.respuesta:a),Pb(a.estadisticas)}break;case"fallaspanelcentroacopio":Tb(e.data);break;case"estadisticaspanelcentroacopio":Rb(e.data);break;case"gastospanelcentroacopio":Fb(e.data);break;case"cierrespanelcentroacopio":Vb(e.data);break;case"diadeventapanelcentroacopio":Gb(e.data);break;case"tasaventapanelcentroacopio":$b(e.data)}else r(e.data.msj,!0)}))},subviewpanelcentroacopio:wb,setsubviewpanelcentroacopio:Nb,parametrosConsultaFromsucursalToCentral:yb,setparametrosConsultaFromsucursalToCentral:_b,onchangeparametrosConsultaFromsucursalToCentral:function(e){var t=e.target.getAttribute("name"),r=e.target.value;_b(iS(iS({},yb),{},sS({},t,r)))},fallaspanelcentroacopio:Ib,estadisticaspanelcentroacopio:kb,gastospanelcentroacopio:Lb,cierrespanelcentroacopio:Wb,diadeventapanelcentroacopio:Kb,tasaventapanelcentroacopio:Hb,setchangetasasucursal:function(e){var t=e.currentTarget.attributes["data-type"].value,a=window.prompt("Nueva tasa");a&&At(a)&&(n(!0),ke.A.setnewtasainsucursal({tipo:t,valor:a,id_sucursal:db}).then((function(e){r(e),Wy("tasaventapanelcentroacopio"),n(!1)})))},inventarioSucursalFromCentral:Cb,categorias:Ej,proveedoresList:Gr,changeInventarioFromSucursalCentral:DO,setCambiosInventarioSucursal:function(){var e=Cb.filter((function(e){return""==e.codigo_barras||""==e.descripcion||""==e.id_categoria||""==e.unidad||""==e.id_proveedor||""==e.cantidad||""==e.precio}));Cb.length&&!e.length?(n(!0),ke.A.setCambiosInventarioSucursal({productos:Cb,sucursal:ig}).then((function(e){r(e),n(!1);try{e.data.estado&&Wy(wb)}catch(e){}}))):alert("Error con los campos! Algunos pueden estar vacos "+JSON.stringify(e))},number:At}):null,"credito"==de?(0,Pt.jsx)(sr,{getDeudores:ZC,getDeudor:Xj,limitdeudores:qs,setlimitdeudores:Hs,moneda:Ot,orderbycolumdeudores:Ls,setorderbycolumdeudores:Fs,orderbyorderdeudores:Vs,setorderbyorderdeudores:zs,printCreditos:function(){ke.A.openPrintCreditos("qDeudores="+Ms+"&orderbycolumdeudores="+Ls+"&orderbyorderdeudores="+Vs)},onchangecaja:Zj,qDeudores:Ms,deudoresList:Xs,tipo_pago_deudor:cc,monto_pago_deudor:fc,selectDeudor:ac,setSelectDeudor:oc,setPagoCredito:QC,detallesDeudor:gc,onClickEditPedido:JN,onCLickDelPedido:eE,onlyVueltos:Ve,setOnlyVueltos:ze,qBuscarCliente:ad,setqBuscarCliente:od,clientesCrud:dd,setindexSelectCliente:gd,indexSelectCliente:md,setClienteCrud:HS,delCliente:YS,clienteInpidentificacion:bd,setclienteInpidentificacion:yd,clienteInpnombre:wd,setclienteInpnombre:Nd,clienteInpcorreo:Sd,setclienteInpcorreo:Od,clienteInpdireccion:Dd,setclienteInpdireccion:Id,clienteInptelefono:kd,setclienteInptelefono:Rd,clienteInpestado:Fd,setclienteInpestado:Ud,clienteInpciudad:zd,setclienteInpciudad:Kd,sumPedidos:XS,sumPedidosArr:Hd,setsumPedidosArr:$d}):null,"configuracion"==de?(0,Pt.jsx)(Tt,{subViewConfig:sy,setsubViewConfig:cy,categorias:Ej,addNewCategorias:function(e){e.preventDefault();var t=null;Dj&&Ej[Dj]&&(t=Ej[Dj].id),Oj&&(n(!0),ke.A.setCategorias({id:t,categoriasDescripcion:Oj}).then((function(e){r(e),n(!1),Tj()})))},categoriasDescripcion:Oj,setcategoriasDescripcion:Aj,indexSelectCategorias:Dj,setIndexSelectCategorias:Ij,qBuscarCategorias:jj,setQBuscarCategorias:wj,delCategorias:function(){n(!0);var e=null;Dj&&Ej[Dj]&&(e=Ej[Dj].id),ke.A.delCategoria({id:e}).then((function(e){n(!1),Tj(),r(e),Ij(null)}))},addNewUsuario:function(e){e.preventDefault();var t=null;mx&&(t=Wg[mx].id),Jg&&Gg&&Yg?(n(!0),ke.A.setUsuario({id:t,role:Jg,nombres:Gg,usuario:Yg,clave:nx,ip_pinpad:sx}).then((function(e){r(e),n(!1),bO()}))):console.log("Err: addNewUsuario"+Jg+" "+Gg+" "+Yg)},usuarioNombre:Gg,setusuarioNombre:qg,usuarioUsuario:Yg,setusuarioUsuario:Xg,usuarioRole:Jg,setusuarioRole:ex,usuarioClave:nx,setusuarioClave:ax,usuarioIpPinpad:sx,setusuarioIpPinpad:cx,indexSelectUsuarios:mx,setIndexSelectUsuarios:gx,qBuscarUsuario:dx,setQBuscarUsuario:fx,delUsuario:function(){n(!0);var e=null;mx&&(e=Wg[mx].id),ke.A.delUsuario({id:e}).then((function(e){n(!1),bO(),r(e)}))},usuariosData:Wg}):null,"garantias"==de?(0,Pt.jsx)(tC,{user:t,notificar:r,setLoading:n}):null,"inventario-ciclico"==de?(0,Pt.jsx)(XC,{user:t,notificar:r,setLoading:n}):null,"presupuestos"==de?(0,Pt.jsx)(JC,{user:t,productos:He,moneda:Ot,inputbusquedaProductosref:Xc,presupuestocarrito:N,getProductos:pw,showOptionQMain:K,setshowOptionQMain:G,num:U,setNum:W,itemCero:$,setpresupuestocarrito:E,toggleImprimirTicket:fw,delitempresupuestocarrito:function(e){E(N.filter((function(t,r){return r!=e})))},editCantidadPresupuestoCarrito:function(e,t){if(!t||t<=0)r("La cantidad debe ser mayor a 0");else{var n=N.map((function(r,n){if(n===e){var a=parseFloat(t),o=a*parseFloat(r.precio);return iS(iS({},r),{},{cantidad:a,subtotal:o.toFixed(2)})}return r}));E(n),r("Cantidad actualizada correctamente")}},sumsubtotalespresupuesto:function(){var e=0;return N.map((function(t){e+=parseFloat(t.subtotal)})),Ot(e)},auth:IO,addCarrito:function(e){var t;e.currentTarget?t=e.currentTarget.attributes["data-index"].value:t=e;ge(parseInt(t));var n=He[t];if(n){if(N.find((function(e){return e.id===n.id}))){var a=N.map((function(e){if(e.id===n.id){var t=parseInt(e.cantidad)+1,r=t*parseFloat(e.precio);return iS(iS({},e),{},{cantidad:t,subtotal:r.toFixed(2)})}return e}));E(a)}else{var o={id:n.id,codigo_barras:n.codigo_barras,descripcion:n.descripcion,cantidad:1,precio:parseFloat(n.precio).toFixed(2),subtotal:parseFloat(n.precio).toFixed(2)};E([].concat(nS(N),[o]))}r("".concat(n.descripcion," agregado al presupuesto"))}},clickSetOrderColumn:function(e){var t=e.currentTarget.attributes["data-valor"].value;t==te?ie("desc"==oe?"asc":"desc"):re(t)},orderColumn:te,orderBy:oe,counterListProductos:yc,setCounterListProductos:_c,tbodyproductosref:Gc,focusCtMain:$j,selectProductoFast:function(e){e.currentTarget.attributes["data-id"].value;var t=e.currentTarget.attributes["data-val"].value;et(t),Gl("ninguna"),fe("inventario"),Br("inventario")},setpresupuestocarritotopedido:function(){if(1===N.length)N.map((function(e){ZN("agregar",e.id,"nuevo",e.cantidad)}));else if(N.length>1){var e=(0,Me.cloneDeep)(N),n=e[0];ke.A.setCarrito({id:n.id,cantidad:n.cantidad,type:"agregar",numero_factura:"nuevo",loteIdCarrito:Sx}).then((function(n){delete e[0],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ke.A.getPedidosList({vendedor:t.id_usuario?t.id_usuario:1}).then((function(t){Ue("nuevo"),t.data.length&&Ue("ultimo"),e&&e("ultimo")}))}((function(t){e.map((function(e){ke.A.setCarrito({id:e.id,cantidad:e.cantidad,type:"agregar",numero_factura:t,loteIdCarrito:Sx}).then((function(e){r(e)}))}))}))}))}},setpresupuestoAPedidoFront:function(){if(N&&0!==N.length){var e=p(),t=(new Date).toISOString().slice(0,19).replace("T"," "),n=parseFloat(Se)||0,a=parseFloat(Pe)||0,o=N.map((function(e){var t,r,o,i,s=parseFloat(e.cantidad)||1,c=parseFloat(e.precio)||0,l=parseFloat(e.subtotal)||s*c;return{id:"item-front-"+Date.now()+"-"+Math.random().toString(36).slice(2,9),producto:{id:e.id,codigo_barras:null!==(t=e.codigo_barras)&&void 0!==t?t:"",codigo_proveedor:null!==(r=e.codigo_proveedor)&&void 0!==r?r:"",descripcion:e.descripcion||"",precio:c,precio1:null!==(o=e.precio1)&&void 0!==o?o:c},codigo_barras:null!==(i=e.codigo_barras)&&void 0!==i?i:"",cantidad:s,precio:c,tasa:n,tasa_cop:a,descuento:0,total:l,total_des:l,cantidad_disponible_al_agregar:0}})),i=o.reduce((function(e,t){return e+(parseFloat(t.total)||0)}),0),s={id:e,items:o,created_at:t,clean_total:i,clean_subtotal:i,bs:i*n,estado:0,cliente:null,referencias:[],pagos:[],_frontOnly:!0};Mp((function(t){return iS(iS({},t),{},sS({},e,s))})),Ne(s),ye(e),Zy(e_[e]||[]),E([]),fe("pagar"),r({data:{msj:"Presupuesto convertido a pedido (tipo front). Puede proceder al pago.",estado:!0}})}else r({data:{msj:"El presupuesto est vaco. Agregue productos para convertir a pedido.",estado:!1}})},openBarcodeScan:bE,number:At,dolar:Se}):null,Ka&&(0,Pt.jsx)(mN,{cedula_referenciapago:Ia,setcedula_referenciapago:Ta,telefono_referenciapago:Ra,settelefono_referenciapago:Ba,bancos:ay,addRefPago:f_,onAutovalidarReferenciaSuccess:function(e){var t,n,a,o,i,s,c,l,u,d,f,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=we&&we.id){var p=((null==e?void 0:e.referencia_completa)||(null==h?void 0:h.descripcion)||"").toString().trim();if(p)if(we._frontOnly){var m=we.id;t_((function(t){var n,a,o,i,s,c,l,u,d,f,g,x,v=t[m]||[];if(v.some((function(e){return(e.descripcion||"").toString().trim()===p})))return r({data:{msj:"Esta referencia ya est cargada en el pedido.",estado:!0}}),t;var b=null!==(n=null!==(a=h.monto)&&void 0!==a?a:null==e?void 0:e.monto)&&void 0!==n?n:Oa,y={_localId:"autovalidar_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2)),tipo:1,descripcion:p,monto:null!=b?String(b):"",banco:null!==(o=null!==(i=null==e?void 0:e.banco)&&void 0!==i?i:h.banco)&&void 0!==o?o:"0134",cedula:null!==(s=null!==(c=h.cedula)&&void 0!==c?c:null==e?void 0:e.cedula)&&void 0!==s?s:"",telefono:null!==(l=null!==(u=h.telefono)&&void 0!==u?u:null==e?void 0:e.telefono)&&void 0!==l?l:"",categoria:"autovalidar",estatus:"aprobada",fecha_pago:null!==(d=null!==(f=h.fecha_pago)&&void 0!==f?f:null==e?void 0:e.fecha_pago)&&void 0!==d?d:null,banco_origen:null!==(g=null!==(x=h.banco_origen)&&void 0!==x?x:null==e?void 0:e.banco_origen)&&void 0!==g?g:null,response:null!=e&&e.response_central?JSON.stringify(e.response_central):null};return r({data:{msj:"Referencia de transferencia guardada en el pedido. Se registrar al procesar el pago.",estado:!0}}),Zy((function(e){return e.some((function(e){return(e.descripcion||"").toString().trim()===p}))?e:[].concat(nS(e),[y])})),iS(iS({},t),{},sS({},m,[].concat(nS(v),[y])))}))}else{var g=null!==(t=null!==(n=h.monto)&&void 0!==n?n:null==e?void 0:e.monto)&&void 0!==t?t:Oa;ke.A.addRefPago({id_pedido:we.id,tipo:null!=ba?ba:1,monto:null!=g?String(g):Oa,descripcion:p,banco:null!==(a=null!==(o=null==e?void 0:e.banco)&&void 0!==o?o:h.banco)&&void 0!==a?a:"0134",cedula:null!==(i=null!==(s=h.cedula)&&void 0!==s?s:Ia)&&void 0!==i?i:"",telefono:null!==(c=null!==(l=h.telefono)&&void 0!==l?l:Ra)&&void 0!==c?c:"",categoria:"autovalidar",fecha_pago:null!==(u=h.fecha_pago)&&void 0!==u?u:null,codigo_banco_origen:null!==(d=h.banco_origen)&&void 0!==d?d:null,response_central:null!==(f=null==e?void 0:e.response_central)&&void 0!==f?f:e}).then((function(e){var t;QN(null,null,!1),r(null!==(t=null==e?void 0:e.data)&&void 0!==t?t:e)})).catch((function(e){var t;r({data:{msj:(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.msj)||"Error al guardar la referencia en el pedido.",estado:!1}})}))}}},descripcion_referenciapago:Na,setdescripcion_referenciapago:Ea,banco_referenciapago:Ua,setbanco_referenciapago:Wa,monto_referenciapago:Oa,setmonto_referenciapago:Aa,tipo_referenciapago:ba,settipo_referenciapago:ya,transferencia:Un,dolar:Se,number:At,montoTraido:Oa,tipoTraido:ba,pedidoData:we,referencias:Qy}),Object.entries(wn).map((function(e){var t=cS(e,2),n=t[0],o=t[1];return(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onKeyDownCapture:function(e){if("Enter"===e.key&&!o.loading){var t=parseFloat(o.montoDebito)||0,r=(o.transaccionesAprobadas||[]).reduce((function(e,t){return e+t.monto}),0),a=parseFloat(o.montoTotalOriginal||0);o.cedulaTitular&&t>0&&r<a&&(e.preventDefault(),e.stopPropagation(),XE(n,o))}},onKeyDown:function(e){e.stopPropagation(),"Escape"!==e.key||o.loading||(e.preventDefault(),Nn((function(e){var t=iS({},e);return delete t[n],t})),AE.current[n]&&(clearTimeout(AE.current[n]),AE.current[n]=null),PE.current[n]=!1),(e.ctrlKey||e.altKey||e.key.startsWith("F"))&&e.preventDefault()},onKeyUp:function(e){return e.stopPropagation()},onKeyPress:function(e){return e.stopPropagation()},tabIndex:-1,children:(0,Pt.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Pt.jsxs)("div",{className:"bg-blue-600 text-white px-6 py-4 rounded-t-lg flex-shrink-0",children:[(0,Pt.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,Pt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Punto de Venta - Dbito"]}),(0,Pt.jsxs)("p",{className:"text-sm text-blue-100 mt-1",children:["Pedido #",o.pedidoId," - Total: Bs ",parseFloat(o.montoTotalOriginal||0).toFixed(2)]})]}),(0,Pt.jsxs)("div",{className:"p-6 space-y-4 overflow-y-auto flex-1",children:[(0,Pt.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[(0,Pt.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Pt.jsx)("span",{className:"text-blue-700",children:"Total a pagar:"}),(0,Pt.jsxs)("span",{className:"font-semibold text-blue-900",children:["Bs ",parseFloat(o.montoTotalOriginal||0).toFixed(2)]})]}),(0,Pt.jsx)("div",{className:"mt-2 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,Pt.jsx)("div",{className:"h-full bg-green-500 transition-all duration-300",style:{width:"".concat(Math.min(100,(o.transaccionesAprobadas||[]).reduce((function(e,t){return e+t.monto}),0)/(parseFloat(o.montoTotalOriginal)||1)*100),"%")}})})]}),(o.transaccionesAprobadas||[]).length>0&&(0,Pt.jsxs)("div",{className:"border border-green-200 rounded-lg overflow-hidden",children:[(0,Pt.jsx)("div",{className:"bg-green-50 px-3 py-2 border-b border-green-200",children:(0,Pt.jsxs)("span",{className:"text-sm font-medium text-green-800",children:["Transacciones Aprobadas (",(o.transaccionesAprobadas||[]).length,")"]})}),(0,Pt.jsx)("div",{className:"divide-y divide-green-100 max-h-32 overflow-y-auto",children:(o.transaccionesAprobadas||[]).map((function(e,t){return(0,Pt.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 bg-white hover:bg-green-50",children:[(0,Pt.jsxs)("div",{className:"flex-1",children:[(0,Pt.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["Bs ",e.monto.toFixed(2)]}),(0,Pt.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["CI: ",e.cedula]}),(0,Pt.jsxs)("span",{className:"text-xs text-green-600 ml-2",children:["Ref: ",e.refCorta]})]}),(0,Pt.jsx)("button",{type:"button",onClick:function(){return function(e,t,r){if(t&&!t.loading){var n=(t.transaccionesAprobadas||[]).filter((function(e,t){return t!==r}));JE(t.pedidoId,n);var a=n.reduce((function(e,t){return e+t.monto}),0),o=(parseFloat(t.montoTotalOriginal)||0)-a;YE(e,{transaccionesAprobadas:n,montoDebito:o>0?o.toFixed(2):"0",respuesta:null})}}(n,o,t)},disabled:o.loading,className:"p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded disabled:opacity-50",title:"Eliminar transaccin",children:(0,Pt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t)}))})]}),parseFloat(o.montoTotalOriginal||0)>0&&(o.transaccionesAprobadas||[]).reduce((function(e,t){return e+t.monto}),0)<parseFloat(o.montoTotalOriginal||0)&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"border-t pt-4",children:(0,Pt.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:(o.transaccionesAprobadas||[]).length>0?"Agregar otra tarjeta:":"Datos de la tarjeta:"})}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdula del Titular"}),(0,Pt.jsx)("input",{id:"pos-cedula-input-".concat(n),type:"text",value:o.cedulaTitular||"",onChange:function(e){return YE(n,{cedulaTitular:e.target.value.replace(/\D/g,"")})},onKeyDown:function(e){if("Enter"===e.key){e.preventDefault(),e.stopPropagation();var t=parseFloat(o.montoDebito)||0;o.cedulaTitular&&!o.loading&&t>0&&XE(n,o)}},placeholder:"Ej: 12345678",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:o.loading})]}),(0,Pt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Cuenta"}),(0,Pt.jsxs)("select",{value:o.tipoCuenta||"CORRIENTE",onChange:function(e){return YE(n,{tipoCuenta:e.target.value})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:o.loading,children:[(0,Pt.jsx)("option",{value:"CORRIENTE",children:"CORRIENTE"}),(0,Pt.jsx)("option",{value:"AHORROS",children:"AHORROS"}),(0,Pt.jsx)("option",{value:"CREDITO",children:"CREDITO"})]})]}),(0,Pt.jsxs)("div",{children:[(0,Pt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto (Bs)"}),(0,Pt.jsx)("input",{type:"text",value:o.montoDebito||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 font-semibold text-lg"})]})]})]}),(o.transaccionesAprobadas||[]).length>0&&(o.transaccionesAprobadas||[]).reduce((function(e,t){return e+t.monto}),0)>=parseFloat(o.montoTotalOriginal||0)&&(0,Pt.jsxs)("div",{className:"bg-green-100 border border-green-300 rounded-lg p-4 text-center",children:[(0,Pt.jsx)("svg",{className:"w-12 h-12 text-green-600 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Pt.jsx)("p",{className:"text-green-800 font-semibold",children:"Total cubierto"}),(0,Pt.jsx)("p",{className:"text-green-600 text-sm",children:"El pago se procesar automticamente"})]}),o.respuesta&&(0,Pt.jsxs)("div",{className:"p-4 rounded-lg text-center font-semibold ".concat(o.respuesta.exito?"bg-green-100 text-green-800 border border-green-300":"bg-red-100 text-red-800 border border-red-300"),children:[(0,Pt.jsx)("p",{className:"text-lg",children:o.respuesta.mensaje}),!o.respuesta.exito&&(0,Pt.jsx)("p",{className:"text-sm mt-2 font-normal",children:"Puede reintentar o usar referencia manual"})]})]}),(0,Pt.jsxs)("div",{className:"flex gap-3 px-6 py-4 bg-gray-50 rounded-b-lg flex-shrink-0",children:[(0,Pt.jsx)("button",{type:"button",onClick:function(){Nn((function(e){var t=iS({},e);return delete t[n],t})),AE.current[n]&&(clearTimeout(AE.current[n]),AE.current[n]=null),PE.current[n]=!1},disabled:o.loading,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Cancelar"}),(0,Pt.jsx)("button",{type:"button",onClick:function(){Nn((function(e){var t=iS({},e);return delete t[n],t})),Sn(!0),AE.current[n]&&(clearTimeout(AE.current[n]),AE.current[n]=null),PE.current[n]=!1,setTimeout((function(){var e=document.querySelector('[data-ref-input="true"]');e&&e.focus()}),100)},disabled:o.loading,className:"px-4 py-2 border border-orange-400 rounded-lg text-orange-600 hover:bg-orange-50 transition-colors disabled:opacity-50",children:"Ref. Manual"}),(o.transaccionesAprobadas||[]).reduce((function(e,t){return e+t.monto}),0)<parseFloat(o.montoTotalOriginal||0)&&(0,Pt.jsx)("button",{type:"button",onClick:function(){return XE(n,o)},disabled:o.loading||!o.cedulaTitular,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:o.loading?(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsxs)("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[(0,Pt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,Pt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),(o.transaccionesAprobadas||[]).length>0?"Agregar Tarjeta":"Enviar al POS"]})}),(o.transaccionesAprobadas||[]).length>0&&(o.transaccionesAprobadas||[]).reduce((function(e,t){return e+t.monto}),0)<parseFloat(o.montoTotalOriginal||0)&&(0,Pt.jsxs)("button",{type:"button",onClick:function(){return function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&t.transaccionesAprobadas&&0!==t.transaccionesAprobadas.length){var i=t.transaccionesAprobadas[t.transaccionesAprobadas.length-1].refCorta,s=t.transaccionesAprobadas.reduce((function(e,t){return e+t.monto}),0),c=parseFloat(t.montoTotalOriginal)||0,l=t.transaccionesAprobadas.length,u=s>=c,d=t.pedidoId===(null===(n=TE.current)||void 0===n?void 0:n.id);if(eC(t.pedidoId),Nn((function(t){var r=iS({},t);return delete r[e],r})),d&&(ln(i),on(s.toFixed(2))),u&&!o)if(r({data:{msj:" POS Completado - ".concat(l," transaccin(es) - Total: Bs ").concat(s.toFixed(2)),estado:!0}}),d){var f,h,p=parseFloat((null===(f=TE.current)||void 0===f?void 0:f.bs_clean)||(null===(h=TE.current)||void 0===h?void 0:h.bs)||0);Math.abs(s-p)<.01?((0,a.flushSync)((function(){ln(i),on(s.toFixed(2))})),CE&&CE()):(PE.current[e]=!1,$E(t.pendingCallback||null,i))}else r({data:{msj:"Pago aplicado al pedido #".concat(t.pedidoId,". Cambie al pedido para facturar."),estado:!0}});else{var m=c-s;r({data:{msj:"POS Parcial - Bs ".concat(s.toFixed(2)," aplicado. Faltan Bs ").concat(m.toFixed(2)," por otros mtodos."),estado:!0}})}}else alert("No hay transacciones aprobadas")}(n,o,!0)},disabled:o.loading,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",title:"Aplicar monto parcial al dbito. Deber completar con otros mtodos de pago.",children:[(0,Pt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Pt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Aplicar Parcial (Bs ",(o.transaccionesAprobadas||[]).reduce((function(e,t){return e+t.monto}),0).toFixed(2),")"]})]})]})},n)}))]})]})}function fS(e){return fS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fS(e)}function hS(e){return function(e){if(Array.isArray(e))return pS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return pS(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pS(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_S(n.key),n)}}function gS(e,t,r){return t=vS(t),function(e,t){if(t&&("object"==fS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xS()?Reflect.construct(t,r||[],vS(e).constructor):t.apply(e,r))}function xS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xS=function(){return!!e})()}function vS(e){return vS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vS(e)}function bS(e,t){return bS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bS(e,t)}function yS(e,t,r){return(t=_S(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _S(e){var t=function(e,t){if("object"!=fS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fS(t)?t:t+""}var jS=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yS(e=gS(this,t),"forceUpdateDollar",(function(){e.setState({updatingDollar:!0,updateMessage:" Conectando con el BCV para obtener el valor oficial...",allowManualDollar:!1}),axios.post("/forceUpdateDollar").then((function(t){t.data.estado?(e.setState({updateMessage:" ".concat(t.data.msj,"\n\n Valor: $").concat(t.data.valor,"\n Fecha: ").concat(t.data.fecha_actualizacion,"\n Origen: BCV (Automtico)"),updatingDollar:!1,allowManualDollar:!1}),setTimeout((function(){e.setState({showDollarUpdate:!1,dollarStatus:null,updateMessage:""})}),5e3)):e.setState({updateMessage:" ".concat(t.data.msj,"\n\n Intente la actualizacin manual como alternativa."),updatingDollar:!1,allowManualDollar:!0})})).catch((function(t){var r=" Error al conectar con el BCV.\n\n";t.response&&404===t.response.status?r+=" La API del BCV no est disponible en este momento.\n":t.response&&t.response.status>=500?r+=" Problema de conectividad con el servidor del BCV.\n":r+=" Error de conexin con el BCV.\n",r+="\n Use la actualizacin manual como alternativa.",e.setState({updateMessage:r,updatingDollar:!1,allowManualDollar:!0})}))})),yS(e,"manualUpdateDollar",(function(){var t=window.prompt(" Ingrese el nuevo valor del dlar en Bolvares (Bs):\n\nEjemplo: 109.50");t&&!isNaN(t)&&parseFloat(t)>0?(e.setState({updatingDollar:!0,updateMessage:"Actualizando valor del dlar manualmente..."}),axios.post("/setMoneda",{tipo:1,valor:parseFloat(t),from_login:!0}).then((function(r){r.data.estado?(e.setState({updateMessage:" ".concat(r.data.msj,"\n\n Valor: $").concat(t," Bs\n Fecha: ").concat((new Date).toLocaleDateString(),"\n Origen: Manual (Usuario)"),updatingDollar:!1}),setTimeout((function(){e.setState({showDollarUpdate:!1,dollarStatus:null,updateMessage:""})}),5e3)):e.setState({updateMessage:" ".concat(r.data.msj),updatingDollar:!1})})).catch((function(t){e.setState({updateMessage:" Error al actualizar el dlar manualmente",updatingDollar:!1}),console.error("Error updating dollar manually:",t)}))):null!==t&&e.setState({updateMessage:" Por favor ingrese un valor vlido mayor a 0.\n\n Ejemplo: 109.50"})})),e.state={clave:"",usuario:"",activeLoading:!1,quotes:[],currentQuoteIndex:0,isLoadingQuotes:!1,dollarStatus:null,showDollarUpdate:!1,updatingDollar:!1,updateMessage:"",allowManualDollar:!1},e.passwordTimeout=null,e.loc=window.location.origin,e.getApiData=e.getApiData.bind(e),e.changeUniqueState=e.changeUniqueState.bind(e),e.submit=e.submit.bind(e),e.rotateQuote=e.rotateQuote.bind(e),e.motivationalQuotes=[{content:"El xito es la suma de pequeos esfuerzos repetidos da tras da.",author:"Robert Collier"},{content:"El xito no es final, el fracaso no es fatal: lo que cuenta es el coraje para continuar.",author:"Winston Churchill"},{content:"El xito es ir de fracaso en fracaso sin perder el entusiasmo.",author:"Winston Churchill"},{content:"La mejor venganza es un xito masivo.",author:"Frank Sinatra"},{content:"El xito no es la clave de la felicidad. La felicidad es la clave del xito.",author:"Albert Schweitzer"},{content:"El xito es la realizacin progresiva de un ideal digno.",author:"Earl Nightingale"},{content:"El xito es la suma de pequeos esfuerzos repetidos da tras da.",author:"Robert Collier"},{content:"El xito no es para los que piensan que pueden hacer algo, sino para los que lo hacen.",author:"Annimo"},{content:"El xito es la capacidad de ir de un fracaso a otro sin perder el entusiasmo.",author:"Winston Churchill"},{content:"El xito no es la ausencia de fracasos, es la persistencia a travs de los fracasos.",author:"Aisha Tyler"},{content:"Cada da es una nueva oportunidad para ser mejor.",author:"Annimo"},{content:"La excelencia no es un acto, es un hbito.",author:"Aristteles"},{content:"El nico lmite es el que te pones a ti mismo.",author:"Annimo"},{content:"La persistencia es el camino del xito.",author:"Annimo"},{content:"La disciplina es el puente entre las metas y los logros.",author:"Jim Rohn"},{content:"El optimismo es la fe que lleva al logro.",author:"Helen Keller"},{content:"La creatividad es la inteligencia divirtindose.",author:"Albert Einstein"},{content:"La confianza en s mismo es el primer secreto del xito.",author:"Ralph Waldo Emerson"},{content:"El conocimiento es la inversin que paga los mejores intereses.",author:"Benjamin Franklin"},{content:"La innovacin distingue entre un lder y un seguidor.",author:"Steve Jobs"},{content:"La mejor manera de predecir el futuro es crearlo.",author:"Peter Drucker"},{content:"El cambio es la nica constante en la vida.",author:"Herclito"},{content:"La determinacin de hoy es el xito de maana.",author:"Robert H. Schuller"},{content:"El aprendizaje es un tesoro que seguir a su dueo a todas partes.",author:"Proverbio chino"},{content:"La visin sin accin es solo un sueo. La accin sin visin es solo pasar el tiempo.",author:"Joel A. Barker"},{content:"El entusiasmo es la madre del esfuerzo, y sin l nunca se logr nada grande.",author:"Ralph Waldo Emerson"},{content:"La paciencia es amarga, pero su fruto es dulce.",author:"Jean-Jacques Rousseau"},{content:"El trabajo duro vence al talento cuando el talento no trabaja duro.",author:"Tim Notke"},{content:"La calidad perdura mucho despus de olvidado el precio.",author:"Aldo Gucci"},{content:"El coraje no es tener la fuerza para seguir adelante, es seguir adelante cuando no tienes fuerza.",author:"Napolen Bonaparte"},{content:"El trabajo duro supera al talento cuando el talento no trabaja duro.",author:"Tim Notke"},{content:"La genialidad es 1% inspiracin y 99% transpiracin.",author:"Thomas Edison"},{content:"El xito es el resultado de la perfeccin, el trabajo duro, el aprendizaje de los errores, la lealtad y la persistencia.",author:"Colin Powell"},{content:"No hay atajos para el xito. Es trabajo duro, perseverancia, aprendizaje, estudio, sacrificio y, sobre todo, amor por lo que ests haciendo.",author:"Pel"},{content:"El trabajo duro no garantiza el xito, pero mejora sus probabilidades.",author:"B.J. Gupta"},{content:"El trabajo duro es el precio que pagamos por el xito.",author:"Annimo"},{content:"La diferencia entre lo ordinario y lo extraordinario es ese pequeo extra.",author:"Jimmy Johnson"},{content:"El trabajo duro es el combustible del xito.",author:"Annimo"},{content:"La excelencia no es un acto, es un hbito. El trabajo duro es la clave.",author:"Aristteles"},{content:"El trabajo duro es el puente entre tus sueos y la realidad.",author:"Annimo"},{content:"Las oportunidades no ocurren, las creas.",author:"Chris Grosser"},{content:"La oportunidad no toca la puerta, la creas.",author:"Annimo"},{content:"Cada da es una nueva oportunidad para ser mejor.",author:"Annimo"},{content:"Las oportunidades son como los amaneceres. Si esperas demasiado, te las pierdes.",author:"William Arthur Ward"},{content:"La oportunidad es como el amanecer: si esperas demasiado, la pierdes.",author:"William Arthur Ward"},{content:"Las oportunidades no son perdidas, son tomadas por otros.",author:"Annimo"},{content:"La oportunidad es el momento perfecto para comenzar.",author:"Annimo"},{content:"Las oportunidades son como los autobuses, siempre viene otro.",author:"Annimo"},{content:"La oportunidad es el momento de actuar.",author:"Annimo"},{content:"Las oportunidades son como las estrellas, siempre estn ah, solo necesitas mirar hacia arriba.",author:"Annimo"},{content:"La perseverancia es el trabajo duro que haces despus de que te cansas del trabajo duro que ya hiciste.",author:"Newt Gingrich"},{content:"La perseverancia es el secreto de todos los triunfos.",author:"Victor Hugo"},{content:"La perseverancia es el camino del xito.",author:"Annimo"},{content:"La perseverancia es la madre del xito.",author:"Annimo"},{content:"La perseverancia es la clave del xito.",author:"Annimo"},{content:"La perseverancia es el puente entre el fracaso y el xito.",author:"Annimo"},{content:"La perseverancia es la diferencia entre el xito y el fracaso.",author:"Annimo"},{content:"La perseverancia es el camino hacia la grandeza.",author:"Annimo"},{content:"La perseverancia es la llave que abre todas las puertas.",author:"Annimo"},{content:"La perseverancia es el motor del xito.",author:"Annimo"},{content:"La actitud es una pequea cosa que marca una gran diferencia.",author:"Winston Churchill"},{content:"Tu actitud determina tu altitud.",author:"Zig Ziglar"},{content:"La actitud es ms importante que la aptitud.",author:"Annimo"},{content:"La actitud es el pincel de la mente. Puede colorear cualquier situacin.",author:"Annimo"},{content:"La actitud es el 90% del xito.",author:"Annimo"},{content:"La actitud es la diferencia entre una aventura y un problema.",author:"Annimo"},{content:"La actitud es el espejo del alma.",author:"Annimo"},{content:"La actitud es la clave del xito.",author:"Annimo"},{content:"La actitud es el motor del xito.",author:"Annimo"},{content:"La actitud es el puente entre el fracaso y el xito.",author:"Annimo"},{content:"El liderazgo es la capacidad de transformar la visin en realidad.",author:"Warren Bennis"},{content:"El liderazgo es influencia.",author:"John C. Maxwell"},{content:"El liderazgo es accin, no posicin.",author:"Donald H. McGannon"},{content:"El liderazgo es la capacidad de hacer que otros quieran hacer lo que t quieres que hagan.",author:"Annimo"},{content:"El liderazgo es la capacidad de inspirar a otros a seguirte.",author:"Annimo"},{content:"El liderazgo es la capacidad de tomar decisiones difciles.",author:"Annimo"},{content:"El liderazgo es la capacidad de ver el futuro.",author:"Annimo"},{content:"El liderazgo es la capacidad de motivar a otros.",author:"Annimo"},{content:"El liderazgo es la capacidad de servir a otros.",author:"Annimo"},{content:"El liderazgo es la capacidad de hacer que otros sean mejores.",author:"Annimo"},{content:"La innovacin distingue entre un lder y un seguidor.",author:"Steve Jobs"},{content:"La innovacin es el motor del progreso.",author:"Annimo"},{content:"La innovacin es la clave del xito.",author:"Annimo"},{content:"La innovacin es el puente entre el presente y el futuro.",author:"Annimo"},{content:"La innovacin es la capacidad de ver lo que otros no ven.",author:"Annimo"},{content:"La innovacin es la capacidad de hacer lo que otros no hacen.",author:"Annimo"},{content:"La innovacin es la capacidad de pensar diferente.",author:"Annimo"},{content:"La innovacin es la capacidad de crear valor.",author:"Annimo"},{content:"La innovacin es la capacidad de resolver problemas.",author:"Annimo"},{content:"La innovacin es la capacidad de mejorar.",author:"Annimo"},{content:"La excelencia no es un acto, es un hbito.",author:"Aristteles"},{content:"La excelencia es el resultado de la atencin a los detalles.",author:"Annimo"},{content:"La excelencia es el resultado de la prctica constante.",author:"Annimo"},{content:"La excelencia es el resultado del trabajo duro.",author:"Annimo"},{content:"La excelencia es el resultado de la dedicacin.",author:"Annimo"},{content:"La excelencia es el resultado de la pasin.",author:"Annimo"},{content:"La excelencia es el resultado de la perseverancia.",author:"Annimo"},{content:"La excelencia es el resultado de la disciplina.",author:"Annimo"},{content:"La excelencia es el resultado de la consistencia.",author:"Annimo"},{content:"La excelencia es el resultado de la mejora continua.",author:"Annimo"}],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bS(e,t)}(t,e),r=t,n=[{key:"componentDidMount",value:function(){var e=this,t=hS(this.motivationalQuotes).sort((function(){return Math.random()-.5}));this.setState({quotes:t,isLoadingQuotes:!1}),this.quoteInterval=setInterval((function(){e.rotateQuote()}),15e3)}},{key:"rotateQuote",value:function(){this.setState((function(e){return{currentQuoteIndex:(e.currentQuoteIndex+1)%e.quotes.length}}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.quoteInterval),this.passwordTimeout&&clearTimeout(this.passwordTimeout)}},{key:"getApiData",value:function(e,t,r){var n=this;axios.get(t,{params:{q:e?e.target.value:""}}).then((function(e){n.setState(yS({},r,e.data))})).catch((function(e){console.log(e)}))}},{key:"changeUniqueState",value:function(e){var t=this;return new Promise((function(r){return t.setState(e,r)}))}},{key:"submit",value:function(e){var t=this;e.preventDefault(),this.setState({activeLoading:!0,dollarStatus:null,showDollarUpdate:!1,updateMessage:"",allowManualDollar:!1}),axios.post("/login",{clave:this.state.clave,usuario:this.state.usuario}).then((function(e){t.setState({activeLoading:!1}),e.data.estado?t.props.loginRes(e):e.data.requires_update?t.setState({dollarStatus:e.data.dollar_status,showDollarUpdate:!0}):alert(e.data.msj)})).catch((function(e){t.setState({activeLoading:!1}),alert("Error de conexin. Intente nuevamente.")}))}},{key:"render",value:function(){var e=this,t=this.state.quotes[this.state.currentQuoteIndex]||{content:"",author:""};return(0,Pt.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4 relative overflow-hidden",children:[(0,Pt.jsx)("div",{className:"absolute inset-0 overflow-hidden"}),(0,Pt.jsxs)("div",{className:"w-full max-w-md backdrop-blur-sm rounded-2xl overflow-hidden relative z-10",children:[(0,Pt.jsx)("div",{className:"p-8 text-center",children:(0,Pt.jsx)("div",{className:"relative flex items-center justify-center mx-auto mb-6",children:(0,Pt.jsx)("img",{src:"/images/logo-titanio.png?d04fd411f15522876aa87e5adec3cb86",alt:"logo ao",className:"relative h-28 w-auto z-10 object-contain"})})}),(0,Pt.jsxs)("form",{onSubmit:this.submit,className:"px-8 pb-8",children:[(0,Pt.jsx)("div",{className:"mb-8",children:(0,Pt.jsxs)("div",{className:"relative group",children:[(0,Pt.jsx)("div",{className:"absolute left-0 top-4 text-white/50 group-focus-within:text-sinapsis transition-colors duration-300",children:(0,Pt.jsx)("i",{className:"fas fa-user"})}),(0,Pt.jsx)("input",{className:"w-full py-4 pl-10 pr-4 bg-transparent text-white placeholder-transparent peer border-0 border-b-2 border-white/20 focus:border-sinapsis transition-all duration-300 focus:outline-none focus:ring-0",type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",value:this.state.usuario,name:"usuario",onChange:function(t){return e.changeUniqueState({usuario:t.target.value})},placeholder:"Usuario",required:!0}),(0,Pt.jsx)("label",{className:"absolute left-10 -top-2.5 text-white/70 text-sm transition-all duration-300 peer-placeholder-shown:text-base peer-placeholder-shown:text-white/50 peer-placeholder-shown:top-4 peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-sinapsis",children:"Usuario"})]})}),(0,Pt.jsx)("div",{className:"mb-10",children:(0,Pt.jsxs)("div",{className:"relative group",children:[(0,Pt.jsx)("div",{className:"absolute left-0 top-4 text-white/50 group-focus-within:text-sinapsis transition-colors duration-300",children:(0,Pt.jsx)("i",{className:"fas fa-lock"})}),(0,Pt.jsx)("input",{className:"w-full py-4 pl-10 pr-4 bg-transparent text-white placeholder-transparent peer border-0 border-b-2 border-white/20 focus:border-sinapsis transition-all duration-300 focus:outline-none focus:ring-0",type:"password",autoComplete:"new-password",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",value:this.state.clave,name:"clave",onChange:function(t){e.changeUniqueState({clave:t.target.value})},onCopy:function(e){return e.preventDefault(),!1},onCut:function(e){return e.preventDefault(),!1},onContextMenu:function(e){return e.preventDefault(),!1},onDrag:function(e){return e.preventDefault(),!1},onDrop:function(e){return e.preventDefault(),!1},"data-lpignore":"true","data-form-type":"other","data-1p-ignore":"true","data-bwignore":"true","data-kwignore":"true",placeholder:"Contrasea",required:!0}),(0,Pt.jsx)("label",{className:"absolute left-10 -top-2.5 text-white/70 text-sm transition-all duration-300 peer-placeholder-shown:text-base peer-placeholder-shown:text-white/50 peer-placeholder-shown:top-4 peer-focus:-top-2.5 peer-focus:text-sm peer-focus:text-sinapsis",children:"Contrasea"})]})}),(0,Pt.jsxs)("button",{className:"w-full py-4 px-4 text-white font-medium rounded-lg hover:bg-sinapsis transform hover:-translate-y-0.5 transition-all duration-300 flex items-center justify-center gap-2 shadow-lg shadow-sinapsis/20",type:"submit",children:[this.state.activeLoading?(0,Pt.jsx)("span",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):(0,Pt.jsx)("i",{className:"fas fa-sign-in-alt"}),"Iniciar Sesin"]})]}),(0,Pt.jsxs)("div",{className:"px-8 py-6 border-t border-white/10 text-center",children:[(0,Pt.jsx)("p",{className:"text-white/80 font-medium",children:"OSPINO SYSTEMS, C.A"}),(0,Pt.jsx)("p",{className:"text-white/50 text-sm mt-1",children:"v2.0.0"})]})]}),(0,Pt.jsx)("div",{className:"fixed bottom-10 right-10 max-w-md bg-gray-900/40 backdrop-blur-sm rounded-lg p-6 shadow-xl transition-all duration-700 z-10 hidden md:block",children:this.state.isLoadingQuotes?(0,Pt.jsxs)("div",{className:"flex items-center justify-center text-white/70",children:[(0,Pt.jsx)("span",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full mr-2"}),"Cargando frases motivacionales..."]}):(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("p",{className:"text-white/90 italic text-lg leading-relaxed mb-2 transition-opacity duration-700",children:t.content}),(0,Pt.jsxs)("p",{className:"text-white/60 text-sm transition-opacity duration-700",children:["- ",t.author]})]})}),this.state.showDollarUpdate&&(0,Pt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:(0,Pt.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-sm w-full max-h-[95vh] overflow-y-auto p-4 sm:p-5",children:(0,Pt.jsxs)("div",{className:"text-center",children:[(0,Pt.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Pt.jsx)("i",{className:"fas fa-exclamation-triangle text-yellow-600 text-lg"})}),(0,Pt.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Actualizar Dlar"}),(0,Pt.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"El valor del dlar debe actualizarse antes de continuar."}),this.state.dollarStatus&&(0,Pt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-2 mb-3 text-left",children:[(0,Pt.jsx)("h4",{className:"text-xs font-medium text-gray-900 mb-1",children:"Estado:"}),(0,Pt.jsxs)("div",{className:"space-y-0.5 text-xs text-gray-600",children:[(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"ltima:"})," ",this.state.dollarStatus.last_update||"N/A"]}),(0,Pt.jsxs)("p",{children:[(0,Pt.jsx)("strong",{children:"Valor:"})," $",this.state.dollarStatus.value||"N/A"]})]})]}),this.state.updateMessage&&(0,Pt.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 mb-3",children:(0,Pt.jsx)("pre",{className:"text-xs text-blue-800 whitespace-pre-wrap",children:this.state.updateMessage})}),(0,Pt.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Pt.jsx)("button",{type:"button",onClick:this.forceUpdateDollar,disabled:this.state.updatingDollar,className:"w-full px-3 py-2 text-xs font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:this.state.updatingDollar?(0,Pt.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Pt.jsx)("span",{className:"animate-spin inline-block h-3 w-3 border-2 border-white border-t-transparent rounded-full mr-2"}),"Conectando..."]}):(0,Pt.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Pt.jsx)("i",{className:"fas fa-sync-alt mr-2"}),"Actualizar (BCV)"]})}),this.state.allowManualDollar&&(0,Pt.jsxs)(Pt.Fragment,{children:[(0,Pt.jsx)("div",{className:"text-center",children:(0,Pt.jsx)("span",{className:"text-xs text-gray-500",children:"o"})}),(0,Pt.jsx)("button",{type:"button",onClick:this.manualUpdateDollar,disabled:this.state.updatingDollar,className:"w-full px-3 py-2 text-xs font-medium text-orange-700 bg-orange-50 border border-orange-300 rounded-md hover:bg-orange-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed",children:this.state.updatingDollar?(0,Pt.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Pt.jsx)("span",{className:"animate-spin inline-block h-3 w-3 border-2 border-orange-600 border-t-transparent rounded-full mr-2"}),"Actualizando..."]}):(0,Pt.jsxs)("span",{className:"flex items-center justify-center",children:[(0,Pt.jsx)("i",{className:"fas fa-edit mr-2"}),"Manual"]})})]}),(0,Pt.jsx)("button",{type:"button",onClick:function(){return e.setState({showDollarUpdate:!1,dollarStatus:null})},className:"w-full px-3 py-2 text-xs font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancelar"})]})]})})}),(0,Pt.jsx)("style",{children:"\n\t\t\t\t\t@keyframes float {\n\t\t\t\t\t\t0% {\n\t\t\t\t\t\t\ttransform: translateY(0) translateX(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t50% {\n\t\t\t\t\t\t\ttransform: translateY(-20px) translateX(10px);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t100% {\n\t\t\t\t\t\t\ttransform: translateY(0) translateX(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.animate-float {\n\t\t\t\t\t\tanimation: float linear infinite;\n\t\t\t\t\t}\n\t\t\t\t"})]})}}],n&&mS(r.prototype,n),a&&mS(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a}(o.Component);const wS=jS;function NS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ES(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ES(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ES(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const CS=function(e){var t=e.msj,r=e.notificar,n=NS((0,o.useState)(!0),2),a=n[0],i=n[1],s=NS((0,o.useState)(!1),2),c=s[0],l=s[1];return(0,o.useEffect)((function(){t&&(i(!0),l(!1))}),[t]),t&&a?(0,Pt.jsxs)("div",{className:"notification-container ".concat(c?"notification-exit":"notification-enter"),children:[(0,Pt.jsxs)("div",{className:"notification-content",children:[(0,Pt.jsxs)("div",{className:"notification-header",children:[(0,Pt.jsxs)("div",{className:"notification-title",children:[(0,Pt.jsx)("i",{className:"fa fa-bell text-primary me-2"}),"Notificacin"]}),(0,Pt.jsx)("button",{className:"notification-close",onClick:function(){l(!0),setTimeout((function(){i(!1),r("")}),300)},title:"Cerrar notificacin",children:(0,Pt.jsx)("i",{className:"fa fa-times"})})]}),(0,Pt.jsx)("div",{className:"notification-body",children:t})]}),(0,Pt.jsx)("style",{children:"\n\t\t\t\t.notification-container {\n\t\t\t\t\tposition: fixed;\n\t\t\t\t\tbottom: 20px;\n\t\t\t\t\tright: 20px;\n\t\t\t\t\tz-index: 9999;\n\t\t\t\t\tmin-width: 300px;\n\t\t\t\t\tmax-width: 450px;\n\t\t\t\t}\n\n\t\t\t\t.notification-content {\n\t\t\t\t\tbackground: white;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\n\t\t\t\t.notification-header {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tpadding: 12px 16px;\n\t\t\t\t\tbackground: #f8f9fa;\n\t\t\t\t\tborder-bottom: 1px solid #e9ecef;\n\t\t\t\t}\n\n\t\t\t\t.notification-title {\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tcolor: #212529;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\n\t\t\t\t.notification-close {\n\t\t\t\t\tbackground: none;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tcolor: #6c757d;\n\t\t\t\t\tpadding: 4px 8px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: color 0.2s;\n\t\t\t\t}\n\n\t\t\t\t.notification-close:hover {\n\t\t\t\t\tcolor: #dc3545;\n\t\t\t\t}\n\n\t\t\t\t.notification-body {\n\t\t\t\t\tpadding: 16px;\n\t\t\t\t\tcolor: #212529;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\tline-height: 1.5;\n\t\t\t\t}\n\n\t\t\t\t.notification-enter {\n\t\t\t\t\tanimation: slideUp 0.3s ease-out;\n\t\t\t\t}\n\n\t\t\t\t.notification-exit {\n\t\t\t\t\tanimation: slideDown 0.3s ease-in;\n\t\t\t\t}\n\n\t\t\t\t@keyframes slideUp {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\ttransform: translateY(100%);\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@keyframes slideDown {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\ttransform: translateY(100%);\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"})]}):null};const SS=function(e){var t=e.active,r=void 0===t||t,n=e.message,a=void 0===n?"Cargando...":n;return r?(0,Pt.jsxs)("div",{className:"loading-overlay",role:"alert","aria-busy":"true",children:[(0,Pt.jsxs)("div",{className:"loading-container",children:[(0,Pt.jsxs)("div",{className:"loading-spinner",children:[(0,Pt.jsx)("div",{className:"spinner-circle"}),(0,Pt.jsx)("div",{className:"spinner-circle"}),(0,Pt.jsx)("div",{className:"spinner-circle"})]}),(0,Pt.jsx)("div",{className:"loading-message",children:a})]}),(0,Pt.jsx)("style",{children:"\n\t\t\t\t.loading-overlay {\n\t\t\t\t\tposition: fixed;\n\t\t\t\t\tbottom: 20px;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t\tbackground: rgba(255, 255, 255, 0.95);\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tz-index: 9999;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\t\t\tpadding: 12px 20px;\n\t\t\t\t\tbackdrop-filter: blur(4px);\n\t\t\t\t\tborder: 1px solid rgba(0, 0, 0, 0.1);\n\t\t\t\t\tanimation: slideUp 0.3s ease-out;\n\t\t\t\t}\n\n\t\t\t\t.loading-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tgap: 12px;\n\t\t\t\t}\n\n\t\t\t\t.loading-spinner {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tgap: 4px;\n\t\t\t\t}\n\n\t\t\t\t.spinner-circle {\n\t\t\t\t\twidth: 8px;\n\t\t\t\t\theight: 8px;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\tbackground-color: var(--sinapsis-color, #007bff);\n\t\t\t\t\tanimation: bounce 0.5s ease-in-out infinite;\n\t\t\t\t}\n\n\t\t\t\t.spinner-circle:nth-child(2) {\n\t\t\t\t\tanimation-delay: 0.1s;\n\t\t\t\t}\n\n\t\t\t\t.spinner-circle:nth-child(3) {\n\t\t\t\t\tanimation-delay: 0.2s;\n\t\t\t\t}\n\n\t\t\t\t.loading-message {\n\t\t\t\t\tcolor: #2c3e50;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t}\n\n\t\t\t\t@keyframes bounce {\n\t\t\t\t\t0%, 100% {\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t}\n\t\t\t\t\t50% {\n\t\t\t\t\t\ttransform: translateY(-4px);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@keyframes slideUp {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\ttransform: translate(-50%, 100%);\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\ttransform: translate(-50%, 0);\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t"})]}):null};function OS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return AS(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function PS(){var e=OS((0,o.useState)(!1),2),t=e[0],r=e[1],n=OS((0,o.useState)([]),2),a=n[0],i=n[1],c=OS((0,o.useState)(""),2),l=c[0],u=c[1],d=OS((0,o.useState)(!1),2),f=d[0],h=d[1],p=OS((0,o.useState)(!0),2),m=p[0],g=p[1];o.useEffect((function(){var e=localStorage.getItem("user_data"),t=localStorage.getItem("session_token");if(e&&t)try{var n=JSON.parse(e),a=n.tipo_usuario;s().post("/verificarLogin").then((function(e){if(!e.data.estado)return localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),r(!1),void i([]);10!==a&&"10"!==a?(i(n),r(!0)):window.location.href="/ppr"})).catch((function(){localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),r(!1),i([])}))}catch(e){localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),r(!1),i([])}}),[]);var x=function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?setTimeout((function(){u("")}),3e3):setTimeout((function(){u("")}),1e5),""==e?u(""):e.data?e.data.msj?u(e.data.msj):u(JSON.stringify(e.data)):("string"==typeof e||e instanceof String)&&u(e)};return(0,Pt.jsx)(o.StrictMode,{children:(0,Pt.jsxs)(Ct.Dv,{children:[(0,Pt.jsx)(SS,{active:f}),""!=l?(0,Pt.jsx)(CS,{msj:l,notificar:x}):null,t&&a?(0,Pt.jsx)(dS,{setLoading:h,user:a,notificar:x,showHeaderAndMenu:m,setShowHeaderAndMenu:g}):(0,Pt.jsx)(wS,{loginRes:function(e){if(x(e),e.data&&e.data.user){if(localStorage.setItem("user_data",JSON.stringify(e.data.user)),e.data.session_token&&localStorage.setItem("session_token",e.data.session_token),e.data.redirect_to_warehouse)return void(window.location.href="/warehouse-inventory");if(e.data.redirect_url&&"/"!==e.data.redirect_url&&"/login"!==e.data.redirect_url)return void(window.location.href=e.data.redirect_url);i(e.data.user),r(e.data.estado)}}})]})})}s().interceptors.request.use((function(e){var t=localStorage.getItem("session_token");return t&&(e.headers["X-Session-Token"]=t),e}),(function(e){return Promise.reject(e)})),s().interceptors.response.use((function(e){return e}),(function(e){return e.response&&e.response.data&&e.response.data.msj&&e.response.data.msj.includes("Sin sesin activa")&&(localStorage.removeItem("user_data"),localStorage.removeItem("session_token"),window.location.reload()),Promise.reject(e)})),(0,a.render)((0,Pt.jsx)(PS,{}),document.getElementById("app"))},8859:(e,t,r)=>{var n=r(3661),a=r(1380),o=r(1459);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},8879:(e,t,r)=>{var n=r(4335)(Object.getPrototypeOf,Object);e.exports=n},8984:(e,t,r)=>{var n=r(5527),a=r(3650),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},9012:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},9106:(e,t,r)=>{"use strict";var n=r(9516);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var i=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))})))})),o=i.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},9137:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9219:e=>{e.exports=function(e,t){return e.has(t)}},9255:function(e,t,r){!function(e){"use strict";function t(e){return null==e}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function a(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function o(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function i(e,t){void 0===t&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var s,c=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),o(n,r.prototype),i(n),n}return a(t,e),t}(Error);class l extends c{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}l.kind="Exception";class u extends l{}u.kind="ArgumentException";class d extends l{}d.kind="IllegalArgumentException";class f{constructor(e){if(this.binarizer=e,null===e)throw new d("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const a=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new f(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new f(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new f(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(e){return""}}}class h extends l{static getChecksumInstance(){return new h}}h.kind="ChecksumException";class p{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class m{static arraycopy(e,t,r,n,a){for(;a--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class g extends l{}g.kind="IndexOutOfBoundsException";class x extends g{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}x.kind="ArrayIndexOutOfBoundsException";class v{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){v.rangeCheck(e.length,t,r);for(let a=t;a<r;a++)e[a]=n}static rangeCheck(e,t,r){if(t>r)throw new d("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new x(t);if(r>e)throw new x(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map((e=>Array.from({length:t}).fill(r)))}static createInt32Array(e,t,r){return Array.from({length:e}).map((e=>Int32Array.from({length:t}).fill(r)))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,a=new Int32Array(n);return m.arraycopy(e,t,a,0,n),a}static binarySearch(e,t,r){void 0===r&&(r=v.numberComparator);let n=0,a=e.length-1;for(;n<=a;){const o=a+n>>1,i=r(t,e[o]);if(i>0)n=o+1;else{if(!(i<0))return o;a=o-1}}return-n-1}static numberComparator(e,t){return e-t}}class b{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let r=31;return t=e<<16,0!==t&&(r-=16,e=t),t=e<<8,0!==t&&(r-=8,e=t),t=e<<4,0!==t&&(r-=4,e=t),t=e<<2,0!==t&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16==0&&(t+=16,e<<=16),e>>>24==0&&(t+=8,e<<=8),e>>>28==0&&(t+=4,e<<=4),e>>>30==0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}b.MIN_VALUE_32_BITS=-2147483648,b.MAX_VALUE=Number.MAX_SAFE_INTEGER;class y{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==t?y.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=y.makeArray(e);m.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return!!(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),a=r[n];a&=~((1<<(31&e))-1);const o=r.length;for(;0===a;){if(++n===o)return t;a=r[n]}const i=32*n+b.numberOfTrailingZeros(a);return i>t?t:i}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),a=~r[n];a&=~((1<<(31&e))-1);const o=r.length;for(;0===a;){if(++n===o)return t;a=~r[n]}const i=32*n+b.numberOfTrailingZeros(a);return i>t?t:i}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new d;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),a=this.bits;for(let o=r;o<=n;o++){const i=(2<<(o<n?31:31&t))-(1<<(o>r?0:31&e));a[o]|=i}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new d;if(t===e)return!0;t--;const n=Math.floor(e/32),a=Math.floor(t/32),o=this.bits;for(let i=n;i<=a;i++){const s=(2<<(i<a?31:31&t))-(1<<(i>n?0:31&e))&4294967295;if((o[i]&s)!==(r?s:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new d("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit(1==(e>>r-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new d("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let a=0;a<n;a++){let n=0;for(let t=0;t<8;t++)this.get(e)&&(n|=1<<7-t),e++;t[r+a]=n}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let a=0;a<r;a++){let r=n[a];r=r>>1&1431655765|(1431655765&r)<<1,r=r>>2&858993459|(858993459&r)<<2,r=r>>4&252645135|(252645135&r)<<4,r=r>>8&16711935|(16711935&r)<<8,r=r>>16&65535|(65535&r)<<16,e[t-a]=r}if(this.size!==32*r){const t=32*r-this.size;let n=e[0]>>>t;for(let a=1;a<r;a++){const r=e[a];n|=r<<32-t,e[a-1]=n,n=r>>>t}e[r-1]=n}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof y))return!1;const t=e;return this.size===t.size&&v.equals(this.bits,t.bits)}hashCode(){return 31*this.size+v.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)7&t||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new y(this.size,this.bits.slice())}}!function(e){e[e.OTHER=0]="OTHER",e[e.PURE_BARCODE=1]="PURE_BARCODE",e[e.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",e[e.TRY_HARDER=3]="TRY_HARDER",e[e.CHARACTER_SET=4]="CHARACTER_SET",e[e.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",e[e.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",e[e.ASSUME_GS1=7]="ASSUME_GS1",e[e.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",e[e.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",e[e.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(s||(s={}));var _,j=s;class w extends l{static getFormatInstance(){return new w}}w.kind="FormatException",function(e){e[e.Cp437=0]="Cp437",e[e.ISO8859_1=1]="ISO8859_1",e[e.ISO8859_2=2]="ISO8859_2",e[e.ISO8859_3=3]="ISO8859_3",e[e.ISO8859_4=4]="ISO8859_4",e[e.ISO8859_5=5]="ISO8859_5",e[e.ISO8859_6=6]="ISO8859_6",e[e.ISO8859_7=7]="ISO8859_7",e[e.ISO8859_8=8]="ISO8859_8",e[e.ISO8859_9=9]="ISO8859_9",e[e.ISO8859_10=10]="ISO8859_10",e[e.ISO8859_11=11]="ISO8859_11",e[e.ISO8859_13=12]="ISO8859_13",e[e.ISO8859_14=13]="ISO8859_14",e[e.ISO8859_15=14]="ISO8859_15",e[e.ISO8859_16=15]="ISO8859_16",e[e.SJIS=16]="SJIS",e[e.Cp1250=17]="Cp1250",e[e.Cp1251=18]="Cp1251",e[e.Cp1252=19]="Cp1252",e[e.Cp1256=20]="Cp1256",e[e.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",e[e.UTF8=22]="UTF8",e[e.ASCII=23]="ASCII",e[e.Big5=24]="Big5",e[e.GB18030=25]="GB18030",e[e.EUC_KR=26]="EUC_KR"}(_||(_={}));class N{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,this.values="number"==typeof t?Int32Array.from([t]):t,this.otherEncodingNames=n,N.VALUE_IDENTIFIER_TO_ECI.set(e,this),N.NAME_TO_ECI.set(r,this);const a=this.values;for(let e=0,t=a.length;e!==t;e++){const t=a[e];N.VALUES_TO_ECI.set(t,this)}for(const e of n)N.NAME_TO_ECI.set(e,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new w("incorect value");const t=N.VALUES_TO_ECI.get(e);if(void 0===t)throw new w("incorect value");return t}static getCharacterSetECIByName(e){const t=N.NAME_TO_ECI.get(e);if(void 0===t)throw new w("incorect value");return t}equals(e){if(!(e instanceof N))return!1;const t=e;return this.getName()===t.getName()}}N.VALUE_IDENTIFIER_TO_ECI=new Map,N.VALUES_TO_ECI=new Map,N.NAME_TO_ECI=new Map,N.Cp437=new N(_.Cp437,Int32Array.from([0,2]),"Cp437"),N.ISO8859_1=new N(_.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),N.ISO8859_2=new N(_.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),N.ISO8859_3=new N(_.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),N.ISO8859_4=new N(_.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),N.ISO8859_5=new N(_.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),N.ISO8859_6=new N(_.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),N.ISO8859_7=new N(_.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),N.ISO8859_8=new N(_.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),N.ISO8859_9=new N(_.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),N.ISO8859_10=new N(_.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),N.ISO8859_11=new N(_.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),N.ISO8859_13=new N(_.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),N.ISO8859_14=new N(_.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),N.ISO8859_15=new N(_.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),N.ISO8859_16=new N(_.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),N.SJIS=new N(_.SJIS,20,"SJIS","Shift_JIS"),N.Cp1250=new N(_.Cp1250,21,"Cp1250","windows-1250"),N.Cp1251=new N(_.Cp1251,22,"Cp1251","windows-1251"),N.Cp1252=new N(_.Cp1252,23,"Cp1252","windows-1252"),N.Cp1256=new N(_.Cp1256,24,"Cp1256","windows-1256"),N.UnicodeBigUnmarked=new N(_.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),N.UTF8=new N(_.UTF8,26,"UTF8","UTF-8"),N.ASCII=new N(_.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),N.Big5=new N(_.Big5,28,"Big5"),N.GB18030=new N(_.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),N.EUC_KR=new N(_.EUC_KR,30,"EUC_KR","EUC-KR");class E extends l{}E.kind="UnsupportedOperationException";class C{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!C.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):"undefined"==typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"==typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof N?e:N.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(C.isDecodeFallbackSupported(r)){let t="";for(let r=0,n=e.length;r<n;r++){let n=e[r].toString(16);n.length<2&&(n="0"+n),t+="%"+n}return decodeURIComponent(t)}if(r.equals(N.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new E(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(N.UTF8)||e.equals(N.ISO8859_1)||e.equals(N.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let e=0;e<t.length;e++)r.push(t[e].charCodeAt(0));return new Uint8Array(r)}}class S{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return C.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(null!=t&&void 0!==t.get(j.CHARACTER_SET))return t.get(j.CHARACTER_SET).toString();const r=e.length;let n=!0,a=!0,o=!0,i=0,s=0,c=0,l=0,u=0,d=0,f=0,h=0,p=0,m=0,g=0;const x=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let t=0;t<r&&(n||a||o);t++){const r=255&e[t];o&&(i>0?128&r?i--:o=!1:128&r&&(64&r?(i++,32&r?(i++,16&r?(i++,8&r?o=!1:l++):c++):s++):o=!1)),n&&(r>127&&r<160?n=!1:r>159&&(r<192||215===r||247===r)&&g++),a&&(u>0?r<64||127===r||r>252?a=!1:u--:128===r||160===r||r>239?a=!1:r>160&&r<224?(d++,h=0,f++,f>p&&(p=f)):r>127?(u++,f=0,h++,h>m&&(m=h)):(f=0,h=0))}return o&&i>0&&(o=!1),a&&u>0&&(a=!1),o&&(x||s+c+l>0)?S.UTF8:a&&(S.ASSUME_SHIFT_JIS||p>=3||m>=3)?S.SHIFT_JIS:n&&a?2===p&&2===d||10*g>=r?S.SHIFT_JIS:S.ISO88591:n?S.ISO88591:a?S.SHIFT_JIS:o?S.UTF8:S.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function n(e,n,a,o,i,s){if("%%"===e)return"%";if(void 0===t[++r])return;e=o?parseInt(o.substr(1)):void 0;let c,l=i?parseInt(i.substr(1)):void 0;switch(s){case"s":c=t[r];break;case"c":c=t[r][0];break;case"f":c=parseFloat(t[r]).toFixed(e);break;case"p":c=parseFloat(t[r]).toPrecision(e);break;case"e":c=parseFloat(t[r]).toExponential(e);break;case"x":c=parseInt(t[r]).toString(l||16);break;case"d":c=parseFloat(parseInt(t[r],l||10).toPrecision(e)).toFixed(0)}c="object"==typeof c?JSON.stringify(c):(+c).toString(l);let u=parseInt(a),d=a&&a[0]+""=="0"?"0":" ";for(;c.length<u;)c=void 0!==n?c+d:d+c;return c}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,n)}static getBytes(e,t){return C.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}S.SHIFT_JIS=N.SJIS.getName(),S.GB2312="GB2312",S.ISO88591=N.ISO8859_1.getName(),S.EUC_JP="EUC_JP",S.UTF8=N.UTF8.getName(),S.PLATFORM_DEFAULT_ENCODING=S.UTF8,S.ASSUME_SHIFT_JIS=!1;class O{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"==typeof e?this.value+=e.toString():this.encoding?this.value+=S.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class A{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,null==t&&(t=e),this.height=t,e<1||t<1)throw new d("Both dimensions must be greater than 0");null==r&&(r=Math.floor((e+31)/32)),this.rowSize=r,null==n&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new A(r,t);for(let a=0;a<t;a++){const t=e[a];for(let e=0;e<r;e++)t[e]&&n.set(e,a)}return n}static parseFromString(e,t,r){if(null===e)throw new d("stringRepresentation cannot be null");const n=new Array(e.length);let a=0,o=0,i=-1,s=0,c=0;for(;c<e.length;)if("\n"===e.charAt(c)||"\r"===e.charAt(c)){if(a>o){if(-1===i)i=a-o;else if(a-o!==i)throw new d("row lengths do not match");o=a,s++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,n[a]=!0,a++;else{if(e.substring(c,c+r.length)!==r)throw new d("illegal character encountered: "+e.substring(c));c+=r.length,n[a]=!1,a++}if(a>o){if(-1===i)i=a-o;else if(a-o!==i)throw new d("row lengths do not match");s++}const l=new A(i,s);for(let e=0;e<a;e++)n[e]&&l.set(Math.floor(e%i),Math.floor(e/i));return l}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return!!(this.bits[r]>>>(31&e)&1)}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new d("input matrix dimensions do not match");const t=new y(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let a=0,o=this.height;a<o;a++){const o=a*r,i=e.getRow(a,t).getBitArray();for(let e=0;e<r;e++)n[o+e]^=i[e]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new d("Left and top must be nonnegative");if(n<1||r<1)throw new d("Height and width must be at least 1");const a=e+r,o=t+n;if(o>this.height||a>this.width)throw new d("The region must fit inside the matrix");const i=this.rowSize,s=this.bits;for(let r=t;r<o;r++){const t=r*i;for(let r=e;r<a;r++)s[t+Math.floor(r/32)]|=1<<(31&r)&4294967295}}getRow(e,t){null==t||t.getSize()<this.width?t=new y(this.width):t.clear();const r=this.rowSize,n=this.bits,a=e*r;for(let e=0;e<r;e++)t.setBulk(32*e,n[a+e]);return t}setRow(e,t){m.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new y(e),n=new y(e);for(let e=0,a=Math.floor((t+1)/2);e<a;e++)r=this.getRow(e,r),n=this.getRow(t-1-e,n),r.reverse(),n.reverse(),this.setRow(e,n),this.setRow(t-1-e,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let a=e,o=t,i=-1,s=-1;for(let e=0;e<t;e++)for(let t=0;t<r;t++){const c=n[e*r+t];if(0!==c){if(e<o&&(o=e),e>s&&(s=e),32*t<a){let e=0;for(;!(c<<31-e&4294967295);)e++;32*t+e<a&&(a=32*t+e)}if(32*t+31>i){let e=31;for(;c>>>e==0;)e--;32*t+e>i&&(i=32*t+e)}}}return i<a||s<o?null:Int32Array.from([a,o,i-a+1,s-o+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&0===t[r];)r++;if(r===t.length)return null;const n=r/e;let a=r%e*32;const o=t[r];let i=0;for(;!(o<<31-i&4294967295);)i++;return a+=i,Int32Array.from([a,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&0===t[r];)r--;if(r<0)return null;const n=Math.floor(r/e);let a=32*Math.floor(r%e);const o=t[r];let i=31;for(;o>>>i==0;)i--;return a+=i,Int32Array.from([a,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof A))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&v.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+v.hashCode(this.bits),e}toString(e="X ",t="  ",r="\n"){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new O;for(let a=0,o=this.height;a<o;a++){for(let r=0,o=this.width;r<o;r++)n.append(this.get(r,a)?e:t);n.append(r)}return n.toString()}clone(){return new A(this.width,this.height,this.rowSize,this.bits.slice())}}class P extends l{static getNotFoundInstance(){return new P}}P.kind="NotFoundException";class D extends p{constructor(e){super(e),this.luminances=D.EMPTY,this.buckets=new Int32Array(D.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();null==t||t.getSize()<n?t=new y(n):t.clear(),this.initArrays(n);const a=r.getRow(e,this.luminances),o=this.buckets;for(let e=0;e<n;e++)o[(255&a[e])>>D.LUMINANCE_SHIFT]++;const i=D.estimateBlackPoint(o);if(n<3)for(let e=0;e<n;e++)(255&a[e])<i&&t.set(e);else{let e=255&a[0],r=255&a[1];for(let o=1;o<n-1;o++){const n=255&a[o+1];(4*r-e-n)/2<i&&t.set(o),e=r,r=n}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new A(t,r);this.initArrays(t);const a=this.buckets;for(let n=1;n<5;n++){const o=Math.floor(r*n/5),i=e.getRow(o,this.luminances),s=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<s;e++)a[(255&i[e])>>D.LUMINANCE_SHIFT]++}const o=D.estimateBlackPoint(a),i=e.getMatrix();for(let e=0;e<r;e++){const r=e*t;for(let a=0;a<t;a++)(255&i[r+a])<o&&n.set(a,e)}return n}createBinarizer(e){return new D(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let e=0;e<D.LUMINANCE_BUCKETS;e++)t[e]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,a=0;for(let o=0;o<t;o++)e[o]>a&&(n=o,a=e[o]),e[o]>r&&(r=e[o]);let o=0,i=0;for(let r=0;r<t;r++){const t=r-n,a=e[r]*t*t;a>i&&(o=r,i=a)}if(n>o){const e=n;n=o,o=e}if(o-n<=t/16)throw new P;let s=o-1,c=-1;for(let t=o-1;t>n;t--){const a=t-n,i=a*a*(o-t)*(r-e[t]);i>c&&(s=t,c=i)}return s<<D.LUMINANCE_SHIFT}}D.LUMINANCE_BITS=5,D.LUMINANCE_SHIFT=8-D.LUMINANCE_BITS,D.LUMINANCE_BUCKETS=1<<D.LUMINANCE_BITS,D.EMPTY=Uint8ClampedArray.from([0]);class I extends D{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=I.MINIMUM_DIMENSION&&r>=I.MINIMUM_DIMENSION){const n=e.getMatrix();let a=t>>I.BLOCK_SIZE_POWER;t&I.BLOCK_SIZE_MASK&&a++;let o=r>>I.BLOCK_SIZE_POWER;r&I.BLOCK_SIZE_MASK&&o++;const i=I.calculateBlackPoints(n,a,o,t,r),s=new A(t,r);I.calculateThresholdForBlock(n,a,o,t,r,i,s),this.matrix=s}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new I(e)}static calculateThresholdForBlock(e,t,r,n,a,o,i){const s=a-I.BLOCK_SIZE,c=n-I.BLOCK_SIZE;for(let a=0;a<r;a++){let l=a<<I.BLOCK_SIZE_POWER;l>s&&(l=s);const u=I.cap(a,2,r-3);for(let r=0;r<t;r++){let a=r<<I.BLOCK_SIZE_POWER;a>c&&(a=c);const s=I.cap(r,2,t-3);let d=0;for(let e=-2;e<=2;e++){const t=o[u+e];d+=t[s-2]+t[s-1]+t[s]+t[s+1]+t[s+2]}const f=d/25;I.thresholdBlock(e,a,l,f,n,i)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,a,o){for(let i=0,s=r*a+t;i<I.BLOCK_SIZE;i++,s+=a)for(let a=0;a<I.BLOCK_SIZE;a++)(255&e[s+a])<=n&&o.set(t+a,r+i)}static calculateBlackPoints(e,t,r,n,a){const o=a-I.BLOCK_SIZE,i=n-I.BLOCK_SIZE,s=new Array(r);for(let a=0;a<r;a++){s[a]=new Int32Array(t);let r=a<<I.BLOCK_SIZE_POWER;r>o&&(r=o);for(let o=0;o<t;o++){let t=o<<I.BLOCK_SIZE_POWER;t>i&&(t=i);let c=0,l=255,u=0;for(let a=0,o=r*n+t;a<I.BLOCK_SIZE;a++,o+=n){for(let t=0;t<I.BLOCK_SIZE;t++){const r=255&e[o+t];c+=r,r<l&&(l=r),r>u&&(u=r)}if(u-l>I.MIN_DYNAMIC_RANGE)for(a++,o+=n;a<I.BLOCK_SIZE;a++,o+=n)for(let t=0;t<I.BLOCK_SIZE;t++)c+=255&e[o+t]}let d=c>>2*I.BLOCK_SIZE_POWER;if(u-l<=I.MIN_DYNAMIC_RANGE&&(d=l/2,a>0&&o>0)){const e=(s[a-1][o]+2*s[a][o-1]+s[a-1][o-1])/4;l<e&&(d=e)}s[a][o]=d}}return s}}I.BLOCK_SIZE_POWER=3,I.BLOCK_SIZE=1<<I.BLOCK_SIZE_POWER,I.BLOCK_SIZE_MASK=I.BLOCK_SIZE-1,I.MINIMUM_DIMENSION=5*I.BLOCK_SIZE,I.MIN_DYNAMIC_RANGE=24;class T{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new E("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new E("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new E("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new O;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let e=0;e<this.width;e++){const r=255&n[e];let a;a=r<64?"#":r<128?"+":r<192?".":" ",t.append(a)}t.append("\n")}return t.toString()}}class M extends T{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let e=0;e<n;e++)r[e]=255-(255&r[e]);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(255&e[n]);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new M(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new M(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new M(this.delegate.rotateCounterClockwise45())}}class k extends T{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=k.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return k.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let t=0,r=0,a=e.length;t<a;t+=4,r++){let a;a=0===e[t+3]?255:306*e[t]+601*e[t+1]+117*e[t+2]+512>>10,n[r]=a}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*k.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,i=Math.ceil(Math.abs(Math.cos(n))*a+Math.abs(Math.sin(n))*o),s=Math.ceil(Math.abs(Math.sin(n))*a+Math.abs(Math.cos(n))*o);return t.width=i,t.height=s,r.translate(i/2,s/2),r.rotate(n),r.drawImage(this.canvas,a/-2,o/-2),this.buffer=k.makeBufferFromCanvasImageData(t),this}invert(){return new M(this)}}k.DEGREE_TO_RADIANS=Math.PI/180;class R{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var B,L=(globalThis||r.g||self||window?(globalThis||r.g||self||window||void 0).__awaiter:void 0)||function(e,t,r,n){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){e.done?r(e.value):a(e.value).then(i,s)}c((n=n.apply(e,t||[])).next())}))};class F{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!=typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return L(this,void 0,void 0,(function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const e="video"===r.kind?"videoinput":r.kind;if("videoinput"!==e)continue;const n={deviceId:r.deviceId||r.id,label:r.label||`Video device ${t.length+1}`,kind:e,groupId:r.groupId};t.push(n)}return t}))}getVideoInputDevices(){return L(this,void 0,void 0,(function*(){return(yield this.listVideoInputDevices()).map((e=>new R(e.deviceId,e.label)))}))}findDeviceById(e){return L(this,void 0,void 0,(function*(){const t=yield this.listVideoInputDevices();return t?t.find((t=>t.deviceId===e)):null}))}decodeFromInputVideoDevice(e,t){return L(this,void 0,void 0,(function*(){return yield this.decodeOnceFromVideoDevice(e,t)}))}decodeOnceFromVideoDevice(e,t){return L(this,void 0,void 0,(function*(){let r;this.reset(),r=e?{deviceId:{exact:e}}:{facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)}))}decodeOnceFromConstraints(e,t){return L(this,void 0,void 0,(function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)}))}decodeOnceFromStream(e,t){return L(this,void 0,void 0,(function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)}))}decodeFromInputVideoDeviceContinuously(e,t,r){return L(this,void 0,void 0,(function*(){return yield this.decodeFromVideoDevice(e,t,r)}))}decodeFromVideoDevice(e,t,r){return L(this,void 0,void 0,(function*(){let n;n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const a={video:n};return yield this.decodeFromConstraints(a,t,r)}))}decodeFromConstraints(e,t,r){return L(this,void 0,void 0,(function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)}))}decodeFromStream(e,t,r){return L(this,void 0,void 0,(function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)}))}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return L(this,void 0,void 0,(function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r}))}playVideoOnLoadAsync(e){return new Promise(((t,r)=>this.playVideoOnLoad(e,(()=>t()))))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return L(this,void 0,void 0,(function*(){if(this.isVideoPlaying(e))console.warn("Trying to play video that is already playing.");else try{yield e.play()}catch(e){console.warn("It was not possible to play the video.")}}))}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new u(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new u(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new u("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(void 0===e&&void 0===t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new u("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let r;return this.imageElement=t,r=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new u("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new u("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise(((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)}))}_decodeOnLoadVideo(e){return L(this,void 0,void 0,(function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)}))}_decodeOnLoadVideoContinuously(e,t){return L(this,void 0,void 0,(function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)}))}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return void 0===e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"==typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(a,o)=>{if(this._stopAsyncDecode)return o(new P("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{a(this.decode(e))}catch(e){if(t&&e instanceof P||(e instanceof h||e instanceof w)&&r)return setTimeout(n,this._timeBetweenDecodingAttempts,a,o);o(e)}};return new Promise(((e,t)=>n(e,t)))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(e){t(null,e),(e instanceof h||e instanceof w||e instanceof P)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return 0!==e.videoWidth}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new k(t),n=new I(r);return new f(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return void 0!==e&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach((e=>e.stop())),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(r){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")}}class U{constructor(e,t,r=(null==t?0:8*t.length),n,a,o=m.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=t,this.numBits=null==r?null==t?0:8*t.length:r,this.resultPoints=n,this.format=a,this.resultMetadata=null,this.timestamp=null==o?m.currentTimeMillis():o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const r=new Array(t.length+e.length);m.arraycopy(t,0,r,0,t.length),m.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}!function(e){e[e.AZTEC=0]="AZTEC",e[e.CODABAR=1]="CODABAR",e[e.CODE_39=2]="CODE_39",e[e.CODE_93=3]="CODE_93",e[e.CODE_128=4]="CODE_128",e[e.DATA_MATRIX=5]="DATA_MATRIX",e[e.EAN_8=6]="EAN_8",e[e.EAN_13=7]="EAN_13",e[e.ITF=8]="ITF",e[e.MAXICODE=9]="MAXICODE",e[e.PDF_417=10]="PDF_417",e[e.QR_CODE=11]="QR_CODE",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(B||(B={}));var W,V=B;!function(e){e[e.OTHER=0]="OTHER",e[e.ORIENTATION=1]="ORIENTATION",e[e.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",e[e.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",e[e.ISSUE_NUMBER=4]="ISSUE_NUMBER",e[e.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",e[e.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",e[e.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",e[e.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",e[e.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",e[e.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(W||(W={}));var z,K,G,q,H,$,Y=W;class X{constructor(e,t,r,n,a=-1,o=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=null==e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Q{exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class Z{constructor(e,t){if(0===t.length)throw new d;this.field=e;const r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-e),m.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let r;if(1===e){r=0;for(let e=0,n=t.length;e!==n;e++){const n=t[e];r=Q.addOrSubtract(r,n)}return r}r=t[0];const n=t.length,a=this.field;for(let o=1;o<n;o++)r=Q.addOrSubtract(a.multiply(e,r),t[o]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const e=t;t=r,r=e}let n=new Int32Array(r.length);const a=r.length-t.length;m.arraycopy(r,0,n,0,a);for(let e=a;e<r.length;e++)n[e]=Q.addOrSubtract(t[e-a],r[e]);return new Z(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,a=n.length,o=new Int32Array(r+a-1),i=this.field;for(let e=0;e<r;e++){const r=t[e];for(let t=0;t<a;t++)o[e+t]=Q.addOrSubtract(o[e+t],i.multiply(r,n[t]))}return new Z(i,o)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),a=this.coefficients;for(let o=0;o<t;o++)n[o]=r.multiply(a[o],e);return new Z(r,n)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return this.field.getZero();const r=this.coefficients,n=r.length,a=new Int32Array(n+e),o=this.field;for(let e=0;e<n;e++)a[e]=o.multiply(r[e],t);return new Z(o,a)}divide(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new d("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const a=e.getCoefficient(e.getDegree()),o=t.inverse(a);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const a=n.getDegree()-e.getDegree(),i=t.multiply(n.getCoefficient(n.getDegree()),o),s=e.multiplyByMonomial(a,i),c=t.buildMonomial(a,i);r=r.addOrSubtract(c),n=n.addOrSubtract(s)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===t||1!==r){const t=this.field.log(r);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class J extends l{}J.kind="ArithmeticException";class ee extends Q{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let a=1;for(let r=0;r<t;r++)n[r]=a,a*=2,a>=t&&(a^=e,a&=t-1);this.expTable=n;const o=new Int32Array(t);for(let e=0;e<t-1;e++)o[n[e]]=e;this.logTable=o,this.zero=new Z(this,Int32Array.from([0])),this.one=new Z(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new Z(this,r)}inverse(e){if(0===e)throw new J;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+b.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ee.AZTEC_DATA_12=new ee(4201,4096,1),ee.AZTEC_DATA_10=new ee(1033,1024,1),ee.AZTEC_DATA_6=new ee(67,64,1),ee.AZTEC_PARAM=new ee(19,16,1),ee.QR_CODE_FIELD_256=new ee(285,256,0),ee.DATA_MATRIX_FIELD_256=new ee(301,256,1),ee.AZTEC_DATA_8=ee.DATA_MATRIX_FIELD_256,ee.MAXICODE_FIELD_64=ee.AZTEC_DATA_6;class te extends l{}te.kind="ReedSolomonException";class re extends l{}re.kind="IllegalStateException";class ne{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new Z(r,e),a=new Int32Array(t);let o=!0;for(let e=0;e<t;e++){const t=n.evaluateAt(r.exp(e+r.getGeneratorBase()));a[a.length-1-e]=t,0!==t&&(o=!1)}if(o)return;const i=new Z(r,a),s=this.runEuclideanAlgorithm(r.buildMonomial(t,1),i,t),c=s[0],l=s[1],u=this.findErrorLocations(c),d=this.findErrorMagnitudes(l,u);for(let t=0;t<u.length;t++){const n=e.length-1-r.log(u[t]);if(n<0)throw new te("Bad error location");e[n]=ee.addOrSubtract(e[n],d[t])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const r=e;e=t,t=r}const n=this.field;let a=e,o=t,i=n.getZero(),s=n.getOne();for(;o.getDegree()>=(r/2|0);){let e=a,t=i;if(a=o,i=s,a.isZero())throw new te("r_{i-1} was zero");o=e;let r=n.getZero();const c=a.getCoefficient(a.getDegree()),l=n.inverse(c);for(;o.getDegree()>=a.getDegree()&&!o.isZero();){const e=o.getDegree()-a.getDegree(),t=n.multiply(o.getCoefficient(o.getDegree()),l);r=r.addOrSubtract(n.buildMonomial(e,t)),o=o.addOrSubtract(a.multiplyByMonomial(e,t))}if(s=r.multiply(i).addOrSubtract(t),o.getDegree()>=a.getDegree())throw new re("Division algorithm failed to reduce polynomial?")}const c=s.getCoefficient(0);if(0===c)throw new te("sigmaTilde(0) was zero");const l=n.inverse(c);return[s.multiplyScalar(l),o.multiplyScalar(l)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const a=this.field;for(let o=1;o<a.getSize()&&n<t;o++)0===e.evaluateAt(o)&&(r[n]=a.inverse(o),n++);if(n!==t)throw new te("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),a=this.field;for(let o=0;o<r;o++){const i=a.inverse(t[o]);let s=1;for(let e=0;e<r;e++)if(o!==e){const r=a.multiply(t[e],i),n=1&r?-2&r:1|r;s=a.multiply(s,n)}n[o]=a.multiply(e.evaluateAt(i),a.inverse(s)),0!==a.getGeneratorBase()&&(n[o]=a.multiply(n[o],i))}return n}}!function(e){e[e.UPPER=0]="UPPER",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.DIGIT=3]="DIGIT",e[e.PUNCT=4]="PUNCT",e[e.BINARY=5]="BINARY"}(z||(z={}));class ae{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),a=ae.convertBoolArrayToByteArray(n),o=ae.getEncodedData(n),i=new X(a,o,null,null);return i.setNumBits(n.length),i}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=z.UPPER,n=z.UPPER,a="",o=0;for(;o<t;)if(n===z.BINARY){if(t-o<5)break;let i=ae.readCode(e,o,5);if(o+=5,0===i){if(t-o<11)break;i=ae.readCode(e,o,11)+31,o+=11}for(let r=0;r<i;r++){if(t-o<8){o=t;break}const r=ae.readCode(e,o,8);a+=S.castAsNonUtf8Char(r),o+=8}n=r}else{let i=n===z.DIGIT?4:5;if(t-o<i)break;let s=ae.readCode(e,o,i);o+=i;let c=ae.getCharacter(n,s);c.startsWith("CTRL_")?(r=n,n=ae.getTable(c.charAt(5)),"L"===c.charAt(6)&&(r=n)):(a+=c,n=r)}return a}static getTable(e){switch(e){case"L":return z.LOWER;case"P":return z.PUNCT;case"M":return z.MIXED;case"D":return z.DIGIT;case"B":return z.BINARY;default:return z.UPPER}}static getCharacter(e,t){switch(e){case z.UPPER:return ae.UPPER_TABLE[t];case z.LOWER:return ae.LOWER_TABLE[t];case z.MIXED:return ae.MIXED_TABLE[t];case z.PUNCT:return ae.PUNCT_TABLE[t];case z.DIGIT:return ae.DIGIT_TABLE[t];default:throw new re("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=ee.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=ee.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=ee.AZTEC_DATA_10):(r=12,t=ee.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),a=e.length/r;if(a<n)throw new w;let o=e.length%r,i=new Int32Array(a);for(let t=0;t<a;t++,o+=r)i[t]=ae.readCode(e,o,r);try{new ne(t).decode(i,a-n)}catch(e){throw new w(e)}let s=(1<<r)-1,c=0;for(let e=0;e<n;e++){let t=i[e];if(0===t||t===s)throw new w;1!==t&&t!==s-1||c++}let l=new Array(n*r-c),u=0;for(let e=0;e<n;e++){let t=i[e];if(1===t||t===s-1)l.fill(t>1,u,u+r-1),u+=r-1;else for(let e=r-1;e>=0;--e)l[u++]=!!(t&1<<e)}return l}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+4*r,a=new Int32Array(n),o=new Array(this.totalBitsInLayer(r,t));if(t)for(let e=0;e<a.length;e++)a[e]=e;else{let e=n+1+2*b.truncDivision(b.truncDivision(n,2)-1,15),t=n/2,r=b.truncDivision(e,2);for(let e=0;e<t;e++){let n=e+b.truncDivision(e,15);a[t-e-1]=r-n-1,a[t+e]=r+n+1}}for(let i=0,s=0;i<r;i++){let c=4*(r-i)+(t?9:12),l=2*i,u=n-1-l;for(let t=0;t<c;t++){let r=2*t;for(let n=0;n<2;n++)o[s+r+n]=e.get(a[l+n],a[l+t]),o[s+2*c+r+n]=e.get(a[l+t],a[u-n]),o[s+4*c+r+n]=e.get(a[u-n],a[u-t]),o[s+6*c+r+n]=e.get(a[u-t],a[l+n])}s+=8*c}return o}static readCode(e,t,r){let n=0;for(let a=t;a<t+r;a++)n<<=1,e[a]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?ae.readCode(e,t,8):ae.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=ae.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ae.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ae.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ae.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ae.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ae.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class oe{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const a=e-r,o=t-n;return Math.sqrt(a*a+o*o)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++)t+=e[r];return t}}class ie{static floatToIntBits(e){return e}}ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class se{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof se){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*ie.floatToIntBits(this.x)+ie.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let a,o,i;if(r>=t&&r>=n?(o=e[0],a=e[1],i=e[2]):n>=r&&n>=t?(o=e[1],a=e[0],i=e[2]):(o=e[2],a=e[0],i=e[1]),this.crossProductZ(a,o,i)<0){const e=a;a=i,i=e}e[0]=a,e[1]=o,e[2]=i}static distance(e,t){return oe.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,a=t.y;return(r.x-n)*(e.y-a)-(r.y-a)*(e.x-n)}}class ce{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class le extends ce{constructor(e,t,r,n,a){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ue{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==t&&(t=ue.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==n&&(n=e.getHeight()/2|0);const a=t/2|0;if(this.leftInit=r-a,this.rightInit=r+a,this.upInit=n-a,this.downInit=n+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new P}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,a=!1,o=!0,i=!1,s=!1,c=!1,l=!1,u=!1;const d=this.width,f=this.height;for(;o;){o=!1;let h=!0;for(;(h||!s)&&t<d;)h=this.containsBlackPoint(r,n,t,!1),h?(t++,o=!0,s=!0):s||t++;if(t>=d){a=!0;break}let p=!0;for(;(p||!c)&&n<f;)p=this.containsBlackPoint(e,t,n,!0),p?(n++,o=!0,c=!0):c||n++;if(n>=f){a=!0;break}let m=!0;for(;(m||!l)&&e>=0;)m=this.containsBlackPoint(r,n,e,!1),m?(e--,o=!0,l=!0):l||e--;if(e<0){a=!0;break}let g=!0;for(;(g||!u)&&r>=0;)g=this.containsBlackPoint(e,t,r,!0),g?(r--,o=!0,u=!0):u||r--;if(r<0){a=!0;break}o&&(i=!0)}if(!a&&i){const a=t-e;let o=null;for(let t=1;null===o&&t<a;t++)o=this.getBlackPointOnSegment(e,n-t,e+t,n);if(null==o)throw new P;let i=null;for(let t=1;null===i&&t<a;t++)i=this.getBlackPointOnSegment(e,r+t,e+t,r);if(null==i)throw new P;let s=null;for(let e=1;null===s&&e<a;e++)s=this.getBlackPointOnSegment(t,r+e,t-e,r);if(null==s)throw new P;let c=null;for(let e=1;null===c&&e<a;e++)c=this.getBlackPointOnSegment(t,n-e,t-e,n);if(null==c)throw new P;return this.centerEdges(c,o,s,i)}throw new P}getBlackPointOnSegment(e,t,r,n){const a=oe.round(oe.distance(e,t,r,n)),o=(r-e)/a,i=(n-t)/a,s=this.image;for(let r=0;r<a;r++){const n=oe.round(e+r*o),a=oe.round(t+r*i);if(s.get(n,a))return new se(n,a)}return null}centerEdges(e,t,r,n){const a=e.getX(),o=e.getY(),i=t.getX(),s=t.getY(),c=r.getX(),l=r.getY(),u=n.getX(),d=n.getY(),f=ue.CORR;return a<this.width/2?[new se(u-f,d+f),new se(i+f,s+f),new se(c-f,l-f),new se(a+f,o-f)]:[new se(u+f,d+f),new se(i+f,s-f),new se(c-f,l+f),new se(a-f,o-f)]}containsBlackPoint(e,t,r,n){const a=this.image;if(n){for(let n=e;n<=t;n++)if(a.get(n,r))return!0}else for(let n=e;n<=t;n++)if(a.get(r,n))return!0;return!1}}ue.INIT_SIZE=10,ue.CORR=1;class de{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let a=!0;for(let e=0;e<t.length&&a;e+=2){const o=Math.floor(t[e]),i=Math.floor(t[e+1]);if(o<-1||o>r||i<-1||i>n)throw new P;a=!1,-1===o?(t[e]=0,a=!0):o===r&&(t[e]=r-1,a=!0),-1===i?(t[e+1]=0,a=!0):i===n&&(t[e+1]=n-1,a=!0)}a=!0;for(let e=t.length-2;e>=0&&a;e-=2){const o=Math.floor(t[e]),i=Math.floor(t[e+1]);if(o<-1||o>r||i<-1||i>n)throw new P;a=!1,-1===o?(t[e]=0,a=!0):o===r&&(t[e]=r-1,a=!0),-1===i?(t[e+1]=0,a=!0):i===n&&(t[e+1]=n-1,a=!0)}}}class fe{constructor(e,t,r,n,a,o,i,s,c){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=a,this.a32=o,this.a13=i,this.a23=s,this.a33=c}static quadrilateralToQuadrilateral(e,t,r,n,a,o,i,s,c,l,u,d,f,h,p,m){const g=fe.quadrilateralToSquare(e,t,r,n,a,o,i,s);return fe.squareToQuadrilateral(c,l,u,d,f,h,p,m).times(g)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,a=this.a13,o=this.a21,i=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33;for(let d=0;d<t;d+=2){const t=e[d],f=e[d+1],h=a*t+s*f+u;e[d]=(r*t+o*f+c)/h,e[d+1]=(n*t+i*f+l)/h}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,a=this.a13,o=this.a21,i=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33,d=e.length;for(let f=0;f<d;f++){const d=e[f],h=t[f],p=a*d+s*h+u;e[f]=(r*d+o*h+c)/p,t[f]=(n*d+i*h+l)/p}}static squareToQuadrilateral(e,t,r,n,a,o,i,s){const c=e-r+a-i,l=t-n+o-s;if(0===c&&0===l)return new fe(r-e,a-r,e,n-t,o-n,t,0,0,1);{const u=r-a,d=i-a,f=n-o,h=s-o,p=u*h-d*f,m=(c*h-d*l)/p,g=(u*l-c*f)/p;return new fe(r-e+m*r,i-e+g*i,e,n-t+m*n,s-t+g*s,t,m,g,1)}}static quadrilateralToSquare(e,t,r,n,a,o,i,s){return fe.squareToQuadrilateral(e,t,r,n,a,o,i,s).buildAdjoint()}buildAdjoint(){return new fe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new fe(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class he extends de{sampleGrid(e,t,r,n,a,o,i,s,c,l,u,d,f,h,p,m,g,x,v){const b=fe.quadrilateralToQuadrilateral(n,a,o,i,s,c,l,u,d,f,h,p,m,g,x,v);return this.sampleGridWithTransform(e,t,r,b)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new P;const a=new A(t,r),o=new Float32Array(2*t);for(let t=0;t<r;t++){const r=o.length,i=t+.5;for(let e=0;e<r;e+=2)o[e]=e/2+.5,o[e+1]=i;n.transformPoints(o),de.checkAndNudgePoints(e,o);try{for(let n=0;n<r;n+=2)e.get(Math.floor(o[n]),Math.floor(o[n+1]))&&a.set(n/2,t)}catch(e){throw new P}}return a}}class pe{static setGridSampler(e){pe.gridSampler=e}static getInstance(){return pe.gridSampler}}pe.gridSampler=new he;class me{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new se(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ge{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let e=r[0];r[0]=r[2],r[2]=e}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),a=this.getMatrixCornerPoints(r);return new le(n,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new P;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let e=0;e<4;e++){let t=r[(this.shift+e)%4];this.compact?(n<<=7,n+=t>>1&127):(n<<=10,n+=(t>>2&992)+(t>>1&31))}let a=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))}getRotation(e,t){let r=0;e.forEach(((e,n,a)=>{r=(e>>t-2<<1)+(1&e)+(r<<3)})),r=((1&r)<<11)+(r>>1);for(let e=0;e<4;e++)if(b.bitCount(r^this.EXPECTED_CORNER_BITS[e])<=2)return e;throw new P}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let a=r-n,o=new Int32Array(r);for(let t=r-1;t>=0;--t)o[t]=15&e,e>>=4;try{new ne(ee.AZTEC_PARAM).decode(o,a)}catch(e){throw new P}let i=0;for(let e=0;e<n;e++)i=(i<<4)+o[e];return i}getBullsEyeCorners(e){let t=e,r=e,n=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,o,1,-1),i=this.getFirstDifferent(r,o,1,1),s=this.getFirstDifferent(n,o,-1,1),c=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){let r=this.distancePoint(c,e)*this.nbCenterLayers/(this.distancePoint(a,t)*(this.nbCenterLayers+2));if(r<.75||r>1.25||!this.isWhiteOrBlackRectangle(e,i,s,c))break}t=e,r=i,n=s,a=c,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new P;this.compact=5===this.nbCenterLayers;let i=new se(t.getX()+.5,t.getY()-.5),s=new se(r.getX()+.5,r.getY()+.5),c=new se(n.getX()-.5,n.getY()+.5),l=new se(a.getX()-.5,a.getY()-.5);return this.expandSquare([i,s,c,l],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let a=new ue(this.image).detect();e=a[0],t=a[1],r=a[2],n=a[3]}catch(a){let o=this.image.getWidth()/2,i=this.image.getHeight()/2;e=this.getFirstDifferent(new me(o+7,i-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new me(o+7,i+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new me(o-7,i+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new me(o-7,i-7),!1,-1,-1).toResultPoint()}let a=oe.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=oe.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let i=new ue(this.image,15,a,o).detect();e=i[0],t=i[1],r=i[2],n=i[3]}catch(i){e=this.getFirstDifferent(new me(a+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new me(a+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new me(a-7,o+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new me(a-7,o-7),!1,-1,-1).toResultPoint()}return a=oe.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=oe.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new me(a,o)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,a){let o=pe.getInstance(),i=this.getDimension(),s=i/2-this.nbCenterLayers,c=i/2+this.nbCenterLayers;return o.sampleGrid(e,i,i,s,s,c,s,c,c,s,c,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),a.getX(),a.getY())}sampleLine(e,t,r){let n=0,a=this.distanceResultPoint(e,t),o=a/r,i=e.getX(),s=e.getY(),c=o*(t.getX()-e.getX())/a,l=o*(t.getY()-e.getY())/a;for(let e=0;e<r;e++)this.image.get(oe.round(i+e*c),oe.round(s+e*l))&&(n|=1<<r-e-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let a=3;e=new me(e.getX()-a,e.getY()+a),t=new me(t.getX()-a,t.getY()-a),r=new me(r.getX()+a,r.getY()-a),n=new me(n.getX()+a,n.getY()+a);let o=this.getColor(n,e);if(0===o)return!1;let i=this.getColor(e,t);return i===o&&(i=this.getColor(t,r),i===o&&(i=this.getColor(r,n),i===o))}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,a=(t.getY()-e.getY())/r,o=0,i=e.getX(),s=e.getY(),c=this.image.get(e.getX(),e.getY()),l=Math.ceil(r);for(let e=0;e<l;e++)i+=n,s+=a,this.image.get(oe.round(i),oe.round(s))!==c&&o++;let u=o/r;return u>.1&&u<.9?0:u<=.1===c?1:-1}getFirstDifferent(e,t,r,n){let a=e.getX()+r,o=e.getY()+n;for(;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=r,o+=n;for(a-=r,o-=n;this.isValid(a,o)&&this.image.get(a,o)===t;)a+=r;for(a-=r;this.isValid(a,o)&&this.image.get(a,o)===t;)o+=n;return o-=n,new me(a,o)}expandSquare(e,t,r){let n=r/(2*t),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),i=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,c=new se(i+n*a,s+n*o),l=new se(i-n*a,s-n*o);return a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),i=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[c,new se(i+n*a,s+n*o),l,new se(i-n*a,s-n*o)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=oe.round(e.getX()),r=oe.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return oe.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return oe.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(b.truncDivision(this.nbLayers-4,8)+1)+15}}class xe{decode(e,t=null){let r=null,n=new ge(e.getBlackMatrix()),a=null,o=null;try{let e=n.detectMirror(!1);a=e.getPoints(),this.reportFoundResultPoints(t,a),o=(new ae).decode(e)}catch(e){r=e}if(null==o)try{let e=n.detectMirror(!0);a=e.getPoints(),this.reportFoundResultPoints(t,a),o=(new ae).decode(e)}catch(e){if(null!=r)throw r;throw e}let i=new U(o.getText(),o.getRawBytes(),o.getNumBits(),a,V.AZTEC,m.currentTimeMillis()),s=o.getByteSegments();null!=s&&i.putMetadata(Y.BYTE_SEGMENTS,s);let c=o.getECLevel();return null!=c&&i.putMetadata(Y.ERROR_CORRECTION_LEVEL,c),i}reportFoundResultPoints(e,t){if(null!=e){let r=e.get(j.NEED_RESULT_POINT_CALLBACK);null!=r&&t.forEach(((e,t,n)=>{r.foundPossibleResultPoint(e)}))}}reset(){}}class ve extends F{constructor(e=500){super(new xe,e)}}class be{decode(e,t){try{return this.doDecode(e,t)}catch(r){if(t&&!0===t.get(j.TRY_HARDER)&&e.isRotateSupported()){const r=e.rotateCounterClockwise(),n=this.doDecode(r,t),a=n.getResultMetadata();let o=270;null!==a&&!0===a.get(Y.ORIENTATION)&&(o+=a.get(Y.ORIENTATION)%360),n.putMetadata(Y.ORIENTATION,o);const i=n.getResultPoints();if(null!==i){const e=r.getHeight();for(let t=0;t<i.length;t++)i[t]=new se(e-i[t].getY()-1,i[t].getX())}return n}throw new P}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let a=new y(r);const o=t&&!0===t.get(j.TRY_HARDER),i=Math.max(1,n>>(o?8:5));let s;s=o?n:15;const c=Math.trunc(n/2);for(let o=0;o<s;o++){const s=Math.trunc((o+1)/2),l=c+i*(1&o?-s:s);if(l<0||l>=n)break;try{a=e.getBlackRow(l,a)}catch(e){continue}for(let e=0;e<2;e++){if(1===e&&(a.reverse(),t&&!0===t.get(j.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach(((t,r)=>e.set(r,t))),e.delete(j.NEED_RESULT_POINT_CALLBACK),t=e}try{const n=this.decodeRow(l,a,t);if(1===e){n.putMetadata(Y.ORIENTATION,180);const e=n.getResultPoints();null!==e&&(e[0]=new se(r-e[0].getX()-1,e[0].getY()),e[1]=new se(r-e[1].getX()-1,e[1].getY()))}return n}catch(e){}}}throw new P}static recordPattern(e,t,r){const n=r.length;for(let e=0;e<n;e++)r[e]=0;const a=e.getSize();if(t>=a)throw new P;let o=!e.get(t),i=0,s=t;for(;s<a;){if(e.get(s)!==o)r[i]++;else{if(++i===n)break;r[i]=1,o=!o}s++}if(i!==n&&(i!==n-1||s!==a))throw new P}static recordPatternInReverse(e,t,r){let n=r.length,a=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==a&&(n--,a=!a);if(n>=0)throw new P;be.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let a=0,o=0;for(let r=0;r<n;r++)a+=e[r],o+=t[r];if(a<o)return Number.POSITIVE_INFINITY;const i=a/o;r*=i;let s=0;for(let a=0;a<n;a++){const n=e[a],o=t[a]*i,c=n>o?n-o:o-n;if(c>r)return Number.POSITIVE_INFINITY;s+=c}return s/a}}class ye extends be{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,a=Int32Array.from([0,0,0,0,0,0]),o=r,i=!1;const s=6;for(let c=r;c<t;c++)if(e.get(c)!==i)a[n]++;else{if(n===s-1){let t=ye.MAX_AVG_VARIANCE,r=-1;for(let e=ye.CODE_START_A;e<=ye.CODE_START_C;e++){const n=be.patternMatchVariance(a,ye.CODE_PATTERNS[e],ye.MAX_INDIVIDUAL_VARIANCE);n<t&&(t=n,r=e)}if(r>=0&&e.isRange(Math.max(0,o-(c-o)/2),o,!1))return Int32Array.from([o,c,r]);o+=a[0]+a[1],a=a.slice(2,a.length-1),a[n-1]=0,a[n]=0,n--}else n++;a[n]=1,i=!i}throw new P}static decodeCode(e,t,r){be.recordPattern(e,r,t);let n=ye.MAX_AVG_VARIANCE,a=-1;for(let e=0;e<ye.CODE_PATTERNS.length;e++){const r=ye.CODE_PATTERNS[e],o=this.patternMatchVariance(t,r,ye.MAX_INDIVIDUAL_VARIANCE);o<n&&(n=o,a=e)}if(a>=0)return a;throw new P}decodeRow(e,t,r){const n=r&&!0===r.get(j.ASSUME_GS1),a=ye.findStartPattern(t),o=a[2];let i=0;const s=new Uint8Array(20);let c;switch(s[i++]=o,o){case ye.CODE_START_A:c=ye.CODE_CODE_A;break;case ye.CODE_START_B:c=ye.CODE_CODE_B;break;case ye.CODE_START_C:c=ye.CODE_CODE_C;break;default:throw new w}let l=!1,u=!1,d="",f=a[0],p=a[1];const m=Int32Array.from([0,0,0,0,0,0]);let g=0,x=0,v=o,b=0,y=!0,_=!1,N=!1;for(;!l;){const e=u;switch(u=!1,g=x,x=ye.decodeCode(t,m,p),s[i++]=x,x!==ye.CODE_STOP&&(y=!0),x!==ye.CODE_STOP&&(b++,v+=b*x),f=p,p+=m.reduce(((e,t)=>e+t),0),x){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new w}switch(c){case ye.CODE_CODE_A:if(x<64)d+=N===_?String.fromCharCode(" ".charCodeAt(0)+x):String.fromCharCode(" ".charCodeAt(0)+x+128),N=!1;else if(x<96)d+=N===_?String.fromCharCode(x-64):String.fromCharCode(x+64),N=!1;else switch(x!==ye.CODE_STOP&&(y=!1),x){case ye.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!_&&N?(_=!0,N=!1):_&&N?(_=!1,N=!1):N=!0;break;case ye.CODE_SHIFT:u=!0,c=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:c=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:c=ye.CODE_CODE_C;break;case ye.CODE_STOP:l=!0}break;case ye.CODE_CODE_B:if(x<96)d+=N===_?String.fromCharCode(" ".charCodeAt(0)+x):String.fromCharCode(" ".charCodeAt(0)+x+128),N=!1;else switch(x!==ye.CODE_STOP&&(y=!1),x){case ye.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!_&&N?(_=!0,N=!1):_&&N?(_=!1,N=!1):N=!0;break;case ye.CODE_SHIFT:u=!0,c=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:c=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:c=ye.CODE_CODE_C;break;case ye.CODE_STOP:l=!0}break;case ye.CODE_CODE_C:if(x<100)x<10&&(d+="0"),d+=x;else switch(x!==ye.CODE_STOP&&(y=!1),x){case ye.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case ye.CODE_CODE_A:c=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:c=ye.CODE_CODE_B;break;case ye.CODE_STOP:l=!0}}e&&(c=c===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const E=p-f;if(p=t.getNextUnset(p),!t.isRange(p,Math.min(t.getSize(),p+(p-f)/2),!1))throw new P;if(v-=b*g,v%103!==g)throw new h;const C=d.length;if(0===C)throw new P;C>0&&y&&(d=c===ye.CODE_CODE_C?d.substring(0,C-2):d.substring(0,C-1));const S=(a[1]+a[0])/2,O=f+E/2,A=s.length,D=new Uint8Array(A);for(let e=0;e<A;e++)D[e]=s[e];const I=[new se(S,e),new se(O,e)];return new U(d,D,0,I,V.CODE_128,(new Date).getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class _e extends be{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let a,o,i=_e.findAsteriskPattern(t,n),s=t.getNextSet(i[1]),c=t.getSize();do{_e.recordPattern(t,s,n);let e=_e.toNarrowWidePattern(n);if(e<0)throw new P;a=_e.patternToChar(e),this.decodeRowResult+=a,o=s;for(let e of n)s+=e;s=t.getNextSet(s)}while("*"!==a);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let l,u=0;for(let e of n)u+=e;if(s!==c&&2*(s-o-u)<u)throw new P;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let r=0;r<e;r++)t+=_e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(r));if(this.decodeRowResult.charAt(e)!==_e.ALPHABET_STRING.charAt(t%43))throw new h;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new P;l=this.extendedMode?_e.decodeExtended(this.decodeRowResult):this.decodeRowResult;let d=(i[1]+i[0])/2,f=o+u/2;return new U(l,null,0,[new se(d,e),new se(f,e)],V.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),a=0,o=n,i=!1,s=t.length;for(let c=n;c<r;c++)if(e.get(c)!==i)t[a]++;else{if(a===s-1){if(this.toNarrowWidePattern(t)===_e.ASTERISK_ENCODING&&e.isRange(Math.max(0,o-Math.floor((c-o)/2)),o,!1))return[o,c];o+=t[0]+t[1],t.copyWithin(0,2,2+a-1),t[a-1]=0,t[a]=0,a--}else a++;t[a]=1,i=!i}throw new P}static toNarrowWidePattern(e){let t,r=e.length,n=0;do{let a=2147483647;for(let t of e)t<a&&t>n&&(a=t);n=a,t=0;let o=0,i=0;for(let a=0;a<r;a++){let s=e[a];s>n&&(i|=1<<r-1-a,t++,o+=s)}if(3===t){for(let a=0;a<r&&t>0;a++){let r=e[a];if(r>n&&(t--,2*r>=o))return-1}return i}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<_e.CHARACTER_ENCODINGS.length;t++)if(_e.CHARACTER_ENCODINGS[t]===e)return _e.ALPHABET_STRING.charAt(t);if(e===_e.ASTERISK_ENCODING)return"*";throw new P}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let t=e.charAt(n);if("+"===t||"$"===t||"%"===t||"/"===t){let a=e.charAt(n+1),o="\0";switch(t){case"+":if(!(a>="A"&&a<="Z"))throw new w;o=String.fromCharCode(a.charCodeAt(0)+32);break;case"$":if(!(a>="A"&&a<="Z"))throw new w;o=String.fromCharCode(a.charCodeAt(0)-64);break;case"%":if(a>="A"&&a<="E")o=String.fromCharCode(a.charCodeAt(0)-38);else if(a>="F"&&a<="J")o=String.fromCharCode(a.charCodeAt(0)-11);else if(a>="K"&&a<="O")o=String.fromCharCode(a.charCodeAt(0)+16);else if(a>="P"&&a<="T")o=String.fromCharCode(a.charCodeAt(0)+43);else if("U"===a)o="\0";else if("V"===a)o="@";else if("W"===a)o="`";else{if("X"!==a&&"Y"!==a&&"Z"!==a)throw new w;o=""}break;case"/":if(a>="A"&&a<="O")o=String.fromCharCode(a.charCodeAt(0)-32);else{if("Z"!==a)throw new w;o=":"}}r+=o,n++}else r+=t}return r}}_e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",_e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],_e.ASTERISK_ENCODING=148;class je extends be{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),a=this.decodeEnd(t),o=new O;je.decodeMiddle(t,n[1],a[0],o);let i=o.toString(),s=null;null!=r&&(s=r.get(j.ALLOWED_LENGTHS)),null==s&&(s=je.DEFAULT_ALLOWED_LENGTHS);let c=i.length,l=!1,u=0;for(let e of s){if(c===e){l=!0;break}e>u&&(u=e)}if(!l&&c>u&&(l=!0),!l)throw new w;const d=[new se(n[1],e),new se(a[0],e)];return new U(i,null,0,d,V.ITF,(new Date).getTime())}static decodeMiddle(e,t,r,n){let a=new Int32Array(10),o=new Int32Array(5),i=new Int32Array(5);for(a.fill(0),o.fill(0),i.fill(0);t<r;){be.recordPattern(e,t,a);for(let e=0;e<5;e++){let t=2*e;o[e]=a[t],i[e]=a[t+1]}let r=je.decodeDigit(o);n.append(r.toString()),r=this.decodeDigit(i),n.append(r.toString()),a.forEach((function(e){t+=e}))}}decodeStart(e){let t=je.skipWhiteSpace(e),r=je.findGuardPattern(e,t,je.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=10*this.narrowLineWidth;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(0!==r)throw new P}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new P;return r}decodeEnd(e){e.reverse();try{let t,r=je.skipWhiteSpace(e);try{t=je.findGuardPattern(e,r,je.END_PATTERN_REVERSED[0])}catch(n){n instanceof P&&(t=je.findGuardPattern(e,r,je.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,t[0]);let n=t[0];return t[0]=e.getSize()-t[1],t[1]=e.getSize()-n,t}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,a=new Int32Array(n),o=e.getSize(),i=!1,s=0,c=t;a.fill(0);for(let l=t;l<o;l++)if(e.get(l)!==i)a[s]++;else{if(s===n-1){if(be.patternMatchVariance(a,r,je.MAX_INDIVIDUAL_VARIANCE)<je.MAX_AVG_VARIANCE)return[c,l];c+=a[0]+a[1],m.arraycopy(a,2,a,0,s-1),a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,i=!i}throw new P}static decodeDigit(e){let t=je.MAX_AVG_VARIANCE,r=-1,n=je.PATTERNS.length;for(let a=0;a<n;a++){let n=je.PATTERNS[a],o=be.patternMatchVariance(e,n,je.MAX_INDIVIDUAL_VARIANCE);o<t?(t=o,r=a):o===t&&(r=-1)}if(r>=0)return r%10;throw new P}}je.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],je.MAX_AVG_VARIANCE=.38,je.MAX_INDIVIDUAL_VARIANCE=.5,je.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],je.START_PATTERN=Int32Array.from([1,1,1,1]),je.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class we extends be{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,r=!1,n=0,a=Int32Array.from([0,0,0]);for(;!r;){a=Int32Array.from([0,0,0]),t=we.findGuardPattern(e,n,!1,this.START_END_PATTERN,a);let o=t[0];n=t[1];let i=o-(n-o);i>=0&&(r=e.isRange(i,o,!1))}return t}static checkChecksum(e){return we.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return we.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new w;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new w;r+=t}return(1e3-r)%10}static decodeEnd(e,t){return we.findGuardPattern(e,t,!1,we.START_END_PATTERN,new Int32Array(we.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,a){let o=e.getSize(),i=0,s=t=r?e.getNextUnset(t):e.getNextSet(t),c=n.length,l=r;for(let r=t;r<o;r++)if(e.get(r)!==l)a[i]++;else{if(i===c-1){if(be.patternMatchVariance(a,n,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return Int32Array.from([s,r]);s+=a[0]+a[1];let e=a.slice(2,a.length-1);for(let t=0;t<i-1;t++)a[t]=e[t];a[i-1]=0,a[i]=0,i--}else i++;a[i]=1,l=!l}throw new P}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let a=this.MAX_AVG_VARIANCE,o=-1,i=n.length;for(let e=0;e<i;e++){let r=n[e],i=be.patternMatchVariance(t,r,we.MAX_INDIVIDUAL_VARIANCE);i<a&&(a=i,o=e)}if(o>=0)return o;throw new P}}we.MAX_AVG_VARIANCE=.48,we.MAX_INDIVIDUAL_VARIANCE=.7,we.START_END_PATTERN=Int32Array.from([1,1,1]),we.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),we.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),we.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ne{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,n),o=n.toString(),i=Ne.parseExtensionString(o),s=[new se((r[0]+r[1])/2,e),new se(a,e)],c=new U(o,null,0,s,V.UPC_EAN_EXTENSION,(new Date).getTime());return null!=i&&c.putAllMetadata(i),c}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),o=t[1],i=0;for(let t=0;t<5&&o<a;t++){let a=we.decodeDigit(e,n,o,we.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a%10);for(let e of n)o+=e;a>=10&&(i|=1<<4-t),4!==t&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(5!==r.length)throw new P;let s=this.determineCheckDigit(i);if(Ne.extensionChecksum(r.toString())!==s)throw new P;return o}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new P}static parseExtensionString(e){if(5!==e.length)return null;let t=Ne.parseExtension5String(e);return null==t?null:new Map([[Y.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let r=parseInt(e.substring(1)),n=r%100;return t+(r/100).toString()+"."+(n<10?"0"+n:n.toString())}}class Ee{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,a=this.decodeMiddle(t,r,n),o=n.toString(),i=Ee.parseExtensionString(o),s=[new se((r[0]+r[1])/2,e),new se(a,e)],c=new U(o,null,0,s,V.UPC_EAN_EXTENSION,(new Date).getTime());return null!=i&&c.putAllMetadata(i),c}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),o=t[1],i=0;for(let t=0;t<2&&o<a;t++){let a=we.decodeDigit(e,n,o,we.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a%10);for(let e of n)o+=e;a>=10&&(i|=1<<1-t),1!==t&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(2!==r.length)throw new P;if(parseInt(r.toString())%4!==i)throw new P;return o}static parseExtensionString(e){return 2!==e.length?null:new Map([[Y.ISSUE_NUMBER,parseInt(e)]])}}class Ce{static decodeRow(e,t,r){let n=we.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Ne).decodeRow(e,t,n)}catch(r){return(new Ee).decodeRow(e,t,n)}}}Ce.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Se extends we{constructor(){super(),this.decodeRowStringBuffer="",Se.L_AND_G_PATTERNS=Se.L_PATTERNS.map((e=>Int32Array.from(e)));for(let e=10;e<20;e++){let t=Se.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let e=0;e<t.length;e++)r[e]=t[t.length-e-1];Se.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=Se.findStartGuardPattern(t),a=null==r?null:r.get(j.NEED_RESULT_POINT_CALLBACK);if(null!=a){const t=new se((n[0]+n[1])/2,e);a.foundPossibleResultPoint(t)}let o=this.decodeMiddle(t,n,this.decodeRowStringBuffer),i=o.rowOffset,s=o.resultString;if(null!=a){const t=new se(i,e);a.foundPossibleResultPoint(t)}let c=this.decodeEnd(t,i);if(null!=a){const t=new se((c[0]+c[1])/2,e);a.foundPossibleResultPoint(t)}let l=c[1],u=l+(l-c[0]);if(u>=t.getSize()||!t.isRange(l,u,!1))throw new P;let d=s.toString();if(d.length<8)throw new w;if(!Se.checkChecksum(d))throw new h;let f=(n[1]+n[0])/2,p=(c[1]+c[0])/2,m=this.getBarcodeFormat(),g=[new se(f,e),new se(p,e)],x=new U(d,null,0,g,m,(new Date).getTime()),v=0;try{let r=Ce.decodeRow(e,t,c[1]);x.putMetadata(Y.UPC_EAN_EXTENSION,r.getText()),x.putAllMetadata(r.getResultMetadata()),x.addResultPoints(r.getResultPoints()),v=r.getText().length}catch(e){}let b=null==r?null:r.get(j.ALLOWED_EAN_EXTENSIONS);if(null!=b){let e=!1;for(let t in b)if(v.toString()===t){e=!0;break}if(!e)throw new P}return x}decodeEnd(e,t){return Se.findGuardPattern(e,t,!1,Se.START_END_PATTERN,new Int32Array(Se.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Se.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return Se.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new w;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new w;r+=t}return(1e3-r)%10}}class Oe extends Se{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),o=t[1],i=0;for(let t=0;t<6&&o<a;t++){let a=Se.decodeDigit(e,n,o,Se.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a%10);for(let e of n)o+=e;a>=10&&(i|=1<<5-t)}r=Oe.determineFirstDigit(r,i),o=Se.findGuardPattern(e,o,!0,Se.MIDDLE_PATTERN,new Int32Array(Se.MIDDLE_PATTERN.length).fill(0))[1];for(let t=0;t<6&&o<a;t++){let t=Se.decodeDigit(e,n,o,Se.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)o+=e}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return V.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode("0".charCodeAt(0)+r)+e;throw new P}}Oe.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ae extends Se{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a=e.getSize(),o=t[1];for(let t=0;t<4&&o<a;t++){let t=Se.decodeDigit(e,n,o,Se.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)o+=e}o=Se.findGuardPattern(e,o,!0,Se.MIDDLE_PATTERN,new Int32Array(Se.MIDDLE_PATTERN.length).fill(0))[1];for(let t=0;t<4&&o<a;t++){let t=Se.decodeDigit(e,n,o,Se.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)o+=e}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return V.EAN_8}}class Pe extends Se{constructor(){super(...arguments),this.ean13Reader=new Oe}getBarcodeFormat(){return V.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let r=new U(t.substring(1),null,null,e.getResultPoints(),V.UPC_A);return null!=e.getResultMetadata()&&r.putAllMetadata(e.getResultMetadata()),r}throw new P}reset(){this.ean13Reader.reset()}}class De extends Se{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map((e=>e));n[0]=0,n[1]=0,n[2]=0,n[3]=0;const a=e.getSize();let o=t[1],i=0;for(let t=0;t<6&&o<a;t++){const a=De.decodeDigit(e,n,o,De.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+a%10);for(let e of n)o+=e;a>=10&&(i|=1<<5-t)}return{rowOffset:o,resultString:De.determineNumSysAndCheckDigit(r,i)}}decodeEnd(e,t){return De.findGuardPatternWithoutCounters(e,t,!0,De.MIDDLE_END_PATTERN)}checkChecksum(e){return Se.checkChecksum(De.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n])return String.fromCharCode("0".charCodeAt(0)+r)+e+String.fromCharCode("0".charCodeAt(0)+n);throw P.getNotFoundInstance()}getBarcodeFormat(){return V.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map((e=>e.charCodeAt(0))),r=new O;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n)}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}De.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),De.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ie extends be{constructor(e){super();let r=null==e?null:e.get(j.POSSIBLE_FORMATS),n=[];t(r)?(n.push(new Oe),n.push(new Pe),n.push(new Ae),n.push(new De)):(r.indexOf(V.EAN_13)>-1&&n.push(new Oe),r.indexOf(V.UPC_A)>-1&&n.push(new Pe),r.indexOf(V.EAN_8)>-1&&n.push(new Ae),r.indexOf(V.UPC_E)>-1&&n.push(new De)),this.readers=n}decodeRow(e,t,r){for(let n of this.readers)try{const a=n.decodeRow(e,t,r),o=a.getBarcodeFormat()===V.EAN_13&&"0"===a.getText().charAt(0),i=null==r?null:r.get(j.POSSIBLE_FORMATS),s=null==i||i.includes(V.UPC_A);if(o&&s){const e=a.getRawBytes(),t=new U(a.getText().substring(1),e,e?e.length:null,a.getResultPoints(),V.UPC_A);return t.putAllMetadata(a.getResultMetadata()),t}return a}catch(e){}throw new P}reset(){for(let e of this.readers)e.reset()}}class Te extends be{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(be.patternMatchVariance(e,t[r],Te.MAX_INDIVIDUAL_VARIANCE)<Te.MAX_AVG_VARIANCE)return r;throw new P}static count(e){return oe.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let a=1;a<e.length;a++)t[a]>n&&(n=t[a],r=a);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let a=1;a<e.length;a++)t[a]<n&&(n=t[a],r=a);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t/(t+e[2]+e[3]);if(r>=Te.MIN_FINDER_PATTERN_RATIO&&r<=Te.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;for(let n of e)n>r&&(r=n),n<t&&(t=n);return r<10*t}return!1}}Te.MAX_AVG_VARIANCE=.2,Te.MAX_INDIVIDUAL_VARIANCE=.45,Te.MIN_FINDER_PATTERN_RATIO=9.5/12,Te.MAX_FINDER_PATTERN_RATIO=12.5/14;class Me{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Me))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ke{constructor(e,t,r,n,a){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new se(r,a)),this.resultPoints.push(new se(n,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ke))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Re{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let t of e)n+=t;let a=0,o=0,i=e.length;for(let s=0;s<i-1;s++){let c;for(c=1,o|=1<<s;c<e[s];c++,o&=~(1<<s)){let e=Re.combins(n-c-1,i-s-2);if(r&&0===o&&n-c-(i-s-1)>=i-s-1&&(e-=Re.combins(n-c-(i-s),i-s-2)),i-s-1>1){let r=0;for(let e=n-c-(i-s-2);e>t;e--)r+=Re.combins(n-c-e-1,i-s-3);e-=r*(i-1-s)}else n-c>t&&e--;a+=e}n-=c}return a}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let a=1,o=1;for(let t=e;t>r;t--)a*=t,o<=n&&(a/=o,o++);for(;o<=n;)a/=o,o++;return a}}class Be{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let r=new y(12*t),n=0,a=e[0].getRightChar().getValue();for(let e=11;e>=0;--e)a&1<<e&&r.set(n),n++;for(let t=1;t<e.length;++t){let a=e[t],o=a.getLeftChar().getValue();for(let e=11;e>=0;--e)o&1<<e&&r.set(n),n++;if(null!=a.getRightChar()){let e=a.getRightChar().getValue();for(let t=11;t>=0;--t)e&1<<t&&r.set(n),n++}}return r}}class Le{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fe{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Ue extends Fe{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Ue.FNC1}}Ue.FNC1="$";class We extends Fe{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ve extends Fe{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new w;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ve.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ve.FNC1}isAnyFNC1(){return this.firstDigit===Ve.FNC1||this.secondDigit===Ve.FNC1}}Ve.FNC1=10;class ze{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new P;let t=e.substring(0,2);for(let r of ze.TWO_DIGIT_DATA_LENGTH)if(r[0]===t)return r[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,r[2],e):ze.processFixedAI(2,r[1],e);if(e.length<3)throw new P;let r=e.substring(0,3);for(let t of ze.THREE_DIGIT_DATA_LENGTH)if(t[0]===r)return t[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,t[2],e):ze.processFixedAI(3,t[1],e);for(let t of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(t[0]===r)return t[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,t[2],e):ze.processFixedAI(4,t[1],e);if(e.length<4)throw new P;let n=e.substring(0,4);for(let t of ze.FOUR_DIGIT_DATA_LENGTH)if(t[0]===n)return t[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,t[2],e):ze.processFixedAI(4,t[1],e);throw new P}static processFixedAI(e,t,r){if(r.length<e)throw new P;let n=r.substring(0,e);if(r.length<e+t)throw new P;let a=r.substring(e,e+t),o=r.substring(e+t),i="("+n+")"+a,s=ze.parseFieldsInGeneralPurpose(o);return null==s?i:i+s}static processVariableAI(e,t,r){let n,a=r.substring(0,e);n=r.length<e+t?r.length:e+t;let o=r.substring(e,n),i=r.substring(n),s="("+a+")"+o,c=ze.parseFieldsInGeneralPurpose(i);return null==c?s:s+c}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class Ke{constructor(e){this.buffer=new O,this.information=e}decodeAllCodes(e,t){let r=t,n=null;for(;;){let t=this.decodeGeneralPurposeField(r,n),a=ze.parseFieldsInGeneralPurpose(t.getNewString());if(null!=a&&e.append(a),n=t.isRemaining()?""+t.getRemainingValue():null,r===t.getNewPosition())break;r=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new Ve(this.information.getSize(),0===t?Ve.FNC1:t-1,Ve.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new Ve(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return Ke.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let a=0;a<r;++a)e.get(t+a)&&(n|=1<<r-a-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return null!=r&&r.isRemaining()?new We(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new We(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),r===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new We(this.current.getPosition(),this.buffer.toString()):new We(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Le(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new We(this.current.getPosition(),this.buffer.toString());return new Le(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Le(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new We(this.current.getPosition(),this.buffer.toString());return new Le(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Le(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new We(this.current.getPosition(),this.buffer.toString());return new Le(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Le(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ue(e+7,""+(n+1));if(n>=90&&n<116)return new Ue(e+7,""+(n+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new w}return new Ue(e+8,r)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new Ue(e+5,Ue.FNC1);if(t>=5&&t<15)return new Ue(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ue(e+6,""+(n+33));switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new re("Decoding invalid alphanumeric value: "+n)}return new Ue(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Ge{constructor(e){this.information=e,this.generalDecoder=new Ke(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class qe extends Ge{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let r=0;r<4;++r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*r,10);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n)}qe.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let a=e.charAt(n+t).charCodeAt(0)-"0".charCodeAt(0);r+=1&n?a:3*a}r=10-r%10,10===r&&(r=0),e.append(r)}}qe.GTIN_SIZE=40;class He extends qe{constructor(e){super(e)}parseInformation(){let e=new O;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(He.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,He.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,He.HEADER_SIZE+44)}}He.HEADER_SIZE=4;class $e extends Ge{constructor(e){super(e)}parseInformation(){let e=new O;return this.getGeneralDecoder().decodeAllCodes(e,$e.HEADER_SIZE)}}$e.HEADER_SIZE=5;class Ye extends qe{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let a=this.checkWeight(n),o=1e5;for(let t=0;t<5;++t)a/o==0&&e.append("0"),o/=10;e.append(a)}}class Xe extends Ye{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Xe.HEADER_SIZE+Ye.GTIN_SIZE+Xe.WEIGHT_SIZE)throw new P;let e=new O;return this.encodeCompressedGtin(e,Xe.HEADER_SIZE),this.encodeCompressedWeight(e,Xe.HEADER_SIZE+Ye.GTIN_SIZE,Xe.WEIGHT_SIZE),e.toString()}}Xe.HEADER_SIZE=5,Xe.WEIGHT_SIZE=15;class Qe extends Xe{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Ze extends Xe{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Je extends qe{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Je.HEADER_SIZE+qe.GTIN_SIZE)throw new P;let e=new O;this.encodeCompressedGtin(e,Je.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Je.HEADER_SIZE+qe.GTIN_SIZE,Je.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Je.HEADER_SIZE+qe.GTIN_SIZE+Je.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Je.HEADER_SIZE=8,Je.LAST_DIGIT_SIZE=2;class et extends qe{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<et.HEADER_SIZE+qe.GTIN_SIZE)throw new P;let e=new O;this.encodeCompressedGtin(e,et.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+qe.GTIN_SIZE,et.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(et.HEADER_SIZE+qe.GTIN_SIZE+et.LAST_DIGIT_SIZE,et.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(et.HEADER_SIZE+qe.GTIN_SIZE+et.LAST_DIGIT_SIZE+et.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}et.HEADER_SIZE=8,et.LAST_DIGIT_SIZE=2,et.FIRST_THREE_DIGITS_SIZE=10;class tt extends Ye{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE+tt.DATE_SIZE)throw new P;let e=new O;return this.encodeCompressedGtin(e,tt.HEADER_SIZE),this.encodeCompressedWeight(e,tt.HEADER_SIZE+tt.GTIN_SIZE,tt.WEIGHT_SIZE),this.encodeCompressedDate(e,tt.HEADER_SIZE+tt.GTIN_SIZE+tt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,tt.DATE_SIZE);if(38400==r)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let a=r%12+1;r/=12;let o=r;o/10==0&&e.append("0"),e.append(o),a/10==0&&e.append("0"),e.append(a),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function rt(e){try{if(e.get(1))return new He(e);if(!e.get(2))return new $e(e);switch(Ke.extractNumericValueFromBitArray(e,1,4)){case 4:return new Qe(e);case 5:return new Ze(e)}switch(Ke.extractNumericValueFromBitArray(e,1,5)){case 12:return new Je(e);case 13:return new et(e)}switch(Ke.extractNumericValueFromBitArray(e,1,7)){case 56:return new tt(e,"310","11");case 57:return new tt(e,"320","11");case 58:return new tt(e,"310","13");case 59:return new tt(e,"320","13");case 60:return new tt(e,"310","15");case 61:return new tt(e,"320","15");case 62:return new tt(e,"310","17");case 63:return new tt(e,"320","17")}}catch(t){throw console.log(t),new re("unknown decoder: "+e)}}tt.HEADER_SIZE=8,tt.WEIGHT_SIZE=20,tt.DATE_SIZE=16;class nt{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof nt&&nt.equalsOrNull(e.leftchar,t.leftchar)&&nt.equalsOrNull(e.rightchar,t.rightchar)&&nt.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:nt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class at{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof at&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach(((e,n)=>{t.forEach((t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(r=!0)}))})),r}}class ot extends Te{constructor(e){super(...arguments),this.pairs=new Array(ot.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return ot.constructResult(this.decodeRow2pairs(e,t))}catch(e){this.verbose&&console.log(e)}return this.pairs.length=0,this.startFromEven=!0,ot.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r,n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(e){if(e instanceof P){if(!this.pairs.length)throw new P;n=!0}}if(this.checkChecksum())return this.pairs;if(r=!!this.rows.length,this.storeRow(e,!1),r){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new P}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(e){this.verbose&&console.log(e)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let t=this.rows[r];this.pairs.length=0;for(let t of e)this.pairs.push(t.getPairs());if(this.pairs.push(t.getPairs()),!ot.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let n=new Array(e);n.push(t);try{return this.checkRows(n,r+1)}catch(e){this.verbose&&console.log(e)}}throw new P}static isValidSequence(e){for(let t of ot.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,a=!1;for(;r<this.rows.length;){let t=this.rows[r];if(t.getRowNumber()>e){a=t.isEquivalent(this.pairs);break}n=t.isEquivalent(this.pairs),r++}a||n||ot.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new at(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length)for(let t of r.getPairs())for(let r of e)if(nt.equals(t,r))break}static isPartialRow(e,t){for(let r of t){let t=!0;for(let n of e){let e=!1;for(let t of r.getPairs())if(n.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=rt(Be.buildBitArray(e)).parseInformation(),r=e[0].getFinderPattern().getResultPoints(),n=e[e.length-1].getFinderPattern().getResultPoints(),a=[r[0],r[1],n[0],n[1]];return new U(t,null,null,a,V.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(null==r)return!1;let n=r.getChecksumPortion(),a=2;for(let e=1;e<this.pairs.size();++e){let t=this.pairs.get(e);n+=t.getLeftChar().getChecksumPortion(),a++;let r=t.getRightChar();null!=r&&(n+=r.getChecksumPortion(),a++)}return n%=211,211*(a-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n,a=t.length%2==0;this.startFromEven&&(a=!a);let o=!0,i=-1;do{this.findNextPair(e,t,i),n=this.parseFoundFinderPattern(e,r,a),null==n?i=ot.getNextSecondBar(e,this.startEnd[0]):o=!1}while(o);let s,c=this.decodeDataCharacter(e,n,a,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new P;try{s=this.decodeDataCharacter(e,n,a,!1)}catch(e){s=null,this.verbose&&console.log(e)}return new nt(c,s,n,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let a,o=e.getSize();a=r>=0?r:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let i=t.length%2!=0;this.startFromEven&&(i=!i);let s=!1;for(;a<o&&(s=!e.get(a),s);)a++;let c=0,l=a;for(let t=a;t<o;t++)if(e.get(t)!=s)n[c]++;else{if(3==c){if(i&&ot.reverseCounters(n),ot.isFinderPattern(n))return this.startEnd[0]=l,void(this.startEnd[1]=t);i&&ot.reverseCounters(n),l+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,c--}else c++;n[c]=1,s=!s}throw new P}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,a,o;if(r){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,n=this.startEnd[0]-t,a=t,o=this.startEnd[1]}else a=this.startEnd[0],o=e.getNextUnset(this.startEnd[1]+1),n=o-this.startEnd[1];let i,s=this.getDecodeFinderCounters();m.arraycopy(s,0,s,1,s.length-1),s[0]=n;try{i=this.parseFinderValue(s,ot.FINDER_PATTERNS)}catch(e){return null}return new ke(i,[a,o],a,o,t)}decodeDataCharacter(e,t,r,n){let a=this.getDataCharacterCounters();for(let e=0;e<a.length;e++)a[e]=0;if(n)ot.recordPatternInReverse(e,t.getStartEnd()[0],a);else{ot.recordPattern(e,t.getStartEnd()[1],a);for(let e=0,t=a.length-1;e<t;e++,t--){let r=a[e];a[e]=a[t],a[t]=r}}let o=17,i=oe.sum(new Int32Array(a))/o,s=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(i-s)/s>.3)throw new P;let c=this.getOddCounts(),l=this.getEvenCounts(),u=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let e=0;e<a.length;e++){let t=1*a[e]/i,r=t+.5;if(r<1){if(t<.3)throw new P;r=1}else if(r>8){if(t>8.7)throw new P;r=8}let n=e/2;1&e?(l[n]=r,d[n]=t-r):(c[n]=r,u[n]=t-r)}this.adjustOddEvenCounts(o);let f=4*t.getValue()+(r?0:2)+(n?0:1)-1,h=0,p=0;for(let e=c.length-1;e>=0;e--){if(ot.isNotA1left(t,r,n)){let t=ot.WEIGHTS[f][2*e];p+=c[e]*t}h+=c[e]}let m=0;for(let e=l.length-1;e>=0;e--)if(ot.isNotA1left(t,r,n)){let t=ot.WEIGHTS[f][2*e+1];m+=l[e]*t}let g=p+m;if(1&h||h>13||h<4)throw new P;let x=(13-h)/2,v=ot.SYMBOL_WIDEST[x],b=9-v,y=Re.getRSSvalue(c,v,!0),_=Re.getRSSvalue(l,b,!1),j=ot.EVEN_TOTAL_SUBSET[x],w=ot.GSUM[x];return new Me(y*j+_+w,g)}static isNotA1left(e,t,r){return!(0==e.getValue()&&t&&r)}adjustOddEvenCounts(e){let t=oe.sum(new Int32Array(this.getOddCounts())),r=oe.sum(new Int32Array(this.getEvenCounts())),n=!1,a=!1;t>13?a=!0:t<4&&(n=!0);let o=!1,i=!1;r>13?i=!0:r<4&&(o=!0);let s=t+r-e,c=!(1&~t),l=!(1&r);if(1==s)if(c){if(l)throw new P;a=!0}else{if(!l)throw new P;i=!0}else if(-1==s)if(c){if(l)throw new P;n=!0}else{if(!l)throw new P;o=!0}else{if(0!=s)throw new P;if(c){if(!l)throw new P;t<r?(n=!0,i=!0):(a=!0,o=!0)}else if(l)throw new P}if(n){if(a)throw new P;ot.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&ot.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(i)throw new P;ot.increment(this.getEvenCounts(),this.getOddRoundingErrors())}i&&ot.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ot.SYMBOL_WIDEST=[7,5,4,3,1],ot.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ot.GSUM=[0,348,1388,2948,3988],ot.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ot.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ot.FINDER_PAT_A=0,ot.FINDER_PAT_B=1,ot.FINDER_PAT_C=2,ot.FINDER_PAT_D=3,ot.FINDER_PAT_E=4,ot.FINDER_PAT_F=5,ot.FINDER_PATTERN_SEQUENCES=[[ot.FINDER_PAT_A,ot.FINDER_PAT_A],[ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B],[ot.FINDER_PAT_A,ot.FINDER_PAT_C,ot.FINDER_PAT_B,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_C],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_E,ot.FINDER_PAT_B,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F],[ot.FINDER_PAT_A,ot.FINDER_PAT_A,ot.FINDER_PAT_B,ot.FINDER_PAT_B,ot.FINDER_PAT_C,ot.FINDER_PAT_D,ot.FINDER_PAT_D,ot.FINDER_PAT_E,ot.FINDER_PAT_E,ot.FINDER_PAT_F,ot.FINDER_PAT_F]],ot.MAX_PAIRS=11;class it extends Me{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class st extends Te{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);st.addOrTally(this.possibleLeftPairs,n),t.reverse();let a=this.decodePair(t,!0,e,r);st.addOrTally(this.possibleRightPairs,a),t.reverse();for(let e of this.possibleLeftPairs)if(e.getCount()>1)for(let t of this.possibleRightPairs)if(t.getCount()>1&&st.checkChecksum(e,t))return st.constructResult(e,t);throw new P}static addOrTally(e,t){if(null==t)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),a=new O;for(let e=13-n.length;e>0;e--)a.append("0");a.append(n);let o=0;for(let e=0;e<13;e++){let t=a.charAt(e).charCodeAt(0)-"0".charCodeAt(0);o+=1&e?t:3*t}o=10-o%10,10===o&&(o=0),a.append(o.toString());let i=e.getFinderPattern().getResultPoints(),s=t.getFinderPattern().getResultPoints();return new U(a.toString(),null,0,[i[0],i[1],s[0],s[1]],V.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let a=this.findFinderPattern(e,t),o=this.parseFoundFinderPattern(e,r,t,a),i=null==n?null:n.get(j.NEED_RESULT_POINT_CALLBACK);if(null!=i){let n=(a[0]+a[1])/2;t&&(n=e.getSize()-1-n),i.foundPossibleResultPoint(new se(n,r))}let s=this.decodeDataCharacter(e,o,!0),c=this.decodeDataCharacter(e,o,!1);return new it(1597*s.getValue()+c.getValue(),s.getChecksumPortion()+4*c.getChecksumPortion(),o)}catch(e){return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let e=0;e<n.length;e++)n[e]=0;if(r)be.recordPatternInReverse(e,t.getStartEnd()[0],n);else{be.recordPattern(e,t.getStartEnd()[1]+1,n);for(let e=0,t=n.length-1;e<t;e++,t--){let r=n[e];n[e]=n[t],n[t]=r}}let a=r?16:15,o=oe.sum(new Int32Array(n))/a,i=this.getOddCounts(),s=this.getEvenCounts(),c=this.getOddRoundingErrors(),l=this.getEvenRoundingErrors();for(let e=0;e<n.length;e++){let t=n[e]/o,r=Math.floor(t+.5);r<1?r=1:r>8&&(r=8);let a=Math.floor(e/2);1&e?(s[a]=r,l[a]=t-r):(i[a]=r,c[a]=t-r)}this.adjustOddEvenCounts(r,a);let u=0,d=0;for(let e=i.length-1;e>=0;e--)d*=9,d+=i[e],u+=i[e];let f=0,h=0;for(let e=s.length-1;e>=0;e--)f*=9,f+=s[e],h+=s[e];let p=d+3*f;if(r){if(1&u||u>12||u<4)throw new P;let e=(12-u)/2,t=st.OUTSIDE_ODD_WIDEST[e],r=9-t,n=Re.getRSSvalue(i,t,!1),a=Re.getRSSvalue(s,r,!0),o=st.OUTSIDE_EVEN_TOTAL_SUBSET[e],c=st.OUTSIDE_GSUM[e];return new Me(n*o+a+c,p)}{if(1&h||h>10||h<4)throw new P;let e=(10-h)/2,t=st.INSIDE_ODD_WIDEST[e],r=9-t,n=Re.getRSSvalue(i,t,!0),a=Re.getRSSvalue(s,r,!1),o=st.INSIDE_ODD_TOTAL_SUBSET[e],c=st.INSIDE_GSUM[e];return new Me(a*o+n+c,p)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),a=!1,o=0;for(;o<n&&(a=!e.get(o),t!==a);)o++;let i=0,s=o;for(let t=o;t<n;t++)if(e.get(t)!==a)r[i]++;else{if(3===i){if(Te.isFinderPattern(r))return[s,t];s+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,i--}else i++;r[i]=1,a=!a}throw new P}parseFoundFinderPattern(e,t,r,n){let a=e.get(n[0]),o=n[0]-1;for(;o>=0&&a!==e.get(o);)o--;o++;const i=n[0]-o,s=this.getDecodeFinderCounters(),c=new Int32Array(s.length);m.arraycopy(s,0,c,1,s.length-1),c[0]=i;const l=this.parseFinderValue(c,st.FINDER_PATTERNS);let u=o,d=n[1];return r&&(u=e.getSize()-1-u,d=e.getSize()-1-d),new ke(l,[o,n[1]],u,d,t)}adjustOddEvenCounts(e,t){let r=oe.sum(new Int32Array(this.getOddCounts())),n=oe.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1,i=!1,s=!1;e?(r>12?o=!0:r<4&&(a=!0),n>12?s=!0:n<4&&(i=!0)):(r>11?o=!0:r<5&&(a=!0),n>10?s=!0:n<4&&(i=!0));let c=r+n-t,l=(1&r)==(e?1:0),u=!(1&~n);if(1===c)if(l){if(u)throw new P;o=!0}else{if(!u)throw new P;s=!0}else if(-1===c)if(l){if(u)throw new P;a=!0}else{if(!u)throw new P;i=!0}else{if(0!==c)throw new P;if(l){if(!u)throw new P;r<n?(a=!0,s=!0):(o=!0,i=!0)}else if(u)throw new P}if(a){if(o)throw new P;Te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),i){if(s)throw new P;Te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&Te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],st.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],st.OUTSIDE_GSUM=[0,161,961,2015,2715],st.INSIDE_GSUM=[0,336,1036,1516],st.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],st.INSIDE_ODD_WIDEST=[2,4,6,8],st.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ct extends be{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const r=e?e.get(j.POSSIBLE_FORMATS):null,n=e&&void 0!==e.get(j.ASSUME_CODE_39_CHECK_DIGIT);r?((r.includes(V.EAN_13)||r.includes(V.UPC_A)||r.includes(V.EAN_8)||r.includes(V.UPC_E))&&this.readers.push(new Ie(e)),r.includes(V.CODE_39)&&this.readers.push(new _e(n)),r.includes(V.CODE_128)&&this.readers.push(new ye),r.includes(V.ITF)&&this.readers.push(new je),r.includes(V.RSS_14)&&this.readers.push(new st),r.includes(V.RSS_EXPANDED)&&this.readers.push(new ot(this.verbose))):(this.readers.push(new Ie(e)),this.readers.push(new _e),this.readers.push(new Ie(e)),this.readers.push(new ye),this.readers.push(new je),this.readers.push(new st),this.readers.push(new ot(this.verbose)))}decodeRow(e,t,r){for(let n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch(e){}throw new P}reset(){this.readers.forEach((e=>e.reset()))}}class lt extends F{constructor(e=500,t){super(new ct(t),e,t)}}class ut{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ft{constructor(e,t,r,n,a,o){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=a,this.ecBlocks=o;let i=0;const s=o.getECCodewords(),c=o.getECBlocks();for(let e of c)i+=e.getCount()*(e.getDataCodewords()+s);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(1&e||1&t)throw new w;for(let r of ft.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new w}toString(){return""+this.versionNumber}static buildVersions(){return[new ft(1,10,10,8,8,new ut(5,new dt(1,3))),new ft(2,12,12,10,10,new ut(7,new dt(1,5))),new ft(3,14,14,12,12,new ut(10,new dt(1,8))),new ft(4,16,16,14,14,new ut(12,new dt(1,12))),new ft(5,18,18,16,16,new ut(14,new dt(1,18))),new ft(6,20,20,18,18,new ut(18,new dt(1,22))),new ft(7,22,22,20,20,new ut(20,new dt(1,30))),new ft(8,24,24,22,22,new ut(24,new dt(1,36))),new ft(9,26,26,24,24,new ut(28,new dt(1,44))),new ft(10,32,32,14,14,new ut(36,new dt(1,62))),new ft(11,36,36,16,16,new ut(42,new dt(1,86))),new ft(12,40,40,18,18,new ut(48,new dt(1,114))),new ft(13,44,44,20,20,new ut(56,new dt(1,144))),new ft(14,48,48,22,22,new ut(68,new dt(1,174))),new ft(15,52,52,24,24,new ut(42,new dt(2,102))),new ft(16,64,64,14,14,new ut(56,new dt(2,140))),new ft(17,72,72,16,16,new ut(36,new dt(4,92))),new ft(18,80,80,18,18,new ut(48,new dt(4,114))),new ft(19,88,88,20,20,new ut(56,new dt(4,144))),new ft(20,96,96,22,22,new ut(68,new dt(4,174))),new ft(21,104,104,24,24,new ut(56,new dt(6,136))),new ft(22,120,120,18,18,new ut(68,new dt(6,175))),new ft(23,132,132,20,20,new ut(62,new dt(8,163))),new ft(24,144,144,22,22,new ut(62,new dt(8,156),new dt(2,155))),new ft(25,8,18,6,16,new ut(7,new dt(1,5))),new ft(26,8,32,6,14,new ut(11,new dt(1,10))),new ft(27,12,26,10,24,new ut(14,new dt(1,16))),new ft(28,12,36,10,16,new ut(18,new dt(1,22))),new ft(29,16,36,14,16,new ut(24,new dt(1,32))),new ft(30,16,48,14,22,new ut(28,new dt(1,49)))]}}ft.VERSIONS=ft.buildVersions();class ht{constructor(e){const t=e.getHeight();if(t<8||t>144||1&t)throw new w;this.version=ht.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new A(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return ft.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let i=!1,s=!1,c=!1,l=!1;do{if(r!==a||0!==n||i)if(r===a-2&&0===n&&3&o&&!s)e[t++]=255&this.readCorner2(a,o),r-=2,n+=2,s=!0;else if(r!==a+4||2!==n||7&o||c)if(r!==a-2||0!==n||4!=(7&o)||l){do{r<a&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,a,o)),r-=2,n+=2}while(r>=0&&n<o);r+=1,n+=3;do{r>=0&&n<o&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,a,o)),r+=2,n-=2}while(r<a&&n>=0);r+=3,n+=1}else e[t++]=255&this.readCorner4(a,o),r-=2,n+=2,l=!0;else e[t++]=255&this.readCorner3(a,o),r-=2,n+=2,c=!0;else e[t++]=255&this.readCorner1(a,o),r-=2,n+=2,i=!0}while(r<a||n<o);if(t!==this.version.getTotalCodewords())throw new w;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let a=0;return this.readModule(e-2,t-2,r,n)&&(a|=1),a<<=1,this.readModule(e-2,t-1,r,n)&&(a|=1),a<<=1,this.readModule(e-1,t-2,r,n)&&(a|=1),a<<=1,this.readModule(e-1,t-1,r,n)&&(a|=1),a<<=1,this.readModule(e-1,t,r,n)&&(a|=1),a<<=1,this.readModule(e,t-2,r,n)&&(a|=1),a<<=1,this.readModule(e,t-1,r,n)&&(a|=1),a<<=1,this.readModule(e,t,r,n)&&(a|=1),a}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new d("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=t/n|0,i=r/a|0,s=new A(i*a,o*n);for(let t=0;t<o;++t){const r=t*n;for(let o=0;o<i;++o){const i=o*a;for(let c=0;c<n;++c){const l=t*(n+2)+1+c,u=r+c;for(let t=0;t<a;++t){const r=o*(a+2)+1+t;if(e.get(r,l)){const e=i+t;s.set(e,u)}}}}}return s}}class pt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const a=r.getECBlocks();for(let e of a)n+=e.getCount();const o=new Array(n);let i=0;for(let e of a)for(let t=0;t<e.getCount();t++){const t=e.getDataCodewords(),n=r.getECCodewords()+t;o[i++]=new pt(t,new Uint8Array(n))}const s=o[0].codewords.length-r.getECCodewords(),c=s-1;let l=0;for(let t=0;t<c;t++)for(let r=0;r<i;r++)o[r].codewords[t]=e[l++];const u=24===t.getVersionNumber(),f=u?8:i;for(let t=0;t<f;t++)o[t].codewords[s-1]=e[l++];const h=o[0].codewords.length;for(let t=s;t<h;t++)for(let r=0;r<i;r++){const n=u?(r+8)%i:r,a=u&&n>7?t-1:t;o[n].codewords[a]=e[l++]}if(l!==e.length)throw new d;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class mt{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new d(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const a=this.bytes;if(r>0){const o=8-r,i=e<o?e:o,s=o-i,c=255>>8-i<<s;t=(a[n]&c)>>s,e-=i,r+=i,8===r&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|255&a[n],n++,e-=8;if(e>0){const o=8-e,i=255>>o<<o;t=t<<e|(a[n]&i)>>o,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}!function(e){e[e.PAD_ENCODE=0]="PAD_ENCODE",e[e.ASCII_ENCODE=1]="ASCII_ENCODE",e[e.C40_ENCODE=2]="C40_ENCODE",e[e.TEXT_ENCODE=3]="TEXT_ENCODE",e[e.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",e[e.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",e[e.BASE256_ENCODE=6]="BASE256_ENCODE"}(K||(K={}));class gt{static decode(e){const t=new mt(e),r=new O,n=new O,a=new Array;let o=K.ASCII_ENCODE;do{if(o===K.ASCII_ENCODE)o=this.decodeAsciiSegment(t,r,n);else{switch(o){case K.C40_ENCODE:this.decodeC40Segment(t,r);break;case K.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case K.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case K.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case K.BASE256_ENCODE:this.decodeBase256Segment(t,r,a);break;default:throw new w}o=K.ASCII_ENCODE}}while(o!==K.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new X(e,r.toString(),0===a.length?null:a,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let a=e.readBits(8);if(0===a)throw new w;if(a<=128)return n&&(a+=128),t.append(String.fromCharCode(a-1)),K.ASCII_ENCODE;if(129===a)return K.PAD_ENCODE;if(a<=229){const e=a-130;e<10&&t.append("0"),t.append(""+e)}else switch(a){case 230:return K.C40_ENCODE;case 231:return K.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return K.ANSIX12_ENCODE;case 239:return K.TEXT_ENCODE;case 240:return K.EDIFACT_ENCODE;default:if(254!==a||0!==e.available())throw new w}}while(e.available()>0);return K.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let a=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(let e=0;e<3;e++){const o=n[e];switch(a){case 0:if(o<3)a=o+1;else{if(!(o<this.C40_BASIC_SET_CHARS.length))throw new w;{const e=this.C40_BASIC_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(o+128)),r=!1):t.append(String.fromCharCode(o)),a=0;break;case 2:if(o<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new w}a=0;break;case 3:r?(t.append(String.fromCharCode(o+224)),r=!1):t.append(String.fromCharCode(o+96)),a=0;break;default:throw new w}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],a=0;do{if(8===e.available())return;const o=e.readBits(8);if(254===o)return;this.parseTwoBytes(o,e.readBits(8),n);for(let e=0;e<3;e++){const o=n[e];switch(a){case 0:if(o<3)a=o+1;else{if(!(o<this.TEXT_BASIC_SET_CHARS.length))throw new w;{const e=this.TEXT_BASIC_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(o+128)),r=!1):t.append(String.fromCharCode(o)),a=0;break;case 2:if(o<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(o){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new w}a=0;break;case 3:if(!(o<this.TEXT_SHIFT3_SET_CHARS.length))throw new w;{const e=this.TEXT_SHIFT3_SET_CHARS[o];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e),a=0}break;default:throw new w}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(8===e.available())return;const n=e.readBits(8);if(254===n)return;this.parseTwoBytes(n,e.readBits(8),r);for(let e=0;e<3;e++){const n=r[e];switch(n){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(n<14)t.append(String.fromCharCode(n+44));else{if(!(n<40))throw new w;t.append(String.fromCharCode(n+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,a=Math.floor(n/1600);r[0]=a,n-=1600*a,a=Math.floor(n/40),r[1]=a,r[2]=n-40*a}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let r=e.readBits(6);if(31===r){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}32&r||(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const a=this.unrandomize255State(e.readBits(8),n++);let o;if(o=0===a?e.available()/8|0:a<250?a:250*(a-249)+this.unrandomize255State(e.readBits(8),n++),o<0)throw new w;const i=new Uint8Array(o);for(let t=0;t<o;t++){if(e.available()<8)throw new w;i[t]=this.unrandomize255State(e.readBits(8),n++)}r.push(i);try{t.append(C.decode(i,S.ISO88591))}catch(e){throw new re("Platform does not support required encoding: "+e.message)}}static unrandomize255State(e,t){const r=e-(149*t%255+1);return r>=0?r:r+256}}gt.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],gt.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],gt.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],gt.TEXT_SHIFT2_SET_CHARS=gt.C40_SHIFT2_SET_CHARS,gt.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class xt{constructor(){this.rsDecoder=new ne(ee.DATA_MATRIX_FIELD_256)}decode(e){const t=new ht(e),r=t.getVersion(),n=t.readCodewords(),a=pt.getDataBlocks(n,r);let o=0;for(let e of a)o+=e.getNumDataCodewords();const i=new Uint8Array(o),s=a.length;for(let e=0;e<s;e++){const t=a[e],r=t.getCodewords(),n=t.getNumDataCodewords();this.correctErrors(r,n);for(let t=0;t<n;t++)i[t*s+e]=r[t]}return gt.decode(i)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(e){throw new h}for(let n=0;n<t;n++)e[n]=r[n]}}class vt{constructor(e){this.image=e,this.rectangleDetector=new ue(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new P;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],a=t[2],o=t[3];let i=this.transitionsBetween(r,o)+1,s=this.transitionsBetween(a,o)+1;1&~i||(i+=1),1&~s||(s+=1),4*i<7*s&&4*s<7*i&&(i=s=Math.max(i,s));let c=vt.sampleGrid(this.image,r,n,a,o,i,s);return new ce(c,[r,n,a,o])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),a=(t.getY()-e.getY())/(r+1);return new se(e.getX()+n,e.getY()+a)}static moveAway(e,t,r){let n=e.getX(),a=e.getY();return n<t?n-=1:n+=1,a<r?a-=1:a+=1,new se(n,a)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],a=e[2],o=this.transitionsBetween(t,r),i=this.transitionsBetween(r,n),s=this.transitionsBetween(n,a),c=this.transitionsBetween(a,t),l=o,u=[a,t,r,n];return l>i&&(l=i,u[0]=t,u[1]=r,u[2]=n,u[3]=a),l>s&&(l=s,u[0]=r,u[1]=n,u[2]=a,u[3]=t),l>c&&(u[0]=n,u[1]=a,u[2]=t,u[3]=r),u}detectSolid2(e){let t=e[0],r=e[1],n=e[2],a=e[3],o=this.transitionsBetween(t,a),i=vt.shiftPoint(r,n,4*(o+1)),s=vt.shiftPoint(n,r,4*(o+1));return this.transitionsBetween(i,t)<this.transitionsBetween(s,a)?(e[0]=t,e[1]=r,e[2]=n,e[3]=a):(e[0]=r,e[1]=n,e[2]=a,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],a=e[3],o=this.transitionsBetween(t,a),i=this.transitionsBetween(r,a),s=vt.shiftPoint(t,r,4*(i+1)),c=vt.shiftPoint(n,r,4*(o+1));o=this.transitionsBetween(s,a),i=this.transitionsBetween(c,a);let l=new se(a.getX()+(n.getX()-r.getX())/(o+1),a.getY()+(n.getY()-r.getY())/(o+1)),u=new se(a.getX()+(t.getX()-r.getX())/(i+1),a.getY()+(t.getY()-r.getY())/(i+1));return this.isValid(l)?this.isValid(u)?this.transitionsBetween(s,l)+this.transitionsBetween(c,l)>this.transitionsBetween(s,u)+this.transitionsBetween(c,u)?l:u:l:this.isValid(u)?u:null}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],a=e[3],o=this.transitionsBetween(t,a)+1,i=this.transitionsBetween(n,a)+1,s=vt.shiftPoint(t,r,4*i),c=vt.shiftPoint(n,r,4*o);o=this.transitionsBetween(s,a)+1,i=this.transitionsBetween(c,a)+1,1&~o||(o+=1),1&~i||(i+=1);let l,u,d=(t.getX()+r.getX()+n.getX()+a.getX())/4,f=(t.getY()+r.getY()+n.getY()+a.getY())/4;return t=vt.moveAway(t,d,f),r=vt.moveAway(r,d,f),n=vt.moveAway(n,d,f),a=vt.moveAway(a,d,f),s=vt.shiftPoint(t,r,4*i),s=vt.shiftPoint(s,a,4*o),l=vt.shiftPoint(r,t,4*i),l=vt.shiftPoint(l,n,4*o),c=vt.shiftPoint(n,a,4*i),c=vt.shiftPoint(c,r,4*o),u=vt.shiftPoint(a,n,4*i),u=vt.shiftPoint(u,t,4*o),[s,l,c,u]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,a,o,i){return pe.getInstance().sampleGrid(e,o,i,.5,.5,o-.5,.5,o-.5,i-.5,.5,i-.5,t.getX(),t.getY(),a.getX(),a.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),a=Math.trunc(t.getX()),o=Math.trunc(t.getY()),i=Math.abs(o-n)>Math.abs(a-r);if(i){let e=r;r=n,n=e,e=a,a=o,o=e}let s=Math.abs(a-r),c=Math.abs(o-n),l=-s/2,u=n<o?1:-1,d=r<a?1:-1,f=0,h=this.image.get(i?n:r,i?r:n);for(let e=r,t=n;e!==a;e+=d){let r=this.image.get(i?t:e,i?e:t);if(r!==h&&(f++,h=r),l+=c,l>0){if(t===o)break;t+=u,l-=s}}return f}}class bt{constructor(){this.decoder=new xt}decode(e,t=null){let r,n;if(null!=t&&t.has(j.PURE_BARCODE)){const t=bt.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(t),n=bt.NO_POINTS}else{const t=new vt(e.getBlackMatrix()).detect();r=this.decoder.decode(t.getBits()),n=t.getPoints()}const a=r.getRawBytes(),o=new U(r.getText(),a,8*a.length,n,V.DATA_MATRIX,m.currentTimeMillis()),i=r.getByteSegments();null!=i&&o.putMetadata(Y.BYTE_SEGMENTS,i);const s=r.getECLevel();return null!=s&&o.putMetadata(Y.ERROR_CORRECTION_LEVEL,s),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==t||null==r)throw new P;const n=this.moduleSize(t,e);let a=t[1];const o=r[1];let i=t[0];const s=(r[0]-i+1)/n,c=(o-a+1)/n;if(s<=0||c<=0)throw new P;const l=n/2;a+=l,i+=l;const u=new A(s,c);for(let t=0;t<c;t++){const r=a+t*n;for(let a=0;a<s;a++)e.get(i+a*n,r)&&u.set(a,t)}return u}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const a=e[1];for(;n<r&&t.get(n,a);)n++;if(n===r)throw new P;const o=n-e[0];if(0===o)throw new P;return o}}bt.NO_POINTS=[];class yt extends F{constructor(e=500){super(new bt,e)}}!function(e){e[e.L=0]="L",e[e.M=1]="M",e[e.Q=2]="Q",e[e.H=3]="H"}(G||(G={}));class _t{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,_t.FOR_BITS.set(r,this),_t.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return _t.L;case"M":return _t.M;case"Q":return _t.Q;case"H":return _t.H;default:throw new u(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof _t))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=_t.FOR_BITS.size)throw new d;return _t.FOR_BITS.get(e)}}_t.FOR_BITS=new Map,_t.FOR_VALUE=new Map,_t.L=new _t(G.L,"L",1),_t.M=new _t(G.M,"M",0),_t.Q=new _t(G.Q,"Q",3),_t.H=new _t(G.H,"H",2);class jt{constructor(e){this.errorCorrectionLevel=_t.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return b.bitCount(e^t)}static decodeFormatInformation(e,t){const r=jt.doDecodeFormatInformation(e,t);return null!==r?r:jt.doDecodeFormatInformation(e^jt.FORMAT_INFO_MASK_QR,t^jt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const a of jt.FORMAT_INFO_DECODE_LOOKUP){const o=a[0];if(o===e||o===t)return new jt(a[1]);let i=jt.numBitsDiffering(e,o);i<r&&(n=a[1],r=i),e!==t&&(i=jt.numBitsDiffering(t,o),i<r&&(n=a[1],r=i))}return r<=3?new jt(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof jt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}jt.FORMAT_INFO_MASK_QR=21522,jt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class wt{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Nt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Et{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const a=r[0].getECCodewordsPerBlock(),o=r[0].getECBlocks();for(const e of o)n+=e.getCount()*(e.getDataCodewords()+a);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new w;try{return this.getVersionForNumber((e-17)/4)}catch(e){throw new w}}static getVersionForNumber(e){if(e<1||e>40)throw new d;return Et.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<Et.VERSION_DECODE_INFO.length;n++){const a=Et.VERSION_DECODE_INFO[n];if(a===e)return Et.getVersionForNumber(n+7);const o=jt.numBitsDiffering(e,a);o<t&&(r=n+7,t=o)}return t<=3?Et.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new A(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let e=0;e<r;e++){const n=this.alignmentPatternCenters[e]-2;for(let a=0;a<r;a++)0===e&&(0===a||a===r-1)||e===r-1&&0===a||t.setRegion(this.alignmentPatternCenters[a]-2,n,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Et.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Et.VERSIONS=[new Et(1,new Int32Array(0),new wt(7,new Nt(1,19)),new wt(10,new Nt(1,16)),new wt(13,new Nt(1,13)),new wt(17,new Nt(1,9))),new Et(2,Int32Array.from([6,18]),new wt(10,new Nt(1,34)),new wt(16,new Nt(1,28)),new wt(22,new Nt(1,22)),new wt(28,new Nt(1,16))),new Et(3,Int32Array.from([6,22]),new wt(15,new Nt(1,55)),new wt(26,new Nt(1,44)),new wt(18,new Nt(2,17)),new wt(22,new Nt(2,13))),new Et(4,Int32Array.from([6,26]),new wt(20,new Nt(1,80)),new wt(18,new Nt(2,32)),new wt(26,new Nt(2,24)),new wt(16,new Nt(4,9))),new Et(5,Int32Array.from([6,30]),new wt(26,new Nt(1,108)),new wt(24,new Nt(2,43)),new wt(18,new Nt(2,15),new Nt(2,16)),new wt(22,new Nt(2,11),new Nt(2,12))),new Et(6,Int32Array.from([6,34]),new wt(18,new Nt(2,68)),new wt(16,new Nt(4,27)),new wt(24,new Nt(4,19)),new wt(28,new Nt(4,15))),new Et(7,Int32Array.from([6,22,38]),new wt(20,new Nt(2,78)),new wt(18,new Nt(4,31)),new wt(18,new Nt(2,14),new Nt(4,15)),new wt(26,new Nt(4,13),new Nt(1,14))),new Et(8,Int32Array.from([6,24,42]),new wt(24,new Nt(2,97)),new wt(22,new Nt(2,38),new Nt(2,39)),new wt(22,new Nt(4,18),new Nt(2,19)),new wt(26,new Nt(4,14),new Nt(2,15))),new Et(9,Int32Array.from([6,26,46]),new wt(30,new Nt(2,116)),new wt(22,new Nt(3,36),new Nt(2,37)),new wt(20,new Nt(4,16),new Nt(4,17)),new wt(24,new Nt(4,12),new Nt(4,13))),new Et(10,Int32Array.from([6,28,50]),new wt(18,new Nt(2,68),new Nt(2,69)),new wt(26,new Nt(4,43),new Nt(1,44)),new wt(24,new Nt(6,19),new Nt(2,20)),new wt(28,new Nt(6,15),new Nt(2,16))),new Et(11,Int32Array.from([6,30,54]),new wt(20,new Nt(4,81)),new wt(30,new Nt(1,50),new Nt(4,51)),new wt(28,new Nt(4,22),new Nt(4,23)),new wt(24,new Nt(3,12),new Nt(8,13))),new Et(12,Int32Array.from([6,32,58]),new wt(24,new Nt(2,92),new Nt(2,93)),new wt(22,new Nt(6,36),new Nt(2,37)),new wt(26,new Nt(4,20),new Nt(6,21)),new wt(28,new Nt(7,14),new Nt(4,15))),new Et(13,Int32Array.from([6,34,62]),new wt(26,new Nt(4,107)),new wt(22,new Nt(8,37),new Nt(1,38)),new wt(24,new Nt(8,20),new Nt(4,21)),new wt(22,new Nt(12,11),new Nt(4,12))),new Et(14,Int32Array.from([6,26,46,66]),new wt(30,new Nt(3,115),new Nt(1,116)),new wt(24,new Nt(4,40),new Nt(5,41)),new wt(20,new Nt(11,16),new Nt(5,17)),new wt(24,new Nt(11,12),new Nt(5,13))),new Et(15,Int32Array.from([6,26,48,70]),new wt(22,new Nt(5,87),new Nt(1,88)),new wt(24,new Nt(5,41),new Nt(5,42)),new wt(30,new Nt(5,24),new Nt(7,25)),new wt(24,new Nt(11,12),new Nt(7,13))),new Et(16,Int32Array.from([6,26,50,74]),new wt(24,new Nt(5,98),new Nt(1,99)),new wt(28,new Nt(7,45),new Nt(3,46)),new wt(24,new Nt(15,19),new Nt(2,20)),new wt(30,new Nt(3,15),new Nt(13,16))),new Et(17,Int32Array.from([6,30,54,78]),new wt(28,new Nt(1,107),new Nt(5,108)),new wt(28,new Nt(10,46),new Nt(1,47)),new wt(28,new Nt(1,22),new Nt(15,23)),new wt(28,new Nt(2,14),new Nt(17,15))),new Et(18,Int32Array.from([6,30,56,82]),new wt(30,new Nt(5,120),new Nt(1,121)),new wt(26,new Nt(9,43),new Nt(4,44)),new wt(28,new Nt(17,22),new Nt(1,23)),new wt(28,new Nt(2,14),new Nt(19,15))),new Et(19,Int32Array.from([6,30,58,86]),new wt(28,new Nt(3,113),new Nt(4,114)),new wt(26,new Nt(3,44),new Nt(11,45)),new wt(26,new Nt(17,21),new Nt(4,22)),new wt(26,new Nt(9,13),new Nt(16,14))),new Et(20,Int32Array.from([6,34,62,90]),new wt(28,new Nt(3,107),new Nt(5,108)),new wt(26,new Nt(3,41),new Nt(13,42)),new wt(30,new Nt(15,24),new Nt(5,25)),new wt(28,new Nt(15,15),new Nt(10,16))),new Et(21,Int32Array.from([6,28,50,72,94]),new wt(28,new Nt(4,116),new Nt(4,117)),new wt(26,new Nt(17,42)),new wt(28,new Nt(17,22),new Nt(6,23)),new wt(30,new Nt(19,16),new Nt(6,17))),new Et(22,Int32Array.from([6,26,50,74,98]),new wt(28,new Nt(2,111),new Nt(7,112)),new wt(28,new Nt(17,46)),new wt(30,new Nt(7,24),new Nt(16,25)),new wt(24,new Nt(34,13))),new Et(23,Int32Array.from([6,30,54,78,102]),new wt(30,new Nt(4,121),new Nt(5,122)),new wt(28,new Nt(4,47),new Nt(14,48)),new wt(30,new Nt(11,24),new Nt(14,25)),new wt(30,new Nt(16,15),new Nt(14,16))),new Et(24,Int32Array.from([6,28,54,80,106]),new wt(30,new Nt(6,117),new Nt(4,118)),new wt(28,new Nt(6,45),new Nt(14,46)),new wt(30,new Nt(11,24),new Nt(16,25)),new wt(30,new Nt(30,16),new Nt(2,17))),new Et(25,Int32Array.from([6,32,58,84,110]),new wt(26,new Nt(8,106),new Nt(4,107)),new wt(28,new Nt(8,47),new Nt(13,48)),new wt(30,new Nt(7,24),new Nt(22,25)),new wt(30,new Nt(22,15),new Nt(13,16))),new Et(26,Int32Array.from([6,30,58,86,114]),new wt(28,new Nt(10,114),new Nt(2,115)),new wt(28,new Nt(19,46),new Nt(4,47)),new wt(28,new Nt(28,22),new Nt(6,23)),new wt(30,new Nt(33,16),new Nt(4,17))),new Et(27,Int32Array.from([6,34,62,90,118]),new wt(30,new Nt(8,122),new Nt(4,123)),new wt(28,new Nt(22,45),new Nt(3,46)),new wt(30,new Nt(8,23),new Nt(26,24)),new wt(30,new Nt(12,15),new Nt(28,16))),new Et(28,Int32Array.from([6,26,50,74,98,122]),new wt(30,new Nt(3,117),new Nt(10,118)),new wt(28,new Nt(3,45),new Nt(23,46)),new wt(30,new Nt(4,24),new Nt(31,25)),new wt(30,new Nt(11,15),new Nt(31,16))),new Et(29,Int32Array.from([6,30,54,78,102,126]),new wt(30,new Nt(7,116),new Nt(7,117)),new wt(28,new Nt(21,45),new Nt(7,46)),new wt(30,new Nt(1,23),new Nt(37,24)),new wt(30,new Nt(19,15),new Nt(26,16))),new Et(30,Int32Array.from([6,26,52,78,104,130]),new wt(30,new Nt(5,115),new Nt(10,116)),new wt(28,new Nt(19,47),new Nt(10,48)),new wt(30,new Nt(15,24),new Nt(25,25)),new wt(30,new Nt(23,15),new Nt(25,16))),new Et(31,Int32Array.from([6,30,56,82,108,134]),new wt(30,new Nt(13,115),new Nt(3,116)),new wt(28,new Nt(2,46),new Nt(29,47)),new wt(30,new Nt(42,24),new Nt(1,25)),new wt(30,new Nt(23,15),new Nt(28,16))),new Et(32,Int32Array.from([6,34,60,86,112,138]),new wt(30,new Nt(17,115)),new wt(28,new Nt(10,46),new Nt(23,47)),new wt(30,new Nt(10,24),new Nt(35,25)),new wt(30,new Nt(19,15),new Nt(35,16))),new Et(33,Int32Array.from([6,30,58,86,114,142]),new wt(30,new Nt(17,115),new Nt(1,116)),new wt(28,new Nt(14,46),new Nt(21,47)),new wt(30,new Nt(29,24),new Nt(19,25)),new wt(30,new Nt(11,15),new Nt(46,16))),new Et(34,Int32Array.from([6,34,62,90,118,146]),new wt(30,new Nt(13,115),new Nt(6,116)),new wt(28,new Nt(14,46),new Nt(23,47)),new wt(30,new Nt(44,24),new Nt(7,25)),new wt(30,new Nt(59,16),new Nt(1,17))),new Et(35,Int32Array.from([6,30,54,78,102,126,150]),new wt(30,new Nt(12,121),new Nt(7,122)),new wt(28,new Nt(12,47),new Nt(26,48)),new wt(30,new Nt(39,24),new Nt(14,25)),new wt(30,new Nt(22,15),new Nt(41,16))),new Et(36,Int32Array.from([6,24,50,76,102,128,154]),new wt(30,new Nt(6,121),new Nt(14,122)),new wt(28,new Nt(6,47),new Nt(34,48)),new wt(30,new Nt(46,24),new Nt(10,25)),new wt(30,new Nt(2,15),new Nt(64,16))),new Et(37,Int32Array.from([6,28,54,80,106,132,158]),new wt(30,new Nt(17,122),new Nt(4,123)),new wt(28,new Nt(29,46),new Nt(14,47)),new wt(30,new Nt(49,24),new Nt(10,25)),new wt(30,new Nt(24,15),new Nt(46,16))),new Et(38,Int32Array.from([6,32,58,84,110,136,162]),new wt(30,new Nt(4,122),new Nt(18,123)),new wt(28,new Nt(13,46),new Nt(32,47)),new wt(30,new Nt(48,24),new Nt(14,25)),new wt(30,new Nt(42,15),new Nt(32,16))),new Et(39,Int32Array.from([6,26,54,82,110,138,166]),new wt(30,new Nt(20,117),new Nt(4,118)),new wt(28,new Nt(40,47),new Nt(7,48)),new wt(30,new Nt(43,24),new Nt(22,25)),new wt(30,new Nt(10,15),new Nt(67,16))),new Et(40,Int32Array.from([6,30,58,86,114,142,170]),new wt(30,new Nt(19,118),new Nt(6,119)),new wt(28,new Nt(18,47),new Nt(31,48)),new wt(30,new Nt(34,24),new Nt(34,25)),new wt(30,new Nt(20,15),new Nt(61,16)))],function(e){e[e.DATA_MASK_000=0]="DATA_MASK_000",e[e.DATA_MASK_001=1]="DATA_MASK_001",e[e.DATA_MASK_010=2]="DATA_MASK_010",e[e.DATA_MASK_011=3]="DATA_MASK_011",e[e.DATA_MASK_100=4]="DATA_MASK_100",e[e.DATA_MASK_101=5]="DATA_MASK_101",e[e.DATA_MASK_110=6]="DATA_MASK_110",e[e.DATA_MASK_111=7]="DATA_MASK_111"}(q||(q={}));class Ct{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}Ct.values=new Map([[q.DATA_MASK_000,new Ct(q.DATA_MASK_000,((e,t)=>!(e+t&1)))],[q.DATA_MASK_001,new Ct(q.DATA_MASK_001,((e,t)=>!(1&e)))],[q.DATA_MASK_010,new Ct(q.DATA_MASK_010,((e,t)=>t%3==0))],[q.DATA_MASK_011,new Ct(q.DATA_MASK_011,((e,t)=>(e+t)%3==0))],[q.DATA_MASK_100,new Ct(q.DATA_MASK_100,((e,t)=>!(Math.floor(e/2)+Math.floor(t/3)&1)))],[q.DATA_MASK_101,new Ct(q.DATA_MASK_101,((e,t)=>e*t%6==0))],[q.DATA_MASK_110,new Ct(q.DATA_MASK_110,((e,t)=>e*t%6<3))],[q.DATA_MASK_111,new Ct(q.DATA_MASK_111,((e,t)=>!(e+t+e*t%3&1)))]]);class St{constructor(e){const t=e.getHeight();if(t<21||1!=(3&t))throw new w;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let t=5;t>=0;t--)e=this.copyBit(8,t,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let e=t-1;e>=n;e--)r=this.copyBit(8,e,r);for(let e=t-8;e<t;e++)r=this.copyBit(e,8,r);if(this.parsedFormatInfo=jt.decodeFormatInformation(e,r),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new w}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Et.getVersionForNumber(t);let r=0;const n=e-11;for(let t=5;t>=0;t--)for(let a=e-9;a>=n;a--)r=this.copyBit(a,t,r);let a=Et.decodeVersionInformation(r);if(null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;r=0;for(let t=5;t>=0;t--)for(let a=e-9;a>=n;a--)r=this.copyBit(t,a,r);if(a=Et.decodeVersionInformation(r),null!==a&&a.getDimensionForVersion()===e)return this.parsedVersion=a,a;throw new w}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=Ct.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const a=t.buildFunctionPattern();let o=!0;const i=new Uint8Array(t.getTotalCodewords());let s=0,c=0,l=0;for(let e=n-1;e>0;e-=2){6===e&&e--;for(let t=0;t<n;t++){const r=o?n-1-t:t;for(let t=0;t<2;t++)a.get(e-t,r)||(l++,c<<=1,this.bitMatrix.get(e-t,r)&&(c|=1),8===l&&(i[s++]=c,l=0,c=0))}o=!o}if(s!==t.getTotalCodewords())throw new w;return i}remask(){if(null===this.parsedFormatInfo)return;const e=Ct.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let r=t+1,n=e.getHeight();r<n;r++)e.get(t,r)!==e.get(r,t)&&(e.flip(r,t),e.flip(t,r))}}class Ot{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new d;const n=t.getECBlocksForLevel(r);let a=0;const o=n.getECBlocks();for(const e of o)a+=e.getCount();const i=new Array(a);let s=0;for(const e of o)for(let t=0;t<e.getCount();t++){const t=e.getDataCodewords(),r=n.getECCodewordsPerBlock()+t;i[s++]=new Ot(t,new Uint8Array(r))}const c=i[0].codewords.length;let l=i.length-1;for(;l>=0&&i[l].codewords.length!==c;)l--;l++;const u=c-n.getECCodewordsPerBlock();let f=0;for(let t=0;t<u;t++)for(let r=0;r<s;r++)i[r].codewords[t]=e[f++];for(let t=l;t<s;t++)i[t].codewords[u]=e[f++];const h=i[0].codewords.length;for(let t=u;t<h;t++)for(let r=0;r<s;r++){const n=r<l?t:t+1;i[r].codewords[n]=e[f++]}return i}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}!function(e){e[e.TERMINATOR=0]="TERMINATOR",e[e.NUMERIC=1]="NUMERIC",e[e.ALPHANUMERIC=2]="ALPHANUMERIC",e[e.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",e[e.BYTE=4]="BYTE",e[e.ECI=5]="ECI",e[e.KANJI=6]="KANJI",e[e.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",e[e.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",e[e.HANZI=9]="HANZI"}(H||(H={}));class At{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,At.FOR_BITS.set(n,this),At.FOR_VALUE.set(e,this)}static forBits(e){const t=At.FOR_BITS.get(e);if(void 0===t)throw new d;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return r=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof At))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.TERMINATOR=new At(H.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),At.NUMERIC=new At(H.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),At.ALPHANUMERIC=new At(H.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),At.STRUCTURED_APPEND=new At(H.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),At.BYTE=new At(H.BYTE,"BYTE",Int32Array.from([8,16,16]),4),At.ECI=new At(H.ECI,"ECI",Int32Array.from([0,0,0]),7),At.KANJI=new At(H.KANJI,"KANJI",Int32Array.from([8,10,12]),8),At.FNC1_FIRST_POSITION=new At(H.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),At.FNC1_SECOND_POSITION=new At(H.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),At.HANZI=new At(H.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Pt{static decode(e,t,r,n){const a=new mt(e);let o=new O;const i=new Array;let s=-1,c=-1;try{let e,r=null,l=!1;do{if(a.available()<4)e=At.TERMINATOR;else{const t=a.readBits(4);e=At.forBits(t)}switch(e){case At.TERMINATOR:break;case At.FNC1_FIRST_POSITION:case At.FNC1_SECOND_POSITION:l=!0;break;case At.STRUCTURED_APPEND:if(a.available()<16)throw new w;s=a.readBits(8),c=a.readBits(8);break;case At.ECI:const u=Pt.parseECIValue(a);if(r=N.getCharacterSetECIByValue(u),null===r)throw new w;break;case At.HANZI:const d=a.readBits(4),f=a.readBits(e.getCharacterCountBits(t));d===Pt.GB2312_SUBSET&&Pt.decodeHanziSegment(a,o,f);break;default:const h=a.readBits(e.getCharacterCountBits(t));switch(e){case At.NUMERIC:Pt.decodeNumericSegment(a,o,h);break;case At.ALPHANUMERIC:Pt.decodeAlphanumericSegment(a,o,h,l);break;case At.BYTE:Pt.decodeByteSegment(a,o,h,r,i,n);break;case At.KANJI:Pt.decodeKanjiSegment(a,o,h);break;default:throw new w}}}while(e!==At.TERMINATOR)}catch(e){throw new w}return new X(e,o.toString(),0===i.length?null:i,null===r?null:r.toString(),s,c)}static decodeHanziSegment(e,t,r){if(13*r>e.available())throw new w;const n=new Uint8Array(2*r);let a=0;for(;r>0;){const t=e.readBits(13);let o=t/96<<8&4294967295|t%96;o+=o<959?41377:42657,n[a]=o>>8&255,n[a+1]=255&o,a+=2,r--}try{t.append(C.decode(n,S.GB2312))}catch(e){throw new w(e)}}static decodeKanjiSegment(e,t,r){if(13*r>e.available())throw new w;const n=new Uint8Array(2*r);let a=0;for(;r>0;){const t=e.readBits(13);let o=t/192<<8&4294967295|t%192;o+=o<7936?33088:49472,n[a]=o>>8,n[a+1]=o,a+=2,r--}try{t.append(C.decode(n,S.SHIFT_JIS))}catch(e){throw new w(e)}}static decodeByteSegment(e,t,r,n,a,o){if(8*r>e.available())throw new w;const i=new Uint8Array(r);for(let t=0;t<r;t++)i[t]=e.readBits(8);let s;s=null===n?S.guessEncoding(i,o):n.getName();try{t.append(C.decode(i,s))}catch(e){throw new w(e)}a.push(i)}static toAlphaNumericChar(e){if(e>=Pt.ALPHANUMERIC_CHARS.length)throw new w;return Pt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const a=t.length();for(;r>1;){if(e.available()<11)throw new w;const n=e.readBits(11);t.append(Pt.toAlphaNumericChar(Math.floor(n/45))),t.append(Pt.toAlphaNumericChar(n%45)),r-=2}if(1===r){if(e.available()<6)throw new w;t.append(Pt.toAlphaNumericChar(e.readBits(6)))}if(n)for(let e=a;e<t.length();e++)"%"===t.charAt(e)&&(e<t.length()-1&&"%"===t.charAt(e+1)?t.deleteCharAt(e+1):t.setCharAt(e,String.fromCharCode(29)))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new w;const n=e.readBits(10);if(n>=1e3)throw new w;t.append(Pt.toAlphaNumericChar(Math.floor(n/100))),t.append(Pt.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(Pt.toAlphaNumericChar(n%10)),r-=3}if(2===r){if(e.available()<7)throw new w;const r=e.readBits(7);if(r>=100)throw new w;t.append(Pt.toAlphaNumericChar(Math.floor(r/10))),t.append(Pt.toAlphaNumericChar(r%10))}else if(1===r){if(e.available()<4)throw new w;const r=e.readBits(4);if(r>=10)throw new w;t.append(Pt.toAlphaNumericChar(r))}}static parseECIValue(e){const t=e.readBits(8);if(!(128&t))return 127&t;if(128==(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192==(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new w}}Pt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Pt.GB2312_SUBSET=1;class Dt{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class It{constructor(){this.rsDecoder=new ne(ee.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(A.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new St(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(e){n=e}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const e=this.decodeBitMatrixParser(r,t);return e.setOther(new Dt(!0)),e}catch(e){if(null!==n)throw n;throw e}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),a=e.readCodewords(),o=Ot.getDataBlocks(a,r,n);let i=0;for(const e of o)i+=e.getNumDataCodewords();const s=new Uint8Array(i);let c=0;for(const e of o){const t=e.getCodewords(),r=e.getNumDataCodewords();this.correctErrors(t,r);for(let e=0;e<r;e++)s[c++]=t[e]}return Pt.decode(s,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(e){throw new h}for(let n=0;n<t;n++)e[n]=r[n]}}class Tt extends se{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,a=(this.getY()+e)/2,o=(this.estimatedModuleSize+r)/2;return new Tt(n,a,o)}}class Mt{constructor(e,t,r,n,a,o,i){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=a,this.moduleSize=o,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=e+this.width,n=this.startY+t/2,a=new Int32Array(3),o=this.image;for(let i=0;i<t;i++){const t=n+(1&i?-Math.floor((i+1)/2):Math.floor((i+1)/2));a[0]=0,a[1]=0,a[2]=0;let s=e;for(;s<r&&!o.get(s,t);)s++;let c=0;for(;s<r;){if(o.get(s,t))if(1===c)a[1]++;else if(2===c){if(this.foundPatternCross(a)){const e=this.handlePossibleCenter(a,t,s);if(null!==e)return e}a[0]=a[2],a[1]=1,a[2]=0,c=1}else a[++c]++;else 1===c&&c++,a[c]++;s++}if(this.foundPatternCross(a)){const e=this.handlePossibleCenter(a,t,r);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new P}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const a=this.image,o=a.getHeight(),i=this.crossCheckStateCount;i[0]=0,i[1]=0,i[2]=0;let s=e;for(;s>=0&&a.get(t,s)&&i[1]<=r;)i[1]++,s--;if(s<0||i[1]>r)return NaN;for(;s>=0&&!a.get(t,s)&&i[0]<=r;)i[0]++,s--;if(i[0]>r)return NaN;for(s=e+1;s<o&&a.get(t,s)&&i[1]<=r;)i[1]++,s++;if(s===o||i[1]>r)return NaN;for(;s<o&&!a.get(t,s)&&i[2]<=r;)i[2]++,s++;if(i[2]>r)return NaN;const c=i[0]+i[1]+i[2];return 5*Math.abs(c-n)>=2*n?NaN:this.foundPatternCross(i)?Mt.centerFromEnd(i,s):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],a=Mt.centerFromEnd(e,r),o=this.crossCheckVertical(t,a,2*e[1],n);if(!isNaN(o)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,o,a))return e.combineEstimate(o,a,t);const r=new Tt(a,o,t);this.possibleCenters.push(r),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(r)}return null}}class kt extends se{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,void 0===n&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,a=(this.count*this.getX()+t)/n,o=(this.count*this.getY()+e)/n,i=(this.count*this.estimatedModuleSize+r)/n;return new kt(a,o,i,n)}}class Rt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Bt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!=e&&void 0!==e.get(j.TRY_HARDER),r=null!=e&&void 0!==e.get(j.PURE_BARCODE),n=this.image,a=n.getHeight(),o=n.getWidth();let i=Math.floor(3*a/(4*Bt.MAX_MODULES));(i<Bt.MIN_SKIP||t)&&(i=Bt.MIN_SKIP);let s=!1;const c=new Int32Array(5);for(let e=i-1;e<a&&!s;e+=i){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;let t=0;for(let a=0;a<o;a++)if(n.get(a,e))1&~t||t++,c[t]++;else if(1&t)c[t]++;else if(4===t)if(Bt.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,e,a,r)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,t=3;continue}if(i=2,!0===this.hasSkipped)s=this.haveMultiplyConfirmedCenters();else{const t=this.findRowSkip();t>c[2]&&(e+=t-c[2]-i,a=o-1)}t=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,t=3;else c[++t]++;Bt.foundPatternCross(c)&&!0===this.handlePossibleCenter(c,e,o,r)&&(i=c[0],this.hasSkipped&&(s=this.haveMultiplyConfirmedCenters()))}const l=this.selectBestPatterns();return se.orderBestPatterns(l),new Rt(l)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let r=0;r<5;r++){const n=e[r];if(0===n)return!1;t+=n}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const a=this.getCrossCheckStateCount();let o=0;const i=this.image;for(;e>=o&&t>=o&&i.get(t-o,e-o);)a[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!i.get(t-o,e-o)&&a[1]<=r;)a[1]++,o++;if(e<o||t<o||a[1]>r)return!1;for(;e>=o&&t>=o&&i.get(t-o,e-o)&&a[0]<=r;)a[0]++,o++;if(a[0]>r)return!1;const s=i.getHeight(),c=i.getWidth();for(o=1;e+o<s&&t+o<c&&i.get(t+o,e+o);)a[2]++,o++;if(e+o>=s||t+o>=c)return!1;for(;e+o<s&&t+o<c&&!i.get(t+o,e+o)&&a[3]<r;)a[3]++,o++;if(e+o>=s||t+o>=c||a[3]>=r)return!1;for(;e+o<s&&t+o<c&&i.get(t+o,e+o)&&a[4]<r;)a[4]++,o++;if(a[4]>=r)return!1;const l=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(l-n)<2*n&&Bt.foundPatternCross(a)}crossCheckVertical(e,t,r,n){const a=this.image,o=a.getHeight(),i=this.getCrossCheckStateCount();let s=e;for(;s>=0&&a.get(t,s);)i[2]++,s--;if(s<0)return NaN;for(;s>=0&&!a.get(t,s)&&i[1]<=r;)i[1]++,s--;if(s<0||i[1]>r)return NaN;for(;s>=0&&a.get(t,s)&&i[0]<=r;)i[0]++,s--;if(i[0]>r)return NaN;for(s=e+1;s<o&&a.get(t,s);)i[2]++,s++;if(s===o)return NaN;for(;s<o&&!a.get(t,s)&&i[3]<r;)i[3]++,s++;if(s===o||i[3]>=r)return NaN;for(;s<o&&a.get(t,s)&&i[4]<r;)i[4]++,s++;if(i[4]>=r)return NaN;const c=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(c-n)>=2*n?NaN:Bt.foundPatternCross(i)?Bt.centerFromEnd(i,s):NaN}crossCheckHorizontal(e,t,r,n){const a=this.image,o=a.getWidth(),i=this.getCrossCheckStateCount();let s=e;for(;s>=0&&a.get(s,t);)i[2]++,s--;if(s<0)return NaN;for(;s>=0&&!a.get(s,t)&&i[1]<=r;)i[1]++,s--;if(s<0||i[1]>r)return NaN;for(;s>=0&&a.get(s,t)&&i[0]<=r;)i[0]++,s--;if(i[0]>r)return NaN;for(s=e+1;s<o&&a.get(s,t);)i[2]++,s++;if(s===o)return NaN;for(;s<o&&!a.get(s,t)&&i[3]<r;)i[3]++,s++;if(s===o||i[3]>=r)return NaN;for(;s<o&&a.get(s,t)&&i[4]<r;)i[4]++,s++;if(i[4]>=r)return NaN;const c=i[0]+i[1]+i[2]+i[3]+i[4];return 5*Math.abs(c-n)>=n?NaN:Bt.foundPatternCross(i)?Bt.centerFromEnd(i,s):NaN}handlePossibleCenter(e,t,r,n){const a=e[0]+e[1]+e[2]+e[3]+e[4];let o=Bt.centerFromEnd(e,r),i=this.crossCheckVertical(t,Math.floor(o),e[2],a);if(!isNaN(i)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(i),e[2],a),!isNaN(o)&&(!n||this.crossCheckDiagonal(Math.floor(i),Math.floor(o),e[2],a)))){const e=a/7;let t=!1;const r=this.possibleCenters;for(let n=0,a=r.length;n<a;n++){const a=r[n];if(a.aboutEquals(e,i,o)){r[n]=a.combineEstimate(i,o,e),t=!0;break}}if(!t){const t=new kt(o,i,e);r.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Bt.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const r of this.possibleCenters)r.getCount()>=Bt.CENTER_QUORUM&&(e++,t+=r.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let a=0;for(const e of this.possibleCenters)a+=Math.abs(e.getEstimatedModuleSize()-n);return a<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new P;const t=this.possibleCenters;let r;if(e>3){let n=0,a=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();n+=t,a+=t*t}r=n/e;let o=Math.sqrt(a/e-r*r);t.sort(((e,t)=>{const n=Math.abs(t.getEstimatedModuleSize()-r),a=Math.abs(e.getEstimatedModuleSize()-r);return n<a?-1:n>a?1:0}));const i=Math.max(.2*r,o);for(let e=0;e<t.length&&t.length>3;e++){const n=t[e];Math.abs(n.getEstimatedModuleSize()-r)>i&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const r of t)e+=r.getEstimatedModuleSize();r=e/t.length,t.sort(((e,t)=>{if(t.getCount()===e.getCount()){const n=Math.abs(t.getEstimatedModuleSize()-r),a=Math.abs(e.getEstimatedModuleSize()-r);return n<a?1:n>a?-1:0}return t.getCount()-e.getCount()})),t.splice(3)}return[t[0],t[1],t[2]]}}Bt.CENTER_QUORUM=2,Bt.MIN_SKIP=3,Bt.MAX_MODULES=57;class Lt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null==e?null:e.get(j.NEED_RESULT_POINT_CALLBACK);const t=new Bt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),a=this.calculateModuleSize(t,r,n);if(a<1)throw new P("No pattern found in proccess finder.");const o=Lt.computeDimension(t,r,n,a),i=Et.getProvisionalVersionForDimension(o),s=i.getDimensionForVersion()-7;let c=null;if(i.getAlignmentPatternCenters().length>0){const e=r.getX()-t.getX()+n.getX(),o=r.getY()-t.getY()+n.getY(),i=1-3/s,l=Math.floor(t.getX()+i*(e-t.getX())),u=Math.floor(t.getY()+i*(o-t.getY()));for(let e=4;e<=16;e<<=1)try{c=this.findAlignmentInRegion(a,l,u,e);break}catch(e){if(!(e instanceof P))throw e}}const l=Lt.createTransform(t,r,n,c,o),u=Lt.sampleGrid(this.image,l,o);let d;return d=null===c?[n,t,r]:[n,t,r,c],new ce(u,d)}static createTransform(e,t,r,n,a){const o=a-3.5;let i,s,c,l;return null!==n?(i=n.getX(),s=n.getY(),c=o-3,l=c):(i=t.getX()-e.getX()+r.getX(),s=t.getY()-e.getY()+r.getY(),c=o,l=o),fe.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,c,l,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),i,s,r.getX(),r.getY())}static sampleGrid(e,t,r){return pe.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const a=oe.round(se.distance(e,t)/n),o=oe.round(se.distance(e,r)/n);let i=Math.floor((a+o)/2)+7;switch(3&i){case 0:i++;break;case 2:i--;break;case 3:throw new P("Dimensions could be not found.")}return i}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let a=this.sizeOfBlackWhiteBlackRun(e,t,r,n),o=1,i=e-(r-e);i<0?(o=e/(e-i),i=0):i>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(i-e),i=this.image.getWidth()-1);let s=Math.floor(t-(n-t)*o);return o=1,s<0?(o=t/(t-s),s=0):s>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),i=Math.floor(e+(i-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,t,i,s),a-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const a=Math.abs(n-t)>Math.abs(r-e);if(a){let a=e;e=t,t=a,a=r,r=n,n=a}const o=Math.abs(r-e),i=Math.abs(n-t);let s=-o/2;const c=e<r?1:-1,l=t<n?1:-1;let u=0;const d=r+c;for(let r=e,f=t;r!==d;r+=c){const c=a?f:r,d=a?r:f;if(1===u===this.image.get(c,d)){if(2===u)return oe.distance(r,f,e,t);u++}if(s+=i,s>0){if(f===n)break;f+=l,s-=o}}return 2===u?oe.distance(r+c,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const a=Math.floor(n*e),o=Math.max(0,t-a),i=Math.min(this.image.getWidth()-1,t+a);if(i-o<3*e)throw new P("Alignment top exceeds estimated module size.");const s=Math.max(0,r-a),c=Math.min(this.image.getHeight()-1,r+a);if(c-s<3*e)throw new P("Alignment bottom exceeds estimated module size.");return new Mt(this.image,o,s,i-o,c-s,e,this.resultPointCallback).find()}}class Ft{constructor(){this.decoder=new It}getDecoder(){return this.decoder}decode(e,t){let r,n;if(null!=t&&void 0!==t.get(j.PURE_BARCODE)){const a=Ft.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(a,t),n=Ft.NO_POINTS}else{const a=new Lt(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(a.getBits(),t),n=a.getPoints()}r.getOther()instanceof Dt&&r.getOther().applyMirroredCorrection(n);const a=new U(r.getText(),r.getRawBytes(),void 0,n,V.QR_CODE,void 0),o=r.getByteSegments();null!==o&&a.putMetadata(Y.BYTE_SEGMENTS,o);const i=r.getECLevel();return null!==i&&a.putMetadata(Y.ERROR_CORRECTION_LEVEL,i),r.hasStructuredAppend()&&(a.putMetadata(Y.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),a.putMetadata(Y.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===t||null===r)throw new P;const n=this.moduleSize(t,e);let a=t[1],o=r[1],i=t[0],s=r[0];if(i>=s||a>=o)throw new P;if(o-a!=s-i&&(s=i+(o-a),s>=e.getWidth()))throw new P;const c=Math.round((s-i+1)/n),l=Math.round((o-a+1)/n);if(c<=0||l<=0)throw new P;if(l!==c)throw new P;const u=Math.floor(n/2);a+=u,i+=u;const d=i+Math.floor((c-1)*n)-s;if(d>0){if(d>u)throw new P;i-=d}const f=a+Math.floor((l-1)*n)-o;if(f>0){if(f>u)throw new P;a-=f}const h=new A(c,l);for(let t=0;t<l;t++){const r=a+Math.floor(t*n);for(let a=0;a<c;a++)e.get(i+Math.floor(a*n),r)&&h.set(a,t)}return h}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let a=e[0],o=e[1],i=!0,s=0;for(;a<n&&o<r;){if(i!==t.get(a,o)){if(5==++s)break;i=!i}a++,o++}if(a===n||o===r)throw new P;return(a-e[0])/7}}Ft.NO_POINTS=new Array;class Ut{PDF417Common(){}static getBitCountSum(e){return oe.sum(e)}static toIntArray(e){if(null==e||!e.length)return Ut.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=v.binarySearch(Ut.SYMBOL_TABLE,262143&e);return t<0?-1:(Ut.CODEWORD_TABLE[t]-1)%Ut.NUMBER_OF_CODEWORDS}}Ut.NUMBER_OF_CODEWORDS=929,Ut.MAX_CODEWORDS_IN_BARCODE=Ut.NUMBER_OF_CODEWORDS-1,Ut.MIN_ROWS_IN_BARCODE=3,Ut.MAX_ROWS_IN_BARCODE=90,Ut.MODULES_IN_CODEWORD=17,Ut.MODULES_IN_STOP_PATTERN=18,Ut.BARS_IN_MODULE=8,Ut.EMPTY_INT_ARRAY=new Int32Array([]),Ut.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ut.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Wt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Vt{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),a=Vt.detect(r,n);return a.length||(n=n.clone(),n.rotate180(),a=Vt.detect(r,n)),new Wt(n,a)}static detect(e,t){const r=new Array;let n=0,a=0,o=!1;for(;n<t.getHeight();){const i=Vt.findVertices(t,n,a);if(null!=i[0]||null!=i[3]){if(o=!0,r.push(i),!e)break;null!=i[2]?(a=Math.trunc(i[2].getX()),n=Math.trunc(i[2].getY())):(a=Math.trunc(i[4].getX()),n=Math.trunc(i[4].getY()))}else{if(!o)break;o=!1,a=0;for(const e of r)null!=e[1]&&(n=Math.trunc(Math.max(n,e[1].getY()))),null!=e[3]&&(n=Math.max(n,Math.trunc(e[3].getY())));n+=Vt.ROW_STEP}}return r}static findVertices(e,t,r){const n=e.getHeight(),a=e.getWidth(),o=new Array(8);return Vt.copyToResult(o,Vt.findRowsWithPattern(e,n,a,t,r,Vt.START_PATTERN),Vt.INDEXES_START_PATTERN),null!=o[4]&&(r=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),Vt.copyToResult(o,Vt.findRowsWithPattern(e,n,a,t,r,Vt.STOP_PATTERN),Vt.INDEXES_STOP_PATTERN),o}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,a,o){const i=new Array(4);let s=!1;const c=new Int32Array(o.length);for(;n<t;n+=Vt.ROW_STEP){let t=Vt.findGuardPattern(e,a,n,r,!1,o,c);if(null!=t){for(;n>0;){const i=Vt.findGuardPattern(e,a,--n,r,!1,o,c);if(null==i){n++;break}t=i}i[0]=new se(t[0],n),i[1]=new se(t[1],n),s=!0;break}}let l=n+1;if(s){let n=0,a=Int32Array.from([Math.trunc(i[0].getX()),Math.trunc(i[1].getX())]);for(;l<t;l++){const t=Vt.findGuardPattern(e,a[0],l,r,!1,o,c);if(null!=t&&Math.abs(a[0]-t[0])<Vt.MAX_PATTERN_DRIFT&&Math.abs(a[1]-t[1])<Vt.MAX_PATTERN_DRIFT)a=t,n=0;else{if(n>Vt.SKIPPED_ROW_COUNT_MAX)break;n++}}l-=n+1,i[2]=new se(a[0],l),i[3]=new se(a[1],l)}return l-n<Vt.BARCODE_MIN_HEIGHT&&v.fill(i,null),i}static findGuardPattern(e,t,r,n,a,o,i){v.fillWithin(i,0,i.length,0);let s=t,c=0;for(;e.get(s,r)&&s>0&&c++<Vt.MAX_PIXEL_DRIFT;)s--;let l=s,u=0,d=o.length;for(let t=a;l<n;l++)if(e.get(l,r)!==t)i[u]++;else{if(u===d-1){if(Vt.patternMatchVariance(i,o,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return new Int32Array([s,l]);s+=i[0]+i[1],m.arraycopy(i,2,i,0,u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,t=!t}return u===d-1&&Vt.patternMatchVariance(i,o,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE?new Int32Array([s,l-1]):null}static patternMatchVariance(e,t,r){let n=e.length,a=0,o=0;for(let r=0;r<n;r++)a+=e[r],o+=t[r];if(a<o)return 1/0;let i=a/o;r*=i;let s=0;for(let a=0;a<n;a++){let n=e[a],o=t[a]*i,c=n>o?n-o:o-n;if(c>r)return 1/0;s+=c}return s/a}}Vt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Vt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Vt.MAX_AVG_VARIANCE=.42,Vt.MAX_INDIVIDUAL_VARIANCE=.8,Vt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Vt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Vt.MAX_PIXEL_DRIFT=3,Vt.MAX_PATTERN_DRIFT=5,Vt.SKIPPED_ROW_COUNT_MAX=25,Vt.ROW_STEP=5,Vt.BARCODE_MIN_HEIGHT=10;class zt{constructor(e,t){if(0===t.length)throw new d;this.field=e;let r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-e),m.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let e=t;t=r,r=e}let n=new Int32Array(r.length),a=r.length-t.length;m.arraycopy(r,0,n,0,a);for(let e=a;e<r.length;e++)n[e]=this.field.add(t[e-a],r[e]);return new zt(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof zt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new zt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,a=n.length,o=new Int32Array(r+a-1);for(let e=0;e<r;e++){let r=t[e];for(let t=0;t<a;t++)o[e+t]=this.field.add(o[e+t],this.field.multiply(r,n[t]))}return new zt(this.field,o)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new zt(this.field,t)}multiplyScalar(e){if(0===e)return new zt(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new zt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return new zt(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let e=0;e<r;e++)n[e]=this.field.multiply(this.coefficients[e],t);return new zt(this.field,n)}toString(){let e=new O;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);0!==r&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),0!==t&&1===r||e.append(r),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Kt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}inverse(e){if(0===e)throw new J;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Gt extends Kt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let t=0;t<e-1;t++)this.logTable[this.expTable[t]]=t;this.zero=new zt(this,new Int32Array([0])),this.one=new zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new zt(this,r)}}Gt.PDF417_GF=new Gt(Ut.NUMBER_OF_CODEWORDS,3);class qt{constructor(){this.field=Gt.PDF417_GF}decode(e,t,r){let n=new zt(this.field,e),a=new Int32Array(t),o=!1;for(let e=t;e>0;e--){let r=n.evaluateAt(this.field.exp(e));a[t-e]=r,0!==r&&(o=!0)}if(!o)return 0;let i=this.field.getOne();if(null!=r)for(const t of r){let r=this.field.exp(e.length-1-t),n=new zt(this.field,new Int32Array([this.field.subtract(0,r),1]));i=i.multiply(n)}let s=new zt(this.field,a),c=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),s,t),l=c[0],u=c[1],d=this.findErrorLocations(l),f=this.findErrorMagnitudes(u,l,d);for(let t=0;t<d.length;t++){let r=e.length-1-this.field.log(d[t]);if(r<0)throw h.getChecksumInstance();e[r]=this.field.subtract(e[r],f[t])}return d.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let r=e;e=t,t=r}let n=e,a=t,o=this.field.getZero(),i=this.field.getOne();for(;a.getDegree()>=Math.round(r/2);){let e=n,t=o;if(n=a,o=i,n.isZero())throw h.getChecksumInstance();a=e;let r=this.field.getZero(),s=n.getCoefficient(n.getDegree()),c=this.field.inverse(s);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){let e=a.getDegree()-n.getDegree(),t=this.field.multiply(a.getCoefficient(a.getDegree()),c);r=r.add(this.field.buildMonomial(e,t)),a=a.subtract(n.multiplyByMonomial(e,t))}i=r.multiply(o).subtract(t).negative()}let s=i.getCoefficient(0);if(0===s)throw h.getChecksumInstance();let c=this.field.inverse(s);return[i.multiply(c),a.multiply(c)]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let a=1;a<this.field.getSize()&&n<t;a++)0===e.evaluateAt(a)&&(r[n]=this.field.inverse(a),n++);if(n!==t)throw h.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),a=new Int32Array(n);for(let e=1;e<=n;e++)a[n-e]=this.field.multiply(e,t.getCoefficient(e));let o=new zt(this.field,a),i=r.length,s=new Int32Array(i);for(let t=0;t<i;t++){let n=this.field.inverse(r[t]),a=this.field.subtract(0,e.evaluateAt(n)),i=this.field.inverse(o.evaluateAt(n));s[t]=this.field.multiply(a,i)}return s}}class Ht{constructor(e,t,r,n,a){e instanceof Ht?this.constructor_2(e):this.constructor_1(e,t,r,n,a)}constructor_1(e,t,r,n,a){const o=null==t||null==r,i=null==n||null==a;if(o&&i)throw new P;o?(t=new se(0,n.getY()),r=new se(0,a.getY())):i&&(n=new se(e.getWidth()-1,t.getY()),a=new se(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=a,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),a.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),a.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new Ht(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,a=this.bottomLeft,o=this.topRight,i=this.bottomRight;if(e>0){let t=r?this.topLeft:this.topRight,a=Math.trunc(t.getY()-e);a<0&&(a=0);let i=new se(t.getX(),a);r?n=i:o=i}if(t>0){let e=r?this.bottomLeft:this.bottomRight,n=Math.trunc(e.getY()+t);n>=this.image.getHeight()&&(n=this.image.getHeight()-1);let o=new se(e.getX(),n);r?a=o:i=o}return new Ht(this.image,n,a,o,i)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class $t{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yt{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(e,n,a,o,i,s){if("%%"===e)return"%";if(void 0===t[++r])return;e=o?parseInt(o.substr(1)):void 0;let c,l=i?parseInt(i.substr(1)):void 0;switch(s){case"s":c=t[r];break;case"c":c=t[r][0];break;case"f":c=parseFloat(t[r]).toFixed(e);break;case"p":c=parseFloat(t[r]).toPrecision(e);break;case"e":c=parseFloat(t[r]).toExponential(e);break;case"x":c=parseInt(t[r]).toString(l||16);break;case"d":c=parseFloat(parseInt(t[r],l||10).toPrecision(e)).toFixed(0)}c="object"==typeof c?JSON.stringify(c):(+c).toString(l);let u=parseInt(a),d=a&&a[0]+""=="0"?"0":" ";for(;c.length<u;)c=void 0!==n?c+d:d+c;return c}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,n)}format(e,...t){this.buffer+=Yt.form(e,t)}toString(){return this.buffer}}class Xt{constructor(e){this.boundingBox=new Ht(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let r=1;r<Xt.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],null!=t))return t;if(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Yt;let t=0;for(const r of this.codewords)null!=r?e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}Xt.MAX_NEARBY_DISTANCE=5;class Qt{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const a={getKey:()=>r,getValue:()=>n};a.getValue()>e?(e=a.getValue(),t=[],t.push(a.getKey())):a.getValue()===e&&t.push(a.getKey())}return Ut.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Zt extends Xt{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),i=this.imageRowToCodewordIndex(Math.trunc(a.getY())),s=-1,c=1,l=0;for(let r=o;r<i;r++){if(null==t[r])continue;let n=t[r],a=n.getRowNumber()-s;if(0===a)l++;else if(1===a)c=Math.max(c,l),l=1,s=n.getRowNumber();else if(a<0||n.getRowNumber()>=e.getRowCount()||a>r)t[r]=null;else{let e;e=c>2?(c-2)*a:a;let o=e>=r;for(let n=1;n<=e&&!o;n++)o=null!=t[r-n];o?t[r]=null:(s=n.getRowNumber(),l=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let e of this.getCodewords())if(null!=e){let r=e.getRowNumber();if(r>=t.length)continue;t[r]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),i=this.getCodewords(),s=-1;for(let t=a;t<o;t++){if(null==i[t])continue;let r=i[t];r.setRowNumberAsRowIndicatorColumn();let n=r.getRowNumber()-s;0===n||(1===n?s=r.getRowNumber():r.getRowNumber()>=e.getRowCount()?i[t]=null:s=r.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Qt,r=new Qt,n=new Qt,a=new Qt;for(let o of e){if(null==o)continue;o.setRowNumberAsRowIndicatorColumn();let e=o.getValue()%30,i=o.getRowNumber();switch(this._isLeft||(i+=2),i%3){case 0:r.setValue(3*e+1);break;case 1:a.setValue(e/3),n.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===r.getValue().length||0===n.getValue().length||0===a.getValue().length||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<Ut.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>Ut.MAX_ROWS_IN_BARCODE)return null;let o=new $t(t.getValue()[0],r.getValue()[0],n.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(e,o),o}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(null==e[r])continue;let a=n.getValue()%30,o=n.getRowNumber();if(o>t.getRowCount())e[r]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*a+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:Math.trunc(a/3)===t.getErrorCorrectionLevel()&&a%3===t.getRowCountLowerPart()||(e[r]=null);break;case 2:a+1!==t.getColumnCount()&&(e[r]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Jt{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=Ut.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let e=1;e<this.barcodeColumnCount+1;e++){let t=this.detectionResultColumns[e].getCodewords();for(let r=0;r<t.length;r++)null!=t[r]&&(t[r].hasValidRowNumber()||this.adjustRowNumbers(e,r,t))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(null!=e[r]&&null!=t[r]&&e[r].getRowNumber()===t[r].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let n=this.detectionResultColumns[t].getCodewords()[r];null!=n&&(n.setRowNumber(e[r].getRowNumber()),n.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),a=0;for(let t=this.barcodeColumnCount+1;t>0&&a<this.ADJUST_ROW_NUMBER_SKIP;t--){let o=this.detectionResultColumns[t].getCodewords()[r];null!=o&&(a=Jt.adjustRowNumberIfValid(n,a,o),o.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),a=0;for(let t=1;t<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;t++){let o=this.detectionResultColumns[t].getCodewords()[r];null!=o&&(a=Jt.adjustRowNumberIfValid(n,a,o),o.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],a=this.detectionResultColumns[e-1].getCodewords(),o=a;null!=this.detectionResultColumns[e+1]&&(o=this.detectionResultColumns[e+1].getCodewords());let i=new Array(14);i[2]=a[t],i[3]=o[t],t>0&&(i[0]=r[t-1],i[4]=a[t-1],i[5]=o[t-1]),t>1&&(i[8]=r[t-2],i[10]=a[t-2],i[11]=o[t-2]),t<r.length-1&&(i[1]=r[t+1],i[6]=a[t+1],i[7]=o[t+1]),t<r.length-2&&(i[9]=r[t+2],i[12]=a[t+2],i[13]=o[t+2]);for(let e of i)if(Jt.adjustRowNumber(n,e))return}static adjustRowNumber(e,t){return!(null==t||!t.hasValidRowNumber()||t.getBucket()!==e.getBucket()||(e.setRowNumber(t.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Yt;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let n=this.detectionResultColumns[e].getCodewords()[r];null!=n?t.format(" %3d|%3d",n.getRowNumber(),n.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class er{constructor(e,t,r,n){this.rowNumber=er.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==er.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}er.BARCODE_ROW_UNKNOWN=-1;class tr{static initialize(){for(let e=0;e<Ut.SYMBOL_TABLE.length;e++){let t=Ut.SYMBOL_TABLE[e],r=1&t;for(let n=0;n<Ut.BARS_IN_MODULE;n++){let a=0;for(;(1&t)===r;)a+=1,t>>=1;r=1&t,tr.RATIOS_TABLE[e]||(tr.RATIOS_TABLE[e]=new Array(Ut.BARS_IN_MODULE)),tr.RATIOS_TABLE[e][Ut.BARS_IN_MODULE-n-1]=Math.fround(a/Ut.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=tr.getDecodedCodewordValue(tr.sampleBitCounts(e));return-1!==t?t:tr.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=oe.sum(e),r=new Int32Array(Ut.BARS_IN_MODULE),n=0,a=0;for(let o=0;o<Ut.MODULES_IN_CODEWORD;o++){let i=t/(2*Ut.MODULES_IN_CODEWORD)+o*t/Ut.MODULES_IN_CODEWORD;a+e[n]<=i&&(a+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=tr.getBitValue(e);return-1===Ut.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2==0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=oe.sum(e),r=new Array(Ut.BARS_IN_MODULE);if(t>1)for(let n=0;n<r.length;n++)r[n]=Math.fround(e[n]/t);let n=ie.MAX_VALUE,a=-1;this.bSymbolTableReady||tr.initialize();for(let e=0;e<tr.RATIOS_TABLE.length;e++){let t=0,o=tr.RATIOS_TABLE[e];for(let e=0;e<Ut.BARS_IN_MODULE;e++){let a=Math.fround(o[e]-r[e]);if(t+=Math.fround(a*a),t>=n)break}t<n&&(n=t,a=Ut.SYMBOL_TABLE[e])}return a}}tr.bSymbolTableReady=!1,tr.RATIOS_TABLE=new Array(Ut.SYMBOL_TABLE.length).map((e=>new Array(Ut.BARS_IN_MODULE)));class rr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class nr{static parseLong(e,t=void 0){return parseInt(e,t)}}class ar extends l{}ar.kind="NullPointerException";class or{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(null==e)throw new ar;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new g;if(0!==r)for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class ir extends l{}class sr extends or{constructor(e=32){if(super(),this.count=0,e<0)throw new d("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new ir;t=b.MAX_VALUE}this.buf=v.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new g;this.ensureCapacity(this.count+r),m.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return v.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function cr(){if("undefined"!=typeof window)return window.BigInt||null;if(void 0!==r.g)return r.g.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let lr;function ur(e){if(void 0===lr&&(lr=cr()),null===lr)throw new Error("BigInt is not supported!");return lr(e)}function dr(){let e=[];e[0]=ur(1);let t=ur(900);e[1]=t;for(let r=2;r<16;r++)e[r]=e[r-1]*t;return e}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}($||($={}));class fr{static decode(e,t){let r=new O(""),n=N.ISO8859_1;r.enableDecoding(n);let a=1,o=e[a++],i=new rr;for(;a<e[0];){switch(o){case fr.TEXT_COMPACTION_MODE_LATCH:a=fr.textCompaction(e,a,r);break;case fr.BYTE_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:a=fr.byteCompaction(o,e,n,a,r);break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[a++]);break;case fr.NUMERIC_COMPACTION_MODE_LATCH:a=fr.numericCompaction(e,a,r);break;case fr.ECI_CHARSET:N.getCharacterSetECIByValue(e[a++]);break;case fr.ECI_GENERAL_PURPOSE:a+=2;break;case fr.ECI_USER_DEFINED:a++;break;case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=fr.decodeMacroBlock(e,a,i);break;case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:throw new w;default:a--,a=fr.textCompaction(e,a,r)}if(!(a<e.length))throw w.getFormatInstance();o=e[a++]}if(0===r.length())throw w.getFormatInstance();let s=new X(null,r.toString(),null,t);return s.setOther(i),s}static decodeMacroBlock(e,t,r){if(t+fr.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw w.getFormatInstance();let n=new Int32Array(fr.NUMBER_OF_SEQUENCE_CODEWORDS);for(let r=0;r<fr.NUMBER_OF_SEQUENCE_CODEWORDS;r++,t++)n[r]=e[t];r.setSegmentIndex(b.parseInt(fr.decodeBase900toBase10(n,fr.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new O;t=fr.textCompaction(e,t,a),r.setFileId(a.toString());let o=-1;for(e[t]===fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case fr.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let n=new O;t=fr.textCompaction(e,t+1,n),r.setFileName(n.toString());break;case fr.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let a=new O;t=fr.textCompaction(e,t+1,a),r.setSender(a.toString());break;case fr.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let o=new O;t=fr.textCompaction(e,t+1,o),r.setAddressee(o.toString());break;case fr.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let i=new O;t=fr.numericCompaction(e,t+1,i),r.setSegmentCount(b.parseInt(i.toString()));break;case fr.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let s=new O;t=fr.numericCompaction(e,t+1,s),r.setTimestamp(nr.parseLong(s.toString()));break;case fr.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let c=new O;t=fr.numericCompaction(e,t+1,c),r.setChecksum(b.parseInt(c.toString()));break;case fr.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let l=new O;t=fr.numericCompaction(e,t+1,l),r.setFileSize(nr.parseLong(l.toString()));break;default:throw w.getFormatInstance()}break;case fr.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw w.getFormatInstance()}if(-1!==o){let n=t-o;r.isLastSegment()&&n--,r.setOptionalData(v.copyOfRange(e,o,o+n))}return t}static textCompaction(e,t,r){let n=new Int32Array(2*(e[0]-t)),a=new Int32Array(2*(e[0]-t)),o=0,i=!1;for(;t<e[0]&&!i;){let r=e[t++];if(r<fr.TEXT_COMPACTION_MODE_LATCH)n[o]=r/30,n[o+1]=r%30,o+=2;else switch(r){case fr.TEXT_COMPACTION_MODE_LATCH:n[o++]=fr.TEXT_COMPACTION_MODE_LATCH;break;case fr.BYTE_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:case fr.NUMERIC_COMPACTION_MODE_LATCH:case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:t--,i=!0;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[o]=fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,r=e[t++],a[o]=r,o++}}return fr.decodeTextCompaction(n,a,o,r),t}static decodeTextCompaction(e,t,r,n){let a=$.ALPHA,o=$.ALPHA,i=0;for(;i<r;){let r=e[i],s="";switch(a){case $.ALPHA:if(r<26)s=String.fromCharCode(65+r);else switch(r){case 26:s=" ";break;case fr.LL:a=$.LOWER;break;case fr.ML:a=$.MIXED;break;case fr.PS:o=a,a=$.PUNCT_SHIFT;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=$.ALPHA}break;case $.LOWER:if(r<26)s=String.fromCharCode(97+r);else switch(r){case 26:s=" ";break;case fr.AS:o=a,a=$.ALPHA_SHIFT;break;case fr.ML:a=$.MIXED;break;case fr.PS:o=a,a=$.PUNCT_SHIFT;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=$.ALPHA}break;case $.MIXED:if(r<fr.PL)s=fr.MIXED_CHARS[r];else switch(r){case fr.PL:a=$.PUNCT;break;case 26:s=" ";break;case fr.LL:a=$.LOWER;break;case fr.AL:a=$.ALPHA;break;case fr.PS:o=a,a=$.PUNCT_SHIFT;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=$.ALPHA}break;case $.PUNCT:if(r<fr.PAL)s=fr.PUNCT_CHARS[r];else switch(r){case fr.PAL:a=$.ALPHA;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=$.ALPHA}break;case $.ALPHA_SHIFT:if(a=o,r<26)s=String.fromCharCode(65+r);else switch(r){case 26:s=" ";break;case fr.TEXT_COMPACTION_MODE_LATCH:a=$.ALPHA}break;case $.PUNCT_SHIFT:if(a=o,r<fr.PAL)s=fr.PUNCT_CHARS[r];else switch(r){case fr.PAL:a=$.ALPHA;break;case fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[i]);break;case fr.TEXT_COMPACTION_MODE_LATCH:a=$.ALPHA}}""!==s&&n.append(s),i++}}static byteCompaction(e,t,r,n,a){let o=new sr,i=0,s=0,c=!1;switch(e){case fr.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),r=t[n++];for(;n<t[0]&&!c;)switch(e[i++]=r,s=900*s+r,r=t[n++],r){case fr.TEXT_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH:case fr.NUMERIC_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:n--,c=!0;break;default:if(i%5==0&&i>0){for(let e=0;e<6;++e)o.write(Number(ur(s)>>ur(8*(5-e))));s=0,i=0}}n===t[0]&&r<fr.TEXT_COMPACTION_MODE_LATCH&&(e[i++]=r);for(let t=0;t<i;t++)o.write(e[t]);break;case fr.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!c;){let e=t[n++];if(e<fr.TEXT_COMPACTION_MODE_LATCH)i++,s=900*s+e;else switch(e){case fr.TEXT_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH:case fr.NUMERIC_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:n--,c=!0}if(i%5==0&&i>0){for(let e=0;e<6;++e)o.write(Number(ur(s)>>ur(8*(5-e))));s=0,i=0}}}return a.append(C.decode(o.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,a=!1,o=new Int32Array(fr.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!a;){let i=e[t++];if(t===e[0]&&(a=!0),i<fr.TEXT_COMPACTION_MODE_LATCH)o[n]=i,n++;else switch(i){case fr.TEXT_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH:case fr.BYTE_COMPACTION_MODE_LATCH_6:case fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fr.MACRO_PDF417_TERMINATOR:t--,a=!0}(n%fr.MAX_NUMERIC_CODEWORDS==0||i===fr.NUMERIC_COMPACTION_MODE_LATCH||a)&&n>0&&(r.append(fr.decodeBase900toBase10(o,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=ur(0);for(let n=0;n<t;n++)r+=fr.EXP900[t-n-1]*ur(e[n]);let n=r.toString();if("1"!==n.charAt(0))throw new w;return n.substring(1)}}fr.TEXT_COMPACTION_MODE_LATCH=900,fr.BYTE_COMPACTION_MODE_LATCH=901,fr.NUMERIC_COMPACTION_MODE_LATCH=902,fr.BYTE_COMPACTION_MODE_LATCH_6=924,fr.ECI_USER_DEFINED=925,fr.ECI_GENERAL_PURPOSE=926,fr.ECI_CHARSET=927,fr.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fr.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fr.MACRO_PDF417_TERMINATOR=922,fr.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fr.MAX_NUMERIC_CODEWORDS=15,fr.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fr.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fr.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fr.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fr.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fr.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fr.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fr.PL=25,fr.LL=27,fr.AS=27,fr.ML=28,fr.AL=28,fr.PS=29,fr.PAL=29,fr.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",fr.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",fr.EXP900=cr()?dr():[],fr.NUMBER_OF_SEQUENCE_CODEWORDS=2;class hr{constructor(){}static decode(e,t,r,n,a,o,i){let s,c=new Ht(e,t,r,n,a),l=null,u=null;for(let r=!0;;r=!1){if(null!=t&&(l=hr.getRowIndicatorColumn(e,c,t,!0,o,i)),null!=n&&(u=hr.getRowIndicatorColumn(e,c,n,!1,o,i)),s=hr.merge(l,u),null==s)throw P.getNotFoundInstance();let a=s.getBoundingBox();if(!r||null==a||!(a.getMinY()<c.getMinY()||a.getMaxY()>c.getMaxY()))break;c=a}s.setBoundingBox(c);let d=s.getBarcodeColumnCount()+1;s.setDetectionResultColumn(0,l),s.setDetectionResultColumn(d,u);let f=null!=l;for(let t=1;t<=d;t++){let r,n=f?t:d-t;if(void 0!==s.getDetectionResultColumn(n))continue;r=0===n||n===d?new Zt(c,0===n):new Xt(c),s.setDetectionResultColumn(n,r);let a=-1,l=a;for(let t=c.getMinY();t<=c.getMaxY();t++){if(a=hr.getStartColumn(s,n,t,f),a<0||a>c.getMaxX()){if(-1===l)continue;a=l}let u=hr.detectCodeword(e,c.getMinX(),c.getMaxX(),f,a,t,o,i);null!=u&&(r.setCodeword(t,u),l=a,o=Math.min(o,u.getWidth()),i=Math.max(i,u.getWidth()))}}return hr.createDecoderResult(s)}static merge(e,t){if(null==e&&null==t)return null;let r=hr.getBarcodeMetadata(e,t);if(null==r)return null;let n=Ht.merge(hr.adjustBoundingBox(e),hr.adjustBoundingBox(t));return new Jt(r,n)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let r=hr.getMax(t),n=0;for(let e of t)if(n+=r-e,e>0)break;let a=e.getCodewords();for(let e=0;n>0&&null==a[e];e++)n--;let o=0;for(let e=t.length-1;e>=0&&(o+=r-t[e],!(t[e]>0));e--);for(let e=a.length-1;o>0&&null==a[e];e--)o--;return e.getBoundingBox().addMissingRows(n,o,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r,n;return null==e||null==(r=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(n=t.getBarcodeMetadata())?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,a,o){let i=new Zt(t,n);for(let s=0;s<2;s++){let c=0===s?1:-1,l=Math.trunc(Math.trunc(r.getX()));for(let s=Math.trunc(Math.trunc(r.getY()));s<=t.getMaxY()&&s>=t.getMinY();s+=c){let t=hr.detectCodeword(e,0,e.getWidth(),n,l,s,a,o);null!=t&&(i.setCodeword(s,t),l=n?t.getStartX():t.getEndX())}}return i}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-hr.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===n.length){if(a<1||a>Ut.MAX_CODEWORDS_IN_BARCODE)throw P.getNotFoundInstance();r.setValue(a)}else n[0]!==a&&r.setValue(a)}static createDecoderResult(e){let t=hr.createBarcodeMatrix(e);hr.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array;for(let i=0;i<e.getBarcodeRowCount();i++)for(let s=0;s<e.getBarcodeColumnCount();s++){let c=t[i][s+1].getValue(),l=i*e.getBarcodeColumnCount()+s;0===c.length?r.push(l):1===c.length?n[l]=c[0]:(o.push(l),a.push(c))}let i=new Array(a.length);for(let e=0;e<i.length;e++)i[e]=a[e];return hr.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,Ut.toIntArray(r),Ut.toIntArray(o),i)}static createDecoderResultFromAmbiguousValues(e,t,r,n,a){let o=new Int32Array(n.length),i=100;for(;i-- >0;){for(let e=0;e<o.length;e++)t[n[e]]=a[e][o[e]];try{return hr.decodeCodewords(t,e,r)}catch(e){if(!(e instanceof h))throw e}if(0===o.length)throw h.getChecksumInstance();for(let e=0;e<o.length;e++){if(o[e]<a[e].length-1){o[e]++;break}if(o[e]=0,e===o.length-1)throw h.getChecksumInstance()}}throw h.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},(()=>new Array(e.getBarcodeColumnCount()+2)));for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)t[e][r]=new Qt;let r=0;for(let n of e.getDetectionResultColumns()){if(null!=n)for(let e of n.getCodewords())if(null!=e){let n=e.getRowNumber();if(n>=0){if(n>=t.length)continue;t[n][r].setValue(e.getValue())}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let a=n?1:-1,o=null;if(hr.isValidBarcodeColumn(e,t-a)&&(o=e.getDetectionResultColumn(t-a).getCodeword(r)),null!=o)return n?o.getEndX():o.getStartX();if(o=e.getDetectionResultColumn(t).getCodewordNearby(r),null!=o)return n?o.getStartX():o.getEndX();if(hr.isValidBarcodeColumn(e,t-a)&&(o=e.getDetectionResultColumn(t-a).getCodewordNearby(r)),null!=o)return n?o.getEndX():o.getStartX();let i=0;for(;hr.isValidBarcodeColumn(e,t-a);){t-=a;for(let r of e.getDetectionResultColumn(t).getCodewords())if(null!=r)return(n?r.getEndX():r.getStartX())+a*i*(r.getEndX()-r.getStartX());i++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,a,o,i,s){a=hr.adjustCodewordStartColumn(e,t,r,n,a,o);let c,l=hr.getModuleBitCount(e,t,r,n,a,o);if(null==l)return null;let u=oe.sum(l);if(n)c=a+u;else{for(let e=0;e<l.length/2;e++){let t=l[e];l[e]=l[l.length-1-e],l[l.length-1-e]=t}c=a,a=c-u}if(!hr.checkCodewordSkew(u,i,s))return null;let d=tr.getDecodedValue(l),f=Ut.getCodeword(d);return-1===f?null:new er(a,c,hr.getCodewordBucketNumber(d),f)}static getModuleBitCount(e,t,r,n,a,o){let i=a,s=new Int32Array(8),c=0,l=n?1:-1,u=n;for(;(n?i<r:i>=t)&&c<s.length;)e.get(i,o)===u?(s[c]++,i+=l):(c++,u=!u);return c===s.length||i===(n?r:t)&&c===s.length-1?s:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,a,o){let i=a,s=n?-1:1;for(let c=0;c<2;c++){for(;(n?i>=t:i<r)&&n===e.get(i,o);){if(Math.abs(a-i)>hr.CODEWORD_SKEW_SIZE)return a;i+=s}s=-s,n=!n}return i}static checkCodewordSkew(e,t,r){return t-hr.CODEWORD_SKEW_SIZE<=e&&e<=r+hr.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(0===e.length)throw w.getFormatInstance();let n=1<<t+1,a=hr.correctErrors(e,r,n);hr.verifyCodewordCount(e,n);let o=fr.decode(e,""+t);return o.setErrorsCorrected(a),o.setErasures(r.length),o}static correctErrors(e,t,r){if(null!=t&&t.length>r/2+hr.MAX_ERRORS||r<0||r>hr.MAX_EC_CODEWORDS)throw h.getChecksumInstance();return hr.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw w.getFormatInstance();let r=e[0];if(r>e.length)throw w.getFormatInstance();if(0===r){if(!(t<e.length))throw w.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((1&e)!==r&&(r=1&e,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return hr.getCodewordBucketNumber(hr.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Yt;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let a=e[r][n];0===a.getValue().length?t.format("        ",null):t.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}t.format("%n")}return t.toString()}}hr.CODEWORD_SKEW_SIZE=2,hr.MAX_ERRORS=3,hr.MAX_EC_CODEWORDS=512,hr.errorCorrection=new qt;class pr{decode(e,t=null){let r=pr.decode(e,t,!1);if(null==r||0===r.length||null==r[0])throw P.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return pr.decode(e,t,!0)}catch(e){if(e instanceof w||e instanceof h)throw P.getNotFoundInstance();throw e}}static decode(e,t,r){const n=new Array,a=Vt.detectMultiple(e,t,r);for(const e of a.getPoints()){const t=hr.decode(a.getBits(),e[4],e[5],e[6],e[7],pr.getMinCodewordWidth(e),pr.getMaxCodewordWidth(e)),r=new U(t.getText(),t.getRawBytes(),void 0,e,V.PDF_417);r.putMetadata(Y.ERROR_CORRECTION_LEVEL,t.getECLevel());const o=t.getOther();null!=o&&r.putMetadata(Y.PDF417_EXTRA_METADATA,o),n.push(r)}return n.map((e=>e))}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?b.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(pr.getMaxWidth(e[0],e[4]),pr.getMaxWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.max(pr.getMaxWidth(e[1],e[5]),pr.getMaxWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(pr.getMinWidth(e[0],e[4]),pr.getMinWidth(e[6],e[2])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN),Math.min(pr.getMinWidth(e[1],e[5]),pr.getMinWidth(e[7],e[3])*Ut.MODULES_IN_CODEWORD/Ut.MODULES_IN_STOP_PATTERN)))}reset(){}}class mr extends l{}mr.kind="ReaderException";class gr{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!t(e)&&!0===e.get(j.TRY_HARDER),n=t(e)?null:e.get(j.POSSIBLE_FORMATS),a=new Array;if(!t(n)){const t=n.some((e=>e===V.UPC_A||e===V.UPC_E||e===V.EAN_13||e===V.EAN_8||e===V.CODABAR||e===V.CODE_39||e===V.CODE_93||e===V.CODE_128||e===V.ITF||e===V.RSS_14||e===V.RSS_EXPANDED));t&&!r&&a.push(new ct(e,this.verbose)),n.includes(V.QR_CODE)&&a.push(new Ft),n.includes(V.DATA_MATRIX)&&a.push(new bt),n.includes(V.AZTEC)&&a.push(new xe),n.includes(V.PDF_417)&&a.push(new pr),t&&r&&a.push(new ct(e,this.verbose))}0===a.length&&(r||a.push(new ct(e,this.verbose)),a.push(new Ft),a.push(new bt),a.push(new xe),a.push(new pr),r&&a.push(new ct(e,this.verbose))),this.readers=a}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new mr("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(e){if(e instanceof mr)continue}throw new P("No MultiFormat Readers were able to detect the code.")}}class xr extends F{constructor(e=null,t=500){const r=new gr;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class vr extends F{constructor(e=500){super(new pr,e)}}class br extends F{constructor(e=500){super(new Ft,e)}}var yr;!function(e){e[e.ERROR_CORRECTION=0]="ERROR_CORRECTION",e[e.CHARACTER_SET=1]="CHARACTER_SET",e[e.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",e[e.MIN_SIZE=3]="MIN_SIZE",e[e.MAX_SIZE=4]="MAX_SIZE",e[e.MARGIN=5]="MARGIN",e[e.PDF417_COMPACT=6]="PDF417_COMPACT",e[e.PDF417_COMPACTION=7]="PDF417_COMPACTION",e[e.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",e[e.AZTEC_LAYERS=9]="AZTEC_LAYERS",e[e.QR_VERSION=10]="QR_VERSION"}(yr||(yr={}));var _r=yr;class jr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Z(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let a=t.length;a<=e;a++){const e=r.multiply(new Z(n,Int32Array.from([1,n.exp(a-1+n.getGeneratorBase())])));t.push(e),r=e}}return t[e]}encode(e,t){if(0===t)throw new d("No error correction bytes");const r=e.length-t;if(r<=0)throw new d("No data bytes provided");const n=this.buildGenerator(t),a=new Int32Array(r);m.arraycopy(e,0,a,0,r);let o=new Z(this.field,a);o=o.multiplyByMonomial(t,1);const i=o.divide(n)[1].getCoefficients(),s=t-i.length;for(let t=0;t<s;t++)e[r+t]=0;m.arraycopy(i,0,e,r+s,i.length)}}class wr{constructor(){}static applyMaskPenaltyRule1(e){return wr.applyMaskPenaltyRule1Internal(e,!0)+wr.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),a=e.getHeight();for(let e=0;e<a-1;e++){const a=r[e];for(let o=0;o<n-1;o++){const n=a[o];n===a[o+1]&&n===r[e+1][o]&&n===r[e+1][o+1]&&t++}}return wr.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),a=e.getHeight();for(let e=0;e<a;e++)for(let o=0;o<n;o++){const i=r[e];o+6<n&&1===i[o]&&0===i[o+1]&&1===i[o+2]&&1===i[o+3]&&1===i[o+4]&&0===i[o+5]&&1===i[o+6]&&(wr.isWhiteHorizontal(i,o-4,o)||wr.isWhiteHorizontal(i,o+7,o+11))&&t++,e+6<a&&1===r[e][o]&&0===r[e+1][o]&&1===r[e+2][o]&&1===r[e+3][o]&&1===r[e+4][o]&&0===r[e+5][o]&&1===r[e+6][o]&&(wr.isWhiteVertical(r,o,e-4,e)||wr.isWhiteVertical(r,o,e+7,e+11))&&t++}return t*wr.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(1===e[n])return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let a=r;a<n;a++)if(1===e[a][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),a=e.getHeight();for(let e=0;e<a;e++){const a=r[e];for(let e=0;e<n;e++)1===a[e]&&t++}const o=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-o)/o)*wr.N4}static getDataMaskBit(e,t,r){let n,a;switch(e){case 0:n=r+t&1;break;case 1:n=1&r;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:a=r*t,n=(1&a)+a%3;break;case 6:a=r*t,n=(1&a)+a%3&1;break;case 7:a=r*t,n=a%3+(r+t&1)&1;break;default:throw new d("Invalid mask pattern: "+e)}return 0===n}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),a=t?e.getWidth():e.getHeight(),o=e.getArray();for(let e=0;e<n;e++){let n=0,i=-1;for(let s=0;s<a;s++){const a=t?o[e][s]:o[s][e];a===i?n++:(n>=5&&(r+=wr.N1+(n-5)),n=1,i=a)}n>=5&&(r+=wr.N1+(n-5))}return r}}wr.N1=3,wr.N2=3,wr.N3=40,wr.N4=10;class Nr{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)v.fill(t,e)}equals(e){if(!(e instanceof Nr))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let e=0,r=this.height;e<r;++e){const r=this.bytes[e],n=t.bytes[e];for(let e=0,t=this.width;e<t;++e)if(r[e]!==n[e])return!1}return!0}toString(){const e=new O;for(let t=0,r=this.height;t<r;++t){const r=this.bytes[t];for(let t=0,n=this.width;t<n;++t)switch(r[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class Er{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new O;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Er.NUM_MASK_PATTERNS}}Er.NUM_MASK_PATTERNS=8;class Cr extends l{}Cr.kind="WriterException";class Sr{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,a){Sr.clearMatrix(a),Sr.embedBasicPatterns(r,a),Sr.embedTypeInfo(t,n,a),Sr.maybeEmbedVersionInfo(r,a),Sr.embedDataBits(e,n,a)}static embedBasicPatterns(e,t){Sr.embedPositionDetectionPatternsAndSeparators(t),Sr.embedDarkDotAtLeftBottomCorner(t),Sr.maybeEmbedPositionAdjustmentPatterns(e,t),Sr.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new y;Sr.makeTypeInfoBits(e,t,n);for(let e=0,t=n.getSize();e<t;++e){const t=n.get(n.getSize()-1-e),a=Sr.TYPE_INFO_COORDINATES[e],o=a[0],i=a[1];if(r.setBoolean(o,i,t),e<8){const n=r.getWidth()-e-1,a=8;r.setBoolean(n,a,t)}else{const n=8,a=r.getHeight()-7+(e-8);r.setBoolean(n,a,t)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new y;Sr.makeVersionInfoBits(e,r);let n=17;for(let e=0;e<6;++e)for(let a=0;a<3;++a){const o=r.get(n);n--,t.setBoolean(e,t.getHeight()-11+a,o),t.setBoolean(t.getHeight()-11+a,e,o)}}static embedDataBits(e,t,r){let n=0,a=-1,o=r.getWidth()-1,i=r.getHeight()-1;for(;o>0;){for(6===o&&(o-=1);i>=0&&i<r.getHeight();){for(let a=0;a<2;++a){const s=o-a;if(!Sr.isEmpty(r.get(s,i)))continue;let c;n<e.getSize()?(c=e.get(n),++n):c=!1,255!==t&&wr.getDataMaskBit(t,s,i)&&(c=!c),r.setBoolean(s,i,c)}i+=a}a=-a,i+=a,o-=2}if(n!==e.getSize())throw new Cr("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-b.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new d("0 polynomial");const r=Sr.findMSBSet(t);for(e<<=r-1;Sr.findMSBSet(e)>=r;)e^=t<<Sr.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!Er.isValidMaskPattern(t))throw new Cr("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const a=Sr.calculateBCHCode(n,Sr.TYPE_INFO_POLY);r.appendBits(a,10);const o=new y;if(o.appendBits(Sr.TYPE_INFO_MASK_PATTERN,15),r.xor(o),15!==r.getSize())throw new Cr("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Sr.calculateBCHCode(e.getVersionNumber(),Sr.VERSION_INFO_POLY);if(t.appendBits(r,12),18!==t.getSize())throw new Cr("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Sr.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Sr.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new Cr;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!Sr.isEmpty(r.get(e+n,t)))throw new Cr;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!Sr.isEmpty(r.get(e,t+n)))throw new Cr;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const a=Sr.POSITION_ADJUSTMENT_PATTERN[n];for(let o=0;o<5;++o)r.setNumber(e+o,t+n,a[o])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const a=Sr.POSITION_DETECTION_PATTERN[n];for(let o=0;o<7;++o)r.setNumber(e+o,t+n,a[o])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Sr.POSITION_DETECTION_PATTERN[0].length;Sr.embedPositionDetectionPattern(0,0,e),Sr.embedPositionDetectionPattern(e.getWidth()-t,0,e),Sr.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Sr.embedHorizontalSeparationPattern(0,r-1,e),Sr.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Sr.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;Sr.embedVerticalSeparationPattern(n,0,e),Sr.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),Sr.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=Sr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let e=0,r=n.length;e!==r;e++){const a=n[e];if(a>=0)for(let e=0;e!==r;e++){const r=n[e];r>=0&&Sr.isEmpty(t.get(r,a))&&Sr.embedPositionAdjustmentPattern(r-2,a-2,t)}}}}Sr.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Sr.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Sr.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Sr.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Sr.VERSION_INFO_POLY=7973,Sr.TYPE_INFO_POLY=1335,Sr.TYPE_INFO_MASK_PATTERN=21522;class Or{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ar{constructor(){}static calculateMaskPenalty(e){return wr.applyMaskPenaltyRule1(e)+wr.applyMaskPenaltyRule2(e)+wr.applyMaskPenaltyRule3(e)+wr.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=Ar.DEFAULT_BYTE_MODE_ENCODING;const a=null!==r&&void 0!==r.get(_r.CHARACTER_SET);a&&(n=r.get(_r.CHARACTER_SET).toString());const o=this.chooseMode(e,n),i=new y;if(o===At.BYTE&&(a||Ar.DEFAULT_BYTE_MODE_ENCODING!==n)){const e=N.getCharacterSetECIByName(n);void 0!==e&&this.appendECI(e,i)}this.appendModeInfo(o,i);const s=new y;let c;if(this.appendBytes(e,o,s,n),null!==r&&void 0!==r.get(_r.QR_VERSION)){const e=Number.parseInt(r.get(_r.QR_VERSION).toString(),10);c=Et.getVersionForNumber(e);const n=this.calculateBitsNeeded(o,i,s,c);if(!this.willFit(n,c,t))throw new Cr("Data too big for requested version")}else c=this.recommendVersion(t,o,i,s);const l=new y;l.appendBitArray(i);const u=o===At.BYTE?s.getSizeInBytes():e.length;this.appendLengthInfo(u,c,o,l),l.appendBitArray(s);const d=c.getECBlocksForLevel(t),f=c.getTotalCodewords()-d.getTotalECCodewords();this.terminateBits(f,l);const h=this.interleaveWithECBytes(l,c.getTotalCodewords(),f,d.getNumBlocks()),p=new Er;p.setECLevel(t),p.setMode(o),p.setVersion(c);const m=c.getDimensionForVersion(),g=new Nr(m,m),x=this.chooseMaskPattern(h,t,c,g);return p.setMaskPattern(x),Sr.buildMatrix(h,t,c,x,g),p.setMatrix(g),p}static recommendVersion(e,t,r,n){const a=this.calculateBitsNeeded(t,r,n,Et.getVersionForNumber(1)),o=this.chooseVersion(a,e),i=this.calculateBitsNeeded(t,r,n,o);return this.chooseVersion(i,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<Ar.ALPHANUMERIC_TABLE.length?Ar.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(N.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return At.KANJI;let r=!1,n=!1;for(let t=0,a=e.length;t<a;++t){const a=e.charAt(t);if(Ar.isDigit(a))r=!0;else{if(-1===this.getAlphanumericCode(a.charCodeAt(0)))return At.BYTE;n=!0}}return n?At.ALPHANUMERIC:r?At.NUMERIC:At.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=C.encode(e,N.SJIS)}catch(e){return!1}const r=t.length;if(r%2!=0)return!1;for(let e=0;e<r;e+=2){const r=255&t[e];if((r<129||r>159)&&(r<224||r>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let a=Number.MAX_SAFE_INTEGER,o=-1;for(let i=0;i<Er.NUM_MASK_PATTERNS;i++){Sr.buildMatrix(e,t,r,i,n);let s=this.calculateMaskPenalty(n);s<a&&(a=s,o=i)}return o}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=Et.getVersionForNumber(r);if(Ar.willFit(e,n,t))return n}throw new Cr("Data too big")}static willFit(e,t,r){return t.getTotalCodewords()-t.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const r=8*e;if(t.getSize()>r)throw new Cr("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let e=0;e<4&&t.getSize()<r;++e)t.appendBit(!1);const n=7&t.getSize();if(n>0)for(let e=n;e<8;e++)t.appendBit(!1);const a=e-t.getSizeInBytes();for(let e=0;e<a;++e)t.appendBits(1&e?17:236,8);if(t.getSize()!==r)throw new Cr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,a,o){if(n>=r)throw new Cr("Block ID too large");const i=e%r,s=r-i,c=Math.floor(e/r),l=c+1,u=Math.floor(t/r),d=u+1,f=c-u,h=l-d;if(f!==h)throw new Cr("EC bytes mismatch");if(r!==s+i)throw new Cr("RS blocks mismatch");if(e!==(u+f)*s+(d+h)*i)throw new Cr("Total bytes mismatch");n<s?(a[0]=u,o[0]=f):(a[0]=d,o[0]=h)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new Cr("Number of bits and data bytes does not match");let a=0,o=0,i=0;const s=new Array;for(let c=0;c<n;++c){const l=new Int32Array(1),u=new Int32Array(1);Ar.getNumDataBytesAndNumECBytesForBlockID(t,r,n,c,l,u);const d=l[0],f=new Uint8Array(d);e.toBytes(8*a,f,0,d);const h=Ar.generateECBytes(f,u[0]);s.push(new Or(f,h)),o=Math.max(o,d),i=Math.max(i,h.length),a+=l[0]}if(r!==a)throw new Cr("Data bytes does not match offset");const c=new y;for(let e=0;e<o;++e)for(const t of s){const r=t.getDataBytes();e<r.length&&c.appendBits(r[e],8)}for(let e=0;e<i;++e)for(const t of s){const r=t.getErrorCorrectionBytes();e<r.length&&c.appendBits(r[e],8)}if(t!==c.getSizeInBytes())throw new Cr("Interleaving error: "+t+" and "+c.getSizeInBytes()+" differ.");return c}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let t=0;t<r;t++)n[t]=255&e[t];new jr(ee.QR_CODE_FIELD_256).encode(n,t);const a=new Uint8Array(t);for(let e=0;e<t;e++)a[e]=n[r+e];return a}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const a=r.getCharacterCountBits(t);if(e>=1<<a)throw new Cr(e+" is bigger than "+((1<<a)-1));n.appendBits(e,a)}static appendBytes(e,t,r,n){switch(t){case At.NUMERIC:Ar.appendNumericBytes(e,r);break;case At.ALPHANUMERIC:Ar.appendAlphanumericBytes(e,r);break;case At.BYTE:Ar.append8BitBytes(e,r,n);break;case At.KANJI:Ar.appendKanjiBytes(e,r);break;default:throw new Cr("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Ar.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const a=Ar.getDigit(e.charAt(n));if(n+2<r){const r=Ar.getDigit(e.charAt(n+1)),o=Ar.getDigit(e.charAt(n+2));t.appendBits(100*a+10*r+o,10),n+=3}else if(n+1<r){const r=Ar.getDigit(e.charAt(n+1));t.appendBits(10*a+r,7),n+=2}else t.appendBits(a,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const a=Ar.getAlphanumericCode(e.charCodeAt(n));if(-1===a)throw new Cr;if(n+1<r){const r=Ar.getAlphanumericCode(e.charCodeAt(n+1));if(-1===r)throw new Cr;t.appendBits(45*a+r,11),n+=2}else t.appendBits(a,6),n++}}static append8BitBytes(e,t,r){let n;try{n=C.encode(e,r)}catch(e){throw new Cr(e)}for(let e=0,r=n.length;e!==r;e++){const r=n[e];t.appendBits(r,8)}}static appendKanjiBytes(e,t){let r;try{r=C.encode(e,N.SJIS)}catch(e){throw new Cr(e)}const n=r.length;for(let e=0;e<n;e+=2){const n=(255&r[e])<<8&4294967295|255&r[e+1];let a=-1;if(n>=33088&&n<=40956?a=n-33088:n>=57408&&n<=60351&&(a=n-49472),-1===a)throw new Cr("Invalid byte sequence");const o=192*(a>>8)+(255&a);t.appendBits(o,13)}}static appendECI(e,t){t.appendBits(At.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Ar.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ar.DEFAULT_BYTE_MODE_ENCODING=N.UTF8.getName();class Pr{write(e,t,r,n=null){if(0===e.length)throw new d("Found empty contents");if(t<0||r<0)throw new d("Requested dimensions are too small: "+t+"x"+r);let a=_t.L,o=Pr.QUIET_ZONE_SIZE;null!==n&&(void 0!==n.get(_r.ERROR_CORRECTION)&&(a=_t.fromString(n.get(_r.ERROR_CORRECTION).toString())),void 0!==n.get(_r.MARGIN)&&(o=Number.parseInt(n.get(_r.MARGIN).toString(),10)));const i=Ar.encode(e,a,n);return this.renderResult(i,t,r,o)}writeToDom(e,t,r,n,a=null){"string"==typeof e&&(e=document.querySelector(e));const o=this.write(t,r,n,a);e&&e.appendChild(o)}renderResult(e,t,r,n){const a=e.getMatrix();if(null===a)throw new re;const o=a.getWidth(),i=a.getHeight(),s=o+2*n,c=i+2*n,l=Math.max(t,s),u=Math.max(r,c),d=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-o*d)/2),h=Math.floor((u-i*d)/2),p=this.createSVGElement(l,u);for(let e=0,t=h;e<i;e++,t+=d)for(let r=0,n=f;r<o;r++,n+=d)if(1===a.get(r,e)){const e=this.createSvgRectElement(n,t,d,d);p.appendChild(e)}return p}createSVGElement(e,t){const r=document.createElementNS(Pr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const a=document.createElementNS(Pr.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",t.toString()),a.setAttributeNS(null,"height",r.toString()),a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"fill","#000000"),a}}Pr.QUIET_ZONE_SIZE=4,Pr.SVG_NS="http://www.w3.org/2000/svg";class Dr{encode(e,t,r,n,a){if(0===e.length)throw new d("Found empty contents");if(t!==V.QR_CODE)throw new d("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new d(`Requested dimensions are too small: ${r}x${n}`);let o=_t.L,i=Dr.QUIET_ZONE_SIZE;null!==a&&(void 0!==a.get(_r.ERROR_CORRECTION)&&(o=_t.fromString(a.get(_r.ERROR_CORRECTION).toString())),void 0!==a.get(_r.MARGIN)&&(i=Number.parseInt(a.get(_r.MARGIN).toString(),10)));const s=Ar.encode(e,o,a);return Dr.renderResult(s,r,n,i)}static renderResult(e,t,r,n){const a=e.getMatrix();if(null===a)throw new re;const o=a.getWidth(),i=a.getHeight(),s=o+2*n,c=i+2*n,l=Math.max(t,s),u=Math.max(r,c),d=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-o*d)/2),h=Math.floor((u-i*d)/2),p=new A(l,u);for(let e=0,t=h;e<i;e++,t+=d)for(let r=0,n=f;r<o;r++,n+=d)1===a.get(r,e)&&p.setRegion(n,t,d,d);return p}}Dr.QUIET_ZONE_SIZE=4;class Ir{encode(e,t,r,n,a){let o;if(t!==V.QR_CODE)throw new d("No encoder available for format "+t);return o=new Dr,o.encode(e,t,r,n,a)}}class Tr extends T{constructor(e,t,r,n,a,o,i,s){if(super(o,i),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=a,n+o>t||a+i>r)throw new d("Crop rectangle does not fit within image data.");s&&this.reverseHorizontal(o,i)}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return m.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return m.arraycopy(this.yuvData,a,n,0,r),n;for(let r=0;r<t;r++){const t=r*e;m.arraycopy(this.yuvData,a,n,t,e),a+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Tr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/Tr.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Tr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let o=0;o<t;o++){const t=o*e;for(let o=0;o<e;o++){const e=255&n[a+o*Tr.THUMBNAIL_SCALE_FACTOR];r[t+o]=4278190080|65793*e}a+=this.dataWidth*Tr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Tr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Tr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,a=this.top*this.dataWidth+this.left;n<t;n++,a+=this.dataWidth){const t=a+e/2;for(let n=a,o=a+e-1;n<t;n++,o--){const e=r[n];r[n]=r[o],r[o]=e}}}invert(){return new M(this)}}Tr.THUMBNAIL_SCALE_FACTOR=2;class Mr extends T{constructor(e,t,r,n,a,o,i){if(super(t,r),this.dataWidth=n,this.dataHeight=a,this.left=o,this.top=i,4===e.BYTES_PER_ELEMENT){const n=t*r,a=new Uint8ClampedArray(n);for(let t=0;t<n;t++){const r=e[t],n=r>>16&255,o=r>>7&510,i=255&r;a[t]=(n+o+i)/4&255}this.luminances=a}else this.luminances=e;if(void 0===n&&(this.dataWidth=t),void 0===a&&(this.dataHeight=r),void 0===o&&(this.left=0),void 0===i&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new d("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return m.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let a=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return m.arraycopy(this.luminances,a,n,0,r),n;for(let r=0;r<t;r++){const t=r*e;m.arraycopy(this.luminances,a,n,t,e),a+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Mr(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new M(this)}}class kr extends N{static forName(e){return this.getCharacterSetECIByName(e)}}class Rr{}Rr.ISO_8859_1=N.ISO8859_1;class Br{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Lr{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Fr{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Ur extends Fr{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Ur(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ur(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+b.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Wr extends Ur{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(0===r||31===r&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===r?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new Wr(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vr(e,t,r){return new Wr(e,t,r)}function zr(e,t,r){return new Ur(e,t,r)}const Kr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Gr=0,qr=1,Hr=2,$r=3,Yr=4,Xr=new Ur(null,0,0),Qr=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function Zr(e){for(let t of e)v.fill(t,-1);return e[Gr][Yr]=0,e[qr][Yr]=0,e[qr][Gr]=28,e[$r][Yr]=0,e[Hr][Yr]=0,e[Hr][Gr]=15,e}const Jr=Zr(v.createInt32Array(6,6));class en{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let t=Qr[this.mode][e];n=zr(n,65535&t,t>>16),r+=t>>16}let a=e===Hr?4:5;return n=zr(n,t,a),new en(n,e,0,r+a)}shiftAndAppend(e,t){let r=this.token,n=this.mode===Hr?4:5;return r=zr(r,Jr[this.mode][e],n),r=zr(r,t,5),new en(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===Yr||this.mode===Hr){let e=Qr[r][Gr];t=zr(t,65535&e,e>>16),n+=e>>16,r=Gr}let a=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,o=new en(t,r,this.binaryShiftByteCount+1,n+a);return 2078===o.binaryShiftByteCount&&(o=o.endBinaryShift(e+1)),o}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=Vr(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new en(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Qr[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=en.calculateBinaryShiftCost(e)-en.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let r=this.endBinaryShift(e.length).token;null!==r;r=r.getPrevious())t.unshift(r);let r=new y;for(const n of t)n.appendTo(r,e);return r}toString(){return S.format("%s bits=%d bytes=%d",Kr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}function tn(e){const t=S.getCharCode(" "),r=S.getCharCode("."),n=S.getCharCode(",");e[Gr][t]=1;const a=S.getCharCode("Z"),o=S.getCharCode("A");for(let t=o;t<=a;t++)e[Gr][t]=t-o+2;e[qr][t]=1;const i=S.getCharCode("z"),s=S.getCharCode("a");for(let t=s;t<=i;t++)e[qr][t]=t-s+2;e[Hr][t]=1;const c=S.getCharCode("9"),l=S.getCharCode("0");for(let t=l;t<=c;t++)e[Hr][t]=t-l+2;e[Hr][n]=12,e[Hr][r]=13;const u=["\0"," ","","","","","","","","\b","\t","\n","\v","\f","\r","","","","","","@","\\","^","_","`","|","~",""];for(let t=0;t<u.length;t++)e[$r][S.getCharCode(u[t])]=t;const d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let t=0;t<d.length;t++)S.getCharCode(d[t])>0&&(e[Yr][S.getCharCode(d[t])]=t);return e}en.INITIAL_STATE=new en(Xr,Gr,0,0);const rn=tn(v.createInt32Array(5,256));class nn{constructor(e){this.text=e}encode(){const e=S.getCharCode(" "),t=S.getCharCode("\n");let r=Lr.singletonList(en.INITIAL_STATE);for(let n=0;n<this.text.length;n++){let a,o=n+1<this.text.length?this.text[n+1]:0;switch(this.text[n]){case S.getCharCode("\r"):a=o===t?2:0;break;case S.getCharCode("."):a=o===e?3:0;break;case S.getCharCode(","):a=o===e?4:0;break;case S.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(r=nn.updateStateListForPair(r,n,a),n++):r=this.updateStateListForChar(r,n)}return Lr.min(r,((e,t)=>e.getBitCount()-t.getBitCount())).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return nn.simplifyStates(r)}updateStateForChar(e,t,r){let n=255&this.text[t],a=rn[e.getMode()][n]>0,o=null;for(let i=0;i<=Yr;i++){let s=rn[i][n];if(s>0){if(null==o&&(o=e.endBinaryShift(t)),!a||i===e.getMode()||i===Hr){const e=o.latchAndAppend(i,s);r.push(e)}if(!a&&Jr[e.getMode()][i]>=0){const e=o.shiftAndAppend(i,s);r.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===rn[e.getMode()][n]){let n=e.addBinaryShiftChar(t);r.push(n)}}static updateStateListForPair(e,t,r){const n=[];for(let a of e)this.updateStateForPair(a,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let a=e.endBinaryShift(t);if(n.push(a.latchAndAppend(Yr,r)),e.getMode()!==Yr&&n.push(a.shiftAndAppend(Yr,r)),3===r||4===r){let e=a.latchAndAppend(Hr,16-r).latchAndAppend(Hr,1);n.push(e)}if(e.getBinaryShiftByteCount()>0){let r=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(r)}}static simplifyStates(e){let t=[];for(const r of e){let e=!0;for(const n of t){if(n.isBetterThanOrEqualTo(r)){e=!1;break}r.isBetterThanOrEqualTo(n)&&(t=t.filter((e=>e!==n)))}e&&t.push(r)}return t}}class an{constructor(){}static encodeBytes(e){return an.encode(e,an.DEFAULT_EC_PERCENT,an.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n,a,o,i,s,c=new nn(e).encode(),l=b.truncDivision(c.getSize()*t,100)+11,u=c.getSize()+l;if(r!==an.DEFAULT_AZTEC_LAYERS){if(n=r<0,a=Math.abs(r),a>(n?an.MAX_NB_BITS_COMPACT:an.MAX_NB_BITS))throw new d(S.format("Illegal value %s for layers",r));o=an.totalBitsInLayer(a,n),i=an.WORD_SIZE[a];let e=o-o%i;if(s=an.stuffBits(c,i),s.getSize()+l>e)throw new d("Data to large for user specified layer");if(n&&s.getSize()>64*i)throw new d("Data to large for user specified layer")}else{i=0,s=null;for(let e=0;;e++){if(e>an.MAX_NB_BITS)throw new d("Data too large for an Aztec code");if(n=e<=3,a=n?e+1:e,o=an.totalBitsInLayer(a,n),u>o)continue;null!=s&&i===an.WORD_SIZE[a]||(i=an.WORD_SIZE[a],s=an.stuffBits(c,i));let t=o-o%i;if(!(n&&s.getSize()>64*i)&&s.getSize()+l<=t)break}}let f,h=an.generateCheckWords(s,o,i),p=s.getSize()/i,m=an.generateModeMessage(n,a,p),g=(n?11:14)+4*a,x=new Int32Array(g);if(n){f=g;for(let e=0;e<x.length;e++)x[e]=e}else{f=g+1+2*b.truncDivision(b.truncDivision(g,2)-1,15);let e=b.truncDivision(g,2),t=b.truncDivision(f,2);for(let r=0;r<e;r++){let n=r+b.truncDivision(r,15);x[e-r-1]=t-n-1,x[e+r]=t+n+1}}let v=new A(f);for(let e=0,t=0;e<a;e++){let r=4*(a-e)+(n?9:12);for(let n=0;n<r;n++){let a=2*n;for(let o=0;o<2;o++)h.get(t+a+o)&&v.set(x[2*e+o],x[2*e+n]),h.get(t+2*r+a+o)&&v.set(x[2*e+n],x[g-1-2*e-o]),h.get(t+4*r+a+o)&&v.set(x[g-1-2*e-o],x[g-1-2*e-n]),h.get(t+6*r+a+o)&&v.set(x[g-1-2*e-n],x[2*e+o])}t+=8*r}if(an.drawModeMessage(v,n,f,m),n)an.drawBullsEye(v,b.truncDivision(f,2),5);else{an.drawBullsEye(v,b.truncDivision(f,2),7);for(let e=0,t=0;e<b.truncDivision(g,2)-1;e+=15,t+=16)for(let e=1&b.truncDivision(f,2);e<f;e+=2)v.set(b.truncDivision(f,2)-t,e),v.set(b.truncDivision(f,2)+t,e),v.set(e,b.truncDivision(f,2)-t),v.set(e,b.truncDivision(f,2)+t)}let y=new Br;return y.setCompact(n),y.setSize(f),y.setLayers(a),y.setCodeWords(p),y.setMatrix(v),y}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let r=t-n;r<=t+n;r++)e.set(r,t-n),e.set(r,t+n),e.set(t-n,r),e.set(t+n,r);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new y;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=an.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=an.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let a=b.truncDivision(r,2);if(t)for(let t=0;t<7;t++){let r=a-3+t;n.get(t)&&e.set(r,a-5),n.get(t+7)&&e.set(a+5,r),n.get(20-t)&&e.set(r,a+5),n.get(27-t)&&e.set(a-5,r)}else for(let t=0;t<10;t++){let r=a-5+t+b.truncDivision(t,5);n.get(t)&&e.set(r,a-7),n.get(t+10)&&e.set(a+7,r),n.get(29-t)&&e.set(r,a+7),n.get(39-t)&&e.set(a-7,r)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,a=new jr(an.getGF(r)),o=b.truncDivision(t,r),i=an.bitsToWords(e,r,o);a.encode(i,o-n);let s=t%r,c=new y;c.appendBits(0,s);for(const e of Array.from(i))c.appendBits(e,r);return c}static bitsToWords(e,t,r){let n,a,o=new Int32Array(r);for(n=0,a=e.getSize()/t;n<a;n++){let r=0;for(let a=0;a<t;a++)r|=e.get(n*t+a)?1<<t-a-1:0;o[n]=r}return o}static getGF(e){switch(e){case 4:return ee.AZTEC_PARAM;case 6:return ee.AZTEC_DATA_6;case 8:return ee.AZTEC_DATA_8;case 10:return ee.AZTEC_DATA_10;case 12:return ee.AZTEC_DATA_12;default:throw new d("Unsupported word size "+e)}}static stuffBits(e,t){let r=new y,n=e.getSize(),a=(1<<t)-2;for(let o=0;o<n;o+=t){let i=0;for(let r=0;r<t;r++)(o+r>=n||e.get(o+r))&&(i|=1<<t-1-r);(i&a)===a?(r.appendBits(i&a,t),o--):i&a?r.appendBits(i,t):(r.appendBits(1|i,t),o--)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}an.DEFAULT_EC_PERCENT=33,an.DEFAULT_AZTEC_LAYERS=0,an.MAX_NB_BITS=32,an.MAX_NB_BITS_COMPACT=4,an.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class on{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,a){let o=Rr.ISO_8859_1,i=an.DEFAULT_EC_PERCENT,s=an.DEFAULT_AZTEC_LAYERS;return null!=a&&(a.has(_r.CHARACTER_SET)&&(o=kr.forName(a.get(_r.CHARACTER_SET).toString())),a.has(_r.ERROR_CORRECTION)&&(i=b.parseInt(a.get(_r.ERROR_CORRECTION).toString())),a.has(_r.AZTEC_LAYERS)&&(s=b.parseInt(a.get(_r.AZTEC_LAYERS).toString()))),on.encodeLayers(e,t,r,n,o,i,s)}static encodeLayers(e,t,r,n,a,o,i){if(t!==V.AZTEC)throw new d("Can only encode AZTEC, but got "+t);let s=an.encode(S.getBytes(e,a),o,i);return on.renderResult(s,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(null==n)throw new re;let a=n.getWidth(),o=n.getHeight(),i=Math.max(t,a),s=Math.max(r,o),c=Math.min(i/a,s/o),l=(i-a*c)/2,u=(s-o*c)/2,d=new A(i,s);for(let e=0,t=u;e<o;e++,t+=c)for(let r=0,o=l;r<a;r++,o+=c)n.get(r,e)&&d.setRegion(o,t,c,c);return d}}e.AbstractExpandedDecoder=Ge,e.ArgumentException=u,e.ArithmeticException=J,e.AztecCode=Br,e.AztecCodeReader=xe,e.AztecCodeWriter=on,e.AztecDecoder=ae,e.AztecDetector=ge,e.AztecDetectorResult=le,e.AztecEncoder=an,e.AztecHighLevelEncoder=nn,e.AztecPoint=me,e.BarcodeFormat=V,e.Binarizer=p,e.BinaryBitmap=f,e.BitArray=y,e.BitMatrix=A,e.BitSource=mt,e.BrowserAztecCodeReader=ve,e.BrowserBarcodeReader=lt,e.BrowserCodeReader=F,e.BrowserDatamatrixCodeReader=yt,e.BrowserMultiFormatReader=xr,e.BrowserPDF417Reader=vr,e.BrowserQRCodeReader=br,e.BrowserQRCodeSvgWriter=Pr,e.CharacterSetECI=N,e.ChecksumException=h,e.Code128Reader=ye,e.Code39Reader=_e,e.DataMatrixDecodedBitStreamParser=gt,e.DataMatrixReader=bt,e.DecodeHintType=j,e.DecoderResult=X,e.DefaultGridSampler=he,e.DetectorResult=ce,e.EAN13Reader=Oe,e.EncodeHintType=_r,e.Exception=l,e.FormatException=w,e.GenericGF=ee,e.GenericGFPoly=Z,e.GlobalHistogramBinarizer=D,e.GridSampler=de,e.GridSamplerInstance=pe,e.HTMLCanvasElementLuminanceSource=k,e.HybridBinarizer=I,e.ITFReader=je,e.IllegalArgumentException=d,e.IllegalStateException=re,e.InvertedLuminanceSource=M,e.LuminanceSource=T,e.MathUtils=oe,e.MultiFormatOneDReader=ct,e.MultiFormatReader=gr,e.MultiFormatWriter=Ir,e.NotFoundException=P,e.OneDReader=be,e.PDF417DecodedBitStreamParser=fr,e.PDF417DecoderErrorCorrection=qt,e.PDF417Reader=pr,e.PDF417ResultMetadata=rr,e.PerspectiveTransform=fe,e.PlanarYUVLuminanceSource=Tr,e.QRCodeByteMatrix=Nr,e.QRCodeDataMask=Ct,e.QRCodeDecodedBitStreamParser=Pt,e.QRCodeDecoderErrorCorrectionLevel=_t,e.QRCodeDecoderFormatInformation=jt,e.QRCodeEncoder=Ar,e.QRCodeEncoderQRCode=Er,e.QRCodeMaskUtil=wr,e.QRCodeMatrixUtil=Sr,e.QRCodeMode=At,e.QRCodeReader=Ft,e.QRCodeVersion=Et,e.QRCodeWriter=Dr,e.RGBLuminanceSource=Mr,e.RSS14Reader=st,e.RSSExpandedReader=ot,e.ReaderException=mr,e.ReedSolomonDecoder=ne,e.ReedSolomonEncoder=jr,e.ReedSolomonException=te,e.Result=U,e.ResultMetadataType=Y,e.ResultPoint=se,e.StringUtils=S,e.UnsupportedOperationException=E,e.VideoInputDevice=R,e.WhiteRectangleDetector=ue,e.WriterException=Cr,e.ZXingArrays=v,e.ZXingCharset=kr,e.ZXingInteger=b,e.ZXingStandardCharsets=Rr,e.ZXingStringBuilder=O,e.ZXingStringEncoding=C,e.ZXingSystem=m,e.createAbstractExpandedDecoder=rt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},9302:(e,t,r)=>{var n=r(3488),a=r(6757),o=r(2865);e.exports=function(e,t){return o(a(e,t,n),e+"")}},9325:(e,t,r)=>{var n=r(4840),a="object"==typeof self&&self&&self.Object===Object&&self,o=n||a||Function("return this")();e.exports=o},9326:(e,t,r)=>{var n=r(1769),a=r(2428),o=r(6449),i=r(361),s=r(294),c=r(7797);e.exports=function(e,t,r){for(var l=-1,u=(t=n(t,e)).length,d=!1;++l<u;){var f=c(t[l]);if(!(d=null!=e&&r(e,f)))break;e=e[f]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&i(f,u)&&(o(e)||a(e))}},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9374:(e,t,r)=>{var n=r(4128),a=r(3805),o=r(4394),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):i.test(e)?NaN:+e}},9513:e=>{var t="(".charCodeAt(0),r=")".charCodeAt(0),n="'".charCodeAt(0),a='"'.charCodeAt(0),o="\\".charCodeAt(0),i="/".charCodeAt(0),s=",".charCodeAt(0),c=":".charCodeAt(0),l="*".charCodeAt(0);e.exports=function(e){for(var u,d,f,h,p,m,g,x,v=[],b=e,y=0,_=b.charCodeAt(y),j=b.length,w=[{nodes:v}],N=0,E="",C="",S="";y<j;)if(_<=32){u=y;do{u+=1,_=b.charCodeAt(u)}while(_<=32);h=b.slice(y,u),f=v[v.length-1],_===r&&N?S=h:f&&"div"===f.type?f.after=h:_===s||_===c||_===i&&b.charCodeAt(u+1)!==l?C=h:v.push({type:"space",sourceIndex:y,value:h}),y=u}else if(_===n||_===a){u=y,h={type:"string",sourceIndex:y,quote:d=_===n?"'":'"'};do{if(p=!1,~(u=b.indexOf(d,u+1)))for(m=u;b.charCodeAt(m-1)===o;)m-=1,p=!p;else u=(b+=d).length-1,h.unclosed=!0}while(p);h.value=b.slice(y+1,u),v.push(h),y=u+1,_=b.charCodeAt(y)}else if(_===i&&b.charCodeAt(y+1)===l)h={type:"comment",sourceIndex:y},-1===(u=b.indexOf("*/",y))&&(h.unclosed=!0,u=b.length),h.value=b.slice(y+2,u),v.push(h),y=u+2,_=b.charCodeAt(y);else if(_===i||_===s||_===c)h=b[y],v.push({type:"div",sourceIndex:y-C.length,value:h,before:C,after:""}),C="",y+=1,_=b.charCodeAt(y);else if(t===_){u=y;do{u+=1,_=b.charCodeAt(u)}while(_<=32);if(h={type:"function",sourceIndex:y-E.length,value:E,before:b.slice(y+1,u)},y=u,"url"===E&&_!==n&&_!==a){u-=1;do{if(p=!1,~(u=b.indexOf(")",u+1)))for(m=u;b.charCodeAt(m-1)===o;)m-=1,p=!p;else u=(b+=")").length-1,h.unclosed=!0}while(p);g=u;do{g-=1,_=b.charCodeAt(g)}while(_<=32);h.nodes=y!==g+1?[{type:"word",sourceIndex:y,value:b.slice(y,g+1)}]:[],h.unclosed&&g+1!==u?(h.after="",h.nodes.push({type:"space",sourceIndex:g+1,value:b.slice(g+1,u)})):h.after=b.slice(g+1,u),y=u+1,_=b.charCodeAt(y),v.push(h)}else N+=1,h.after="",v.push(h),w.push(h),v=h.nodes=[],x=h;E=""}else if(r===_&&N)y+=1,_=b.charCodeAt(y),x.after=S,S="",N-=1,w.pop(),v=(x=w[N]).nodes;else{u=y;do{_===o&&(u+=1),u+=1,_=b.charCodeAt(u)}while(u<j&&!(_<=32||_===n||_===a||_===s||_===c||_===i||_===t||_===r&&N));h=b.slice(y,u),t===_?E=h:v.push({type:"word",sourceIndex:y,value:h}),y=u}for(y=w.length-1;y;y-=1)w[y].unclosed=!0;return w[0].nodes}},9516:(e,t,r)=>{"use strict";var n=r(9012),a=Object.prototype.toString;function o(e){return"[object Array]"===a.call(e)}function i(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===a.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:i,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):o(r)?t[n]=r.slice():t[n]=r}for(var n=0,a=arguments.length;n<a;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,(function(t,a){e[a]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},9570:(e,t,r)=>{var n=r(7334),a=r(3243),o=r(3488),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=i},9615:(e,t,r)=>{"use strict";var n=r(9137),a=r(4680);e.exports=function(e,t){return e&&!n(t)?a(e,t):t}},9698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},9747:(e,t,r)=>{var n=r(7277),a=r(3777),o=r(5389),i=r(6449),s=r(6800);e.exports=function(e,t,r){var c=i(e)?n:a;return r&&s(e,t,r)&&(t=void 0),c(e,o(t,3))}},9770:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o}},9790:(e,t,r)=>{"use strict";var n=s(r(8514)),a=s(r(1369)),o=s(r(2312)),i=s(r(495));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:o.default,ReplaceTransition:a.default,CSSTransition:n.default}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9843:e=>{e.exports=function(e){return null==e}},9892:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});r(6540);var n=r(2505),a=r.n(n);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function d(t,r,n,a){var o=r&&r.prototype instanceof p?r:p,i=Object.create(o.prototype);return u(i,"_invoke",function(t,r,n){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var c=w(s,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(1===a)throw a=4,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=3;var l=f(t,r,n);if("normal"===l.type){if(a=n.done?4:2,l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=4,n.method="throw",n.arg=l.arg)}}}(t,n,new C(a||[])),!0),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var h={};function p(){}function m(){}function g(){}var x={};u(x,s,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(S([])));b&&b!==r&&n.call(b,s)&&(x=b);var y=g.prototype=p.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function r(a,i,s,c){var l=f(e[a],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,c)}))}c(l.arg)}var a;u(this,"_invoke",(function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}),!0)}function w(t,r){var n=r.method,a=t.i[n];if(a===e)return r.delegate=null,"throw"===n&&t.i.return&&(r.method="return",r.arg=e,w(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(a,t.i,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var i=o.arg;return i?i.done?(r[t.r]=i.value,r.next=t.n,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function N(e){this.tryEntries.push(e)}function E(t){var r=t[4]||{};r.type="normal",r.arg=e,t[4]=r}function C(e){this.tryEntries=[[-1]],e.forEach(N,this),this.reset(!0)}function S(t){if(null!=t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(o(t)+" is not iterable")}return m.prototype=g,u(y,"constructor",g),u(g,"constructor",m),m.displayName=u(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,c,(function(){return this})),t.AsyncIterator=j,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new j(d(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(y),u(y,l,"Generator"),u(y,s,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},t.values=S,C.prototype={constructor:C,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e){i.type="throw",i.arg=t,r.next=e}for(var a=r.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],s=this.prev,c=o[1],l=o[2];if(-1===o[0])return n("end"),!1;if(!c&&!l)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=s){if(s<c)return this.method="next",this.arg=e,n(c),!0;if(s<l)return n(l),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),E(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;E(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={i:S(t),r,n},"next"===this.method&&(this.arg=e),h}},t}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}var u,d,f="";const h={getHost:function(){return f},getMoneda:function(){return a().post("getMoneda")},getinventario:function(e){return a().post("getinventario",e)},setCarrito:function(e){return a().get("setCarrito",{params:e})},addNewPedido:function(e){return a().get("addNewPedido",{params:e})},getPedido:function(e){return a().post("getPedido",e)},getPedidosList:function(e){return a().post("getPedidosList",e)},verificarLogin:function(){return a().post("verificarLogin")},logout:function(){return a().get("logout")},closeAllSession:function(){return a().get("closeAllSession")},sendRefToMerchant:function(e){return a().post("sendRefToMerchant",e)},procesarRespuestaMegasoft:function(e){return a().post("procesarRespuestaMegasoft",e)},validarCodigoAprobacion:function(e){return a().post("validarCodigoAprobacion",e)},sendClavemodal:function(e){return a().post("sendClavemodal",e)},saveReplaceProducto:function(e){return a().post("saveReplaceProducto",e)},guardarCierre:function(e){return a().post("guardarCierre",e)},reversarCierre:function(e){return a().get("reversarCierre",{params:e})},eliminarCierreUsuario:function(e){return a().post("eliminarCierreUsuario",e)},getTotalizarCierre:function(e){return a().post("getTotalizarCierre",e)},verCierre:function(e){return a().get("verCierre",{params:e})},getNomina:function(e){return a().post("getNomina",e)},getAlquileres:function(e){return a().post("getAlquileres",e)},setMoneda:function(e){return a().post("setMoneda",e)},updateDollarRate:function(){return a().post("forceUpdateDollar")},delItemPedido:function(e){return a().post("delItemPedido",e)},changeEntregado:function(e){return a().post("changeEntregado",e)},setDescuentoUnitario:function(e){return a().post("setDescuentoUnitario",e)},setDescuentoTotal:function(e){return a().post("setDescuentoTotal",e)},solicitudDescuentoFrontCrear:function(e){return a().post("solicitudDescuentoFrontCrear",e)},solicitudDescuentoFrontVerificar:function(e){return a().post("solicitudDescuentoFrontVerificar",e)},solicitudDescuentoFrontCancelar:function(e){return a().post("solicitudDescuentoFrontCancelar",e)},solicitudCreditoFrontCrear:function(e){return a().post("solicitudCreditoFrontCrear",e)},setCantidad:function(e){return a().post("setCantidad",e)},setPrecioAlternoCarrito:function(e){return a().post("setPrecioAlternoCarrito",e)},setCtxBultoCarrito:function(e){return a().post("setCtxBultoCarrito",e)},getpersona:function(e){return a().post("getpersona",e)},setpersonacarrito:function(e){return a().post("setpersonacarrito",e)},setPagoPedido:function(e){return a().post("setPagoPedido",e)},setPagoPedidoTrans:function(e){return a().post("setPagoPedidoTrans",e)},enviarTransaccionPOS:function(e){return a().post("enviarTransaccionPOS",e)},queryTransaccionPosYActualizarPago:function(e){return a().post("queryTransaccionPosYActualizarPago",e)},registrarPosRechazado:function(e){return a().post("registrarPosRechazado",e)},ejecutarPostSync:function(e){return a().post("ejecutarPostSync",e)},createDevolucion:function(e){return a().post("createDevolucion",e)},setDevolucion:function(e){return a().post("setDevolucion",e)},setpagoDevolucion:function(e){return a().post("setpagoDevolucion",e)},asignarPedidoOriginalDevolucion:function(e){return a().post("asignarPedidoOriginalDevolucion",e)},getItemsDisponiblesDevolucion:function(e){return a().post("getItemsDisponiblesDevolucion",e)},eliminarPedidoOriginalDevolucion:function(e){return a().post("eliminarPedidoOriginalDevolucion",e)},delpedido:function(e){return a().post("delpedido",e)},getPedidos:function(e){return a().post("getPedidos",e)},cerrar:function(e){return a().post("cerrar",e)},today:function(e){return a().post("today",e)},getVentas:function(e){return a().post("getVentas",e)},getVentasRapido:function(e){return a().post("getVentasRapido",e)},getPedidosFast:function(e){return a().post("getPedidosFast",e)},getip:function(e){return a().get("getip",{params:e})},setPagoCredito:function(e){return a().post("setPagoCredito",e)},updateCreditOrders:function(e){return a().post("updateCreditOrders",e)},getDeudores:function(e){return a().post("getDeudores",e)},backup:function(e){return a().get("backup",e)},getDeudor:function(e){return a().post("getDeudor",e)},checkDeuda:function(e){return a().post("checkDeuda",e)},entregarVuelto:function(e){return a().post("entregarVuelto",e)},getMovimientosCaja:function(e){return a().post("getMovimientosCaja",e)},setMovimientoCaja:function(e){return a().post("setMovimientoCaja",e)},delMovCaja:function(e){return a().post("delMovCaja",e)},getMovimientos:function(e){return a().post("getMovimientos",e)},getBuscarDevolucion:function(e){return a().post("getBuscarDevolucion",e)},getBuscarDevolucionhistorico:function(e){return a().post("getBuscarDevolucionhistorico",e)},getTareasCentral:function(e){return a().get("getTareasCentral",{params:e})},runTareaCentral:function(e){return a().post("runTareaCentral",e)},buscarSolicitudGarantia:function(e){return a().post("garantia-reverso/buscar-solicitud",e)},solicitarReversoGarantia:function(e){return a().post("garantia-reverso/solicitar-reverso",e)},delMov:function(e){return a().post("delMov",e)},setProveedor:function(e){return a().post("setProveedor",e)},guardarNuevoProducto:function(e){return a().post("guardarNuevoProducto",e)},getInventarioNovedades:function(e){return a().post("getInventarioNovedades",e)},resolveInventarioNovedades:function(e){return a().post("resolveInventarioNovedades",e)},sendInventarioNovedades:function(e){return a().post("sendInventarioNovedades",e)},delInventarioNovedades:function(e){return a().post("delInventarioNovedades",e)},guardarNuevoProductoLote:function(e){return a().post("guardarNuevoProductoLote",e)},guardarNuevoProductoLoteFact:function(e){return a().post("guardarNuevoProductoLoteFact",e)},addProductoFactInventario:function(e){return a().post("addProductoFactInventario",e)},getProveedores:function(e){return a().post("getProveedores",e)},delProveedor:function(e){return a().post("delProveedor",e)},delProducto:function(e){return a().post("delProducto",e)},getMarcas:function(e){return a().post("getMarcas",e)},getDepositos:function(e){return a().post("getDepositos",e)},getFacturas:function(e){return a().post("getFacturas",e)},setFactura:function(e){return a().post("setFactura",e)},sendFacturaCentral:function(e){return a().post("sendFacturaCentral",e)},getAllProveedores:function(e){return a().post("getAllProveedores",e)},setGastoOperativo:function(e){return a().post("setGastoOperativo",e)},delFactura:function(e){return a().post("delFactura",e)},delItemFact:function(e){return a().post("delItemFact",e)},setClienteCrud:function(e){return a().post("setClienteCrud",e)},getClienteCrud:function(e){return a().post("getClienteCrud",e)},delCliente:function(e){return a().post("delCliente",e)},getFallas:function(e){return a().post("getFallas",e)},setFalla:function(e){return a().post("setFalla",e)},delFalla:function(e){return a().post("delFalla",e)},imprimirTicked:function(e){return a().post("imprimirTicked",e)},changepedidouser:function(e){return a().post("changepedidouser",e)},getTareasLocal:function(e){return a().get("getTareasLocal",{params:e})},resolverTareaLocal:function(e){return a().get("resolverTareaLocal",{params:e})},sendCierre:function(e){return a().get("verCierre",{params:e})},openSyncDashboard:function(){return window.open("sendAllTest","_blank","width=1200,height=800")},getSyncStatus:function(){return a().get("sync/status")},startSync:function(e){return a().post("sync/all",e)},esPrimeraSincronizacion:function(){return a().get("sync/es-primera")},marcarPrimeraEjecutada:function(){return a().post("sync/marcar-primera")},iniciarSyncConModal:(u=i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==window.SyncModal){e.next=4;break}return console.warn("Modal de sincronizacin no disponible, abriendo dashboard"),this.openSyncDashboard(),e.abrupt("return");case 4:return window.SyncModal.open(),e.prev=5,window.SyncModal.addLog("Sincronizando pendientes (desde 2025-12-01)..."),e.next=9,a().post("sync/all",{tablas:["all"],solo_nuevos:!0});case 9:(t=e.sent).data.estado?(r=t.data.resultado,window.SyncModal.updateProgress(100,"Completado"),r&&r.tablas&&Object.entries(r.tablas).forEach((function(e){var t=s(e,2),r=t[0],n=t[1];window.SyncModal.updateTable(r,"completado"===n.estado?"done":"error",n.registros)})),window.SyncModal.complete(!0,"Sincronizacin completada: ".concat((null==r?void 0:r.registros_totales)||0," registros en ").concat((null==r?void 0:r.tiempo_total)||"0s"))):window.SyncModal.complete(!1,t.data.mensaje||"Error desconocido"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("Error en sincronizacin:",e.t0),window.SyncModal.complete(!1,"Error de conexin: "+e.t0.message);case 17:case"end":return e.stop()}}),e,this,[[5,13]])})),d=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=u.apply(e,t);function o(e){l(a,r,n,o,i,"next",e)}function i(e){l(a,r,n,o,i,"throw",e)}o(void 0)}))},function(){return d.apply(this,arguments)}),printTickedPrecio:function(e){var t=e.id;return window.open("/printTickedPrecio?id="+t,"targed=blank")},saveMontoFactura:function(e){return a().post("saveMontoFactura",e)},reqpedidos:function(e){return a().post("reqpedidos",e)},reqMipedidos:function(e){return a().post("reqMipedidos",e)},settransferenciaDici:function(e){return a().post("settransferenciaDici",e)},resetPrintingState:function(e){return a().get("resetPrintingState",{params:e})},changeIdVinculacionCentral:function(e){return a().post("changeIdVinculacionCentral",e)},setexportpedido:function(e){return a().post("setexportpedido",e)},transferirPedidoFrontSucursal:function(e){return a().post("transferirPedidoFrontSucursal",e)},getmastermachine:function(e){return a().post("getmastermachine",e)},getStatusCierre:function(e){return a().post("getStatusCierre",e)},getSucursal:function(e){return a().get("getSucursal",{params:e})},getCategorias:function(e){return a().get("getCategorias",{params:e})},getcatsCajas:function(e){return a().get("getcatsCajas",{params:e})},delCategoria:function(e){return a().post("delCategoria",e)},setCategorias:function(e){return a().post("setCategorias",e)},getProductosSerial:function(e){return a().get("getProductosSerial",{params:e})},checkPedidosCentral:function(e){return a().post("checkPedidosCentral",e)},removeVinculoCentral:function(e){return a().post("removeVinculoCentral",e)},setUsuario:function(e){return a().post("setUsuario",e)},delUsuario:function(e){return a().post("delUsuario",e)},getUsuarios:function(e){return a().get("getUsuarios",{params:e})},getCierres:function(e){return a().get("getCierres",{params:e})},sendCuentasporCobrar:function(e){return a().get("sendCuentasporCobrar",{params:e})},removeLote:function(e){return a().post("removeLote",e)},getEstaInventario:function(e){return a().post("getEstaInventario",e)},getUniqueProductoById:function(e){return a().get("getUniqueProductoById",{params:e})},setPagoProveedor:function(e){return a().post("setPagoProveedor",e)},getPagoProveedor:function(e){return a().post("getPagoProveedor",e)},delPagoProveedor:function(e){return a().post("delPagoProveedor",e)},getPermisoCierre:function(e){return a().post("getPermisoCierre",e)},guardarDeSucursalEnCentral:function(e){return a().post("guardarDeSucursalEnCentral",e)},getHistoricoInventario:function(e){return a().get("getHistoricoInventario",{params:e})},getmovientoinventariounitario:function(e){return a().get("getmovientoinventariounitario",{params:e})},getSyncProductosCentralSucursal:function(e){return a().post("getSyncProductosCentralSucursal",e)},addRefPago:function(e){return a().post("addRefPago",e)},delRefPago:function(e){return a().post("delRefPago",e)},registrarRefCentralFront:function(e){return a().post("registrar-ref-central-front",e)},addRetencionesPago:function(e){return a().post("addRetencionesPago",e)},delRetencionPago:function(e){return a().post("delRetencionPago",e)},getGarantias:function(e){return a().post("getGarantias",e)},setSalidaGarantias:function(e){return a().post("setSalidaGarantias",e)},checkGarantiaConnection:function(){return a().get("api/garantias/connection-status")},getGarantiaStats:function(){return a().get("api/garantias/stats")},syncGarantias:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a().get("api/garantias/sync",{params:e})},sendGarantiaCentral:function(e){return a().post("api/garantias/send-central",e)},getGarantiaCentral:function(e){return a().get(f+"api/garantias/central/".concat(e))},finalizarGarantiaCentral:function(e,t){return a().post(f+"api/garantias/central/".concat(e,"/finalizar"),t)},ejecutarGarantia:function(e,t){return a().post(f+"api/garantias/".concat(e,"/ejecutar"),{id_caja:t})},ejecutarSolicitudGarantiaModerna:function(e,t){return a().post("api/garantias/ejecutar-solicitud-moderna",{solicitud_id:e,id_caja:t})},getOrdenesTransferenciaGarantia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a().get("api/garantias/transferencias-ordenes",{params:e})},createOrdenTransferenciaGarantia:function(e){return a().post("api/garantias/transferencias-ordenes",e)},getOrdenTransferenciaGarantia:function(e){return a().get(f+"api/garantias/transferencias-ordenes/".concat(e))},aceptarOrdenTransferenciaGarantia:function(e,t){return a().post(f+"api/garantias/transferencias-ordenes/".concat(e,"/aceptar"),t)},recibirItemTransferenciaGarantia:function(e,t){return a().post(f+"api/garantias/transferencias-ordenes/".concat(e,"/recibir-item"),t)},confirmarDevolucionProveedorTransferenciaGarantia:function(e,t){return a().post(f+"api/garantias/transferencias-ordenes/".concat(e,"/confirmar-devolucion-proveedor"),t)},inventarioDisponibleTransferenciaGarantia:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a().get("api/garantias/transferencias-ordenes/inventario-disponible",{params:e})},tiposInventarioTransferenciaGarantia:function(){return a().get("api/garantias/transferencias-ordenes/tipos")},getProveedoresGarantia:function(){return a().get("api/garantias/proveedores")},delGastos:function(e){return a().post("delGastos",e)},getGastos:function(e){return a().post("getGastos",e)},setGasto:function(e){return a().post("setGasto",e)},setCtxBulto:function(e){return a().post("setCtxBulto",e)},setStockMin:function(e){return a().post("setStockMin",e)},setPrecioAlterno:function(e){return a().post("setPrecioAlterno",e)},printPrecios:function(e){return a().post("printPrecios",e)},setconfigcredito:function(e){return a().post("setconfigcredito",e)},setSocketUrlDB:function(e){return a().get("setSocketUrlDB",{params:e})},recibedSocketEvent:function(e){return a().get("recibedSocketEvent",{params:e})},setNuevaTareaCentral:function(e){return a().get("setNuevaTareaCentral",{params:e})},setInventarioFromSucursal:function(e){return a().post("setInventarioFromSucursal",e)},getSucursales:function(e){return a().post("getSucursales",e)},getInventarioSucursalFromCentral:function(e){return a().post("getInventarioSucursalFromCentral",e)},setInventarioSucursalFromCentral:function(e){return a().post("setInventarioSucursalFromCentral",e)},setCambiosInventarioSucursal:function(e){return a().post("setCambiosInventarioSucursal",e)},getInventarioFromSucursal:function(e){return a().post("getInventarioFromSucursal",e)},saveChangeInvInSucurFromCentral:function(e){return a().post("saveChangeInvInSucurFromCentral",e)},setnewtasainsucursal:function(e){return a().post("setnewtasainsucursal",e)},updatetasasfromCentral:function(e){return a().post("updatetasasfromCentral",e)},getControlEfec:function(e){return a().post("getControlEfec",e)},setControlEfec:function(e){return a().post("setControlEfec",e)},reversarMovPendientes:function(e){return a().post("reversarMovPendientes",e)},aprobarRecepcionCaja:function(e){return a().post("aprobarRecepcionCaja",e)},verificarMovPenControlEfec:function(e){return a().post("verificarMovPenControlEfec",e)},verificarMovPenControlEfecTRANFTRABAJADOR:function(e){return a().post("verificarMovPenControlEfecTRANFTRABAJADOR",e)},delCaja:function(e){return a().post("delCaja",e)},getReferenciasElec:function(e){return a().get("getReferenciasElec",{params:e})},getPorcentajeInventario:function(e){return a().post("getPorcentajeInventario",e)},cleanInventario:function(e){return a().post("cleanInventario",e)},sendReciboFiscal:function(e){return a().post("sendReciboFiscal",e)},sendNotaCredito:function(e){return a().post("sendNotaCredito",e)},reportefiscal:function(e){return a().post("reportefiscal",e)},openverDetallesImagenFactura:function(e){return a().get("verDetallesImagenFactura",{params:e})},openVerFactura:function(e){var t=e.id;return window.open("verFactura?id="+t,"targed=blank")},openPrintCreditos:function(e){return window.open("verCreditos?"+e,"targed=blank")},openVerCierre:function(e){var t=e.type,r=e.fechaCierre,n=e.usuario;if(!r)return console.error("Error: fechaCierre est vaco"),void alert("Error: No se puede determinar la fecha del cierre");var a="verCierre?type="+t+"&fecha="+r+(n?"&usuario="+n:"");window.open(a,"_blank")},openNotaentregapedido:function(e){var t=e.id;return window.open("/notaentregapedido?id="+t,"targed=blank")},openReporteInventario:function(){return window.open("reporteInventario","targed=blank")},openReporteFalla:function(e){return window.open("reporteFalla?id="+e,"targed=blank")},openTransferenciaPedido:function(e){return window.open("openTransferenciaPedido?id="+e,"targed=blank")},printBultos:function(e,t){return window.open("printBultos?id="+e+"&bultos="+t,"targed=blank")},showcsvInventario:function(){return window.open("showcsvInventario?id=","targed=blank")},sincInventario:function(){return window.open("sincInventario?id=","targed=blank")},validateFactura:function(e){return a().post("validateFactura",e)},searchProductosInventario:function(e){return a().post("searchProductosInventario",e)},getProductoById:function(e){return a().get(f+"producto/".concat(e))},searchResponsables:function(e){return a().post("searchResponsables",e)},saveResponsable:function(e){return a().post("saveResponsable",e)},getResponsableById:function(e){return a().get(f+"responsable/".concat(e))},getResponsablesByTipo:function(e){return a().get(f+"responsables/tipo/".concat(e))},crearGarantiaCompleta:function(e){return a().post("api/garantias/crear",e)},crearPedidoGarantia:function(e){return a().post("api/garantias/crear-pedido",e)},getGarantiasCompletas:function(e){return a().get("api/garantias",{params:e})},getGarantiaById:function(e){return a().get(f+"api/garantias/".concat(e))},updateGarantiaStatus:function(e,t){return a().put(f+"api/garantias/".concat(e,"/status"),t)},getPedidosGarantias:function(e){return a().get("api/garantias/pedidos",{params:e})},getInventarioGarantiasCentral:function(e){return a().post("getInventarioGarantiasCentral",e)},searchInventarioGarantias:function(e){return a().post("searchInventarioGarantias",e)},transferirProductoGarantiaSucursal:function(e){return a().post("transferirProductoGarantiaSucursal",e)},transferirGarantiaVentaNormal:function(e){return a().post("transferirGarantiaVentaNormal",e)},getTiposInventarioGarantia:function(){return a().get("getTiposInventarioGarantia")},getEstadisticasInventarioGarantias:function(e){return a().post("getEstadisticasInventarioGarantias",e)},calcularCierreV2:function(e){return a().post("cierre-v2/calcular",e)},guardarCierreV2:function(e){return a().post("cierre-v2/guardar",e)},reversarCierreV2:function(e){return a().post("cierre-v2/reversar",e)},getInventarioInternoMiSucursal:function(){return a().post("getInventarioInternoMiSucursal")},getOrdenesInventarioInternoDestino:function(){return a().post("getOrdenesInventarioInternoDestino")},getOrdenDetalleInventarioInternoDestino:function(e){return a().post("getOrdenDetalleInventarioInternoDestino",e)},recibirOrdenInventarioInterno:function(e){return a().post("recibirOrdenInventarioInterno",e)},registrarConsumoInventarioInterno:function(e){return a().post("registrarConsumoInventarioInterno",e)},getHistorialConsumoInventarioInterno:function(e){return a().post("getHistorialConsumoInventarioInterno",e||{})}}},9905:e=>{e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},9935:e=>{e.exports=function(){return!1}},9982:(e,t,r)=>{"use strict";e.exports=r(7463)}},__webpack_module_cache__={},deferred;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,r,n)=>{if(!t){var a=1/0;for(c=0;c<deferred.length;c++){for(var[t,r,n]=deferred[c],o=!0,i=0;i<t.length;i++)(!1&n||a>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[i])))?t.splice(i--,1):(o=!1,n<a&&(a=n));if(o){deferred.splice(c--,1);var s=r();void 0!==s&&(e=s)}}return e}n=n||0;for(var c=deferred.length;c>0&&deferred[c-1][2]>n;c--)deferred[c]=deferred[c-1];deferred[c]=[t,r,n]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={326:0,698:0};__webpack_require__.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[o,i,s]=r,c=0;if(o.some((t=>0!==e[t]))){for(n in i)__webpack_require__.o(i,n)&&(__webpack_require__.m[n]=i[n]);if(s)var l=s(__webpack_require__)}for(t&&t(r);c<o.length;c++)a=o[c],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return __webpack_require__.O(l)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var __webpack_exports__=__webpack_require__.O(void 0,[698],(()=>__webpack_require__(8792)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();